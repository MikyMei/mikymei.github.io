(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"9LN4":function(X,b,m){"use strict";m.d(b,"b",function(){return D}),m.d(b,"a",function(){return n});var f=m("8GEk");const R=new f.Rb,j=new f.tb,C=new f.Rb;class N extends f.kb{constructor(v=document.createElement("div")){super();this.element=v,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(p){p.element instanceof Element&&p.element.parentNode!==null&&p.element.parentNode.removeChild(p.element)})})}copy(v,p){return super.copy(v,p),this.element=v.element.cloneNode(!0),this}}N.prototype.isCSS3DObject=!0;class D extends N{constructor(v){super(v);this.rotation2D=0}copy(v,p){return super.copy(v,p),this.rotation2D=v.rotation2D,this}}D.prototype.isCSS3DSprite=!0;const O=new f.X,L=new f.X;class n{constructor(v={}){const p=this;let A,E,S,x;const P={camera:{fov:0,style:""},objects:new WeakMap},I=v.element!==void 0?v.element:document.createElement("div");I.style.overflow="hidden",this.domElement=I;const t=document.createElement("div");t.style.transformStyle="preserve-3d",t.style.pointerEvents="none",I.appendChild(t),this.getSize=function(){return{width:A,height:E}},this.render=function(r,s){const l=s.projectionMatrix.elements[5]*x;P.camera.fov!==l&&(I.style.perspective=s.isPerspectiveCamera?l+"px":"",P.camera.fov=l),r.autoUpdate===!0&&r.updateMatrixWorld(),s.parent===null&&s.updateMatrixWorld();let d,y;s.isOrthographicCamera&&(d=-(s.right+s.left)/2,y=(s.top+s.bottom)/2);const g=s.isOrthographicCamera?"scale("+l+")translate("+e(d)+"px,"+e(y)+"px)"+i(s.matrixWorldInverse):"translateZ("+l+"px)"+i(s.matrixWorldInverse),T=g+"translate("+S+"px,"+x+"px)";P.camera.style!==T&&(t.style.transform=T,P.camera.style=T),a(r,r,s,g)},this.setSize=function(r,s){A=r,E=s,S=A/2,x=E/2,I.style.width=r+"px",I.style.height=s+"px",t.style.width=r+"px",t.style.height=s+"px"};function e(r){return Math.abs(r)<1e-10?0:r}function i(r){const s=r.elements;return"matrix3d("+e(s[0])+","+e(-s[1])+","+e(s[2])+","+e(s[3])+","+e(s[4])+","+e(-s[5])+","+e(s[6])+","+e(s[7])+","+e(s[8])+","+e(-s[9])+","+e(s[10])+","+e(s[11])+","+e(s[12])+","+e(-s[13])+","+e(s[14])+","+e(s[15])+")"}function c(r){const s=r.elements,l="matrix3d("+e(s[0])+","+e(s[1])+","+e(s[2])+","+e(s[3])+","+e(-s[4])+","+e(-s[5])+","+e(-s[6])+","+e(-s[7])+","+e(s[8])+","+e(s[9])+","+e(s[10])+","+e(s[11])+","+e(s[12])+","+e(s[13])+","+e(s[14])+","+e(s[15])+")";return"translate(-50%,-50%)"+l}function a(r,s,l,d){if(r.isCSS3DObject){r.onBeforeRender(p,s,l);let y;r.isCSS3DSprite?(O.copy(l.matrixWorldInverse),O.transpose(),r.rotation2D!==0&&O.multiply(L.makeRotationZ(r.rotation2D)),r.matrixWorld.decompose(R,j,C),O.setPosition(R),O.scale(C),O.elements[3]=0,O.elements[7]=0,O.elements[11]=0,O.elements[15]=1,y=c(O)):y=c(r.matrixWorld);const g=r.element,T=P.objects.get(r);if(T===void 0||T.style!==y){g.style.transform=y;const k={style:y};P.objects.set(r,k)}g.style.display=r.visible?"":"none",g.parentNode!==t&&t.appendChild(g),r.onAfterRender(p,s,l)}for(let y=0,g=r.children.length;y<g;y++)a(r.children[y],s,l,d)}}}},"R5+H":function(X,b,m){"use strict";m.r(b),function(f){m.d(b,"Easing",function(){return R}),m.d(b,"Group",function(){return N}),m.d(b,"Interpolation",function(){return D}),m.d(b,"Sequence",function(){return O}),m.d(b,"Tween",function(){return n}),m.d(b,"VERSION",function(){return u}),m.d(b,"add",function(){return S}),m.d(b,"getAll",function(){return A}),m.d(b,"nextId",function(){return v}),m.d(b,"now",function(){return C}),m.d(b,"remove",function(){return x}),m.d(b,"removeAll",function(){return E}),m.d(b,"update",function(){return P});var R={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=1.70158*1.525;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-R.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?R.Bounce.In(t*2)*.5:R.Bounce.Out(t*2-1)*.5+.5}}},j;typeof self=="undefined"&&typeof f!="undefined"&&f.hrtime?j=function(){var t=f.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?j=self.performance.now.bind(self.performance):Date.now!==void 0?j=Date.now:j=function(){return new Date().getTime()};var C=j,N=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,i){e===void 0&&(e=C()),i===void 0&&(i=!1);var c=Object.keys(this._tweens);if(c.length===0)return!1;for(;c.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<c.length;a++){var r=this._tweens[c[a]],s=!i;r&&r.update(e,s)===!1&&!i&&delete this._tweens[c[a]]}c=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),D={Linear:function(t,e){var i=t.length-1,c=i*e,a=Math.floor(c),r=D.Utils.Linear;return e<0?r(t[0],t[1],c):e>1?r(t[i],t[i-1],i-c):r(t[a],t[a+1>i?i:a+1],c-a)},Bezier:function(t,e){for(var i=0,c=t.length-1,a=Math.pow,r=D.Utils.Bernstein,s=0;s<=c;s++)i+=a(1-e,c-s)*a(e,s)*t[s]*r(c,s);return i},CatmullRom:function(t,e){var i=t.length-1,c=i*e,a=Math.floor(c),r=D.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(a=Math.floor(c=i*(1+e))),r(t[(a-1+i)%i],t[a],t[(a+1)%i],t[(a+2)%i],c-a)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-c)-t[0]):e>1?t[i]-(r(t[i],t[i],t[i-1],t[i-1],c-i)-t[i]):r(t[a?a-1:0],t[a],t[i<a+1?i:a+1],t[i<a+2?i:a+2],c-a)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=D.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var c=e;c>1;c--)i*=c;return t[e]=i,i}}(),CatmullRom:function(t,e,i,c,a){var r=(i-t)*.5,s=(c-e)*.5,l=a*a,d=a*l;return(2*e-2*i+r+s)*d+(-3*e+3*i-2*r-s)*l+r*a+e}}},O=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),L=new N,n=function(){function t(e,i){i===void 0&&(i=L),this._object=e,this._group=i,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=R.Linear.None,this._interpolationFunction=D.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=O.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,i){return this._valuesEnd=Object.create(e),i!==void 0&&(this._duration=i),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?C()+parseFloat(e):e:C(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,i,c,a){for(var r in c){var s=e[r],l=Array.isArray(s),d=l?"array":typeof s,y=!l&&Array.isArray(c[r]);if(!(d==="undefined"||d==="function")){if(y){var g=c[r];if(g.length===0)continue;g=g.map(this._handleRelativeValue.bind(this,s)),c[r]=[s].concat(g)}if((d==="object"||l)&&s&&!y){i[r]=l?[]:{};for(var T in s)i[r][T]=s[T];a[r]=l?[]:{},this._setupProperties(s,i[r],c[r],a[r])}else typeof i[r]=="undefined"&&(i[r]=s),l||(i[r]*=1),y?a[r]=c[r].slice().reverse():a[r]=i[r]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(Infinity),this},t.prototype.pause=function(e){return e===void 0&&(e=C()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=C()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){if(e===void 0&&(e=C()),i===void 0&&(i=!0),this._isPaused)return!0;var c,a,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;i&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var s=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(c in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[c]=="string"&&(this._valuesStartRepeat[c]=this._valuesStartRepeat[c]+parseFloat(this._valuesEnd[c])),this._yoyo&&this._swapEndStartRepeatValues(c),this._valuesStart[c]=this._valuesStartRepeat[c];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,d=this._chainedTweens.length;l<d;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,i,c,a){for(var r in c)if(i[r]!==void 0){var s=i[r]||0,l=c[r],d=Array.isArray(e[r]),y=Array.isArray(l),g=!d&&y;g?e[r]=this._interpolationFunction(l,a):typeof l=="object"&&l?this._updateProperties(e[r],s,l,a):(l=this._handleRelativeValue(s,l),typeof l=="number"&&(e[r]=s+(l-s)*a))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],c=this._valuesEnd[e];typeof c=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(c):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t}(),u="18.6.4",v=O.nextId,p=L,A=p.getAll.bind(p),E=p.removeAll.bind(p),S=p.add.bind(p),x=p.remove.bind(p),P=p.update.bind(p),I={Easing:R,Group:N,Interpolation:D,now:C,Sequence:O,nextId:v,Tween:n,VERSION:u,getAll:A,removeAll:E,add:S,remove:x,update:P};b.default=I}.call(this,m("BBhR"))},babr:function(X,b,m){"use strict";m.d(b,"a",function(){return N});var f=m("8GEk");const R={type:"change"},j={type:"start"},C={type:"end"};class N extends f.y{constructor(O,L){super();L===void 0&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),L===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const n=this,u={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=O,this.domElement=L,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=Infinity,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:f.U.ROTATE,MIDDLE:f.U.DOLLY,RIGHT:f.U.PAN},this.target=new f.Rb;const v=1e-6,p=new f.Rb;let A=1,E=u.NONE,S=u.NONE,x=0,P=0,I=0;const t=new f.Rb,e=new f.Qb,i=new f.Qb,c=new f.Rb,a=new f.Qb,r=new f.Qb,s=new f.Qb,l=new f.Qb,d=[],y={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const o=n.domElement.getBoundingClientRect(),h=n.domElement.ownerDocument.documentElement;n.screen.left=o.left+window.pageXOffset-h.clientLeft,n.screen.top=o.top+window.pageYOffset-h.clientTop,n.screen.width=o.width,n.screen.height=o.height};const g=function(){const o=new f.Qb;return function(w,M){return o.set((w-n.screen.left)/n.screen.width,(M-n.screen.top)/n.screen.height),o}}(),T=function(){const o=new f.Qb;return function(w,M){return o.set((w-n.screen.width*.5-n.screen.left)/(n.screen.width*.5),(n.screen.height+2*(n.screen.top-M))/n.screen.width),o}}();this.rotateCamera=function(){const o=new f.Rb,h=new f.tb,w=new f.Rb,M=new f.Rb,_=new f.Rb,U=new f.Rb;return function(){U.set(i.x-e.x,i.y-e.y,0);let F=U.length();F?(t.copy(n.object.position).sub(n.target),w.copy(t).normalize(),M.copy(n.object.up).normalize(),_.crossVectors(M,w).normalize(),M.setLength(i.y-e.y),_.setLength(i.x-e.x),U.copy(M.add(_)),o.crossVectors(U,t).normalize(),F*=n.rotateSpeed,h.setFromAxisAngle(o,F),t.applyQuaternion(h),n.object.up.applyQuaternion(h),c.copy(o),I=F):!n.staticMoving&&I&&(I*=Math.sqrt(1-n.dynamicDampingFactor),t.copy(n.object.position).sub(n.target),h.setFromAxisAngle(c,I),t.applyQuaternion(h),n.object.up.applyQuaternion(h)),e.copy(i)}}(),this.zoomCamera=function(){let o;E===u.TOUCH_ZOOM_PAN?(o=x/P,x=P,n.object.isPerspectiveCamera?t.multiplyScalar(o):n.object.isOrthographicCamera?(n.object.zoom/=o,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(o=1+(r.y-a.y)*n.zoomSpeed,o!==1&&o>0&&(n.object.isPerspectiveCamera?t.multiplyScalar(o):n.object.isOrthographicCamera?(n.object.zoom/=o,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?a.copy(r):a.y+=(r.y-a.y)*this.dynamicDampingFactor)},this.panCamera=function(){const o=new f.Qb,h=new f.Rb,w=new f.Rb;return function(){if(o.copy(l).sub(s),o.lengthSq()){if(n.object.isOrthographicCamera){const _=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,U=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;o.x*=_,o.y*=U}o.multiplyScalar(t.length()*n.panSpeed),w.copy(t).cross(n.object.up).setLength(o.x),w.add(h.copy(n.object.up).setLength(o.y)),n.object.position.add(w),n.target.add(w),n.staticMoving?s.copy(l):s.add(o.subVectors(l,s).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!n.noZoom||!n.noPan)&&(t.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,t.setLength(n.maxDistance)),a.copy(r)),t.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,t.setLength(n.minDistance)),a.copy(r)))},this.update=function(){t.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,t),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),p.distanceToSquared(n.object.position)>v&&(n.dispatchEvent(R),p.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(p.distanceToSquared(n.object.position)>v||A!==n.object.zoom)&&(n.dispatchEvent(R),p.copy(n.object.position),A=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){E=u.NONE,S=u.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),t.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(R),p.copy(n.object.position),A=n.object.zoom};function k(o){n.enabled!==!1&&(d.length===0&&(n.domElement.setPointerCapture(o.pointerId),n.domElement.addEventListener("pointermove",Y),n.domElement.addEventListener("pointerup",Z)),nt(o),o.pointerType==="touch"?$(o):J(o))}function Y(o){n.enabled!==!1&&(o.pointerType==="touch"?tt(o):V(o))}function Z(o){n.enabled!==!1&&(o.pointerType==="touch"?et(o):q(),G(o),d.length===0&&(n.domElement.releasePointerCapture(o.pointerId),n.domElement.removeEventListener("pointermove",Y),n.domElement.removeEventListener("pointerup",Z)))}function B(o){G(o)}function z(o){n.enabled!==!1&&(window.removeEventListener("keydown",z),S===u.NONE&&(o.code===n.keys[u.ROTATE]&&!n.noRotate?S=u.ROTATE:o.code===n.keys[u.ZOOM]&&!n.noZoom?S=u.ZOOM:o.code===n.keys[u.PAN]&&!n.noPan&&(S=u.PAN)))}function H(){n.enabled!==!1&&(S=u.NONE,window.addEventListener("keydown",z))}function J(o){if(E===u.NONE)switch(o.button){case n.mouseButtons.LEFT:E=u.ROTATE;break;case n.mouseButtons.MIDDLE:E=u.ZOOM;break;case n.mouseButtons.RIGHT:E=u.PAN;break;default:E=u.NONE}const h=S!==u.NONE?S:E;h===u.ROTATE&&!n.noRotate?(i.copy(T(o.pageX,o.pageY)),e.copy(i)):h===u.ZOOM&&!n.noZoom?(a.copy(g(o.pageX,o.pageY)),r.copy(a)):h===u.PAN&&!n.noPan&&(s.copy(g(o.pageX,o.pageY)),l.copy(s)),n.dispatchEvent(j)}function V(o){const h=S!==u.NONE?S:E;h===u.ROTATE&&!n.noRotate?(e.copy(i),i.copy(T(o.pageX,o.pageY))):h===u.ZOOM&&!n.noZoom?r.copy(g(o.pageX,o.pageY)):h===u.PAN&&!n.noPan&&l.copy(g(o.pageX,o.pageY))}function q(){E=u.NONE,n.dispatchEvent(C)}function Q(o){if(n.enabled!==!1&&n.noZoom!==!0){switch(o.preventDefault(),o.deltaMode){case 2:a.y-=o.deltaY*.025;break;case 1:a.y-=o.deltaY*.01;break;default:a.y-=o.deltaY*25e-5;break}n.dispatchEvent(j),n.dispatchEvent(C)}}function $(o){switch(K(o),d.length){case 1:E=u.TOUCH_ROTATE,i.copy(T(d[0].pageX,d[0].pageY)),e.copy(i);break;default:E=u.TOUCH_ZOOM_PAN;const h=d[0].pageX-d[1].pageX,w=d[0].pageY-d[1].pageY;P=x=Math.sqrt(h*h+w*w);const M=(d[0].pageX+d[1].pageX)/2,_=(d[0].pageY+d[1].pageY)/2;s.copy(g(M,_)),l.copy(s);break}n.dispatchEvent(j)}function tt(o){switch(K(o),d.length){case 1:e.copy(i),i.copy(T(o.pageX,o.pageY));break;default:const h=it(o),w=o.pageX-h.x,M=o.pageY-h.y;P=Math.sqrt(w*w+M*M);const _=(o.pageX+h.x)/2,U=(o.pageY+h.y)/2;l.copy(g(_,U));break}}function et(o){switch(d.length){case 0:E=u.NONE;break;case 1:E=u.TOUCH_ROTATE,i.copy(T(o.pageX,o.pageY)),e.copy(i);break;case 2:E=u.TOUCH_ZOOM_PAN,i.copy(T(o.pageX-e.pageX,o.pageY-e.pageY)),e.copy(i);break}n.dispatchEvent(C)}function W(o){n.enabled!==!1&&o.preventDefault()}function nt(o){d.push(o)}function G(o){delete y[o.pointerId];for(let h=0;h<d.length;h++)if(d[h].pointerId==o.pointerId){d.splice(h,1);return}}function K(o){let h=y[o.pointerId];h===void 0&&(h=new f.Qb,y[o.pointerId]=h),h.set(o.pageX,o.pageY)}function it(o){const h=o.pointerId===d[0].pointerId?d[1]:d[0];return y[h.pointerId]}this.dispose=function(){n.domElement.removeEventListener("contextmenu",W),n.domElement.removeEventListener("pointerdown",k),n.domElement.removeEventListener("pointercancel",B),n.domElement.removeEventListener("wheel",Q),n.domElement.removeEventListener("pointermove",Y),n.domElement.removeEventListener("pointerup",Z),window.removeEventListener("keydown",z),window.removeEventListener("keyup",H)},this.domElement.addEventListener("contextmenu",W),this.domElement.addEventListener("pointerdown",k),this.domElement.addEventListener("pointercancel",B),this.domElement.addEventListener("wheel",Q,{passive:!1}),window.addEventListener("keydown",z),window.addEventListener("keyup",H),this.handleResize(),this.update()}}}}]);
