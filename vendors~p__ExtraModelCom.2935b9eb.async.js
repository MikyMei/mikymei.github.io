var P3=Math.pow,L3=Object.assign;var Sy=(Cr,Ne,D)=>new Promise((Y,be)=>{var F=X=>{try{P(D.next(X))}catch(je){be(je)}},re=X=>{try{P(D.throw(X))}catch(je){be(je)}},P=X=>X.done?Y(X.value):Promise.resolve(X.value).then(F,re);P((D=D.apply(Cr,Ne)).next())});(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+BJd":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("6MrE"),re=D.n(F)},"+nKL":function(Cr,Ne,D){"use strict";var Y=D("q1tI"),be=D("TSYQ"),F=D.n(be),re=D("t23M");function P(k,Ce){var ge=Object.keys(k);if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(k);Ce&&(we=we.filter(function(ct){return Object.getOwnPropertyDescriptor(k,ct).enumerable})),ge.push.apply(ge,we)}return ge}function X(k){for(var Ce=1;Ce<arguments.length;Ce++){var ge=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?P(Object(ge),!0).forEach(function(we){je(k,we,ge[we])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(ge)):P(Object(ge)).forEach(function(we){Object.defineProperty(k,we,Object.getOwnPropertyDescriptor(ge,we))})}return k}function je(k,Ce,ge){return Ce in k?Object.defineProperty(k,Ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):k[Ce]=ge,k}var de=Y.forwardRef(function(k,Ce){var ge=k.height,we=k.offset,ct=k.children,Rt=k.prefixCls,Wt=k.onInnerResize,kt={},nn={display:"flex",flexDirection:"column"};return we!==void 0&&(kt={height:ge,position:"relative",overflow:"hidden"},nn=X(X({},nn),{},{transform:"translateY(".concat(we,"px)"),position:"absolute",left:0,right:0,top:0})),Y.createElement("div",{style:kt},Y.createElement(re.a,{onResize:function(gn){var tn=gn.offsetHeight;tn&&Wt&&Wt()}},Y.createElement("div",{style:nn,className:F()(je({},"".concat(Rt,"-holder-inner"),Rt)),ref:Ce},ct)))});de.displayName="Filler";var tt=de,Z=D("wgJM");function Pe(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pe=function(ge){return typeof ge}:Pe=function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},Pe(k)}function ve(k,Ce,ge){return Ce in k?Object.defineProperty(k,Ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):k[Ce]=ge,k}function dt(k,Ce){if(!(k instanceof Ce))throw new TypeError("Cannot call a class as a function")}function at(k,Ce){for(var ge=0;ge<Ce.length;ge++){var we=Ce[ge];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(k,we.key,we)}}function Pt(k,Ce,ge){return Ce&&at(k.prototype,Ce),ge&&at(k,ge),k}function Ft(k,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Ce&&bt(k,Ce)}function bt(k,Ce){return bt=Object.setPrototypeOf||function(we,ct){return we.__proto__=ct,we},bt(k,Ce)}function Ct(k){var Ce=yt();return function(){var we=Mt(k),ct;if(Ce){var Rt=Mt(this).constructor;ct=Reflect.construct(we,arguments,Rt)}else ct=we.apply(this,arguments);return he(this,ct)}}function he(k,Ce){if(Ce&&(Pe(Ce)==="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(k)}function Ve(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function yt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}function Mt(k){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},Mt(k)}var Ut=20;function It(k){return"touches"in k?k.touches[0].pageY:k.pageY}var Yt=function(k){Ft(ge,k);var Ce=Ct(ge);function ge(){var we;dt(this,ge);for(var ct=arguments.length,Rt=new Array(ct),Wt=0;Wt<ct;Wt++)Rt[Wt]=arguments[Wt];return we=Ce.call.apply(Ce,[this].concat(Rt)),we.moveRaf=null,we.scrollbarRef=Y.createRef(),we.thumbRef=Y.createRef(),we.visibleTimeout=null,we.state={dragging:!1,pageY:null,startTop:null,visible:!1},we.delayHidden=function(){clearTimeout(we.visibleTimeout),we.setState({visible:!0}),we.visibleTimeout=setTimeout(function(){we.setState({visible:!1})},2e3)},we.onScrollbarTouchStart=function(kt){kt.preventDefault()},we.onContainerMouseDown=function(kt){kt.stopPropagation(),kt.preventDefault()},we.patchEvents=function(){window.addEventListener("mousemove",we.onMouseMove),window.addEventListener("mouseup",we.onMouseUp),we.thumbRef.current.addEventListener("touchmove",we.onMouseMove),we.thumbRef.current.addEventListener("touchend",we.onMouseUp)},we.removeEvents=function(){window.removeEventListener("mousemove",we.onMouseMove),window.removeEventListener("mouseup",we.onMouseUp),we.scrollbarRef.current.removeEventListener("touchstart",we.onScrollbarTouchStart),we.thumbRef.current.removeEventListener("touchstart",we.onMouseDown),we.thumbRef.current.removeEventListener("touchmove",we.onMouseMove),we.thumbRef.current.removeEventListener("touchend",we.onMouseUp),Z.a.cancel(we.moveRaf)},we.onMouseDown=function(kt){var nn=we.props.onStartMove;we.setState({dragging:!0,pageY:It(kt),startTop:we.getTop()}),nn(),we.patchEvents(),kt.stopPropagation(),kt.preventDefault()},we.onMouseMove=function(kt){var nn=we.state,cn=nn.dragging,gn=nn.pageY,tn=nn.startTop,fn=we.props.onScroll;if(Z.a.cancel(we.moveRaf),cn){var qe=It(kt)-gn,Qe=tn+qe,vt=we.getEnableScrollRange(),Je=we.getEnableHeightRange(),me=Je?Qe/Je:0,Ye=Math.ceil(me*vt);we.moveRaf=Object(Z.a)(function(){fn(Ye)})}},we.onMouseUp=function(){var kt=we.props.onStopMove;we.setState({dragging:!1}),kt(),we.removeEvents()},we.getSpinHeight=function(){var kt=we.props,nn=kt.height,cn=kt.count,gn=nn/cn*10;return gn=Math.max(gn,Ut),gn=Math.min(gn,nn/2),Math.floor(gn)},we.getEnableScrollRange=function(){var kt=we.props,nn=kt.scrollHeight,cn=kt.height;return nn-cn||0},we.getEnableHeightRange=function(){var kt=we.props.height,nn=we.getSpinHeight();return kt-nn||0},we.getTop=function(){var kt=we.props.scrollTop,nn=we.getEnableScrollRange(),cn=we.getEnableHeightRange();if(kt===0||nn===0)return 0;var gn=kt/nn;return gn*cn},we.showScroll=function(){var kt=we.props,nn=kt.height,cn=kt.scrollHeight;return cn>nn},we}return Pt(ge,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(ct){ct.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var ct=this.state,Rt=ct.dragging,Wt=ct.visible,kt=this.props.prefixCls,nn=this.getSpinHeight(),cn=this.getTop(),gn=this.showScroll(),tn=gn&&Wt;return Y.createElement("div",{ref:this.scrollbarRef,className:F()("".concat(kt,"-scrollbar"),ve({},"".concat(kt,"-scrollbar-show"),gn)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:tn?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},Y.createElement("div",{ref:this.thumbRef,className:F()("".concat(kt,"-scrollbar-thumb"),ve({},"".concat(kt,"-scrollbar-thumb-moving"),Rt)),style:{width:"100%",height:nn,top:cn,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),ge}(Y.Component);function Gt(k){var Ce=k.children,ge=k.setRef,we=Y.useCallback(function(ct){ge(ct)},[]);return Y.cloneElement(Ce,{ref:we})}function an(k,Ce,ge,we,ct,Rt){var Wt=Rt.getKey;return k.slice(Ce,ge+1).map(function(kt,nn){var cn=Ce+nn,gn=ct(kt,cn,{}),tn=Wt(kt);return Y.createElement(Gt,{key:tn,setRef:function(qe){return we(kt,qe)}},gn)})}var et=D("m+aA");function xt(k,Ce){if(!(k instanceof Ce))throw new TypeError("Cannot call a class as a function")}function mt(k,Ce){for(var ge=0;ge<Ce.length;ge++){var we=Ce[ge];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(k,we.key,we)}}function Kt(k,Ce,ge){return Ce&&mt(k.prototype,Ce),ge&&mt(k,ge),k}var $t=function(){function k(){xt(this,k),this.maps=void 0,this.maps=Object.create(null)}return Kt(k,[{key:"set",value:function(ge,we){this.maps[ge]=we}},{key:"get",value:function(ge){return this.maps[ge]}}]),k}(),un=$t;function Sn(k,Ce){return _n(k)||y(k,Ce)||zt(k,Ce)||on()}function on(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(k,Ce){if(!!k){if(typeof k=="string")return en(k,Ce);var ge=Object.prototype.toString.call(k).slice(8,-1);if(ge==="Object"&&k.constructor&&(ge=k.constructor.name),ge==="Map"||ge==="Set")return Array.from(k);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return en(k,Ce)}}function en(k,Ce){(Ce==null||Ce>k.length)&&(Ce=k.length);for(var ge=0,we=new Array(Ce);ge<Ce;ge++)we[ge]=k[ge];return we}function y(k,Ce){var ge=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(ge!=null){var we=[],ct=!0,Rt=!1,Wt,kt;try{for(ge=ge.call(k);!(ct=(Wt=ge.next()).done)&&(we.push(Wt.value),!(Ce&&we.length===Ce));ct=!0);}catch(nn){Rt=!0,kt=nn}finally{try{!ct&&ge.return!=null&&ge.return()}finally{if(Rt)throw kt}}return we}}function _n(k){if(Array.isArray(k))return k}function An(k,Ce,ge){var we=Y.useState(0),ct=Sn(we,2),Rt=ct[0],Wt=ct[1],kt=Object(Y.useRef)(new Map),nn=Object(Y.useRef)(new un),cn=Object(Y.useRef)(0);function gn(){cn.current+=1;var fn=cn.current;Promise.resolve().then(function(){fn===cn.current&&(kt.current.forEach(function(qe,Qe){if(qe&&qe.offsetParent){var vt=Object(et.a)(qe),Je=vt.offsetHeight;nn.current.get(Qe)!==Je&&nn.current.set(Qe,vt.offsetHeight)}}),Wt(function(qe){return qe+1}))})}function tn(fn,qe){var Qe=k(fn),vt=kt.current.get(Qe);qe?(kt.current.set(Qe,qe),gn()):kt.current.delete(Qe),!vt!=!qe&&(qe?Ce==null||Ce(fn):ge==null||ge(fn))}return[tn,gn,nn.current,Rt]}function Fn(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fn=function(ge){return typeof ge}:Fn=function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},Fn(k)}function Wn(k,Ce,ge,we,ct,Rt,Wt,kt){var nn=Y.useRef();return function(cn){if(cn==null){kt();return}if(Z.a.cancel(nn.current),typeof cn=="number")Wt(cn);else if(cn&&Fn(cn)==="object"){var gn,tn=cn.align;"index"in cn?gn=cn.index:gn=Ce.findIndex(function(vt){return ct(vt)===cn.key});var fn=cn.offset,qe=fn===void 0?0:fn,Qe=function vt(Je,me){if(!(Je<0||!k.current)){var Ye=k.current.clientHeight,Tt=!1,Tn=me;if(Ye){for(var tr=me||tn,mr=0,ni=0,$i=0,Li=Math.min(Ce.length,gn),eo=0;eo<=Li;eo+=1){var Ho=ct(Ce[eo]);ni=mr;var No=ge.get(Ho);$i=ni+(No===void 0?we:No),mr=$i,eo===gn&&No===void 0&&(Tt=!0)}var Ei=null;switch(tr){case"top":Ei=ni-qe;break;case"bottom":Ei=$i-Ye+qe;break;default:{var Br=k.current.scrollTop,Ma=Br+Ye;ni<Br?Tn="top":$i>Ma&&(Tn="bottom")}}Ei!==null&&Ei!==k.current.scrollTop&&Wt(Ei)}nn.current=Object(Z.a)(function(){Tt&&Rt(),vt(Je-1,Tn)})}};Qe(3)}}}function zn(k,Ce,ge,we){var ct=ge-k,Rt=Ce-ge,Wt=Math.min(ct,Rt)*2;if(we<=Wt){var kt=Math.floor(we/2);return we%2?ge+kt+1:ge-kt}return ct>Rt?ge-(we-Rt):ge+(we-ct)}function or(k,Ce,ge){var we=k.length,ct=Ce.length,Rt,Wt;if(we===0&&ct===0)return null;we<ct?(Rt=k,Wt=Ce):(Rt=Ce,Wt=k);var kt={__EMPTY_ITEM__:!0};function nn(Qe){return Qe!==void 0?ge(Qe):kt}for(var cn=null,gn=Math.abs(we-ct)!==1,tn=0;tn<Wt.length;tn+=1){var fn=nn(Rt[tn]),qe=nn(Wt[tn]);if(fn!==qe){cn=tn,gn=gn||fn!==nn(Wt[tn+1]);break}}return cn===null?null:{index:cn,multiple:gn}}function Sr(k,Ce){return wn(k)||Mi(k,Ce)||Jr(k,Ce)||pr()}function pr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(k,Ce){if(!!k){if(typeof k=="string")return jr(k,Ce);var ge=Object.prototype.toString.call(k).slice(8,-1);if(ge==="Object"&&k.constructor&&(ge=k.constructor.name),ge==="Map"||ge==="Set")return Array.from(k);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return jr(k,Ce)}}function jr(k,Ce){(Ce==null||Ce>k.length)&&(Ce=k.length);for(var ge=0,we=new Array(Ce);ge<Ce;ge++)we[ge]=k[ge];return we}function Mi(k,Ce){var ge=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(ge!=null){var we=[],ct=!0,Rt=!1,Wt,kt;try{for(ge=ge.call(k);!(ct=(Wt=ge.next()).done)&&(we.push(Wt.value),!(Ce&&we.length===Ce));ct=!0);}catch(nn){Rt=!0,kt=nn}finally{try{!ct&&ge.return!=null&&ge.return()}finally{if(Rt)throw kt}}return we}}function wn(k){if(Array.isArray(k))return k}function De(k,Ce,ge){var we=Y.useState(k),ct=Sr(we,2),Rt=ct[0],Wt=ct[1],kt=Y.useState(null),nn=Sr(kt,2),cn=nn[0],gn=nn[1];return Y.useEffect(function(){var tn=or(Rt||[],k||[],Ce);(tn==null?void 0:tn.index)!==void 0&&(ge==null||ge(tn.index),gn(k[tn.index])),Wt(k)},[k]),[cn]}function Ae(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ae=function(ge){return typeof ge}:Ae=function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},Ae(k)}var st=(typeof navigator=="undefined"?"undefined":Ae(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Xe=st,ie=function(k,Ce){var ge=Object(Y.useRef)(!1),we=Object(Y.useRef)(null);function ct(){clearTimeout(we.current),ge.current=!0,we.current=setTimeout(function(){ge.current=!1},50)}var Rt=Object(Y.useRef)({top:k,bottom:Ce});return Rt.current.top=k,Rt.current.bottom=Ce,function(Wt){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,nn=Wt<0&&Rt.current.top||Wt>0&&Rt.current.bottom;return kt&&nn?(clearTimeout(we.current),ge.current=!1):(!nn||ge.current)&&ct(),!ge.current&&nn}};function V(k,Ce,ge,we){var ct=Object(Y.useRef)(0),Rt=Object(Y.useRef)(null),Wt=Object(Y.useRef)(null),kt=Object(Y.useRef)(!1),nn=ie(Ce,ge);function cn(tn){if(!!k){Z.a.cancel(Rt.current);var fn=tn.deltaY;ct.current+=fn,Wt.current=fn,!nn(fn)&&(Xe||tn.preventDefault(),Rt.current=Object(Z.a)(function(){var qe=kt.current?10:1;we(ct.current*qe),ct.current=0}))}}function gn(tn){!k||(kt.current=tn.detail===Wt.current)}return[cn,gn]}var B=14/15;function J(k,Ce,ge){var we=Object(Y.useRef)(!1),ct=Object(Y.useRef)(0),Rt=Object(Y.useRef)(null),Wt=Object(Y.useRef)(null),kt,nn=function(fn){if(we.current){var qe=Math.ceil(fn.touches[0].pageY),Qe=ct.current-qe;ct.current=qe,ge(Qe)&&fn.preventDefault(),clearInterval(Wt.current),Wt.current=setInterval(function(){Qe*=B,(!ge(Qe,!0)||Math.abs(Qe)<=.1)&&clearInterval(Wt.current)},16)}},cn=function(){we.current=!1,kt()},gn=function(fn){kt(),fn.touches.length===1&&!we.current&&(we.current=!0,ct.current=Math.ceil(fn.touches[0].pageY),Rt.current=fn.target,Rt.current.addEventListener("touchmove",nn),Rt.current.addEventListener("touchend",cn))};kt=function(){Rt.current&&(Rt.current.removeEventListener("touchmove",nn),Rt.current.removeEventListener("touchend",cn))},Y.useLayoutEffect(function(){return k&&Ce.current.addEventListener("touchstart",gn),function(){Ce.current.removeEventListener("touchstart",gn),kt(),clearInterval(Wt.current)}},[k])}var Oe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function nt(){return nt=Object.assign||function(k){for(var Ce=1;Ce<arguments.length;Ce++){var ge=arguments[Ce];for(var we in ge)Object.prototype.hasOwnProperty.call(ge,we)&&(k[we]=ge[we])}return k},nt.apply(this,arguments)}function ut(k,Ce){var ge=Object.keys(k);if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(k);Ce&&(we=we.filter(function(ct){return Object.getOwnPropertyDescriptor(k,ct).enumerable})),ge.push.apply(ge,we)}return ge}function Jt(k){for(var Ce=1;Ce<arguments.length;Ce++){var ge=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ut(Object(ge),!0).forEach(function(we){pn(k,we,ge[we])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(ge)):ut(Object(ge)).forEach(function(we){Object.defineProperty(k,we,Object.getOwnPropertyDescriptor(ge,we))})}return k}function pn(k,Ce,ge){return Ce in k?Object.defineProperty(k,Ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):k[Ce]=ge,k}function hn(k,Ce){return Ie(k)||Ue(k,Ce)||Se(k,Ce)||Ln()}function Ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(k,Ce){if(!!k){if(typeof k=="string")return Ee(k,Ce);var ge=Object.prototype.toString.call(k).slice(8,-1);if(ge==="Object"&&k.constructor&&(ge=k.constructor.name),ge==="Map"||ge==="Set")return Array.from(k);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return Ee(k,Ce)}}function Ee(k,Ce){(Ce==null||Ce>k.length)&&(Ce=k.length);for(var ge=0,we=new Array(Ce);ge<Ce;ge++)we[ge]=k[ge];return we}function Ue(k,Ce){var ge=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(ge!=null){var we=[],ct=!0,Rt=!1,Wt,kt;try{for(ge=ge.call(k);!(ct=(Wt=ge.next()).done)&&(we.push(Wt.value),!(Ce&&we.length===Ce));ct=!0);}catch(nn){Rt=!0,kt=nn}finally{try{!ct&&ge.return!=null&&ge.return()}finally{if(Rt)throw kt}}return we}}function Ie(k){if(Array.isArray(k))return k}function Re(k,Ce){if(k==null)return{};var ge=Ke(k,Ce),we,ct;if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(k);for(ct=0;ct<Rt.length;ct++)we=Rt[ct],!(Ce.indexOf(we)>=0)&&(!Object.prototype.propertyIsEnumerable.call(k,we)||(ge[we]=k[we]))}return ge}function Ke(k,Ce){if(k==null)return{};var ge={},we=Object.keys(k),ct,Rt;for(Rt=0;Rt<we.length;Rt++)ct=we[Rt],!(Ce.indexOf(ct)>=0)&&(ge[ct]=k[ct]);return ge}var We=[],ht={overflowY:"auto",overflowAnchor:"none"};function ot(k,Ce){var ge=k.prefixCls,we=ge===void 0?"rc-virtual-list":ge,ct=k.className,Rt=k.height,Wt=k.itemHeight,kt=k.fullHeight,nn=kt===void 0?!0:kt,cn=k.style,gn=k.data,tn=k.children,fn=k.itemKey,qe=k.virtual,Qe=k.component,vt=Qe===void 0?"div":Qe,Je=k.onScroll,me=k.onVisibleChange,Ye=Re(k,Oe),Tt=!!(qe!==!1&&Rt&&Wt),Tn=Tt&&gn&&Wt*gn.length>Rt,tr=Object(Y.useState)(0),mr=hn(tr,2),ni=mr[0],$i=mr[1],Li=Object(Y.useState)(!1),eo=hn(Li,2),Ho=eo[0],No=eo[1],Ei=F()(we,ct),Br=gn||We,Ma=Object(Y.useRef)(),to=Object(Y.useRef)(),Go=Object(Y.useRef)(),es=Y.useCallback(function(Or){return typeof fn=="function"?fn(Or):Or==null?void 0:Or[fn]},[fn]),Es={getKey:es};function Co(Or){$i(function(Lr){var pi;typeof Or=="function"?pi=Or(Lr):pi=Or;var Ui=cr(pi);return Ma.current.scrollTop=Ui,Ui})}var Lo=Object(Y.useRef)({start:0,end:Br.length}),Vt=Object(Y.useRef)(),Lt=De(Br,es),Nn=hn(Lt,1),bn=Nn[0];Vt.current=bn;var hr=An(es,null,null),ur=hn(hr,4),Hr=ur[0],Xr=ur[1],Ir=ur[2],Ur=ur[3],Nr=Y.useMemo(function(){if(!Tt)return{scrollHeight:void 0,start:0,end:Br.length-1,offset:void 0};if(!Tn){var Or;return{scrollHeight:((Or=to.current)===null||Or===void 0?void 0:Or.offsetHeight)||0,start:0,end:Br.length-1,offset:void 0}}for(var Lr=0,pi,Ui,Ca,Ka=Br.length,mo=0;mo<Ka;mo+=1){var ko=Br[mo],Aa=es(ko),Tr=Ir.get(Aa),Fr=Lr+(Tr===void 0?Wt:Tr);Fr>=ni&&pi===void 0&&(pi=mo,Ui=Lr),Fr>ni+Rt&&Ca===void 0&&(Ca=mo),Lr=Fr}return pi===void 0&&(pi=0,Ui=0),Ca===void 0&&(Ca=Br.length-1),Ca=Math.min(Ca+1,Br.length),{scrollHeight:Lr,start:pi,end:Ca,offset:Ui}},[Tn,Tt,ni,Br,Ur,Rt]),br=Nr.scrollHeight,Pr=Nr.start,ai=Nr.end,Gi=Nr.offset;Lo.current.start=Pr,Lo.current.end=ai;var ra=br-Rt,Ar=Object(Y.useRef)(ra);Ar.current=ra;function cr(Or){var Lr=Or;return Number.isNaN(Ar.current)||(Lr=Math.min(Lr,Ar.current)),Lr=Math.max(Lr,0),Lr}var ci=ni<=0,ua=ni>=ra,Wa=ie(ci,ua);function Ai(Or){var Lr=Or;Co(Lr)}function Ii(Or){var Lr=Or.currentTarget.scrollTop;Lr!==ni&&Co(Lr),Je==null||Je(Or)}var ma=V(Tt,ci,ua,function(Or){Co(function(Lr){var pi=Lr+Or;return pi})}),ya=hn(ma,2),ia=ya[0],ba=ya[1];J(Tt,Ma,function(Or,Lr){return Wa(Or,Lr)?!1:(ia({preventDefault:function(){},deltaY:Or}),!0)}),Object(Y.useLayoutEffect)(function(){function Or(Lr){Tt&&Lr.preventDefault()}return Ma.current.addEventListener("wheel",ia),Ma.current.addEventListener("DOMMouseScroll",ba),Ma.current.addEventListener("MozMousePixelScroll",Or),function(){Ma.current.removeEventListener("wheel",ia),Ma.current.removeEventListener("DOMMouseScroll",ba),Ma.current.removeEventListener("MozMousePixelScroll",Or)}},[Tt]);var pa=Wn(Ma,Br,Ir,Wt,es,Xr,Co,function(){var Or;(Or=Go.current)===null||Or===void 0||Or.delayHidden()});Y.useImperativeHandle(Ce,function(){return{scrollTo:pa}}),Object(Y.useLayoutEffect)(function(){if(me){var Or=Br.slice(Pr,ai+1);me(Or,Br)}},[Pr,ai,Br]);var aa=an(Br,Pr,ai,Hr,tn,Es),si=null;return Rt&&(si=Jt(pn({},nn?"height":"maxHeight",Rt),ht),Tt&&(si.overflowY="hidden",Ho&&(si.pointerEvents="none"))),Y.createElement("div",nt({style:Jt(Jt({},cn),{},{position:"relative"}),className:Ei},Ye),Y.createElement(vt,{className:"".concat(we,"-holder"),style:si,ref:Ma,onScroll:Ii},Y.createElement(tt,{prefixCls:we,height:br,offset:Gi,onInnerResize:Xr,ref:to},aa)),Tt&&Y.createElement(Yt,{ref:Go,prefixCls:we,scrollTop:ni,height:Rt,scrollHeight:br,count:Br.length,onScroll:Ai,onStartMove:function(){No(!0)},onStopMove:function(){No(!1)}}))}var oe=Y.forwardRef(ot);oe.displayName="List";var ue=oe,$e=Ne.a=ue},"/zsF":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("bE4E"),re=D.n(F)},"14J3":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("1GLa")},"1GLa":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("FIfw"),re=D.n(F)},"1GRj":function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("U8pU"),F=D("q1tI"),re=D("9BLJ"),P=D("VTBJ"),X=D("rePB"),je=D("ODXe"),de=D("Ff2n"),tt=D("TSYQ"),Z=D.n(tt),Pe=D("y0+3"),ve=D("6cGi"),dt=D("hzQT"),at=D("zT1h"),Pt=D("Kwbf"),Ft=D("wgJM");function bt(Ee){var Ue=F.useRef(null),Ie=F.useState(Ee),Re=Object(je.a)(Ie,2),Ke=Re[0],We=Re[1],ht=F.useRef([]),ot=function(ue){Ue.current===null&&(ht.current=[],Ue.current=Object(Ft.a)(function(){We(function($e){var k=$e;return ht.current.forEach(function(Ce){k=Object(P.a)(Object(P.a)({},k),Ce)}),Ue.current=null,k})})),ht.current.push(ue)};return F.useEffect(function(){return function(){return Ue.current&&Ft.a.cancel(Ue.current)}},[]),[Ke,ot]}function Ct(Ee,Ue,Ie,Re){var Ke=Ue+Ie,We=(Ie-Re)/2;if(Ie>Re){if(Ue>0)return Object(X.a)({},Ee,We);if(Ue<0&&Ke<Re)return Object(X.a)({},Ee,-We)}else if(Ue<0||Ke>Re)return Object(X.a)({},Ee,Ue<0?We:-We);return{}}function he(Ee,Ue,Ie,Re){var Ke=Object(Pe.a)(),We=Ke.width,ht=Ke.height,ot=null;return Ee<=We&&Ue<=ht?ot={x:0,y:0}:(Ee>We||Ue>ht)&&(ot=Object(P.a)(Object(P.a)({},Ct("x",Ie,Ee,We)),Ct("y",Re,Ue,ht))),ot}var Ve=["visible","onVisibleChange","getContainer","current"],yt=F.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),Mt=yt.Provider,Ut=function(Ue){var Ie=Ue.previewPrefixCls,Re=Ie===void 0?"rc-image-preview":Ie,Ke=Ue.children,We=Ue.icons,ht=We===void 0?{}:We,ot=Ue.preview,oe=Object(be.a)(ot)==="object"?ot:{},ue=oe.visible,$e=ue===void 0?void 0:ue,k=oe.onVisibleChange,Ce=k===void 0?void 0:k,ge=oe.getContainer,we=ge===void 0?void 0:ge,ct=oe.current,Rt=ct===void 0?0:ct,Wt=Object(de.a)(oe,Ve),kt=Object(F.useState)(new Map),nn=Object(je.a)(kt,2),cn=nn[0],gn=nn[1],tn=Object(F.useState)(),fn=Object(je.a)(tn,2),qe=fn[0],Qe=fn[1],vt=Object(ve.a)(!!$e,{value:$e,onChange:Ce}),Je=Object(je.a)(vt,2),me=Je[0],Ye=Je[1],Tt=Object(F.useState)(null),Tn=Object(je.a)(Tt,2),tr=Tn[0],mr=Tn[1],ni=$e!==void 0,$i=Array.from(cn.keys()),Li=$i[Rt],eo=new Map(Array.from(cn).filter(function(Ei){var Br=Object(je.a)(Ei,2),Ma=Br[1].canPreview;return!!Ma}).map(function(Ei){var Br=Object(je.a)(Ei,2),Ma=Br[0],to=Br[1].url;return[Ma,to]})),Ho=function(Br,Ma){var to=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Go=function(){gn(function(Es){var Co=new Map(Es),Lo=Co.delete(Br);return Lo?Co:Es})};return gn(function(es){return new Map(es).set(Br,{url:Ma,canPreview:to})}),Go},No=function(Br){Br.stopPropagation(),Ye(!1),mr(null)};return F.useEffect(function(){Qe(Li)},[Li]),F.useEffect(function(){!me&&ni&&Qe(Li)},[Li,ni,me]),F.createElement(Mt,{value:{isPreviewGroup:!0,previewUrls:eo,setPreviewUrls:gn,current:qe,setCurrent:Qe,setShowPreview:Ye,setMousePosition:mr,registerImage:Ho}},Ke,F.createElement(mt,Object(Y.a)({"aria-hidden":!me,visible:me,prefixCls:Re,onClose:No,mousePosition:tr,src:eo.get(qe),icons:ht,getContainer:we},Wt)))},It=Ut,Yt=["prefixCls","src","alt","onClose","afterClose","visible","icons"],Gt=F.useState,an=F.useEffect,et={x:0,y:0},xt=function(Ue){var Ie=Ue.prefixCls,Re=Ue.src,Ke=Ue.alt,We=Ue.onClose,ht=Ue.afterClose,ot=Ue.visible,oe=Ue.icons,ue=oe===void 0?{}:oe,$e=Object(de.a)(Ue,Yt),k=ue.rotateLeft,Ce=ue.rotateRight,ge=ue.zoomIn,we=ue.zoomOut,ct=ue.close,Rt=ue.left,Wt=ue.right,kt=Gt(1),nn=Object(je.a)(kt,2),cn=nn[0],gn=nn[1],tn=Gt(0),fn=Object(je.a)(tn,2),qe=fn[0],Qe=fn[1],vt=bt(et),Je=Object(je.a)(vt,2),me=Je[0],Ye=Je[1],Tt=F.useRef(),Tn=F.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),tr=F.useState(!1),mr=Object(je.a)(tr,2),ni=mr[0],$i=mr[1],Li=F.useContext(yt),eo=Li.previewUrls,Ho=Li.current,No=Li.isPreviewGroup,Ei=Li.setCurrent,Br=eo.size,Ma=Array.from(eo.keys()),to=Ma.indexOf(Ho),Go=No?eo.get(Ho):Re,es=No&&Br>1,Es=F.useState({wheelDirection:0}),Co=Object(je.a)(Es,2),Lo=Co[0],Vt=Co[1],Lt=function(){gn(1),Qe(0),Ye(et)},Nn=function(){gn(function(cr){return cr+1}),Ye(et)},bn=function(){cn>1&&gn(function(cr){return cr-1}),Ye(et)},hr=function(){Qe(function(cr){return cr+90})},ur=function(){Qe(function(cr){return cr-90})},Hr=function(cr){cr.preventDefault(),cr.stopPropagation(),to>0&&Ei(Ma[to-1])},Xr=function(cr){cr.preventDefault(),cr.stopPropagation(),to<Br-1&&Ei(Ma[to+1])},Ir=Z()(Object(X.a)({},"".concat(Ie,"-moving"),ni)),Ur="".concat(Ie,"-operations-operation"),Nr="".concat(Ie,"-operations-icon"),br=[{icon:ct,onClick:We,type:"close"},{icon:ge,onClick:Nn,type:"zoomIn"},{icon:we,onClick:bn,type:"zoomOut",disabled:cn===1},{icon:Ce,onClick:hr,type:"rotateRight"},{icon:k,onClick:ur,type:"rotateLeft"}],Pr=function(){if(ot&&ni){var cr=Tt.current.offsetWidth*cn,ci=Tt.current.offsetHeight*cn,ua=Tt.current.getBoundingClientRect(),Wa=ua.left,Ai=ua.top,Ii=qe%180!=0;$i(!1);var ma=he(Ii?ci:cr,Ii?cr:ci,Wa,Ai);ma&&Ye(Object(P.a)({},ma))}},ai=function(cr){cr.button===0&&(cr.preventDefault(),cr.stopPropagation(),Tn.current.deltaX=cr.pageX-me.x,Tn.current.deltaY=cr.pageY-me.y,Tn.current.originX=me.x,Tn.current.originY=me.y,$i(!0))},Gi=function(cr){ot&&ni&&Ye({x:cr.pageX-Tn.current.deltaX,y:cr.pageY-Tn.current.deltaY})},ra=function(cr){if(!!ot){cr.preventDefault();var ci=cr.deltaY;Vt({wheelDirection:ci})}};return an(function(){var Ar=Lo.wheelDirection;Ar>0?bn():Ar<0&&Nn()},[Lo]),an(function(){var Ar,cr,ci=Object(at.a)(window,"mouseup",Pr,!1),ua=Object(at.a)(window,"mousemove",Gi,!1),Wa=Object(at.a)(window,"wheel",ra,{passive:!1});try{window.top!==window.self&&(Ar=Object(at.a)(window.top,"mouseup",Pr,!1),cr=Object(at.a)(window.top,"mousemove",Gi,!1))}catch(Ai){Object(Pt.c)(!1,"[rc-image] ".concat(Ai))}return function(){ci.remove(),ua.remove(),Wa.remove(),Ar&&Ar.remove(),cr&&cr.remove()}},[ot,ni]),F.createElement(dt.a,Object(Y.a)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:Ie,onClose:We,afterClose:Lt,visible:ot,wrapClassName:Ir},$e),F.createElement("ul",{className:"".concat(Ie,"-operations")},br.map(function(Ar){var cr=Ar.icon,ci=Ar.onClick,ua=Ar.type,Wa=Ar.disabled;return F.createElement("li",{className:Z()(Ur,Object(X.a)({},"".concat(Ie,"-operations-operation-disabled"),!!Wa)),onClick:ci,key:ua},F.isValidElement(cr)?F.cloneElement(cr,{className:Nr}):cr)})),F.createElement("div",{className:"".concat(Ie,"-img-wrapper"),style:{transform:"translate3d(".concat(me.x,"px, ").concat(me.y,"px, 0)")}},F.createElement("img",{onMouseDown:ai,ref:Tt,className:"".concat(Ie,"-img"),src:Go,alt:Ke,style:{transform:"scale3d(".concat(cn,", ").concat(cn,", 1) rotate(").concat(qe,"deg)")}})),es&&F.createElement("div",{className:Z()("".concat(Ie,"-switch-left"),Object(X.a)({},"".concat(Ie,"-switch-left-disabled"),to===0)),onClick:Hr},Rt),es&&F.createElement("div",{className:Z()("".concat(Ie,"-switch-right"),Object(X.a)({},"".concat(Ie,"-switch-right-disabled"),to===Br-1)),onClick:Xr},Wt))},mt=xt,Kt=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"],$t=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"],un=0,Sn=function(Ue){var Ie=Ue.src,Re=Ue.alt,Ke=Ue.onPreviewClose,We=Ue.prefixCls,ht=We===void 0?"rc-image":We,ot=Ue.previewPrefixCls,oe=ot===void 0?"".concat(ht,"-preview"):ot,ue=Ue.placeholder,$e=Ue.fallback,k=Ue.width,Ce=Ue.height,ge=Ue.style,we=Ue.preview,ct=we===void 0?!0:we,Rt=Ue.className,Wt=Ue.onClick,kt=Ue.onError,nn=Ue.wrapperClassName,cn=Ue.wrapperStyle,gn=Ue.crossOrigin,tn=Ue.decoding,fn=Ue.loading,qe=Ue.referrerPolicy,Qe=Ue.sizes,vt=Ue.srcSet,Je=Ue.useMap,me=Object(de.a)(Ue,Kt),Ye=ue&&ue!==!0,Tt=Object(be.a)(ct)==="object"?ct:{},Tn=Tt.src,tr=Tt.visible,mr=tr===void 0?void 0:tr,ni=Tt.onVisibleChange,$i=ni===void 0?Ke:ni,Li=Tt.getContainer,eo=Li===void 0?void 0:Li,Ho=Tt.mask,No=Tt.maskClassName,Ei=Tt.icons,Br=Object(de.a)(Tt,$t),Ma=Tn!=null?Tn:Ie,to=mr!==void 0,Go=Object(ve.a)(!!mr,{value:mr,onChange:$i}),es=Object(je.a)(Go,2),Es=es[0],Co=es[1],Lo=Object(F.useState)(Ye?"loading":"normal"),Vt=Object(je.a)(Lo,2),Lt=Vt[0],Nn=Vt[1],bn=Object(F.useState)(null),hr=Object(je.a)(bn,2),ur=hr[0],Hr=hr[1],Xr=Lt==="error",Ir=F.useContext(yt),Ur=Ir.isPreviewGroup,Nr=Ir.setCurrent,br=Ir.setShowPreview,Pr=Ir.setMousePosition,ai=Ir.registerImage,Gi=F.useState(function(){return un+=1,un}),ra=Object(je.a)(Gi,1),Ar=ra[0],cr=ct&&!Xr,ci=F.useRef(!1),ua=function(){Nn("normal")},Wa=function(aa){kt&&kt(aa),Nn("error")},Ai=function(aa){if(!to){var si=Object(Pe.b)(aa.target),Or=si.left,Lr=si.top;Ur?(Nr(Ar),Pr({x:Or,y:Lr})):Hr({x:Or,y:Lr})}Ur?br(!0):Co(!0),Wt&&Wt(aa)},Ii=function(aa){aa.stopPropagation(),Co(!1),to||Hr(null)},ma=function(aa){ci.current=!1,Lt==="loading"&&(aa==null?void 0:aa.complete)&&(aa.naturalWidth||aa.naturalHeight)&&(ci.current=!0,ua())};F.useEffect(function(){var pa=ai(Ar,Ma);return pa},[]),F.useEffect(function(){ai(Ar,Ma,cr)},[Ma,cr]),F.useEffect(function(){Xr&&Nn("normal"),Ye&&!ci.current&&Nn("loading")},[Ie]);var ya=Z()(ht,nn,Object(X.a)({},"".concat(ht,"-error"),Xr)),ia=Xr&&$e?$e:Ma,ba={crossOrigin:gn,decoding:tn,loading:fn,referrerPolicy:qe,sizes:Qe,srcSet:vt,useMap:Je,alt:Re,className:Z()("".concat(ht,"-img"),Object(X.a)({},"".concat(ht,"-img-placeholder"),ue===!0),Rt),style:Object(P.a)({height:Ce},ge)};return F.createElement(F.Fragment,null,F.createElement("div",Object(Y.a)({},me,{className:ya,onClick:cr?Ai:Wt,style:Object(P.a)({width:k,height:Ce},cn)}),F.createElement("img",Object(Y.a)({},ba,{ref:ma},Xr&&$e?{src:$e}:{onLoad:ua,onError:Wa,src:Ie})),Lt==="loading"&&F.createElement("div",{"aria-hidden":"true",className:"".concat(ht,"-placeholder")},ue),Ho&&cr&&F.createElement("div",{className:Z()("".concat(ht,"-mask"),No)},Ho)),!Ur&&cr&&F.createElement(mt,Object(Y.a)({"aria-hidden":!Es,visible:Es,prefixCls:oe,onClose:Ii,mousePosition:ur,src:ia,alt:Re,getContainer:eo,icons:Ei},Br)))};Sn.PreviewGroup=It,Sn.displayName="Image";var on=Sn,zt=on,en=D("D7Yy"),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},_n=y,An=D("6VBw"),Fn=function(Ue,Ie){return F.createElement(An.a,Object(P.a)(Object(P.a)({},Ue),{},{ref:Ie,icon:_n}))};Fn.displayName="RotateLeftOutlined";var Wn=F.forwardRef(Fn),zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},or=zn,Sr=function(Ue,Ie){return F.createElement(An.a,Object(P.a)(Object(P.a)({},Ue),{},{ref:Ie,icon:or}))};Sr.displayName="RotateRightOutlined";var pr=F.forwardRef(Sr),Jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},jr=Jr,Mi=function(Ue,Ie){return F.createElement(An.a,Object(P.a)(Object(P.a)({},Ue),{},{ref:Ie,icon:jr}))};Mi.displayName="ZoomInOutlined";var wn=F.forwardRef(Mi),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Ae=De,st=function(Ue,Ie){return F.createElement(An.a,Object(P.a)(Object(P.a)({},Ue),{},{ref:Ie,icon:Ae}))};st.displayName="ZoomOutOutlined";var Xe=F.forwardRef(st),ie=D("4i/N"),V=D("5bA4"),B=D("UESt"),J=D("H84U"),Oe=D("EXcs"),nt=function(Ee,Ue){var Ie={};for(var Re in Ee)Object.prototype.hasOwnProperty.call(Ee,Re)&&Ue.indexOf(Re)<0&&(Ie[Re]=Ee[Re]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ke=0,Re=Object.getOwnPropertySymbols(Ee);Ke<Re.length;Ke++)Ue.indexOf(Re[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Re[Ke])&&(Ie[Re[Ke]]=Ee[Re[Ke]]);return Ie},ut={rotateLeft:F.createElement(Wn,null),rotateRight:F.createElement(pr,null),zoomIn:F.createElement(wn,null),zoomOut:F.createElement(Xe,null),close:F.createElement(ie.a,null),left:F.createElement(V.a,null),right:F.createElement(B.a,null)},Jt=function(Ue){var Ie=Ue.previewPrefixCls,Re=Ue.preview,Ke=nt(Ue,["previewPrefixCls","preview"]),We=F.useContext(J.b),ht=We.getPrefixCls,ot=ht("image-preview",Ie),oe=ht(),ue=F.useMemo(function(){if(Re===!1)return Re;var $e=Object(be.a)(Re)==="object"?Re:{};return Object(Y.a)(Object(Y.a)({},$e),{transitionName:Object(Oe.b)(oe,"zoom",$e.transitionName),maskTransitionName:Object(Oe.b)(oe,"fade",$e.maskTransitionName)})},[Re]);return F.createElement(zt.PreviewGroup,Object(Y.a)({preview:ue,previewPrefixCls:ot,icons:ut},Ke))},pn=Jt,hn=function(Ee,Ue){var Ie={};for(var Re in Ee)Object.prototype.hasOwnProperty.call(Ee,Re)&&Ue.indexOf(Re)<0&&(Ie[Re]=Ee[Re]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ke=0,Re=Object.getOwnPropertySymbols(Ee);Ke<Re.length;Ke++)Ue.indexOf(Re[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Re[Ke])&&(Ie[Re[Ke]]=Ee[Re[Ke]]);return Ie},Ln=function(Ue){var Ie=Ue.prefixCls,Re=Ue.preview,Ke=hn(Ue,["prefixCls","preview"]),We=Object(F.useContext)(J.b),ht=We.getPrefixCls,ot=ht("image",Ie),oe=ht(),ue=Object(F.useContext)(J.b),$e=ue.locale,k=$e===void 0?en.a:$e,Ce=k.Image||en.a.Image,ge=F.useMemo(function(){if(Re===!1)return Re;var we=Object(be.a)(Re)==="object"?Re:{};return Object(Y.a)(Object(Y.a)({mask:F.createElement("div",{className:"".concat(ot,"-mask-info")},F.createElement(re.a,null),Ce==null?void 0:Ce.preview),icons:ut},we),{transitionName:Object(Oe.b)(oe,"zoom",we.transitionName),maskTransitionName:Object(Oe.b)(oe,"fade",we.maskTransitionName)})},[Re,Ce]);return F.createElement(zt,Object(Y.a)({prefixCls:ot,preview:ge},Ke))};Ln.PreviewGroup=pn;var Se=Ne.a=Ln},"1RvN":function(Cr,Ne,D){"use strict";var Y=function(){function re(P){this.value=P}return re}(),be=function(){function re(){this._len=0}return re.prototype.insert=function(P){var X=new Y(P);return this.insertEntry(X),X},re.prototype.insertEntry=function(P){this.head?(this.tail.next=P,P.prev=this.tail,P.next=null,this.tail=P):this.head=this.tail=P,this._len++},re.prototype.remove=function(P){var X=P.prev,je=P.next;X?X.next=je:this.head=je,je?je.prev=X:this.tail=X,P.next=P.prev=null,this._len--},re.prototype.len=function(){return this._len},re.prototype.clear=function(){this.head=this.tail=null,this._len=0},re}(),F=function(){function re(P){this._list=new be,this._maxSize=10,this._map={},this._maxSize=P}return re.prototype.put=function(P,X){var je=this._list,de=this._map,tt=null;if(de[P]==null){var Z=je.len(),Pe=this._lastRemovedEntry;if(Z>=this._maxSize&&Z>0){var ve=je.head;je.remove(ve),delete de[ve.key],tt=ve.value,this._lastRemovedEntry=ve}Pe?Pe.value=X:Pe=new Y(X),Pe.key=P,je.insertEntry(Pe),de[P]=Pe}return tt},re.prototype.get=function(P){var X=this._map[P],je=this._list;if(X!=null)return X!==je.tail&&(je.remove(X),je.insertEntry(X)),X.value},re.prototype.clear=function(){this._list.clear(),this._map={}},re.prototype.len=function(){return this._list.len()},re}();Ne.a=F},"1wcP":function(Cr,Ne,D){},"2fM7":function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("q1tI"),re=D("bT9E"),P=D("TSYQ"),X=D.n(P),je=D("KQm4"),de=D("VTBJ"),tt=D("ODXe"),Z=D("Ff2n"),Pe=D("U8pU"),ve=D("Kwbf"),dt=D("6cGi"),at=D("4IlW"),Pt=D("5Z9U"),Ft=D("c+Xe"),bt=D("TNol"),Ct=D("T5bk");function he(Vt,Lt){var Nn=Vt.key,bn;return"value"in Vt&&(bn=Vt.value),Nn!=null?Nn:bn!==void 0?bn:"rc-index-key-".concat(Lt)}function Ve(Vt,Lt){var Nn=Vt||{},bn=Nn.label,hr=Nn.value,ur=Nn.options;return{label:bn||(Lt?"children":"label"),value:hr||"value",options:ur||"options"}}function yt(Vt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nn=Lt.fieldNames,bn=Lt.childrenAsData,hr=[],ur=Ve(Nn,!1),Hr=ur.label,Xr=ur.value,Ir=ur.options;function Ur(Nr,br){Nr.forEach(function(Pr){var ai=Pr[Hr];if(br||!(Ir in Pr)){var Gi=Pr[Xr];hr.push({key:he(Pr,hr.length),groupOption:br,data:Pr,label:ai,value:Gi})}else{var ra=ai;ra===void 0&&bn&&(ra=Pr.label),hr.push({key:he(Pr,hr.length),group:!0,data:Pr,label:ra}),Ur(Pr[Ir],!0)}})}return Ur(Vt,!1),hr}function Mt(Vt){var Lt=Object(de.a)({},Vt);return"props"in Lt||Object.defineProperty(Lt,"props",{get:function(){return Object(ve.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),Lt}}),Lt}function Ut(Vt,Lt){if(!Lt||!Lt.length)return null;var Nn=!1;function bn(ur,Hr){var Xr=Object(Ct.a)(Hr),Ir=Xr[0],Ur=Xr.slice(1);if(!Ir)return[ur];var Nr=ur.split(Ir);return Nn=Nn||Nr.length>1,Nr.reduce(function(br,Pr){return[].concat(Object(je.a)(br),Object(je.a)(bn(Pr,Ur)))},[]).filter(function(br){return br})}var hr=bn(Vt,Lt);return Nn?hr:null}var It=D("uciX"),Yt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Gt=function(Lt){var Nn=Lt===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Nn,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Nn,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Nn,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Nn,adjustY:1}}}},an=function(Lt,Nn){var bn=Lt.prefixCls,hr=Lt.disabled,ur=Lt.visible,Hr=Lt.children,Xr=Lt.popupElement,Ir=Lt.containerWidth,Ur=Lt.animation,Nr=Lt.transitionName,br=Lt.dropdownStyle,Pr=Lt.dropdownClassName,ai=Lt.direction,Gi=ai===void 0?"ltr":ai,ra=Lt.placement,Ar=Lt.dropdownMatchSelectWidth,cr=Lt.dropdownRender,ci=Lt.dropdownAlign,ua=Lt.getPopupContainer,Wa=Lt.empty,Ai=Lt.getTriggerDOMNode,Ii=Lt.onPopupVisibleChange,ma=Lt.onPopupMouseEnter,ya=Object(Z.a)(Lt,Yt),ia="".concat(bn,"-dropdown"),ba=Xr;cr&&(ba=cr(Xr));var pa=F.useMemo(function(){return Gt(Ar)},[Ar]),aa=Ur?"".concat(ia,"-").concat(Ur):Nr,si=F.useRef(null);F.useImperativeHandle(Nn,function(){return{getPopupElement:function(){return si.current}}});var Or=Object(de.a)({minWidth:Ir},br);return typeof Ar=="number"?Or.width=Ar:Ar&&(Or.width=Ir),F.createElement(It.a,Object(be.a)({},ya,{showAction:Ii?["click"]:[],hideAction:Ii?["click"]:[],popupPlacement:ra||(Gi==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:pa,prefixCls:ia,popupTransitionName:aa,popup:F.createElement("div",{ref:si,onMouseEnter:ma},ba),popupAlign:ci,popupVisible:ur,getPopupContainer:ua,popupClassName:X()(Pr,Object(Y.a)({},"".concat(ia,"-empty"),Wa)),popupStyle:Or,getTriggerDOMNode:Ai,onPopupVisibleChange:Ii}),Hr)},et=F.forwardRef(an);et.displayName="SelectTrigger";var xt=et,mt=D("bX4T"),Kt=D("8z13"),$t=function(Lt){var Nn=Lt.className,bn=Lt.customizeIcon,hr=Lt.customizeIconProps,ur=Lt.onMouseDown,Hr=Lt.onClick,Xr=Lt.children,Ir;return typeof bn=="function"?Ir=bn(hr):Ir=bn,F.createElement("span",{className:Nn,onMouseDown:function(Nr){Nr.preventDefault(),ur&&ur(Nr)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Hr,"aria-hidden":!0},Ir!==void 0?Ir:F.createElement("span",{className:X()(Nn.split(/\s+/).map(function(Ur){return"".concat(Ur,"-icon")}))},Xr))},un=$t,Sn=function(Lt,Nn){var bn,hr,ur=Lt.prefixCls,Hr=Lt.id,Xr=Lt.inputElement,Ir=Lt.disabled,Ur=Lt.tabIndex,Nr=Lt.autoFocus,br=Lt.autoComplete,Pr=Lt.editable,ai=Lt.activeDescendantId,Gi=Lt.value,ra=Lt.maxLength,Ar=Lt.onKeyDown,cr=Lt.onMouseDown,ci=Lt.onChange,ua=Lt.onPaste,Wa=Lt.onCompositionStart,Ai=Lt.onCompositionEnd,Ii=Lt.open,ma=Lt.attrs,ya=Xr||F.createElement("input",null),ia=ya,ba=ia.ref,pa=ia.props,aa=pa.onKeyDown,si=pa.onChange,Or=pa.onMouseDown,Lr=pa.onCompositionStart,pi=pa.onCompositionEnd,Ui=pa.style;return ya=F.cloneElement(ya,Object(de.a)(Object(de.a)({id:Hr,ref:Object(Ft.a)(Nn,ba),disabled:Ir,tabIndex:Ur,autoComplete:br||"off",type:"search",autoFocus:Nr,className:X()("".concat(ur,"-selection-search-input"),(bn=ya)===null||bn===void 0||(hr=bn.props)===null||hr===void 0?void 0:hr.className),style:Object(de.a)(Object(de.a)({},Ui),{},{opacity:Pr?null:0}),role:"combobox","aria-expanded":Ii,"aria-haspopup":"listbox","aria-owns":"".concat(Hr,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(Hr,"_list"),"aria-activedescendant":ai},ma),{},{value:Pr?Gi:"",maxLength:ra,readOnly:!Pr,unselectable:Pr?null:"on",onKeyDown:function(Ka){Ar(Ka),aa&&aa(Ka)},onMouseDown:function(Ka){cr(Ka),Or&&Or(Ka)},onChange:function(Ka){ci(Ka),si&&si(Ka)},onCompositionStart:function(Ka){Wa(Ka),Lr&&Lr(Ka)},onCompositionEnd:function(Ka){Ai(Ka),pi&&pi(Ka)},onPaste:ua})),ya},on=F.forwardRef(Sn);on.displayName="Input";var zt=on;function en(Vt){return Array.isArray(Vt)?Vt:Vt!==void 0?[Vt]:[]}var y=typeof window!="undefined"&&window.document&&window.document.documentElement,_n=y;function An(Vt,Lt){_n?F.useLayoutEffect(Vt,Lt):F.useEffect(Vt,Lt)}var Fn=function(Lt){Lt.preventDefault(),Lt.stopPropagation()},Wn=function(Lt){var Nn=Lt.id,bn=Lt.prefixCls,hr=Lt.values,ur=Lt.open,Hr=Lt.searchValue,Xr=Lt.inputRef,Ir=Lt.placeholder,Ur=Lt.disabled,Nr=Lt.mode,br=Lt.showSearch,Pr=Lt.autoFocus,ai=Lt.autoComplete,Gi=Lt.activeDescendantId,ra=Lt.tabIndex,Ar=Lt.removeIcon,cr=Lt.maxTagCount,ci=Lt.maxTagTextLength,ua=Lt.maxTagPlaceholder,Wa=ua===void 0?function(To){return"+ ".concat(To.length," ...")}:ua,Ai=Lt.tagRender,Ii=Lt.onToggleOpen,ma=Lt.onRemove,ya=Lt.onInputChange,ia=Lt.onInputPaste,ba=Lt.onInputKeyDown,pa=Lt.onInputMouseDown,aa=Lt.onInputCompositionStart,si=Lt.onInputCompositionEnd,Or=F.useRef(null),Lr=Object(F.useState)(0),pi=Object(tt.a)(Lr,2),Ui=pi[0],Ca=pi[1],Ka=Object(F.useState)(!1),mo=Object(tt.a)(Ka,2),ko=mo[0],Aa=mo[1],Tr="".concat(bn,"-selection"),Fr=ur||Nr==="tags"?Hr:"",Ya=Nr==="tags"||br&&(ur||ko);An(function(){Ca(Or.current.scrollWidth)},[Fr]);function Pa(To,za,Uo,As,qs){return F.createElement("span",{className:X()("".concat(Tr,"-item"),Object(Y.a)({},"".concat(Tr,"-item-disabled"),Uo)),title:typeof To=="string"||typeof To=="number"?To.toString():void 0},F.createElement("span",{className:"".concat(Tr,"-item-content")},za),As&&F.createElement(un,{className:"".concat(Tr,"-item-remove"),onMouseDown:Fn,onClick:qs,customizeIcon:Ar},"\xD7"))}function $a(To,za,Uo,As,qs){var rs=function(is){Fn(is),Ii(!ur)};return F.createElement("span",{onMouseDown:rs},Ai({label:za,value:To,disabled:Uo,closable:As,onClose:qs}))}function ro(To){var za=To.disabled,Uo=To.label,As=To.value,qs=!Ur&&!za,rs=Uo;if(typeof ci=="number"&&(typeof Uo=="string"||typeof Uo=="number")){var yo=String(rs);yo.length>ci&&(rs="".concat(yo.slice(0,ci),"..."))}var is=function(nu){nu&&nu.stopPropagation(),ma(To)};return typeof Ai=="function"?$a(As,rs,za,qs,is):Pa(Uo,rs,za,qs,is)}function io(To){var za=typeof Wa=="function"?Wa(To):Wa;return Pa(za,za,!1)}var zs=F.createElement("div",{className:"".concat(Tr,"-search"),style:{width:Ui},onFocus:function(){Aa(!0)},onBlur:function(){Aa(!1)}},F.createElement(zt,{ref:Xr,open:ur,prefixCls:bn,id:Nn,inputElement:null,disabled:Ur,autoFocus:Pr,autoComplete:ai,editable:Ya,activeDescendantId:Gi,value:Fr,onKeyDown:ba,onMouseDown:pa,onChange:ya,onPaste:ia,onCompositionStart:aa,onCompositionEnd:si,tabIndex:ra,attrs:Object(mt.a)(Lt,!0)}),F.createElement("span",{ref:Or,className:"".concat(Tr,"-search-mirror"),"aria-hidden":!0},Fr,"\xA0")),ns=F.createElement(Kt.a,{prefixCls:"".concat(Tr,"-overflow"),data:hr,renderItem:ro,renderRest:io,suffix:zs,itemKey:"key",maxCount:cr});return F.createElement(F.Fragment,null,ns,!hr.length&&!Fr&&F.createElement("span",{className:"".concat(Tr,"-placeholder")},Ir))},zn=Wn,or=function(Lt){var Nn=Lt.inputElement,bn=Lt.prefixCls,hr=Lt.id,ur=Lt.inputRef,Hr=Lt.disabled,Xr=Lt.autoFocus,Ir=Lt.autoComplete,Ur=Lt.activeDescendantId,Nr=Lt.mode,br=Lt.open,Pr=Lt.values,ai=Lt.placeholder,Gi=Lt.tabIndex,ra=Lt.showSearch,Ar=Lt.searchValue,cr=Lt.activeValue,ci=Lt.maxLength,ua=Lt.onInputKeyDown,Wa=Lt.onInputMouseDown,Ai=Lt.onInputChange,Ii=Lt.onInputPaste,ma=Lt.onInputCompositionStart,ya=Lt.onInputCompositionEnd,ia=F.useState(!1),ba=Object(tt.a)(ia,2),pa=ba[0],aa=ba[1],si=Nr==="combobox",Or=si||ra,Lr=Pr[0],pi=Ar||"";si&&cr&&!pa&&(pi=cr),F.useEffect(function(){si&&aa(!1)},[si,cr]);var Ui=Nr!=="combobox"&&!br&&!ra?!1:!!pi,Ca=Lr&&(typeof Lr.label=="string"||typeof Lr.label=="number")?Lr.label.toString():void 0,Ka=function(){if(Lr)return null;var ko=Ui?{visibility:"hidden"}:void 0;return F.createElement("span",{className:"".concat(bn,"-selection-placeholder"),style:ko},ai)};return F.createElement(F.Fragment,null,F.createElement("span",{className:"".concat(bn,"-selection-search")},F.createElement(zt,{ref:ur,prefixCls:bn,id:hr,open:br,inputElement:Nn,disabled:Hr,autoFocus:Xr,autoComplete:Ir,editable:Or,activeDescendantId:Ur,value:pi,onKeyDown:ua,onMouseDown:Wa,onChange:function(ko){aa(!0),Ai(ko)},onPaste:Ii,onCompositionStart:ma,onCompositionEnd:ya,tabIndex:Gi,attrs:Object(mt.a)(Lt,!0),maxLength:si?ci:void 0})),!si&&Lr&&!Ui&&F.createElement("span",{className:"".concat(bn,"-selection-item"),title:Ca},Lr.label),Ka())},Sr=or;function pr(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,Lt=F.useRef(null),Nn=F.useRef(null);F.useEffect(function(){return function(){window.clearTimeout(Nn.current)}},[]);function bn(hr){(hr||Lt.current===null)&&(Lt.current=hr),window.clearTimeout(Nn.current),Nn.current=window.setTimeout(function(){Lt.current=null},Vt)}return[function(){return Lt.current},bn]}function Jr(Vt){return![at.a.ESC,at.a.SHIFT,at.a.BACKSPACE,at.a.TAB,at.a.WIN_KEY,at.a.ALT,at.a.META,at.a.WIN_KEY_RIGHT,at.a.CTRL,at.a.SEMICOLON,at.a.EQUALS,at.a.CAPS_LOCK,at.a.CONTEXT_MENU,at.a.F1,at.a.F2,at.a.F3,at.a.F4,at.a.F5,at.a.F6,at.a.F7,at.a.F8,at.a.F9,at.a.F10,at.a.F11,at.a.F12].includes(Vt)}var jr=function(Lt,Nn){var bn=Object(F.useRef)(null),hr=Object(F.useRef)(!1),ur=Lt.prefixCls,Hr=Lt.open,Xr=Lt.mode,Ir=Lt.showSearch,Ur=Lt.tokenWithEnter,Nr=Lt.onSearch,br=Lt.onSearchSubmit,Pr=Lt.onToggleOpen,ai=Lt.onInputKeyDown,Gi=Lt.domRef;F.useImperativeHandle(Nn,function(){return{focus:function(){bn.current.focus()},blur:function(){bn.current.blur()}}});var ra=pr(0),Ar=Object(tt.a)(ra,2),cr=Ar[0],ci=Ar[1],ua=function(pi){var Ui=pi.which;(Ui===at.a.UP||Ui===at.a.DOWN)&&pi.preventDefault(),ai&&ai(pi),Ui===at.a.ENTER&&Xr==="tags"&&!hr.current&&!Hr&&(br==null||br(pi.target.value)),Jr(Ui)&&Pr(!0)},Wa=function(){ci(!0)},Ai=Object(F.useRef)(null),Ii=function(pi){Nr(pi,!0,hr.current)!==!1&&Pr(!0)},ma=function(){hr.current=!0},ya=function(pi){hr.current=!1,Xr!=="combobox"&&Ii(pi.target.value)},ia=function(pi){var Ui=pi.target.value;if(Ur&&Ai.current&&/[\r\n]/.test(Ai.current)){var Ca=Ai.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ui=Ui.replace(Ca,Ai.current)}Ai.current=null,Ii(Ui)},ba=function(pi){var Ui=pi.clipboardData,Ca=Ui.getData("text");Ai.current=Ca},pa=function(pi){var Ui=pi.target;if(Ui!==bn.current){var Ca=document.body.style.msTouchAction!==void 0;Ca?setTimeout(function(){bn.current.focus()}):bn.current.focus()}},aa=function(pi){var Ui=cr();pi.target!==bn.current&&!Ui&&pi.preventDefault(),(Xr!=="combobox"&&(!Ir||!Ui)||!Hr)&&(Hr&&Nr("",!0,!1),Pr())},si={inputRef:bn,onInputKeyDown:ua,onInputMouseDown:Wa,onInputChange:ia,onInputPaste:ba,onInputCompositionStart:ma,onInputCompositionEnd:ya},Or=Xr==="multiple"||Xr==="tags"?F.createElement(zn,Object(be.a)({},Lt,si)):F.createElement(Sr,Object(be.a)({},Lt,si));return F.createElement("div",{ref:Gi,className:"".concat(ur,"-selector"),onClick:pa,onMouseDown:aa},Or)},Mi=F.forwardRef(jr);Mi.displayName="Selector";var wn=Mi;function De(Vt,Lt,Nn){var bn=F.useRef(null);bn.current={open:Lt,triggerOpen:Nn},F.useEffect(function(){function hr(ur){var Hr=ur.target;Hr.shadowRoot&&ur.composed&&(Hr=ur.composedPath()[0]||Hr),bn.current.open&&Vt().filter(function(Xr){return Xr}).every(function(Xr){return!Xr.contains(Hr)&&Xr!==Hr})&&bn.current.triggerOpen(!1)}return window.addEventListener("mousedown",hr),function(){return window.removeEventListener("mousedown",hr)}},[])}function Ae(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,Lt=F.useState(!1),Nn=Object(tt.a)(Lt,2),bn=Nn[0],hr=Nn[1],ur=F.useRef(null),Hr=function(){window.clearTimeout(ur.current)};F.useEffect(function(){return Hr},[]);var Xr=function(Ur,Nr){Hr(),ur.current=window.setTimeout(function(){hr(Ur),Nr&&Nr()},Vt)};return[bn,Xr,Hr]}var st=F.createContext(null);function Xe(){return F.useContext(st)}var ie=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],V=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function B(Vt){return Vt==="tags"||Vt==="multiple"}var J=F.forwardRef(function(Vt,Lt){var Nn,bn,hr=Vt.id,ur=Vt.prefixCls,Hr=Vt.className,Xr=Vt.showSearch,Ir=Vt.tagRender,Ur=Vt.direction,Nr=Vt.omitDomProps,br=Vt.displayValues,Pr=Vt.onDisplayValuesChange,ai=Vt.emptyOptions,Gi=Vt.notFoundContent,ra=Gi===void 0?"Not Found":Gi,Ar=Vt.onClear,cr=Vt.mode,ci=Vt.disabled,ua=Vt.loading,Wa=Vt.getInputElement,Ai=Vt.getRawInputElement,Ii=Vt.open,ma=Vt.defaultOpen,ya=Vt.onDropdownVisibleChange,ia=Vt.activeValue,ba=Vt.onActiveValueChange,pa=Vt.activeDescendantId,aa=Vt.searchValue,si=Vt.onSearch,Or=Vt.onSearchSplit,Lr=Vt.tokenSeparators,pi=Vt.allowClear,Ui=Vt.showArrow,Ca=Vt.inputIcon,Ka=Vt.clearIcon,mo=Vt.OptionList,ko=Vt.animation,Aa=Vt.transitionName,Tr=Vt.dropdownStyle,Fr=Vt.dropdownClassName,Ya=Vt.dropdownMatchSelectWidth,Pa=Vt.dropdownRender,$a=Vt.dropdownAlign,ro=Vt.placement,io=Vt.getPopupContainer,zs=Vt.showAction,ns=zs===void 0?[]:zs,To=Vt.onFocus,za=Vt.onBlur,Uo=Vt.onKeyUp,As=Vt.onKeyDown,qs=Vt.onMouseDown,rs=Object(Z.a)(Vt,ie),yo=B(cr),is=(Xr!==void 0?Xr:yo)||cr==="combobox",Ta=Object(de.a)({},rs);V.forEach(function(ri){delete Ta[ri]}),Nr==null||Nr.forEach(function(ri){delete Ta[ri]});var nu=F.useState(!1),wf=Object(tt.a)(nu,2),Ml=wf[0],ul=wf[1];F.useEffect(function(){ul(Object(Pt.a)())},[]);var vc=F.useRef(null),gc=F.useRef(null),Eu=F.useRef(null),_l=F.useRef(null),Au=F.useRef(null),el=Ae(),oa=Object(tt.a)(el,3),Wi=oa[0],Cl=oa[1],cl=oa[2];F.useImperativeHandle(Lt,function(){var ri,ca;return{focus:(ri=_l.current)===null||ri===void 0?void 0:ri.focus,blur:(ca=_l.current)===null||ca===void 0?void 0:ca.blur,scrollTo:function(jo){var Zo;return(Zo=Au.current)===null||Zo===void 0?void 0:Zo.scrollTo(jo)}}});var Hl=F.useMemo(function(){var ri;if(cr!=="combobox")return aa;var ca=(ri=br[0])===null||ri===void 0?void 0:ri.value;return typeof ca=="string"||typeof ca=="number"?String(ca):""},[aa,cr,br]),Qf=cr==="combobox"&&typeof Wa=="function"&&Wa()||null,Gl=typeof Ai=="function"&&Ai(),qf=Object(Ft.d)(gc,Gl==null||(Nn=Gl.props)===null||Nn===void 0?void 0:Nn.ref),ed=Object(dt.a)(void 0,{defaultValue:ma,value:Ii}),td=Object(tt.a)(ed,2),ru=td[0],Tl=td[1],bo=ru,iu=!ra&&ai;(ci||iu&&bo&&cr==="combobox")&&(bo=!1);var as=iu?!1:bo,gs=F.useCallback(function(ri){var ca=ri!==void 0?ri:!bo;bo!==ca&&!ci&&(Tl(ca),ya==null||ya(ca))},[ci,bo,Tl,ya]),qr=F.useMemo(function(){return(Lr||[]).some(function(ri){return[`
`,`\r
`].includes(ri)})},[Lr]),Di=function(ca,Ki,jo){var Zo=!0,Hs=ca;ba==null||ba(null);var Oo=jo?null:Ut(ca,Lr);return cr!=="combobox"&&Oo&&(Hs="",Or==null||Or(Oo),gs(!1),Zo=!1),si&&Hl!==Hs&&si(Hs,{source:Ki?"typing":"effect"}),Zo},Zr=function(ca){!ca||!ca.trim()||si(ca,{source:"submit"})};F.useEffect(function(){!bo&&!yo&&cr!=="combobox"&&Di("",!1,!1)},[bo]),F.useEffect(function(){ru&&ci&&Tl(!1),ci&&Cl(!1)},[ci]);var gi=pr(),fo=Object(tt.a)(gi,2),xo=fo[0],ao=fo[1],Vs=function(ca){var Ki=xo(),jo=ca.which;if(jo===at.a.ENTER&&(cr!=="combobox"&&ca.preventDefault(),bo||gs(!0)),ao(!!Hl),jo===at.a.BACKSPACE&&!Ki&&yo&&!Hl&&br.length){for(var Zo=Object(je.a)(br),Hs=null,Oo=Zo.length-1;Oo>=0;Oo-=1){var Ze=Zo[Oo];if(!Ze.disabled){Zo.splice(Oo,1),Hs=Ze;break}}Hs&&Pr(Zo,{type:"remove",values:[Hs]})}for(var Zs=arguments.length,su=new Array(Zs>1?Zs-1:0),ho=1;ho<Zs;ho++)su[ho-1]=arguments[ho];if(bo&&Au.current){var Bo;(Bo=Au.current).onKeyDown.apply(Bo,[ca].concat(su))}As==null||As.apply(void 0,[ca].concat(su))},tl=function(ca){for(var Ki=arguments.length,jo=new Array(Ki>1?Ki-1:0),Zo=1;Zo<Ki;Zo++)jo[Zo-1]=arguments[Zo];if(bo&&Au.current){var Hs;(Hs=Au.current).onKeyUp.apply(Hs,[ca].concat(jo))}Uo==null||Uo.apply(void 0,[ca].concat(jo))},au=function(ca){var Ki=br.filter(function(jo){return jo!==ca});Pr(Ki,{type:"remove",values:[ca]})},Ul=F.useRef(!1),Ku=function(){Cl(!0),ci||(To&&!Ul.current&&To.apply(void 0,arguments),ns.includes("focus")&&gs(!0)),Ul.current=!0},Bd=function(){Cl(!1,function(){Ul.current=!1,gs(!1)}),!ci&&(Hl&&(cr==="tags"?si(Hl,{source:"submit"}):cr==="multiple"&&si("",{source:"blur"})),za&&za.apply(void 0,arguments))},ou=[];F.useEffect(function(){return function(){ou.forEach(function(ri){return clearTimeout(ri)}),ou.splice(0,ou.length)}},[]);var Pu=function(ca){var Ki,jo=ca.target,Zo=(Ki=Eu.current)===null||Ki===void 0?void 0:Ki.getPopupElement();if(Zo&&Zo.contains(jo)){var Hs=setTimeout(function(){var su=ou.indexOf(Hs);if(su!==-1&&ou.splice(su,1),cl(),!Ml&&!Zo.contains(document.activeElement)){var ho;(ho=_l.current)===null||ho===void 0||ho.focus()}});ou.push(Hs)}for(var Oo=arguments.length,Ze=new Array(Oo>1?Oo-1:0),Zs=1;Zs<Oo;Zs++)Ze[Zs-1]=arguments[Zs];qs==null||qs.apply(void 0,[ca].concat(Ze))},nd=F.useState(null),Fd=Object(tt.a)(nd,2),zd=Fd[0],Mf=Fd[1],Lu=F.useState({}),rd=Object(tt.a)(Lu,2),nv=rd[1];function Vd(){nv({})}Object(bt.a)(function(){if(as){var ri,ca=Math.ceil((ri=vc.current)===null||ri===void 0?void 0:ri.offsetWidth);zd!==ca&&!Number.isNaN(ca)&&Mf(ca)}},[as]);var Vn;Gl&&(Vn=function(ca){gs(ca)}),De(function(){var ri;return[vc.current,(ri=Eu.current)===null||ri===void 0?void 0:ri.getPopupElement()]},as,gs);var oo=F.useMemo(function(){return Object(de.a)(Object(de.a)({},Vt),{},{notFoundContent:ra,open:bo,triggerOpen:as,id:hr,showSearch:is,multiple:yo,toggleOpen:gs})},[Vt,ra,as,bo,hr,is,yo,gs]),Yu=Ui!==void 0?Ui:ua||!yo&&cr!=="combobox",Hd;Yu&&(Hd=F.createElement(un,{className:X()("".concat(ur,"-arrow"),Object(Y.a)({},"".concat(ur,"-arrow-loading"),ua)),customizeIcon:Ca,customizeIconProps:{loading:ua,searchValue:Hl,open:bo,focused:Wi,showSearch:is}}));var Wl,Xu=function(){Ar==null||Ar(),Pr([],{type:"clear",values:br}),Di("",!1,!1)};!ci&&pi&&(br.length||Hl)&&(Wl=F.createElement(un,{className:"".concat(ur,"-clear"),onMouseDown:Xu,customizeIcon:Ka},"\xD7"));var Kl=F.createElement(mo,{ref:Au}),Du=X()(ur,Hr,(bn={},Object(Y.a)(bn,"".concat(ur,"-focused"),Wi),Object(Y.a)(bn,"".concat(ur,"-multiple"),yo),Object(Y.a)(bn,"".concat(ur,"-single"),!yo),Object(Y.a)(bn,"".concat(ur,"-allow-clear"),pi),Object(Y.a)(bn,"".concat(ur,"-show-arrow"),Yu),Object(Y.a)(bn,"".concat(ur,"-disabled"),ci),Object(Y.a)(bn,"".concat(ur,"-loading"),ua),Object(Y.a)(bn,"".concat(ur,"-open"),bo),Object(Y.a)(bn,"".concat(ur,"-customize-input"),Qf),Object(Y.a)(bn,"".concat(ur,"-show-search"),is),bn)),Ru=F.createElement(xt,{ref:Eu,disabled:ci,prefixCls:ur,visible:as,popupElement:Kl,containerWidth:zd,animation:ko,transitionName:Aa,dropdownStyle:Tr,dropdownClassName:Fr,direction:Ur,dropdownMatchSelectWidth:Ya,dropdownRender:Pa,dropdownAlign:$a,placement:ro,getPopupContainer:io,empty:ai,getTriggerDOMNode:function(){return gc.current},onPopupVisibleChange:Vn,onPopupMouseEnter:Vd},Gl?F.cloneElement(Gl,{ref:qf}):F.createElement(wn,Object(be.a)({},Vt,{domRef:gc,prefixCls:ur,inputElement:Qf,ref:_l,id:hr,showSearch:is,mode:cr,activeDescendantId:pa,tagRender:Ir,values:br,open:bo,onToggleOpen:gs,activeValue:ia,searchValue:Hl,onSearch:Di,onSearchSubmit:Zr,onRemove:au,tokenWithEnter:qr}))),_f;return Gl?_f=Ru:_f=F.createElement("div",Object(be.a)({className:Du},Ta,{ref:vc,onMouseDown:Pu,onKeyDown:Vs,onKeyUp:tl,onFocus:Ku,onBlur:Bd}),Wi&&!bo&&F.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(br.map(function(ri){var ca=ri.label,Ki=ri.value;return["number","string"].includes(Object(Pe.a)(ca))?ca:Ki}).join(", "))),Ru,Hd,Wl),F.createElement(st.Provider,{value:oo},_f)}),Oe=J,nt=D("YrtM"),ut=D("+nKL");function Jt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var pn=F.createContext(null),hn=pn,Ln=["disabled","title","children","style","className"],Se=function(Lt,Nn){var bn=Xe(),hr=bn.prefixCls,ur=bn.id,Hr=bn.open,Xr=bn.multiple,Ir=bn.searchValue,Ur=bn.toggleOpen,Nr=bn.notFoundContent,br=bn.onPopupScroll,Pr=F.useContext(hn),ai=Pr.flattenOptions,Gi=Pr.onActiveValue,ra=Pr.defaultActiveFirstOption,Ar=Pr.onSelect,cr=Pr.menuItemSelectedIcon,ci=Pr.rawValues,ua=Pr.fieldNames,Wa=Pr.virtual,Ai=Pr.listHeight,Ii=Pr.listItemHeight,ma="".concat(hr,"-item"),ya=Object(nt.a)(function(){return ai},[Hr,ai],function(Aa,Tr){return Tr[0]&&Aa[1]!==Tr[1]}),ia=F.useRef(null),ba=function(Tr){Tr.preventDefault()},pa=function(Tr){ia.current&&ia.current.scrollTo({index:Tr})},aa=function(Tr){for(var Fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ya=ya.length,Pa=0;Pa<Ya;Pa+=1){var $a=(Tr+Pa*Fr+Ya)%Ya,ro=ya[$a],io=ro.group,zs=ro.data;if(!io&&!zs.disabled)return $a}return-1},si=F.useState(function(){return aa(0)}),Or=Object(tt.a)(si,2),Lr=Or[0],pi=Or[1],Ui=function(Tr){var Fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;pi(Tr);var Ya={source:Fr?"keyboard":"mouse"},Pa=ya[Tr];if(!Pa){Gi(null,-1,Ya);return}Gi(Pa.data.value,Tr,Ya)};Object(F.useEffect)(function(){Ui(ra!==!1?aa(0):-1)},[ya.length,Ir]),Object(F.useEffect)(function(){var Aa=setTimeout(function(){if(!Xr&&Hr&&ci.size===1){var Fr=Array.from(ci)[0],Ya=ya.findIndex(function(Pa){var $a=Pa.data;return $a.value===Fr});Ya!==-1&&(Ui(Ya),pa(Ya))}});if(Hr){var Tr;(Tr=ia.current)===null||Tr===void 0||Tr.scrollTo(void 0)}return function(){return clearTimeout(Aa)}},[Hr,Ir]);var Ca=function(Tr){Tr!==void 0&&Ar(Tr,{selected:!ci.has(Tr)}),Xr||Ur(!1)};if(F.useImperativeHandle(Nn,function(){return{onKeyDown:function(Tr){var Fr=Tr.which,Ya=Tr.ctrlKey;switch(Fr){case at.a.N:case at.a.P:case at.a.UP:case at.a.DOWN:{var Pa=0;if(Fr===at.a.UP?Pa=-1:Fr===at.a.DOWN?Pa=1:Jt()&&Ya&&(Fr===at.a.N?Pa=1:Fr===at.a.P&&(Pa=-1)),Pa!==0){var $a=aa(Lr+Pa,Pa);pa($a),Ui($a,!0)}break}case at.a.ENTER:{var ro=ya[Lr];ro&&!ro.data.disabled?Ca(ro.data.value):Ca(void 0),Hr&&Tr.preventDefault();break}case at.a.ESC:Ur(!1),Hr&&Tr.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Tr){pa(Tr)}}}),ya.length===0)return F.createElement("div",{role:"listbox",id:"".concat(ur,"_list"),className:"".concat(ma,"-empty"),onMouseDown:ba},Nr);var Ka=Object.keys(ua).map(function(Aa){return ua[Aa]}),mo=function(Tr){return Tr.label},ko=function(Tr){var Fr=ya[Tr];if(!Fr)return null;var Ya=Fr.data||{},Pa=Ya.value,$a=Fr.group,ro=Object(mt.a)(Ya,!0),io=mo(Fr);return Fr?F.createElement("div",Object(be.a)({"aria-label":typeof io=="string"&&!$a?io:null},ro,{key:Tr,role:$a?"presentation":"option",id:"".concat(ur,"_list_").concat(Tr),"aria-selected":ci.has(Pa)}),Pa):null};return F.createElement(F.Fragment,null,F.createElement("div",{role:"listbox",id:"".concat(ur,"_list"),style:{height:0,width:0,overflow:"hidden"}},ko(Lr-1),ko(Lr),ko(Lr+1)),F.createElement(ut.a,{itemKey:"key",ref:ia,data:ya,height:Ai,itemHeight:Ii,fullHeight:!1,onMouseDown:ba,onScroll:br,virtual:Wa},function(Aa,Tr){var Fr,Ya=Aa.group,Pa=Aa.groupOption,$a=Aa.data,ro=Aa.label,io=Aa.value,zs=$a.key;if(Ya)return F.createElement("div",{className:X()(ma,"".concat(ma,"-group"))},ro!==void 0?ro:zs);var ns=$a.disabled,To=$a.title,za=$a.children,Uo=$a.style,As=$a.className,qs=Object(Z.a)($a,Ln),rs=Object(re.a)(qs,Ka),yo=ci.has(io),is="".concat(ma,"-option"),Ta=X()(ma,is,As,(Fr={},Object(Y.a)(Fr,"".concat(is,"-grouped"),Pa),Object(Y.a)(Fr,"".concat(is,"-active"),Lr===Tr&&!ns),Object(Y.a)(Fr,"".concat(is,"-disabled"),ns),Object(Y.a)(Fr,"".concat(is,"-selected"),yo),Fr)),nu=mo(Aa),wf=!cr||typeof cr=="function"||yo,Ml=nu||io,ul=typeof Ml=="string"||typeof Ml=="number"?Ml.toString():void 0;return To!==void 0&&(ul=To),F.createElement("div",Object(be.a)({},rs,{"aria-selected":yo,className:Ta,title:ul,onMouseMove:function(){Lr===Tr||ns||Ui(Tr)},onClick:function(){ns||Ca(io)},style:Uo}),F.createElement("div",{className:"".concat(is,"-content")},Ml),F.isValidElement(cr)||yo,wf&&F.createElement(un,{className:"".concat(ma,"-option-state"),customizeIcon:cr,customizeIconProps:{isSelected:yo}},yo?"\u2713":null))}))},Ee=F.forwardRef(Se);Ee.displayName="OptionList";var Ue=Ee,Ie=function(){return null};Ie.isSelectOption=!0;var Re=Ie,Ke=function(){return null};Ke.isSelectOptGroup=!0;var We=Ke,ht=D("Zm9Q"),ot=["children","value"],oe=["children"];function ue(Vt){var Lt=Vt.key,Nn=Vt.props,bn=Nn.children,hr=Nn.value,ur=Object(Z.a)(Nn,ot);return Object(de.a)({key:Lt,value:hr!==void 0?hr:Lt,children:bn},ur)}function $e(Vt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Object(ht.a)(Vt).map(function(Nn,bn){if(!F.isValidElement(Nn)||!Nn.type)return null;var hr=Nn.type.isSelectOptGroup,ur=Nn.key,Hr=Nn.props,Xr=Hr.children,Ir=Object(Z.a)(Hr,oe);return Lt||!hr?ue(Nn):Object(de.a)(Object(de.a)({key:"__RC_SELECT_GRP__".concat(ur===null?bn:ur,"__"),label:ur},Ir),{},{options:$e(Xr)})}).filter(function(Nn){return Nn})}function k(Vt,Lt,Nn){return F.useMemo(function(){var bn=Vt,hr=!Vt;hr&&(bn=$e(Lt));var ur=new Map,Hr=new Map;function Xr(Ir){for(var Ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Nr=0;Nr<Ir.length;Nr+=1){var br=Ir[Nr];!br[Nn.options]||Ur?(ur.set(br[Nn.value],br),Hr.set(br[Nn.label],br)):Xr(br[Nn.options],!0)}}return Xr(bn),{options:bn,valueOptions:ur,labelOptions:Hr}},[Vt,Lt,Nn])}var Ce=D("MNnm"),ge=0,we=Object(Ce.a)();function ct(){var Vt;return we?(Vt=ge,ge+=1):Vt="TEST_OR_SSR",Vt}function Rt(Vt){var Lt=F.useState(),Nn=Object(tt.a)(Lt,2),bn=Nn[0],hr=Nn[1];return F.useEffect(function(){hr("rc_select_".concat(ct()))},[]),Vt||bn}function Wt(Vt){var Lt=F.useRef();Lt.current=Vt;var Nn=F.useCallback(function(){return Lt.current.apply(Lt,arguments)},[]);return Nn}function kt(Vt){var Lt=Vt.mode,Nn=Vt.options,bn=Vt.children,hr=Vt.backfill,ur=Vt.allowClear,Hr=Vt.placeholder,Xr=Vt.getInputElement,Ir=Vt.showSearch,Ur=Vt.onSearch,Nr=Vt.defaultOpen,br=Vt.autoFocus,Pr=Vt.labelInValue,ai=Vt.value,Gi=Vt.inputValue,ra=Vt.optionLabelProp,Ar=B(Lt),cr=Ir!==void 0?Ir:Ar||Lt==="combobox",ci=Nn||$e(bn);if(Object(ve.a)(Lt!=="tags"||ci.every(function(Ii){return!Ii.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),Lt==="tags"||Lt==="combobox"){var ua=ci.some(function(Ii){return Ii.options?Ii.options.some(function(ma){return typeof("value"in ma?ma.value:ma.key)=="number"}):typeof("value"in Ii?Ii.value:Ii.key)=="number"});Object(ve.a)(!ua,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(Object(ve.a)(Lt!=="combobox"||!ra,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Object(ve.a)(Lt==="combobox"||!hr,"`backfill` only works with `combobox` mode."),Object(ve.a)(Lt==="combobox"||!Xr,"`getInputElement` only work with `combobox` mode."),Object(ve.b)(Lt!=="combobox"||!Xr||!ur||!Hr,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Ur&&!cr&&Lt!=="combobox"&&Lt!=="tags"&&Object(ve.a)(!1,"`onSearch` should work with `showSearch` instead of use alone."),Object(ve.b)(!Nr||br,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),ai!=null){var Wa=en(ai);Object(ve.a)(!Pr||Wa.every(function(Ii){return Object(Pe.a)(Ii)==="object"&&("key"in Ii||"value"in Ii)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),Object(ve.a)(!Ar||Array.isArray(ai),"`value` should be array when `mode` is `multiple` or `tags`")}if(bn){var Ai=null;Object(ht.a)(bn).some(function(Ii){if(!F.isValidElement(Ii)||!Ii.type)return!1;var ma=Ii.type;if(ma.isSelectOption)return!1;if(ma.isSelectOptGroup){var ya=Object(ht.a)(Ii.props.children).every(function(ia){return!F.isValidElement(ia)||!Ii.type||ia.type.isSelectOption?!0:(Ai=ia.type,!1)});return!ya}return Ai=ma,!0}),Ai&&Object(ve.a)(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(Ai.displayName||Ai.name||Ai,"`.")),Object(ve.a)(Gi===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}var nn=kt;function cn(Vt,Lt){return en(Vt).join("").toUpperCase().includes(Lt)}var gn=function(Vt,Lt,Nn,bn,hr){return F.useMemo(function(){if(!Nn||bn===!1)return Vt;var ur=Lt.options,Hr=Lt.label,Xr=Lt.value,Ir=[],Ur=typeof bn=="function",Nr=Nn.toUpperCase(),br=Ur?bn:function(ai,Gi){return hr?cn(Gi[hr],Nr):Gi[ur]?cn(Gi[Hr!=="children"?Hr:"label"],Nr):cn(Gi[Xr],Nr)},Pr=Ur?function(ai){return Mt(ai)}:function(ai){return ai};return Vt.forEach(function(ai){if(ai[ur]){var Gi=br(Nn,Pr(ai));if(Gi)Ir.push(ai);else{var ra=ai[ur].filter(function(Ar){return br(Nn,Pr(Ar))});ra.length&&Ir.push(Object(de.a)(Object(de.a)({},ai),{},Object(Y.a)({},ur,ra)))}return}br(Nn,Pr(ai))&&Ir.push(ai)}),Ir},[Vt,bn,hr,Nn,Lt])},tn=function(Vt,Lt){var Nn=F.useRef({values:new Map,options:new Map}),bn=F.useMemo(function(){var ur=Nn.current,Hr=ur.values,Xr=ur.options,Ir=Vt.map(function(br){if(br.label===void 0){var Pr;return Object(de.a)(Object(de.a)({},br),{},{label:(Pr=Hr.get(br.value))===null||Pr===void 0?void 0:Pr.label})}return br}),Ur=new Map,Nr=new Map;return Ir.forEach(function(br){Ur.set(br.value,br),Nr.set(br.value,Lt.get(br.value)||Xr.get(br.value))}),Nn.current.values=Ur,Nn.current.options=Nr,Ir},[Vt,Lt]),hr=F.useCallback(function(ur){return Lt.get(ur)||Nn.current.options.get(ur)},[Lt]);return[bn,hr]},fn=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],qe=["inputValue"];function Qe(Vt){return!Vt||Object(Pe.a)(Vt)!=="object"}var vt=F.forwardRef(function(Vt,Lt){var Nn=Vt.id,bn=Vt.mode,hr=Vt.prefixCls,ur=hr===void 0?"rc-select":hr,Hr=Vt.backfill,Xr=Vt.fieldNames,Ir=Vt.inputValue,Ur=Vt.searchValue,Nr=Vt.onSearch,br=Vt.autoClearSearchValue,Pr=br===void 0?!0:br,ai=Vt.onSelect,Gi=Vt.onDeselect,ra=Vt.dropdownMatchSelectWidth,Ar=ra===void 0?!0:ra,cr=Vt.filterOption,ci=Vt.filterSort,ua=Vt.optionFilterProp,Wa=Vt.optionLabelProp,Ai=Vt.options,Ii=Vt.children,ma=Vt.defaultActiveFirstOption,ya=Vt.menuItemSelectedIcon,ia=Vt.virtual,ba=Vt.listHeight,pa=ba===void 0?200:ba,aa=Vt.listItemHeight,si=aa===void 0?20:aa,Or=Vt.value,Lr=Vt.defaultValue,pi=Vt.labelInValue,Ui=Vt.onChange,Ca=Object(Z.a)(Vt,fn),Ka=Rt(Nn),mo=B(bn),ko=!!(!Ai&&Ii),Aa=F.useMemo(function(){return cr===void 0&&bn==="combobox"?!1:cr},[cr,bn]),Tr=F.useMemo(function(){return Ve(Xr,ko)},[JSON.stringify(Xr),ko]),Fr=Object(dt.a)("",{value:Ur!==void 0?Ur:Ir,postState:function(Di){return Di||""}}),Ya=Object(tt.a)(Fr,2),Pa=Ya[0],$a=Ya[1],ro=k(Ai,Ii,Tr),io=ro.valueOptions,zs=ro.labelOptions,ns=ro.options,To=F.useCallback(function(qr){var Di=en(qr);return Di.map(function(Zr){var gi,fo,xo,ao;if(Qe(Zr))gi=Zr;else{var Vs;xo=Zr.key,fo=Zr.label,gi=(Vs=Zr.value)!==null&&Vs!==void 0?Vs:xo}var tl=io.get(gi);if(tl){var au;if(fo===void 0&&(fo=tl==null?void 0:tl[Wa||Tr.label]),xo===void 0&&(xo=(au=tl==null?void 0:tl.key)!==null&&au!==void 0?au:gi),ao=tl==null?void 0:tl.disabled,!1)var Ul}return{label:fo,value:gi,key:xo,disabled:ao}})},[Tr,Wa,io]),za=Object(dt.a)(Lr,{value:Or}),Uo=Object(tt.a)(za,2),As=Uo[0],qs=Uo[1],rs=F.useMemo(function(){var qr,Di=To(As);return bn==="combobox"&&!((qr=Di[0])===null||qr===void 0?void 0:qr.value)?[]:Di},[As,To,bn]),yo=tn(rs,io),is=Object(tt.a)(yo,2),Ta=is[0],nu=is[1],wf=F.useMemo(function(){if(!bn&&Ta.length===1){var qr=Ta[0];if(qr.value===null&&(qr.label===null||qr.label===void 0))return[]}return Ta.map(function(Di){var Zr;return Object(de.a)(Object(de.a)({},Di),{},{label:(Zr=Di.label)!==null&&Zr!==void 0?Zr:Di.value})})},[bn,Ta]),Ml=F.useMemo(function(){return new Set(Ta.map(function(qr){return qr.value}))},[Ta]);F.useEffect(function(){if(bn==="combobox"){var qr,Di=(qr=Ta[0])===null||qr===void 0?void 0:qr.value;Di!=null&&$a(String(Di))}},[Ta]);var ul=Wt(function(qr,Di){var Zr,gi=Di!=null?Di:qr;return Zr={},Object(Y.a)(Zr,Tr.value,qr),Object(Y.a)(Zr,Tr.label,gi),Zr}),vc=F.useMemo(function(){if(bn!=="tags")return ns;var qr=Object(je.a)(ns),Di=function(gi){return io.has(gi)};return Object(je.a)(Ta).sort(function(Zr,gi){return Zr.value<gi.value?-1:1}).forEach(function(Zr){var gi=Zr.value;Di(gi)||qr.push(ul(gi,Zr.label))}),qr},[ul,ns,io,Ta,bn]),gc=gn(vc,Tr,Pa,Aa,ua),Eu=F.useMemo(function(){return bn!=="tags"||!Pa||gc.some(function(qr){return qr[ua||"value"]===Pa})?gc:[ul(Pa)].concat(Object(je.a)(gc))},[ul,ua,bn,gc,Pa]),_l=F.useMemo(function(){return ci?Object(je.a)(Eu).sort(function(qr,Di){return ci(qr,Di)}):Eu},[Eu,ci]),Au=F.useMemo(function(){return yt(_l,{fieldNames:Tr,childrenAsData:ko})},[_l,Tr,ko]),el=function(Di){var Zr=To(Di);if(qs(Zr),Ui&&(Zr.length!==Ta.length||Zr.some(function(xo,ao){var Vs;return((Vs=Ta[ao])===null||Vs===void 0?void 0:Vs.value)!==(xo==null?void 0:xo.value)}))){var gi=pi?Zr:Zr.map(function(xo){return xo.value}),fo=Zr.map(function(xo){return Mt(nu(xo.value))});Ui(mo?gi:gi[0],mo?fo:fo[0])}},oa=F.useState(null),Wi=Object(tt.a)(oa,2),Cl=Wi[0],cl=Wi[1],Hl=F.useState(0),Qf=Object(tt.a)(Hl,2),Gl=Qf[0],qf=Qf[1],ed=ma!==void 0?ma:bn!=="combobox",td=F.useCallback(function(qr,Di){var Zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},gi=Zr.source,fo=gi===void 0?"keyboard":gi;qf(Di),Hr&&bn==="combobox"&&qr!==null&&fo==="keyboard"&&cl(String(qr))},[Hr,bn]),ru=function(Di,Zr){var gi=function(){var ou,Pu=nu(Di);return[pi?{label:Pu==null?void 0:Pu[Tr.label],value:Di,key:(ou=Pu.key)!==null&&ou!==void 0?ou:Di}:Di,Mt(Pu)]};if(Zr&&ai){var fo=gi(),xo=Object(tt.a)(fo,2),ao=xo[0],Vs=xo[1];ai(ao,Vs)}else if(!Zr&&Gi){var tl=gi(),au=Object(tt.a)(tl,2),Ul=au[0],Ku=au[1];Gi(Ul,Ku)}},Tl=Wt(function(qr,Di){var Zr,gi=mo?Di.selected:!0;gi?Zr=mo?[].concat(Object(je.a)(Ta),[qr]):[qr]:Zr=Ta.filter(function(fo){return fo.value!==qr}),el(Zr),ru(qr,gi),bn==="combobox"?cl(""):(!B||Pr)&&($a(""),cl(""))}),bo=function(Di,Zr){el(Di),(Zr.type==="remove"||Zr.type==="clear")&&Zr.values.forEach(function(gi){ru(gi.value,!1)})},iu=function(Di,Zr){if($a(Di),cl(null),Zr.source==="submit"){var gi=(Di||"").trim();if(gi){var fo=Array.from(new Set([].concat(Object(je.a)(Ml),[gi])));el(fo),ru(gi,!0),$a("")}return}Zr.source!=="blur"&&(bn==="combobox"&&el(Di),Nr==null||Nr(Di))},as=function(Di){var Zr=Di;bn!=="tags"&&(Zr=Di.map(function(fo){var xo=zs.get(fo);return xo==null?void 0:xo.value}).filter(function(fo){return fo!==void 0}));var gi=Array.from(new Set([].concat(Object(je.a)(Ml),Object(je.a)(Zr))));el(gi),gi.forEach(function(fo){ru(fo,!0)})},gs=F.useMemo(function(){var qr=ia!==!1&&Ar!==!1;return Object(de.a)(Object(de.a)({},ro),{},{flattenOptions:Au,onActiveValue:td,defaultActiveFirstOption:ed,onSelect:Tl,menuItemSelectedIcon:ya,rawValues:Ml,fieldNames:Tr,virtual:qr,listHeight:pa,listItemHeight:si,childrenAsData:ko})},[ro,Au,td,ed,Tl,ya,Ml,Tr,ia,Ar,pa,si,ko]);return F.createElement(hn.Provider,{value:gs},F.createElement(Oe,Object(be.a)({},Ca,{id:Ka,prefixCls:ur,ref:Lt,omitDomProps:qe,mode:bn,displayValues:wf,onDisplayValuesChange:bo,searchValue:Pa,onSearch:iu,onSearchSplit:as,dropdownMatchSelectWidth:Ar,OptionList:Ue,emptyOptions:!Au.length,activeValue:Cl,activeDescendantId:"".concat(Ka,"_list_").concat(Gl)})))}),Je=vt;Je.Option=Re,Je.OptGroup=We;var me=Je,Ye=me,Tt=D("H84U"),Tn=D("8Skl"),tr=D("ye1Q"),mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ni=mr,$i=D("6VBw"),Li=function(Lt,Nn){return F.createElement($i.a,Object(de.a)(Object(de.a)({},Lt),{},{ref:Nn,icon:ni}))};Li.displayName="CheckOutlined";var eo=F.forwardRef(Li),Ho=D("4i/N"),No=D("jN4g"),Ei=D("l+S1");function Br(Vt){var Lt=Vt.suffixIcon,Nn=Vt.clearIcon,bn=Vt.menuItemSelectedIcon,hr=Vt.removeIcon,ur=Vt.loading,Hr=Vt.multiple,Xr=Vt.prefixCls,Ir=Nn;Nn||(Ir=F.createElement(No.a,null));var Ur=null;if(Lt!==void 0)Ur=Lt;else if(ur)Ur=F.createElement(tr.a,{spin:!0});else{var Nr="".concat(Xr,"-suffix");Ur=function(Gi){var ra=Gi.open,Ar=Gi.showSearch;return ra&&Ar?F.createElement(Ei.a,{className:Nr}):F.createElement(Tn.a,{className:Nr})}}var br=null;bn!==void 0?br=bn:Hr?br=F.createElement(eo,null):br=null;var Pr=null;return hr!==void 0?Pr=hr:Pr=F.createElement(Ho.a,null),{clearIcon:Ir,suffixIcon:Ur,itemIcon:br,removeIcon:Pr}}var Ma=D("3Nzz"),to=D("EXcs"),Go=function(Vt,Lt){var Nn={};for(var bn in Vt)Object.prototype.hasOwnProperty.call(Vt,bn)&&Lt.indexOf(bn)<0&&(Nn[bn]=Vt[bn]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var hr=0,bn=Object.getOwnPropertySymbols(Vt);hr<bn.length;hr++)Lt.indexOf(bn[hr])<0&&Object.prototype.propertyIsEnumerable.call(Vt,bn[hr])&&(Nn[bn[hr]]=Vt[bn[hr]]);return Nn},es="SECRET_COMBOBOX_MODE_DO_NOT_USE",Es=function(Lt,Nn){var bn,hr=Lt.prefixCls,ur=Lt.bordered,Hr=ur===void 0?!0:ur,Xr=Lt.className,Ir=Lt.getPopupContainer,Ur=Lt.dropdownClassName,Nr=Lt.listHeight,br=Nr===void 0?256:Nr,Pr=Lt.listItemHeight,ai=Pr===void 0?24:Pr,Gi=Lt.size,ra=Lt.notFoundContent,Ar=Go(Lt,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),cr=F.useContext(Tt.b),ci=cr.getPopupContainer,ua=cr.getPrefixCls,Wa=cr.renderEmpty,Ai=cr.direction,Ii=cr.virtual,ma=cr.dropdownMatchSelectWidth,ya=F.useContext(Ma.b),ia=ua("select",hr),ba=ua(),pa=F.useMemo(function(){var Tr=Ar.mode;if(Tr!=="combobox")return Tr===es?"combobox":Tr},[Ar.mode]),aa=pa==="multiple"||pa==="tags",si;ra!==void 0?si=ra:pa==="combobox"?si=null:si=Wa("Select");var Or=Br(Object(be.a)(Object(be.a)({},Ar),{multiple:aa,prefixCls:ia})),Lr=Or.suffixIcon,pi=Or.itemIcon,Ui=Or.removeIcon,Ca=Or.clearIcon,Ka=Object(re.a)(Ar,["suffixIcon","itemIcon"]),mo=X()(Ur,Object(Y.a)({},"".concat(ia,"-dropdown-").concat(Ai),Ai==="rtl")),ko=Gi||ya,Aa=X()((bn={},Object(Y.a)(bn,"".concat(ia,"-lg"),ko==="large"),Object(Y.a)(bn,"".concat(ia,"-sm"),ko==="small"),Object(Y.a)(bn,"".concat(ia,"-rtl"),Ai==="rtl"),Object(Y.a)(bn,"".concat(ia,"-borderless"),!Hr),bn),Xr);return F.createElement(Ye,Object(be.a)({ref:Nn,virtual:Ii,dropdownMatchSelectWidth:ma},Ka,{transitionName:Object(to.b)(ba,"slide-up",Ar.transitionName),listHeight:br,listItemHeight:ai,mode:pa,prefixCls:ia,direction:Ai,inputIcon:Lr,menuItemSelectedIcon:pi,removeIcon:Ui,clearIcon:Ca,notFoundContent:si,className:Aa,getPopupContainer:Ir||ci,dropdownClassName:mo}))},Co=F.forwardRef(Es);Co.SECRET_COMBOBOX_MODE_DO_NOT_USE=es,Co.Option=Re,Co.OptGroup=We;var Lo=Ne.a=Co},"2qtc":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("1wcP"),re=D.n(F),P=D("+L6B")},"3I+P":function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("q1tI"),re=D.n(F),P=D("VTBJ"),X=D("1OyB"),je=D("vuIU"),de=D("JX7q"),tt=D("Ji7U"),Z=D("LK+K"),Pe=D("U8pU"),ve=D("Ff2n"),dt={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},at=dt,Pt=D("sEfC"),Ft=D.n(Pt),bt=D("TSYQ"),Ct=D.n(bt);function he(ot,oe,ue){return Math.max(oe,Math.min(ot,ue))}var Ve=function(oe){var ue=["onTouchStart","onTouchMove","onWheel"];ue.includes(oe._reactName)||oe.preventDefault()},yt=function(oe){for(var ue=[],$e=Ut(oe),k=It(oe),Ce=$e;Ce<k;Ce++)oe.lazyLoadedList.indexOf(Ce)<0&&ue.push(Ce);return ue},Mt=function(oe){for(var ue=[],$e=Ut(oe),k=It(oe),Ce=$e;Ce<k;Ce++)ue.push(Ce);return ue},Ut=function(oe){return oe.currentSlide-Yt(oe)},It=function(oe){return oe.currentSlide+Gt(oe)},Yt=function(oe){return oe.centerMode?Math.floor(oe.slidesToShow/2)+(parseInt(oe.centerPadding)>0?1:0):0},Gt=function(oe){return oe.centerMode?Math.floor((oe.slidesToShow-1)/2)+1+(parseInt(oe.centerPadding)>0?1:0):oe.slidesToShow},an=function(oe){return oe&&oe.offsetWidth||0},et=function(oe){return oe&&oe.offsetHeight||0},xt=function(oe){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$e,k,Ce,ge;return $e=oe.startX-oe.curX,k=oe.startY-oe.curY,Ce=Math.atan2(k,$e),ge=Math.round(Ce*180/Math.PI),ge<0&&(ge=360-Math.abs(ge)),ge<=45&&ge>=0||ge<=360&&ge>=315?"left":ge>=135&&ge<=225?"right":ue===!0?ge>=35&&ge<=135?"up":"down":"vertical"},mt=function(oe){var ue=!0;return oe.infinite||(oe.centerMode&&oe.currentSlide>=oe.slideCount-1||oe.slideCount<=oe.slidesToShow||oe.currentSlide>=oe.slideCount-oe.slidesToShow)&&(ue=!1),ue},Kt=function(oe,ue){var $e={};return ue.forEach(function(k){return $e[k]=oe[k]}),$e},$t=function(oe){var ue=re.a.Children.count(oe.children),$e=oe.listRef,k=Math.ceil(an($e)),Ce=oe.trackRef&&oe.trackRef.node,ge=Math.ceil(an(Ce)),we;if(oe.vertical)we=k;else{var ct=oe.centerMode&&parseInt(oe.centerPadding)*2;typeof oe.centerPadding=="string"&&oe.centerPadding.slice(-1)==="%"&&(ct*=k/100),we=Math.ceil((k-ct)/oe.slidesToShow)}var Rt=$e&&et($e.querySelector('[data-index="0"]')),Wt=Rt*oe.slidesToShow,kt=oe.currentSlide===void 0?oe.initialSlide:oe.currentSlide;oe.rtl&&oe.currentSlide===void 0&&(kt=ue-1-oe.initialSlide);var nn=oe.lazyLoadedList||[],cn=yt(Object(P.a)(Object(P.a)({},oe),{},{currentSlide:kt,lazyLoadedList:nn}));nn=nn.concat(cn);var gn={slideCount:ue,slideWidth:we,listWidth:k,trackWidth:ge,currentSlide:kt,slideHeight:Rt,listHeight:Wt,lazyLoadedList:nn};return oe.autoplaying===null&&oe.autoplay&&(gn.autoplaying="playing"),gn},un=function(oe){var ue=oe.waitForAnimate,$e=oe.animating,k=oe.fade,Ce=oe.infinite,ge=oe.index,we=oe.slideCount,ct=oe.lazyLoad,Rt=oe.currentSlide,Wt=oe.centerMode,kt=oe.slidesToScroll,nn=oe.slidesToShow,cn=oe.useCSS,gn=oe.lazyLoadedList;if(ue&&$e)return{};var tn=ge,fn,qe,Qe,vt={},Je={},me=Ce?ge:he(ge,0,we-1);if(k){if(!Ce&&(ge<0||ge>=we))return{};ge<0?tn=ge+we:ge>=we&&(tn=ge-we),ct&&gn.indexOf(tn)<0&&(gn=gn.concat(tn)),vt={animating:!0,currentSlide:tn,lazyLoadedList:gn,targetSlide:tn},Je={animating:!1,targetSlide:tn}}else fn=tn,tn<0?(fn=tn+we,Ce?we%kt!=0&&(fn=we-we%kt):fn=0):!mt(oe)&&tn>Rt?tn=fn=Rt:Wt&&tn>=we?(tn=Ce?we:we-1,fn=Ce?0:we-1):tn>=we&&(fn=tn-we,Ce?we%kt!=0&&(fn=0):fn=we-nn),!Ce&&tn+nn>=we&&(fn=we-nn),qe=Sr(Object(P.a)(Object(P.a)({},oe),{},{slideIndex:tn})),Qe=Sr(Object(P.a)(Object(P.a)({},oe),{},{slideIndex:fn})),Ce||(qe===Qe&&(tn=fn),qe=Qe),ct&&(gn=gn.concat(yt(Object(P.a)(Object(P.a)({},oe),{},{currentSlide:tn})))),cn?(vt={animating:!0,currentSlide:fn,trackStyle:or(Object(P.a)(Object(P.a)({},oe),{},{left:qe})),lazyLoadedList:gn,targetSlide:me},Je={animating:!1,currentSlide:fn,trackStyle:zn(Object(P.a)(Object(P.a)({},oe),{},{left:Qe})),swipeLeft:null,targetSlide:me}):vt={currentSlide:fn,trackStyle:zn(Object(P.a)(Object(P.a)({},oe),{},{left:Qe})),lazyLoadedList:gn,targetSlide:me};return{state:vt,nextState:Je}},Sn=function(oe,ue){var $e,k,Ce,ge,we,ct=oe.slidesToScroll,Rt=oe.slidesToShow,Wt=oe.slideCount,kt=oe.currentSlide,nn=oe.targetSlide,cn=oe.lazyLoad,gn=oe.infinite;if(ge=Wt%ct!=0,$e=ge?0:(Wt-kt)%ct,ue.message==="previous")Ce=$e===0?ct:Rt-$e,we=kt-Ce,cn&&!gn&&(k=kt-Ce,we=k===-1?Wt-1:k),gn||(we=nn-ct);else if(ue.message==="next")Ce=$e===0?ct:$e,we=kt+Ce,cn&&!gn&&(we=(kt+ct)%Wt+$e),gn||(we=nn+ct);else if(ue.message==="dots")we=ue.index*ue.slidesToScroll;else if(ue.message==="children"){if(we=ue.index,gn){var tn=Mi(Object(P.a)(Object(P.a)({},oe),{},{targetSlide:we}));we>ue.currentSlide&&tn==="left"?we=we-Wt:we<ue.currentSlide&&tn==="right"&&(we=we+Wt)}}else ue.message==="index"&&(we=Number(ue.index));return we},on=function(oe,ue,$e){return oe.target.tagName.match("TEXTAREA|INPUT|SELECT")||!ue?"":oe.keyCode===37?$e?"next":"previous":oe.keyCode===39?$e?"previous":"next":""},zt=function(oe,ue,$e){return oe.target.tagName==="IMG"&&Ve(oe),!ue||!$e&&oe.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:oe.touches?oe.touches[0].pageX:oe.clientX,startY:oe.touches?oe.touches[0].pageY:oe.clientY,curX:oe.touches?oe.touches[0].pageX:oe.clientX,curY:oe.touches?oe.touches[0].pageY:oe.clientY}}},en=function(oe,ue){var $e=ue.scrolling,k=ue.animating,Ce=ue.vertical,ge=ue.swipeToSlide,we=ue.verticalSwiping,ct=ue.rtl,Rt=ue.currentSlide,Wt=ue.edgeFriction,kt=ue.edgeDragged,nn=ue.onEdge,cn=ue.swiped,gn=ue.swiping,tn=ue.slideCount,fn=ue.slidesToScroll,qe=ue.infinite,Qe=ue.touchObject,vt=ue.swipeEvent,Je=ue.listHeight,me=ue.listWidth;if(!$e){if(k)return Ve(oe);Ce&&ge&&we&&Ve(oe);var Ye,Tt={},Tn=Sr(ue);Qe.curX=oe.touches?oe.touches[0].pageX:oe.clientX,Qe.curY=oe.touches?oe.touches[0].pageY:oe.clientY,Qe.swipeLength=Math.round(Math.sqrt(Math.pow(Qe.curX-Qe.startX,2)));var tr=Math.round(Math.sqrt(Math.pow(Qe.curY-Qe.startY,2)));if(!we&&!gn&&tr>10)return{scrolling:!0};we&&(Qe.swipeLength=tr);var mr=(ct?-1:1)*(Qe.curX>Qe.startX?1:-1);we&&(mr=Qe.curY>Qe.startY?1:-1);var ni=Math.ceil(tn/fn),$i=xt(ue.touchObject,we),Li=Qe.swipeLength;return qe||(Rt===0&&($i==="right"||$i==="down")||Rt+1>=ni&&($i==="left"||$i==="up")||!mt(ue)&&($i==="left"||$i==="up"))&&(Li=Qe.swipeLength*Wt,kt===!1&&nn&&(nn($i),Tt.edgeDragged=!0)),!cn&&vt&&(vt($i),Tt.swiped=!0),Ce?Ye=Tn+Li*(Je/me)*mr:ct?Ye=Tn-Li*mr:Ye=Tn+Li*mr,we&&(Ye=Tn+Li*mr),Tt=Object(P.a)(Object(P.a)({},Tt),{},{touchObject:Qe,swipeLeft:Ye,trackStyle:zn(Object(P.a)(Object(P.a)({},ue),{},{left:Ye}))}),Math.abs(Qe.curX-Qe.startX)<Math.abs(Qe.curY-Qe.startY)*.8||Qe.swipeLength>10&&(Tt.swiping=!0,Ve(oe)),Tt}},y=function(oe,ue){var $e=ue.dragging,k=ue.swipe,Ce=ue.touchObject,ge=ue.listWidth,we=ue.touchThreshold,ct=ue.verticalSwiping,Rt=ue.listHeight,Wt=ue.swipeToSlide,kt=ue.scrolling,nn=ue.onSwipe,cn=ue.targetSlide,gn=ue.currentSlide,tn=ue.infinite;if(!$e)return k&&Ve(oe),{};var fn=ct?Rt/we:ge/we,qe=xt(Ce,ct),Qe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(kt||!Ce.swipeLength)return Qe;if(Ce.swipeLength>fn){Ve(oe),nn&&nn(qe);var vt,Je,me=tn?gn:cn;switch(qe){case"left":case"up":Je=me+Fn(ue),vt=Wt?An(ue,Je):Je,Qe.currentDirection=0;break;case"right":case"down":Je=me-Fn(ue),vt=Wt?An(ue,Je):Je,Qe.currentDirection=1;break;default:vt=me}Qe.triggerSlideHandler=vt}else{var Ye=Sr(ue);Qe.trackStyle=or(Object(P.a)(Object(P.a)({},ue),{},{left:Ye}))}return Qe},_n=function(oe){for(var ue=oe.infinite?oe.slideCount*2:oe.slideCount,$e=oe.infinite?oe.slidesToShow*-1:0,k=oe.infinite?oe.slidesToShow*-1:0,Ce=[];$e<ue;)Ce.push($e),$e=k+oe.slidesToScroll,k+=Math.min(oe.slidesToScroll,oe.slidesToShow);return Ce},An=function(oe,ue){var $e=_n(oe),k=0;if(ue>$e[$e.length-1])ue=$e[$e.length-1];else for(var Ce in $e){if(ue<$e[Ce]){ue=k;break}k=$e[Ce]}return ue},Fn=function(oe){var ue=oe.centerMode?oe.slideWidth*Math.floor(oe.slidesToShow/2):0;if(oe.swipeToSlide){var $e,k=oe.listRef,Ce=k.querySelectorAll&&k.querySelectorAll(".slick-slide")||[];if(Array.from(Ce).every(function(ct){if(oe.vertical){if(ct.offsetTop+et(ct)/2>oe.swipeLeft*-1)return $e=ct,!1}else if(ct.offsetLeft-ue+an(ct)/2>oe.swipeLeft*-1)return $e=ct,!1;return!0}),!$e)return 0;var ge=oe.rtl===!0?oe.slideCount-oe.currentSlide:oe.currentSlide,we=Math.abs($e.dataset.index-ge)||1;return we}else return oe.slidesToScroll},Wn=function(oe,ue){return ue.reduce(function($e,k){return $e&&oe.hasOwnProperty(k)},!0)?null:console.error("Keys Missing:",oe)},zn=function(oe){Wn(oe,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var ue,$e,k=oe.slideCount+2*oe.slidesToShow;oe.vertical?$e=k*oe.slideHeight:ue=jr(oe)*oe.slideWidth;var Ce={opacity:1,transition:"",WebkitTransition:""};if(oe.useTransform){var ge=oe.vertical?"translate3d(0px, "+oe.left+"px, 0px)":"translate3d("+oe.left+"px, 0px, 0px)",we=oe.vertical?"translate3d(0px, "+oe.left+"px, 0px)":"translate3d("+oe.left+"px, 0px, 0px)",ct=oe.vertical?"translateY("+oe.left+"px)":"translateX("+oe.left+"px)";Ce=Object(P.a)(Object(P.a)({},Ce),{},{WebkitTransform:ge,transform:we,msTransform:ct})}else oe.vertical?Ce.top=oe.left:Ce.left=oe.left;return oe.fade&&(Ce={opacity:1}),ue&&(Ce.width=ue),$e&&(Ce.height=$e),window&&!window.addEventListener&&window.attachEvent&&(oe.vertical?Ce.marginTop=oe.left+"px":Ce.marginLeft=oe.left+"px"),Ce},or=function(oe){Wn(oe,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var ue=zn(oe);return oe.useTransform?(ue.WebkitTransition="-webkit-transform "+oe.speed+"ms "+oe.cssEase,ue.transition="transform "+oe.speed+"ms "+oe.cssEase):oe.vertical?ue.transition="top "+oe.speed+"ms "+oe.cssEase:ue.transition="left "+oe.speed+"ms "+oe.cssEase,ue},Sr=function(oe){if(oe.unslick)return 0;Wn(oe,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var ue=oe.slideIndex,$e=oe.trackRef,k=oe.infinite,Ce=oe.centerMode,ge=oe.slideCount,we=oe.slidesToShow,ct=oe.slidesToScroll,Rt=oe.slideWidth,Wt=oe.listWidth,kt=oe.variableWidth,nn=oe.slideHeight,cn=oe.fade,gn=oe.vertical,tn=0,fn,qe,Qe=0;if(cn||oe.slideCount===1)return 0;var vt=0;if(k?(vt=-pr(oe),ge%ct!=0&&ue+ct>ge&&(vt=-(ue>ge?we-(ue-ge):ge%ct)),Ce&&(vt+=parseInt(we/2))):(ge%ct!=0&&ue+ct>ge&&(vt=we-ge%ct),Ce&&(vt=parseInt(we/2))),tn=vt*Rt,Qe=vt*nn,gn?fn=ue*nn*-1+Qe:fn=ue*Rt*-1+tn,kt===!0){var Je,me=$e&&$e.node;if(Je=ue+pr(oe),qe=me&&me.childNodes[Je],fn=qe?qe.offsetLeft*-1:0,Ce===!0){Je=k?ue+pr(oe):ue,qe=me&&me.children[Je],fn=0;for(var Ye=0;Ye<Je;Ye++)fn-=me&&me.children[Ye]&&me.children[Ye].offsetWidth;fn-=parseInt(oe.centerPadding),fn+=qe&&(Wt-qe.offsetWidth)/2}}return fn},pr=function(oe){return oe.unslick||!oe.infinite?0:oe.variableWidth?oe.slideCount:oe.slidesToShow+(oe.centerMode?1:0)},Jr=function(oe){return oe.unslick||!oe.infinite?0:oe.slideCount},jr=function(oe){return oe.slideCount===1?1:pr(oe)+oe.slideCount+Jr(oe)},Mi=function(oe){return oe.targetSlide>oe.currentSlide?oe.targetSlide>oe.currentSlide+wn(oe)?"left":"right":oe.targetSlide<oe.currentSlide-De(oe)?"right":"left"},wn=function(oe){var ue=oe.slidesToShow,$e=oe.centerMode,k=oe.rtl,Ce=oe.centerPadding;if($e){var ge=(ue-1)/2+1;return parseInt(Ce)>0&&(ge+=1),k&&ue%2==0&&(ge+=1),ge}return k?0:ue-1},De=function(oe){var ue=oe.slidesToShow,$e=oe.centerMode,k=oe.rtl,Ce=oe.centerPadding;if($e){var ge=(ue-1)/2+1;return parseInt(Ce)>0&&(ge+=1),!k&&ue%2==0&&(ge+=1),ge}return k?ue-1:0},Ae=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},st=function(oe){var ue,$e,k,Ce,ge;oe.rtl?ge=oe.slideCount-1-oe.index:ge=oe.index,k=ge<0||ge>=oe.slideCount,oe.centerMode?(Ce=Math.floor(oe.slidesToShow/2),$e=(ge-oe.currentSlide)%oe.slideCount==0,ge>oe.currentSlide-Ce-1&&ge<=oe.currentSlide+Ce&&(ue=!0)):ue=oe.currentSlide<=ge&&ge<oe.currentSlide+oe.slidesToShow;var we;oe.targetSlide<0?we=oe.targetSlide+oe.slideCount:oe.targetSlide>=oe.slideCount?we=oe.targetSlide-oe.slideCount:we=oe.targetSlide;var ct=ge===we;return{"slick-slide":!0,"slick-active":ue,"slick-center":$e,"slick-cloned":k,"slick-current":ct}},Xe=function(oe){var ue={};return(oe.variableWidth===void 0||oe.variableWidth===!1)&&(ue.width=oe.slideWidth),oe.fade&&(ue.position="relative",oe.vertical?ue.top=-oe.index*parseInt(oe.slideHeight):ue.left=-oe.index*parseInt(oe.slideWidth),ue.opacity=oe.currentSlide===oe.index?1:0,oe.useCSS&&(ue.transition="opacity "+oe.speed+"ms "+oe.cssEase+", visibility "+oe.speed+"ms "+oe.cssEase)),ue},ie=function(oe,ue){return oe.key+"-"+ue},V=function(oe){var ue,$e=[],k=[],Ce=[],ge=re.a.Children.count(oe.children),we=Ut(oe),ct=It(oe);return re.a.Children.forEach(oe.children,function(Rt,Wt){var kt,nn={message:"children",index:Wt,slidesToScroll:oe.slidesToScroll,currentSlide:oe.currentSlide};!oe.lazyLoad||oe.lazyLoad&&oe.lazyLoadedList.indexOf(Wt)>=0?kt=Rt:kt=re.a.createElement("div",null);var cn=Xe(Object(P.a)(Object(P.a)({},oe),{},{index:Wt})),gn=kt.props.className||"",tn=st(Object(P.a)(Object(P.a)({},oe),{},{index:Wt}));if($e.push(re.a.cloneElement(kt,{key:"original"+ie(kt,Wt),"data-index":Wt,className:Ct()(tn,gn),tabIndex:"-1","aria-hidden":!tn["slick-active"],style:Object(P.a)(Object(P.a)({outline:"none"},kt.props.style||{}),cn),onClick:function(Qe){kt.props&&kt.props.onClick&&kt.props.onClick(Qe),oe.focusOnSelect&&oe.focusOnSelect(nn)}})),oe.infinite&&oe.fade===!1){var fn=ge-Wt;fn<=pr(oe)&&ge!==oe.slidesToShow&&(ue=-fn,ue>=we&&(kt=Rt),tn=st(Object(P.a)(Object(P.a)({},oe),{},{index:ue})),k.push(re.a.cloneElement(kt,{key:"precloned"+ie(kt,ue),"data-index":ue,tabIndex:"-1",className:Ct()(tn,gn),"aria-hidden":!tn["slick-active"],style:Object(P.a)(Object(P.a)({},kt.props.style||{}),cn),onClick:function(Qe){kt.props&&kt.props.onClick&&kt.props.onClick(Qe),oe.focusOnSelect&&oe.focusOnSelect(nn)}}))),ge!==oe.slidesToShow&&(ue=ge+Wt,ue<ct&&(kt=Rt),tn=st(Object(P.a)(Object(P.a)({},oe),{},{index:ue})),Ce.push(re.a.cloneElement(kt,{key:"postcloned"+ie(kt,ue),"data-index":ue,tabIndex:"-1",className:Ct()(tn,gn),"aria-hidden":!tn["slick-active"],style:Object(P.a)(Object(P.a)({},kt.props.style||{}),cn),onClick:function(Qe){kt.props&&kt.props.onClick&&kt.props.onClick(Qe),oe.focusOnSelect&&oe.focusOnSelect(nn)}})))}}),oe.rtl?k.concat($e,Ce).reverse():k.concat($e,Ce)},B=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue(){var $e;Object(X.a)(this,ue);for(var k=arguments.length,Ce=new Array(k),ge=0;ge<k;ge++)Ce[ge]=arguments[ge];return $e=oe.call.apply(oe,[this].concat(Ce)),Object(Y.a)(Object(de.a)($e),"node",null),Object(Y.a)(Object(de.a)($e),"handleRef",function(we){$e.node=we}),$e}return Object(je.a)(ue,[{key:"render",value:function(){var k=V(this.props),Ce=this.props,ge=Ce.onMouseEnter,we=Ce.onMouseOver,ct=Ce.onMouseLeave,Rt={onMouseEnter:ge,onMouseOver:we,onMouseLeave:ct};return re.a.createElement("div",Object(be.a)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},Rt),k)}}]),ue}(re.a.PureComponent),J=function(oe){var ue;return oe.infinite?ue=Math.ceil(oe.slideCount/oe.slidesToScroll):ue=Math.ceil((oe.slideCount-oe.slidesToShow)/oe.slidesToScroll)+1,ue},Oe=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue(){return Object(X.a)(this,ue),oe.apply(this,arguments)}return Object(je.a)(ue,[{key:"clickHandler",value:function(k,Ce){Ce.preventDefault(),this.props.clickHandler(k)}},{key:"render",value:function(){for(var k=this.props,Ce=k.onMouseEnter,ge=k.onMouseOver,we=k.onMouseLeave,ct=k.infinite,Rt=k.slidesToScroll,Wt=k.slidesToShow,kt=k.slideCount,nn=k.currentSlide,cn=J({slideCount:kt,slidesToScroll:Rt,slidesToShow:Wt,infinite:ct}),gn={onMouseEnter:Ce,onMouseOver:ge,onMouseLeave:we},tn=[],fn=0;fn<cn;fn++){var qe=(fn+1)*Rt-1,Qe=ct?qe:he(qe,0,kt-1),vt=Qe-(Rt-1),Je=ct?vt:he(vt,0,kt-1),me=Ct()({"slick-active":ct?nn>=Je&&nn<=Qe:nn===Je}),Ye={message:"dots",index:fn,slidesToScroll:Rt,currentSlide:nn},Tt=this.clickHandler.bind(this,Ye);tn=tn.concat(re.a.createElement("li",{key:fn,className:me},re.a.cloneElement(this.props.customPaging(fn),{onClick:Tt})))}return re.a.cloneElement(this.props.appendDots(tn),Object(P.a)({className:this.props.dotsClass},gn))}}]),ue}(re.a.PureComponent),nt=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue(){return Object(X.a)(this,ue),oe.apply(this,arguments)}return Object(je.a)(ue,[{key:"clickHandler",value:function(k,Ce){Ce&&Ce.preventDefault(),this.props.clickHandler(k,Ce)}},{key:"render",value:function(){var k={"slick-arrow":!0,"slick-prev":!0},Ce=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(k["slick-disabled"]=!0,Ce=null);var ge={key:"0","data-role":"none",className:Ct()(k),style:{display:"block"},onClick:Ce},we={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},ct;return this.props.prevArrow?ct=re.a.cloneElement(this.props.prevArrow,Object(P.a)(Object(P.a)({},ge),we)):ct=re.a.createElement("button",Object(be.a)({key:"0",type:"button"},ge)," ","Previous"),ct}}]),ue}(re.a.PureComponent),ut=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue(){return Object(X.a)(this,ue),oe.apply(this,arguments)}return Object(je.a)(ue,[{key:"clickHandler",value:function(k,Ce){Ce&&Ce.preventDefault(),this.props.clickHandler(k,Ce)}},{key:"render",value:function(){var k={"slick-arrow":!0,"slick-next":!0},Ce=this.clickHandler.bind(this,{message:"next"});mt(this.props)||(k["slick-disabled"]=!0,Ce=null);var ge={key:"1","data-role":"none",className:Ct()(k),style:{display:"block"},onClick:Ce},we={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},ct;return this.props.nextArrow?ct=re.a.cloneElement(this.props.nextArrow,Object(P.a)(Object(P.a)({},ge),we)):ct=re.a.createElement("button",Object(be.a)({key:"1",type:"button"},ge)," ","Next"),ct}}]),ue}(re.a.PureComponent),Jt=D("bdgK"),pn=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue($e){var k;Object(X.a)(this,ue),k=oe.call(this,$e),Object(Y.a)(Object(de.a)(k),"listRefHandler",function(ge){return k.list=ge}),Object(Y.a)(Object(de.a)(k),"trackRefHandler",function(ge){return k.track=ge}),Object(Y.a)(Object(de.a)(k),"adaptHeight",function(){if(k.props.adaptiveHeight&&k.list){var ge=k.list.querySelector('[data-index="'.concat(k.state.currentSlide,'"]'));k.list.style.height=et(ge)+"px"}}),Object(Y.a)(Object(de.a)(k),"componentDidMount",function(){if(k.props.onInit&&k.props.onInit(),k.props.lazyLoad){var ge=yt(Object(P.a)(Object(P.a)({},k.props),k.state));ge.length>0&&(k.setState(function(ct){return{lazyLoadedList:ct.lazyLoadedList.concat(ge)}}),k.props.onLazyLoad&&k.props.onLazyLoad(ge))}var we=Object(P.a)({listRef:k.list,trackRef:k.track},k.props);k.updateState(we,!0,function(){k.adaptHeight(),k.props.autoplay&&k.autoPlay("playing")}),k.props.lazyLoad==="progressive"&&(k.lazyLoadTimer=setInterval(k.progressiveLazyLoad,1e3)),k.ro=new Jt.a(function(){k.state.animating?(k.onWindowResized(!1),k.callbackTimers.push(setTimeout(function(){return k.onWindowResized()},k.props.speed))):k.onWindowResized()}),k.ro.observe(k.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(ct){ct.onfocus=k.props.pauseOnFocus?k.onSlideFocus:null,ct.onblur=k.props.pauseOnFocus?k.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",k.onWindowResized):window.attachEvent("onresize",k.onWindowResized)}),Object(Y.a)(Object(de.a)(k),"componentWillUnmount",function(){k.animationEndCallback&&clearTimeout(k.animationEndCallback),k.lazyLoadTimer&&clearInterval(k.lazyLoadTimer),k.callbackTimers.length&&(k.callbackTimers.forEach(function(ge){return clearTimeout(ge)}),k.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",k.onWindowResized):window.detachEvent("onresize",k.onWindowResized),k.autoplayTimer&&clearInterval(k.autoplayTimer),k.ro.disconnect()}),Object(Y.a)(Object(de.a)(k),"componentDidUpdate",function(ge){if(k.checkImagesLoad(),k.props.onReInit&&k.props.onReInit(),k.props.lazyLoad){var we=yt(Object(P.a)(Object(P.a)({},k.props),k.state));we.length>0&&(k.setState(function(Wt){return{lazyLoadedList:Wt.lazyLoadedList.concat(we)}}),k.props.onLazyLoad&&k.props.onLazyLoad(we))}k.adaptHeight();var ct=Object(P.a)(Object(P.a)({listRef:k.list,trackRef:k.track},k.props),k.state),Rt=k.didPropsChange(ge);Rt&&k.updateState(ct,Rt,function(){k.state.currentSlide>=re.a.Children.count(k.props.children)&&k.changeSlide({message:"index",index:re.a.Children.count(k.props.children)-k.props.slidesToShow,currentSlide:k.state.currentSlide}),(ge.autoplay!==k.props.autoplay||ge.autoplaySpeed!==k.props.autoplaySpeed)&&(!ge.autoplay&&k.props.autoplay?k.autoPlay("playing"):k.props.autoplay?k.autoPlay("update"):k.pause("paused"))})}),Object(Y.a)(Object(de.a)(k),"onWindowResized",function(ge){k.debouncedResize&&k.debouncedResize.cancel(),k.debouncedResize=Ft()(function(){return k.resizeWindow(ge)},50),k.debouncedResize()}),Object(Y.a)(Object(de.a)(k),"resizeWindow",function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,we=Boolean(k.track&&k.track.node);if(!!we){var ct=Object(P.a)(Object(P.a)({listRef:k.list,trackRef:k.track},k.props),k.state);k.updateState(ct,ge,function(){k.props.autoplay?k.autoPlay("update"):k.pause("paused")}),k.setState({animating:!1}),clearTimeout(k.animationEndCallback),delete k.animationEndCallback}}),Object(Y.a)(Object(de.a)(k),"updateState",function(ge,we,ct){var Rt=$t(ge);ge=Object(P.a)(Object(P.a)(Object(P.a)({},ge),Rt),{},{slideIndex:Rt.currentSlide});var Wt=Sr(ge);ge=Object(P.a)(Object(P.a)({},ge),{},{left:Wt});var kt=zn(ge);(we||re.a.Children.count(k.props.children)!==re.a.Children.count(ge.children))&&(Rt.trackStyle=kt),k.setState(Rt,ct)}),Object(Y.a)(Object(de.a)(k),"ssrInit",function(){if(k.props.variableWidth){var ge=0,we=0,ct=[],Rt=pr(Object(P.a)(Object(P.a)(Object(P.a)({},k.props),k.state),{},{slideCount:k.props.children.length})),Wt=Jr(Object(P.a)(Object(P.a)(Object(P.a)({},k.props),k.state),{},{slideCount:k.props.children.length}));k.props.children.forEach(function(Tt){ct.push(Tt.props.style.width),ge+=Tt.props.style.width});for(var kt=0;kt<Rt;kt++)we+=ct[ct.length-1-kt],ge+=ct[ct.length-1-kt];for(var nn=0;nn<Wt;nn++)ge+=ct[nn];for(var cn=0;cn<k.state.currentSlide;cn++)we+=ct[cn];var gn={width:ge+"px",left:-we+"px"};if(k.props.centerMode){var tn="".concat(ct[k.state.currentSlide],"px");gn.left="calc(".concat(gn.left," + (100% - ").concat(tn,") / 2 ) ")}return{trackStyle:gn}}var fn=re.a.Children.count(k.props.children),qe=Object(P.a)(Object(P.a)(Object(P.a)({},k.props),k.state),{},{slideCount:fn}),Qe=pr(qe)+Jr(qe)+fn,vt=100/k.props.slidesToShow*Qe,Je=100/Qe,me=-Je*(pr(qe)+k.state.currentSlide)*vt/100;k.props.centerMode&&(me+=(100-Je*vt/100)/2);var Ye={width:vt+"%",left:me+"%"};return{slideWidth:Je+"%",trackStyle:Ye}}),Object(Y.a)(Object(de.a)(k),"checkImagesLoad",function(){var ge=k.list&&k.list.querySelectorAll&&k.list.querySelectorAll(".slick-slide img")||[],we=ge.length,ct=0;Array.prototype.forEach.call(ge,function(Rt){var Wt=function(){return++ct&&ct>=we&&k.onWindowResized()};if(!Rt.onclick)Rt.onclick=function(){return Rt.parentNode.focus()};else{var kt=Rt.onclick;Rt.onclick=function(){kt(),Rt.parentNode.focus()}}Rt.onload||(k.props.lazyLoad?Rt.onload=function(){k.adaptHeight(),k.callbackTimers.push(setTimeout(k.onWindowResized,k.props.speed))}:(Rt.onload=Wt,Rt.onerror=function(){Wt(),k.props.onLazyLoadError&&k.props.onLazyLoadError()}))})}),Object(Y.a)(Object(de.a)(k),"progressiveLazyLoad",function(){for(var ge=[],we=Object(P.a)(Object(P.a)({},k.props),k.state),ct=k.state.currentSlide;ct<k.state.slideCount+Jr(we);ct++)if(k.state.lazyLoadedList.indexOf(ct)<0){ge.push(ct);break}for(var Rt=k.state.currentSlide-1;Rt>=-pr(we);Rt--)if(k.state.lazyLoadedList.indexOf(Rt)<0){ge.push(Rt);break}ge.length>0?(k.setState(function(Wt){return{lazyLoadedList:Wt.lazyLoadedList.concat(ge)}}),k.props.onLazyLoad&&k.props.onLazyLoad(ge)):k.lazyLoadTimer&&(clearInterval(k.lazyLoadTimer),delete k.lazyLoadTimer)}),Object(Y.a)(Object(de.a)(k),"slideHandler",function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ct=k.props,Rt=ct.asNavFor,Wt=ct.beforeChange,kt=ct.onLazyLoad,nn=ct.speed,cn=ct.afterChange,gn=k.state.currentSlide,tn=un(Object(P.a)(Object(P.a)(Object(P.a)({index:ge},k.props),k.state),{},{trackRef:k.track,useCSS:k.props.useCSS&&!we})),fn=tn.state,qe=tn.nextState;if(!!fn){Wt&&Wt(gn,fn.currentSlide);var Qe=fn.lazyLoadedList.filter(function(vt){return k.state.lazyLoadedList.indexOf(vt)<0});kt&&Qe.length>0&&kt(Qe),!k.props.waitForAnimate&&k.animationEndCallback&&(clearTimeout(k.animationEndCallback),cn&&cn(gn),delete k.animationEndCallback),k.setState(fn,function(){Rt&&k.asNavForIndex!==ge&&(k.asNavForIndex=ge,Rt.innerSlider.slideHandler(ge)),!!qe&&(k.animationEndCallback=setTimeout(function(){var vt=qe.animating,Je=Object(ve.a)(qe,["animating"]);k.setState(Je,function(){k.callbackTimers.push(setTimeout(function(){return k.setState({animating:vt})},10)),cn&&cn(fn.currentSlide),delete k.animationEndCallback})},nn))})}}),Object(Y.a)(Object(de.a)(k),"changeSlide",function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ct=Object(P.a)(Object(P.a)({},k.props),k.state),Rt=Sn(ct,ge);if(!(Rt!==0&&!Rt)&&(we===!0?k.slideHandler(Rt,we):k.slideHandler(Rt),k.props.autoplay&&k.autoPlay("update"),k.props.focusOnSelect)){var Wt=k.list.querySelectorAll(".slick-current");Wt[0]&&Wt[0].focus()}}),Object(Y.a)(Object(de.a)(k),"clickHandler",function(ge){k.clickable===!1&&(ge.stopPropagation(),ge.preventDefault()),k.clickable=!0}),Object(Y.a)(Object(de.a)(k),"keyHandler",function(ge){var we=on(ge,k.props.accessibility,k.props.rtl);we!==""&&k.changeSlide({message:we})}),Object(Y.a)(Object(de.a)(k),"selectHandler",function(ge){k.changeSlide(ge)}),Object(Y.a)(Object(de.a)(k),"disableBodyScroll",function(){var ge=function(ct){ct=ct||window.event,ct.preventDefault&&ct.preventDefault(),ct.returnValue=!1};window.ontouchmove=ge}),Object(Y.a)(Object(de.a)(k),"enableBodyScroll",function(){window.ontouchmove=null}),Object(Y.a)(Object(de.a)(k),"swipeStart",function(ge){k.props.verticalSwiping&&k.disableBodyScroll();var we=zt(ge,k.props.swipe,k.props.draggable);we!==""&&k.setState(we)}),Object(Y.a)(Object(de.a)(k),"swipeMove",function(ge){var we=en(ge,Object(P.a)(Object(P.a)(Object(P.a)({},k.props),k.state),{},{trackRef:k.track,listRef:k.list,slideIndex:k.state.currentSlide}));!we||(we.swiping&&(k.clickable=!1),k.setState(we))}),Object(Y.a)(Object(de.a)(k),"swipeEnd",function(ge){var we=y(ge,Object(P.a)(Object(P.a)(Object(P.a)({},k.props),k.state),{},{trackRef:k.track,listRef:k.list,slideIndex:k.state.currentSlide}));if(!!we){var ct=we.triggerSlideHandler;delete we.triggerSlideHandler,k.setState(we),ct!==void 0&&(k.slideHandler(ct),k.props.verticalSwiping&&k.enableBodyScroll())}}),Object(Y.a)(Object(de.a)(k),"touchEnd",function(ge){k.swipeEnd(ge),k.clickable=!0}),Object(Y.a)(Object(de.a)(k),"slickPrev",function(){k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"previous"})},0))}),Object(Y.a)(Object(de.a)(k),"slickNext",function(){k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"next"})},0))}),Object(Y.a)(Object(de.a)(k),"slickGoTo",function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ge=Number(ge),isNaN(ge))return"";k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"index",index:ge,currentSlide:k.state.currentSlide},we)},0))}),Object(Y.a)(Object(de.a)(k),"play",function(){var ge;if(k.props.rtl)ge=k.state.currentSlide-k.props.slidesToScroll;else if(mt(Object(P.a)(Object(P.a)({},k.props),k.state)))ge=k.state.currentSlide+k.props.slidesToScroll;else return!1;k.slideHandler(ge)}),Object(Y.a)(Object(de.a)(k),"autoPlay",function(ge){k.autoplayTimer&&clearInterval(k.autoplayTimer);var we=k.state.autoplaying;if(ge==="update"){if(we==="hovered"||we==="focused"||we==="paused")return}else if(ge==="leave"){if(we==="paused"||we==="focused")return}else if(ge==="blur"&&(we==="paused"||we==="hovered"))return;k.autoplayTimer=setInterval(k.play,k.props.autoplaySpeed+50),k.setState({autoplaying:"playing"})}),Object(Y.a)(Object(de.a)(k),"pause",function(ge){k.autoplayTimer&&(clearInterval(k.autoplayTimer),k.autoplayTimer=null);var we=k.state.autoplaying;ge==="paused"?k.setState({autoplaying:"paused"}):ge==="focused"?(we==="hovered"||we==="playing")&&k.setState({autoplaying:"focused"}):we==="playing"&&k.setState({autoplaying:"hovered"})}),Object(Y.a)(Object(de.a)(k),"onDotsOver",function(){return k.props.autoplay&&k.pause("hovered")}),Object(Y.a)(Object(de.a)(k),"onDotsLeave",function(){return k.props.autoplay&&k.state.autoplaying==="hovered"&&k.autoPlay("leave")}),Object(Y.a)(Object(de.a)(k),"onTrackOver",function(){return k.props.autoplay&&k.pause("hovered")}),Object(Y.a)(Object(de.a)(k),"onTrackLeave",function(){return k.props.autoplay&&k.state.autoplaying==="hovered"&&k.autoPlay("leave")}),Object(Y.a)(Object(de.a)(k),"onSlideFocus",function(){return k.props.autoplay&&k.pause("focused")}),Object(Y.a)(Object(de.a)(k),"onSlideBlur",function(){return k.props.autoplay&&k.state.autoplaying==="focused"&&k.autoPlay("blur")}),Object(Y.a)(Object(de.a)(k),"render",function(){var ge=Ct()("slick-slider",k.props.className,{"slick-vertical":k.props.vertical,"slick-initialized":!0}),we=Object(P.a)(Object(P.a)({},k.props),k.state),ct=Kt(we,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),Rt=k.props.pauseOnHover;ct=Object(P.a)(Object(P.a)({},ct),{},{onMouseEnter:Rt?k.onTrackOver:null,onMouseLeave:Rt?k.onTrackLeave:null,onMouseOver:Rt?k.onTrackOver:null,focusOnSelect:k.props.focusOnSelect&&k.clickable?k.selectHandler:null});var Wt;if(k.props.dots===!0&&k.state.slideCount>=k.props.slidesToShow){var kt=Kt(we,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),nn=k.props.pauseOnDotsHover;kt=Object(P.a)(Object(P.a)({},kt),{},{clickHandler:k.changeSlide,onMouseEnter:nn?k.onDotsLeave:null,onMouseOver:nn?k.onDotsOver:null,onMouseLeave:nn?k.onDotsLeave:null}),Wt=re.a.createElement(Oe,kt)}var cn,gn,tn=Kt(we,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);tn.clickHandler=k.changeSlide,k.props.arrows&&(cn=re.a.createElement(nt,tn),gn=re.a.createElement(ut,tn));var fn=null;k.props.vertical&&(fn={height:k.state.listHeight});var qe=null;k.props.vertical===!1?k.props.centerMode===!0&&(qe={padding:"0px "+k.props.centerPadding}):k.props.centerMode===!0&&(qe={padding:k.props.centerPadding+" 0px"});var Qe=Object(P.a)(Object(P.a)({},fn),qe),vt=k.props.touchMove,Je={className:"slick-list",style:Qe,onClick:k.clickHandler,onMouseDown:vt?k.swipeStart:null,onMouseMove:k.state.dragging&&vt?k.swipeMove:null,onMouseUp:vt?k.swipeEnd:null,onMouseLeave:k.state.dragging&&vt?k.swipeEnd:null,onTouchStart:vt?k.swipeStart:null,onTouchMove:k.state.dragging&&vt?k.swipeMove:null,onTouchEnd:vt?k.touchEnd:null,onTouchCancel:k.state.dragging&&vt?k.swipeEnd:null,onKeyDown:k.props.accessibility?k.keyHandler:null},me={className:ge,dir:"ltr",style:k.props.style};return k.props.unslick&&(Je={className:"slick-list"},me={className:ge}),re.a.createElement("div",me,k.props.unslick?"":cn,re.a.createElement("div",Object(be.a)({ref:k.listRefHandler},Je),re.a.createElement(B,Object(be.a)({ref:k.trackRefHandler},ct),k.props.children)),k.props.unslick?"":gn,k.props.unslick?"":Wt)}),k.list=null,k.track=null,k.state=Object(P.a)(Object(P.a)({},at),{},{currentSlide:k.props.initialSlide,slideCount:re.a.Children.count(k.props.children)}),k.callbackTimers=[],k.clickable=!0,k.debouncedResize=null;var Ce=k.ssrInit();return k.state=Object(P.a)(Object(P.a)({},k.state),Ce),k}return Object(je.a)(ue,[{key:"didPropsChange",value:function(k){for(var Ce=!1,ge=0,we=Object.keys(this.props);ge<we.length;ge++){var ct=we[ge];if(!k.hasOwnProperty(ct)){Ce=!0;break}if(!(Object(Pe.a)(k[ct])==="object"||typeof k[ct]=="function")&&k[ct]!==this.props[ct]){Ce=!0;break}}return Ce||re.a.Children.count(this.props.children)!==re.a.Children.count(k.children)}}]),ue}(re.a.Component),hn=D("pIsd"),Ln=D.n(hn),Se={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(oe){return re.a.createElement("ul",{style:{display:"block"}},oe)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(oe){return re.a.createElement("button",null,oe+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},Ee=Se,Ue=function(ot){Object(tt.a)(ue,ot);var oe=Object(Z.a)(ue);function ue($e){var k;return Object(X.a)(this,ue),k=oe.call(this,$e),Object(Y.a)(Object(de.a)(k),"innerSliderRefHandler",function(Ce){return k.innerSlider=Ce}),Object(Y.a)(Object(de.a)(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),Object(Y.a)(Object(de.a)(k),"slickNext",function(){return k.innerSlider.slickNext()}),Object(Y.a)(Object(de.a)(k),"slickGoTo",function(Ce){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(Ce,ge)}),Object(Y.a)(Object(de.a)(k),"slickPause",function(){return k.innerSlider.pause("paused")}),Object(Y.a)(Object(de.a)(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return Object(je.a)(ue,[{key:"media",value:function(k,Ce){var ge=window.matchMedia(k),we=function(Rt){var Wt=Rt.matches;Wt&&Ce()};ge.addListener(we),we(ge),this._responsiveMediaHandlers.push({mql:ge,query:k,listener:we})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var Ce=this.props.responsive.map(function(we){return we.breakpoint});Ce.sort(function(we,ct){return we-ct}),Ce.forEach(function(we,ct){var Rt;ct===0?Rt=Ln()({minWidth:0,maxWidth:we}):Rt=Ln()({minWidth:Ce[ct-1]+1,maxWidth:we}),Ae()&&k.media(Rt,function(){k.setState({breakpoint:we})})});var ge=Ln()({minWidth:Ce.slice(-1)[0]});Ae()&&this.media(ge,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){k.mql.removeListener(k.listener)})}},{key:"render",value:function(){var k=this,Ce,ge;this.state.breakpoint?(ge=this.props.responsive.filter(function(fn){return fn.breakpoint===k.state.breakpoint}),Ce=ge[0].settings==="unslick"?"unslick":Object(P.a)(Object(P.a)(Object(P.a)({},Ee),this.props),ge[0].settings)):Ce=Object(P.a)(Object(P.a)({},Ee),this.props),Ce.centerMode&&(Ce.slidesToScroll>1,Ce.slidesToScroll=1),Ce.fade&&(Ce.slidesToShow>1,Ce.slidesToScroll>1,Ce.slidesToShow=1,Ce.slidesToScroll=1);var we=re.a.Children.toArray(this.props.children);we=we.filter(function(fn){return typeof fn=="string"?!!fn.trim():!!fn}),Ce.variableWidth&&(Ce.rows>1||Ce.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Ce.variableWidth=!1);for(var ct=[],Rt=null,Wt=0;Wt<we.length;Wt+=Ce.rows*Ce.slidesPerRow){for(var kt=[],nn=Wt;nn<Wt+Ce.rows*Ce.slidesPerRow;nn+=Ce.slidesPerRow){for(var cn=[],gn=nn;gn<nn+Ce.slidesPerRow&&(Ce.variableWidth&&we[gn].props.style&&(Rt=we[gn].props.style.width),!(gn>=we.length));gn+=1)cn.push(re.a.cloneElement(we[gn],{key:100*Wt+10*nn+gn,tabIndex:-1,style:{width:"".concat(100/Ce.slidesPerRow,"%"),display:"inline-block"}}));kt.push(re.a.createElement("div",{key:10*Wt+nn},cn))}Ce.variableWidth?ct.push(re.a.createElement("div",{key:Wt,style:{width:Rt}},kt)):ct.push(re.a.createElement("div",{key:Wt},kt))}if(Ce==="unslick"){var tn="regular slider "+(this.props.className||"");return re.a.createElement("div",{className:tn},we)}else ct.length<=Ce.slidesToShow&&(Ce.unslick=!0);return re.a.createElement(pn,Object(be.a)({style:this.props.style,ref:this.innerSliderRefHandler},Ce),ct)}}]),ue}(re.a.Component),Ie=Ue,Re=D("H84U"),Ke=function(ot,oe){var ue={};for(var $e in ot)Object.prototype.hasOwnProperty.call(ot,$e)&&oe.indexOf($e)<0&&(ue[$e]=ot[$e]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,$e=Object.getOwnPropertySymbols(ot);k<$e.length;k++)oe.indexOf($e[k])<0&&Object.prototype.propertyIsEnumerable.call(ot,$e[k])&&(ue[$e[k]]=ot[$e[k]]);return ue},We=F.forwardRef(function(ot,oe){var ue,$e=ot.dots,k=$e===void 0?!0:$e,Ce=ot.arrows,ge=Ce===void 0?!1:Ce,we=ot.draggable,ct=we===void 0?!1:we,Rt=ot.dotPosition,Wt=Rt===void 0?"bottom":Rt,kt=Ke(ot,["dots","arrows","draggable","dotPosition"]),nn=F.useContext(Re.b),cn=nn.getPrefixCls,gn=nn.direction,tn=F.useRef(),fn=function(tr){var mr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;tn.current.slickGoTo(tr,mr)};F.useImperativeHandle(oe,function(){return{goTo:fn,autoPlay:tn.current.innerSlider.autoPlay,innerSlider:tn.current.innerSlider,prev:tn.current.slickPrev,next:tn.current.slickNext}},[tn.current]);var qe=F.useRef(F.Children.count(kt.children));F.useEffect(function(){qe.current!==F.Children.count(kt.children)&&(fn(kt.initialSlide||0,!1),qe.current=F.Children.count(kt.children))},[kt.children]);var Qe=Object(be.a)({},kt);Qe.effect==="fade"&&(Qe.fade=!0);var vt=cn("carousel",Qe.prefixCls),Je="slick-dots";Qe.vertical=Wt==="left"||Wt==="right";var me=!!k,Ye=Ct()(Je,"".concat(Je,"-").concat(Wt),typeof k=="boolean"?!1:k==null?void 0:k.className),Tt=Ct()(vt,(ue={},Object(Y.a)(ue,"".concat(vt,"-rtl"),gn==="rtl"),Object(Y.a)(ue,"".concat(vt,"-vertical"),Qe.vertical),ue));return F.createElement("div",{className:Tt},F.createElement(Ie,Object(be.a)({ref:tn},Qe,{dots:me,dotsClass:Ye,arrows:ge,draggable:ct})))}),ht=Ne.a=We},"5NDa":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("OnYD"),re=D.n(F),P=D("+L6B")},"6/k+":function(Cr,Ne,D){},"6MrE":function(Cr,Ne,D){},"7Kak":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("KPFz"),re=D.n(F)},"8dk+":function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("b2XM"),re=D.n(F),P=D("5Dmo")},"96Xy":function(Cr,Ne,D){(function(Y,be){Cr.exports=be()})(window,function(){return function(Y){var be={};function F(re){if(be[re])return be[re].exports;var P=be[re]={i:re,l:!1,exports:{}};return Y[re].call(P.exports,P,P.exports,F),P.l=!0,P.exports}return F.m=Y,F.c=be,F.d=function(re,P,X){F.o(re,P)||Object.defineProperty(re,P,{enumerable:!0,get:X})},F.r=function(re){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(re,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(re,"__esModule",{value:!0})},F.t=function(re,P){if(1&P&&(re=F(re)),8&P||4&P&&typeof re=="object"&&re&&re.__esModule)return re;var X=Object.create(null);if(F.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:re}),2&P&&typeof re!="string")for(var je in re)F.d(X,je,function(de){return re[de]}.bind(null,je));return X},F.n=function(re){var P=re&&re.__esModule?function(){return re.default}:function(){return re};return F.d(P,"a",P),P},F.o=function(re,P){return Object.prototype.hasOwnProperty.call(re,P)},F.p="/",F(F.s=58)}([function(Y,be,F){"use strict";function re(ve){return(re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(ve)}var P=F(6),X=Object.prototype.toString;function je(ve){return X.call(ve)==="[object Array]"}function de(ve){return ve===void 0}function tt(ve){return ve!==null&&re(ve)==="object"}function Z(ve){return X.call(ve)==="[object Function]"}function Pe(ve,dt){if(ve!=null)if(re(ve)!=="object"&&(ve=[ve]),je(ve))for(var at=0,Pt=ve.length;at<Pt;at++)dt.call(null,ve[at],at,ve);else for(var Ft in ve)Object.prototype.hasOwnProperty.call(ve,Ft)&&dt.call(null,ve[Ft],Ft,ve)}Y.exports={isArray:je,isArrayBuffer:function(ve){return X.call(ve)==="[object ArrayBuffer]"},isBuffer:function(ve){return ve!==null&&!de(ve)&&ve.constructor!==null&&!de(ve.constructor)&&typeof ve.constructor.isBuffer=="function"&&ve.constructor.isBuffer(ve)},isFormData:function(ve){return typeof FormData!="undefined"&&ve instanceof FormData},isArrayBufferView:function(ve){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(ve):ve&&ve.buffer&&ve.buffer instanceof ArrayBuffer},isString:function(ve){return typeof ve=="string"},isNumber:function(ve){return typeof ve=="number"},isObject:tt,isUndefined:de,isDate:function(ve){return X.call(ve)==="[object Date]"},isFile:function(ve){return X.call(ve)==="[object File]"},isBlob:function(ve){return X.call(ve)==="[object Blob]"},isFunction:Z,isStream:function(ve){return tt(ve)&&Z(ve.pipe)},isURLSearchParams:function(ve){return typeof URLSearchParams!="undefined"&&ve instanceof URLSearchParams},isStandardBrowserEnv:function(){return(typeof navigator=="undefined"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window!="undefined"&&typeof document!="undefined"},forEach:Pe,merge:function ve(){var dt={};function at(bt,Ct){re(dt[Ct])==="object"&&re(bt)==="object"?dt[Ct]=ve(dt[Ct],bt):dt[Ct]=bt}for(var Pt=0,Ft=arguments.length;Pt<Ft;Pt++)Pe(arguments[Pt],at);return dt},deepMerge:function ve(){var dt={};function at(bt,Ct){re(dt[Ct])==="object"&&re(bt)==="object"?dt[Ct]=ve(dt[Ct],bt):re(bt)==="object"?dt[Ct]=ve({},bt):dt[Ct]=bt}for(var Pt=0,Ft=arguments.length;Pt<Ft;Pt++)Pe(arguments[Pt],at);return dt},extend:function(ve,dt,at){return Pe(dt,function(Pt,Ft){ve[Ft]=at&&typeof Pt=="function"?P(Pt,at):Pt}),ve},trim:function(ve){return ve.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(Y,be,F){var re=F(14);Y.exports=function(P){"use strict";var X="",je=(P=P||{}).enableSubtitle,de=P.subtitle,tt=P.current,Z=P.airplay,Pe=P.pic,ve=re.$escape,dt=P.screenshot,at=P.preload,Pt=P.url;return je=de&&de.type==="webvtt",X+=`
<video
    class="dplayer-video `,tt&&(X+="dplayer-video-current"),X+=`"
    webkit-playsinline
    `,Z&&(X+=' x-webkit-airplay="allow" '),X+=`
    playsinline
    `,Pe&&(X+='poster="',X+=ve(Pe),X+='"'),X+=`
    `,(dt||je)&&(X+='crossorigin="anonymous"'),X+=`
    `,at&&(X+='preload="',X+=ve(at),X+='"'),X+=`
    `,Pt&&(X+='src="',X+=ve(Pt),X+='"'),X+=`
    >
    `,je&&(X+=`
    <track kind="metadata" default src="`,X+=ve(de.url),X+=`"></track>
    `),X+=`
</video>`}},function(Y,be,F){Y.exports=F(41)},function(Y,be,F){"use strict";Y.exports=function(re){var P=[];return P.toString=function(){return this.map(function(X){var je=function(de,tt){var Z=de[1]||"",Pe=de[3];if(!Pe)return Z;if(tt&&typeof btoa=="function"){var ve=(at=Pe,Pt=btoa(unescape(encodeURIComponent(JSON.stringify(at)))),Ft="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Pt),"/*# ".concat(Ft," */")),dt=Pe.sources.map(function(bt){return"/*# sourceURL=".concat(Pe.sourceRoot||"").concat(bt," */")});return[Z].concat(dt).concat([ve]).join(`
`)}var at,Pt,Ft;return[Z].join(`
`)}(X,re);return X[2]?"@media ".concat(X[2]," {").concat(je,"}"):je}).join("")},P.i=function(X,je,de){typeof X=="string"&&(X=[[null,X,""]]);var tt={};if(de)for(var Z=0;Z<this.length;Z++){var Pe=this[Z][0];Pe!=null&&(tt[Pe]=!0)}for(var ve=0;ve<X.length;ve++){var dt=[].concat(X[ve]);de&&tt[dt[0]]||(je&&(dt[2]?dt[2]="".concat(je," and ").concat(dt[2]):dt[2]=je),P.push(dt))}},P}},function(Y,be){function F(P){return(F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(P)}var re;re=function(){return this}();try{re=re||new Function("return this")()}catch(P){(typeof window=="undefined"?"undefined":F(window))==="object"&&(re=window)}Y.exports=re},function(Y,be){var F,re,P=Y.exports={};function X(){throw new Error("setTimeout has not been defined")}function je(){throw new Error("clearTimeout has not been defined")}function de(bt){if(F===setTimeout)return setTimeout(bt,0);if((F===X||!F)&&setTimeout)return F=setTimeout,setTimeout(bt,0);try{return F(bt,0)}catch(Ct){try{return F.call(null,bt,0)}catch(he){return F.call(this,bt,0)}}}(function(){try{F=typeof setTimeout=="function"?setTimeout:X}catch(bt){F=X}try{re=typeof clearTimeout=="function"?clearTimeout:je}catch(bt){re=je}})();var tt,Z=[],Pe=!1,ve=-1;function dt(){Pe&&tt&&(Pe=!1,tt.length?Z=tt.concat(Z):ve=-1,Z.length&&at())}function at(){if(!Pe){var bt=de(dt);Pe=!0;for(var Ct=Z.length;Ct;){for(tt=Z,Z=[];++ve<Ct;)tt&&tt[ve].run();ve=-1,Ct=Z.length}tt=null,Pe=!1,function(he){if(re===clearTimeout)return clearTimeout(he);if((re===je||!re)&&clearTimeout)return re=clearTimeout,clearTimeout(he);try{re(he)}catch(Ve){try{return re.call(null,he)}catch(yt){return re.call(this,he)}}}(bt)}}function Pt(bt,Ct){this.fun=bt,this.array=Ct}function Ft(){}P.nextTick=function(bt){var Ct=new Array(arguments.length-1);if(arguments.length>1)for(var he=1;he<arguments.length;he++)Ct[he-1]=arguments[he];Z.push(new Pt(bt,Ct)),Z.length!==1||Pe||de(at)},Pt.prototype.run=function(){this.fun.apply(null,this.array)},P.title="browser",P.browser=!0,P.env={},P.argv=[],P.version="",P.versions={},P.on=Ft,P.addListener=Ft,P.once=Ft,P.off=Ft,P.removeListener=Ft,P.removeAllListeners=Ft,P.emit=Ft,P.prependListener=Ft,P.prependOnceListener=Ft,P.listeners=function(bt){return[]},P.binding=function(bt){throw new Error("process.binding is not supported")},P.cwd=function(){return"/"},P.chdir=function(bt){throw new Error("process.chdir is not supported")},P.umask=function(){return 0}},function(Y,be,F){"use strict";Y.exports=function(re,P){return function(){for(var X=new Array(arguments.length),je=0;je<X.length;je++)X[je]=arguments[je];return re.apply(P,X)}}},function(Y,be,F){"use strict";var re=F(0);function P(X){return encodeURIComponent(X).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Y.exports=function(X,je,de){if(!je)return X;var tt;if(de)tt=de(je);else if(re.isURLSearchParams(je))tt=je.toString();else{var Z=[];re.forEach(je,function(ve,dt){ve!=null&&(re.isArray(ve)?dt+="[]":ve=[ve],re.forEach(ve,function(at){re.isDate(at)?at=at.toISOString():re.isObject(at)&&(at=JSON.stringify(at)),Z.push(P(dt)+"="+P(at))}))}),tt=Z.join("&")}if(tt){var Pe=X.indexOf("#");Pe!==-1&&(X=X.slice(0,Pe)),X+=(X.indexOf("?")===-1?"?":"&")+tt}return X}},function(Y,be,F){"use strict";Y.exports=function(re){return!(!re||!re.__CANCEL__)}},function(Y,be,F){"use strict";(function(re){var P=F(0),X=F(46),je={"Content-Type":"application/x-www-form-urlencoded"};function de(Pe,ve){!P.isUndefined(Pe)&&P.isUndefined(Pe["Content-Type"])&&(Pe["Content-Type"]=ve)}var tt,Z={adapter:((typeof XMLHttpRequest!="undefined"||re!==void 0&&Object.prototype.toString.call(re)==="[object process]")&&(tt=F(10)),tt),transformRequest:[function(Pe,ve){return X(ve,"Accept"),X(ve,"Content-Type"),P.isFormData(Pe)||P.isArrayBuffer(Pe)||P.isBuffer(Pe)||P.isStream(Pe)||P.isFile(Pe)||P.isBlob(Pe)?Pe:P.isArrayBufferView(Pe)?Pe.buffer:P.isURLSearchParams(Pe)?(de(ve,"application/x-www-form-urlencoded;charset=utf-8"),Pe.toString()):P.isObject(Pe)?(de(ve,"application/json;charset=utf-8"),JSON.stringify(Pe)):Pe}],transformResponse:[function(Pe){if(typeof Pe=="string")try{Pe=JSON.parse(Pe)}catch(ve){}return Pe}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(Pe){return Pe>=200&&Pe<300}};Z.headers={common:{Accept:"application/json, text/plain, */*"}},P.forEach(["delete","get","head"],function(Pe){Z.headers[Pe]={}}),P.forEach(["post","put","patch"],function(Pe){Z.headers[Pe]=P.merge(je)}),Y.exports=Z}).call(this,F(5))},function(Y,be,F){"use strict";var re=F(0),P=F(47),X=F(7),je=F(49),de=F(52),tt=F(53),Z=F(11);Y.exports=function(Pe){return new Promise(function(ve,dt){var at=Pe.data,Pt=Pe.headers;re.isFormData(at)&&delete Pt["Content-Type"];var Ft=new XMLHttpRequest;if(Pe.auth){var bt=Pe.auth.username||"",Ct=Pe.auth.password||"";Pt.Authorization="Basic "+btoa(bt+":"+Ct)}var he=je(Pe.baseURL,Pe.url);if(Ft.open(Pe.method.toUpperCase(),X(he,Pe.params,Pe.paramsSerializer),!0),Ft.timeout=Pe.timeout,Ft.onreadystatechange=function(){if(Ft&&Ft.readyState===4&&(Ft.status!==0||Ft.responseURL&&Ft.responseURL.indexOf("file:")===0)){var Mt="getAllResponseHeaders"in Ft?de(Ft.getAllResponseHeaders()):null,Ut={data:Pe.responseType&&Pe.responseType!=="text"?Ft.response:Ft.responseText,status:Ft.status,statusText:Ft.statusText,headers:Mt,config:Pe,request:Ft};P(ve,dt,Ut),Ft=null}},Ft.onabort=function(){Ft&&(dt(Z("Request aborted",Pe,"ECONNABORTED",Ft)),Ft=null)},Ft.onerror=function(){dt(Z("Network Error",Pe,null,Ft)),Ft=null},Ft.ontimeout=function(){var Mt="timeout of "+Pe.timeout+"ms exceeded";Pe.timeoutErrorMessage&&(Mt=Pe.timeoutErrorMessage),dt(Z(Mt,Pe,"ECONNABORTED",Ft)),Ft=null},re.isStandardBrowserEnv()){var Ve=F(54),yt=(Pe.withCredentials||tt(he))&&Pe.xsrfCookieName?Ve.read(Pe.xsrfCookieName):void 0;yt&&(Pt[Pe.xsrfHeaderName]=yt)}if("setRequestHeader"in Ft&&re.forEach(Pt,function(Mt,Ut){at===void 0&&Ut.toLowerCase()==="content-type"?delete Pt[Ut]:Ft.setRequestHeader(Ut,Mt)}),re.isUndefined(Pe.withCredentials)||(Ft.withCredentials=!!Pe.withCredentials),Pe.responseType)try{Ft.responseType=Pe.responseType}catch(Mt){if(Pe.responseType!=="json")throw Mt}typeof Pe.onDownloadProgress=="function"&&Ft.addEventListener("progress",Pe.onDownloadProgress),typeof Pe.onUploadProgress=="function"&&Ft.upload&&Ft.upload.addEventListener("progress",Pe.onUploadProgress),Pe.cancelToken&&Pe.cancelToken.promise.then(function(Mt){Ft&&(Ft.abort(),dt(Mt),Ft=null)}),at===void 0&&(at=null),Ft.send(at)})}},function(Y,be,F){"use strict";var re=F(48);Y.exports=function(P,X,je,de,tt){var Z=new Error(P);return re(Z,X,je,de,tt)}},function(Y,be,F){"use strict";var re=F(0);Y.exports=function(P,X){X=X||{};var je={},de=["url","method","params","data"],tt=["headers","auth","proxy"],Z=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];re.forEach(de,function(dt){X[dt]!==void 0&&(je[dt]=X[dt])}),re.forEach(tt,function(dt){re.isObject(X[dt])?je[dt]=re.deepMerge(P[dt],X[dt]):X[dt]!==void 0?je[dt]=X[dt]:re.isObject(P[dt])?je[dt]=re.deepMerge(P[dt]):P[dt]!==void 0&&(je[dt]=P[dt])}),re.forEach(Z,function(dt){X[dt]!==void 0?je[dt]=X[dt]:P[dt]!==void 0&&(je[dt]=P[dt])});var Pe=de.concat(tt).concat(Z),ve=Object.keys(X).filter(function(dt){return Pe.indexOf(dt)===-1});return re.forEach(ve,function(dt){X[dt]!==void 0?je[dt]=X[dt]:P[dt]!==void 0&&(je[dt]=P[dt])}),je}},function(Y,be,F){"use strict";function re(P){this.message=P}re.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},re.prototype.__CANCEL__=!0,Y.exports=re},function(Y,be,F){"use strict";Y.exports=F(57)},function(Y,be,F){"use strict";(function(re){var P=F(16);function X(bt){return(X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(bt)}var je=setTimeout;function de(bt){return Boolean(bt&&bt.length!==void 0)}function tt(){}function Z(bt){if(!(this instanceof Z))throw new TypeError("Promises must be constructed via new");if(typeof bt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ft(bt,this)}function Pe(bt,Ct){for(;bt._state===3;)bt=bt._value;bt._state!==0?(bt._handled=!0,Z._immediateFn(function(){var he=bt._state===1?Ct.onFulfilled:Ct.onRejected;if(he!==null){var Ve;try{Ve=he(bt._value)}catch(yt){return void dt(Ct.promise,yt)}ve(Ct.promise,Ve)}else(bt._state===1?ve:dt)(Ct.promise,bt._value)})):bt._deferreds.push(Ct)}function ve(bt,Ct){try{if(Ct===bt)throw new TypeError("A promise cannot be resolved with itself.");if(Ct&&(X(Ct)==="object"||typeof Ct=="function")){var he=Ct.then;if(Ct instanceof Z)return bt._state=3,bt._value=Ct,void at(bt);if(typeof he=="function")return void Ft((Ve=he,yt=Ct,function(){Ve.apply(yt,arguments)}),bt)}bt._state=1,bt._value=Ct,at(bt)}catch(Mt){dt(bt,Mt)}var Ve,yt}function dt(bt,Ct){bt._state=2,bt._value=Ct,at(bt)}function at(bt){bt._state===2&&bt._deferreds.length===0&&Z._immediateFn(function(){bt._handled||Z._unhandledRejectionFn(bt._value)});for(var Ct=0,he=bt._deferreds.length;Ct<he;Ct++)Pe(bt,bt._deferreds[Ct]);bt._deferreds=null}function Pt(bt,Ct,he){this.onFulfilled=typeof bt=="function"?bt:null,this.onRejected=typeof Ct=="function"?Ct:null,this.promise=he}function Ft(bt,Ct){var he=!1;try{bt(function(Ve){he||(he=!0,ve(Ct,Ve))},function(Ve){he||(he=!0,dt(Ct,Ve))})}catch(Ve){if(he)return;he=!0,dt(Ct,Ve)}}Z.prototype.catch=function(bt){return this.then(null,bt)},Z.prototype.then=function(bt,Ct){var he=new this.constructor(tt);return Pe(this,new Pt(bt,Ct,he)),he},Z.prototype.finally=P.a,Z.all=function(bt){return new Z(function(Ct,he){if(!de(bt))return he(new TypeError("Promise.all accepts an array"));var Ve=Array.prototype.slice.call(bt);if(Ve.length===0)return Ct([]);var yt=Ve.length;function Mt(It,Yt){try{if(Yt&&(X(Yt)==="object"||typeof Yt=="function")){var Gt=Yt.then;if(typeof Gt=="function")return void Gt.call(Yt,function(an){Mt(It,an)},he)}Ve[It]=Yt,--yt==0&&Ct(Ve)}catch(an){he(an)}}for(var Ut=0;Ut<Ve.length;Ut++)Mt(Ut,Ve[Ut])})},Z.resolve=function(bt){return bt&&X(bt)==="object"&&bt.constructor===Z?bt:new Z(function(Ct){Ct(bt)})},Z.reject=function(bt){return new Z(function(Ct,he){he(bt)})},Z.race=function(bt){return new Z(function(Ct,he){if(!de(bt))return he(new TypeError("Promise.race accepts an array"));for(var Ve=0,yt=bt.length;Ve<yt;Ve++)Z.resolve(bt[Ve]).then(Ct,he)})},Z._immediateFn=typeof re=="function"&&function(bt){re(bt)}||function(bt){je(bt,0)},Z._unhandledRejectionFn=function(bt){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",bt)},be.a=Z}).call(this,F(39).setImmediate)},function(Y,be,F){"use strict";be.a=function(re){var P=this.constructor;return this.then(function(X){return P.resolve(re()).then(function(){return X})},function(X){return P.resolve(re()).then(function(){return P.reject(X)})})}},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(Y,be){Y.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},function(Y,be){Y.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(Y,be){Y.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(Y,be,F){var re=F(14);Y.exports=function(P){"use strict";P=P||{};var X="",je=(arguments[1],function(Pt){return X+=Pt}),de=P.video,tt=P.options,Z=re.$escape,Pe=P.tran,ve=P.icons,dt=P.index,at=re.$each;return P.$value,P.$index,X+=`<div class="dplayer-mask"></div>
<div class="dplayer-video-wrap">
    `,je(F(1)(de)),X+=`
    `,tt.logo&&(X+=`
    <div class="dplayer-logo">
        <img src="`,X+=Z(tt.logo),X+=`">
    </div>
    `),X+=`
    <div class="dplayer-danmaku"`,tt.danmaku&&tt.danmaku.bottm&&(X+=' style="margin-bottom:',X+=Z(tt.danmaku.bottm),X+='"'),X+=`>
        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>
    </div>
    <div class="dplayer-subtitle"></div>
    <div class="dplayer-bezel">
        <span class="dplayer-bezel-icon"></span>
        `,tt.danmaku&&(X+=`
        <span class="dplayer-danloading">`,X+=Z(Pe("Danmaku is loading")),X+=`</span>
        `),X+=`
        <span class="diplayer-loading-icon">`,X+=ve.loading,X+=`</span>
    </div>
</div>
<div class="dplayer-controller-mask"></div>
<div class="dplayer-controller">
    <div class="dplayer-icons dplayer-comment-box">
        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="`,X+=Z(Pe("Setting")),X+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,X+=ve.pallette,X+=`</span>
        </button>
        <div class="dplayer-comment-setting-box">
            <div class="dplayer-comment-setting-color">
                <div class="dplayer-comment-setting-title">`,X+=Z(Pe("Set danmaku color")),X+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#fff" checked>
                    <span style="background: #fff;"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#e54256">
                    <span style="background: #e54256"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#ffe133">
                    <span style="background: #ffe133"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#64DD17">
                    <span style="background: #64DD17"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#39ccff">
                    <span style="background: #39ccff"></span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-color-`,X+=Z(dt),X+=`" value="#D500F9">
                    <span style="background: #D500F9"></span>
                </label>
            </div>
            <div class="dplayer-comment-setting-type">
                <div class="dplayer-comment-setting-title">`,X+=Z(Pe("Set danmaku type")),X+=`</div>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,X+=Z(dt),X+=`" value="1">
                    <span>`,X+=Z(Pe("Top")),X+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,X+=Z(dt),X+=`" value="0" checked>
                    <span>`,X+=Z(Pe("Rolling")),X+=`</span>
                </label>
                <label>
                    <input type="radio" name="dplayer-danmaku-type-`,X+=Z(dt),X+=`" value="2">
                    <span>`,X+=Z(Pe("Bottom")),X+=`</span>
                </label>
            </div>
        </div>
        <input class="dplayer-comment-input" type="text" placeholder="`,X+=Z(Pe("Input danmaku, hit Enter")),X+=`" maxlength="30">
        <button class="dplayer-icon dplayer-send-icon" data-balloon="`,X+=Z(Pe("Send")),X+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,X+=ve.send,X+=`</span>
        </button>
    </div>
    <div class="dplayer-icons dplayer-icons-left">
        <button class="dplayer-icon dplayer-play-icon">
            <span class="dplayer-icon-content">`,X+=ve.play,X+=`</span>
        </button>
        <div class="dplayer-volume">
            <button class="dplayer-icon dplayer-volume-icon">
                <span class="dplayer-icon-content">`,X+=ve.volumeDown,X+=`</span>
            </button>
            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">
                <div class="dplayer-volume-bar">
                    <div class="dplayer-volume-bar-inner" style="background: `,X+=Z(tt.theme),X+=`;">
                        <span class="dplayer-thumb" style="background: `,X+=Z(tt.theme),X+=`"></span>
                    </div>
                </div>
            </div>
        </div>
        <span class="dplayer-time">
            <span class="dplayer-ptime">0:00</span> /
            <span class="dplayer-dtime">0:00</span>
        </span>
        `,tt.live&&(X+=`
        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: `,X+=Z(tt.theme),X+=';"></span>',X+=Z(Pe("Live")),X+=`</span>
        `),X+=`
    </div>
    <div class="dplayer-icons dplayer-icons-right">
        `,tt.video.quality&&(X+=`
        <div class="dplayer-quality">
            <button class="dplayer-icon dplayer-quality-icon">`,X+=Z(tt.video.quality[tt.video.defaultQuality].name),X+=`</button>
            <div class="dplayer-quality-mask">
                <div class="dplayer-quality-list">
                `,at(tt.video.quality,function(Pt,Ft){X+=`
                    <div class="dplayer-quality-item" data-index="`,X+=Z(Ft),X+='">',X+=Z(Pt.name),X+=`</div>
                `}),X+=`
                </div>
            </div>
        </div>
        `),X+=`
        `,tt.screenshot&&(X+=`
        <div class="dplayer-icon dplayer-camera-icon" data-balloon="`,X+=Z(Pe("Screenshot")),X+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,X+=ve.camera,X+=`</span>
        </div>
        `),X+=`
        `,tt.airplay&&(X+=`
        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="`,X+=Z(Pe("AirPlay")),X+=`" data-balloon-pos="up">
            <span class="dplayer-icon-content">`,X+=ve.airplay,X+=`</span>
        </div>
        `),X+=`
        <div class="dplayer-comment">
            <button class="dplayer-icon dplayer-comment-icon" data-balloon="`,X+=Z(Pe("Send danmaku")),X+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,X+=ve.comment,X+=`</span>
            </button>
        </div>
        `,tt.subtitle&&(X+=`
        <div class="dplayer-subtitle-btn">
            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="`,X+=Z(Pe("Hide subtitle")),X+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,X+=ve.subtitle,X+=`</span>
            </button>
        </div>
        `),X+=`
        <div class="dplayer-setting">
            <button class="dplayer-icon dplayer-setting-icon" data-balloon="`,X+=Z(Pe("Setting")),X+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,X+=ve.setting,X+=`</span>
            </button>
            <div class="dplayer-setting-box">
                <div class="dplayer-setting-origin-panel">
                    <div class="dplayer-setting-item dplayer-setting-speed">
                        <span class="dplayer-label">`,X+=Z(Pe("Speed")),X+=`</span>
                        <div class="dplayer-toggle">`,X+=ve.right,X+=`</div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-loop">
                        <span class="dplayer-label">`,X+=Z(Pe("Loop")),X+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">
                            <label for="dplayer-toggle"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-showdan">
                        <span class="dplayer-label">`,X+=Z(Pe("Show danmaku")),X+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">
                            <label for="dplayer-toggle-dan"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danunlimit">
                        <span class="dplayer-label">`,X+=Z(Pe("Unlimited danmaku")),X+=`</span>
                        <div class="dplayer-toggle">
                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">
                            <label for="dplayer-toggle-danunlimit"></label>
                        </div>
                    </div>
                    <div class="dplayer-setting-item dplayer-setting-danmaku">
                        <span class="dplayer-label">`,X+=Z(Pe("Opacity for danmaku")),X+=`</span>
                        <div class="dplayer-danmaku-bar-wrap">
                            <div class="dplayer-danmaku-bar">
                                <div class="dplayer-danmaku-bar-inner">
                                    <span class="dplayer-thumb"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dplayer-setting-speed-panel">
                    `,at(tt.playbackSpeed,function(Pt,Ft){X+=`
                        <div class="dplayer-setting-speed-item" data-speed="`,X+=Z(Pt),X+=`">
                            <span class="dplayer-label">`,X+=Z(Pt===1?Pe("Normal"):Pt),X+=`</span>
                        </div>
                    `}),X+=`
                </div>
            </div>
        </div>
        <div class="dplayer-full">
            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="`,X+=Z(Pe("Web full screen")),X+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,X+=ve.fullWeb,X+=`</span>
            </button>
            <button class="dplayer-icon dplayer-full-icon" data-balloon="`,X+=Z(Pe("Full screen")),X+=`" data-balloon-pos="up">
                <span class="dplayer-icon-content">`,X+=ve.full,X+=`</span>
            </button>
        </div>
    </div>
    <div class="dplayer-bar-wrap">
        <div class="dplayer-bar-time hidden">00:00</div>
        <div class="dplayer-bar-preview"></div>
        <div class="dplayer-bar">
            <div class="dplayer-loaded" style="width: 0;"></div>
            <div class="dplayer-played" style="width: 0; background: `,X+=Z(tt.theme),X+=`">
                <span class="dplayer-thumb" style="background: `,X+=Z(tt.theme),X+=`"></span>
            </div>
        </div>
    </div>
</div>
<div class="dplayer-info-panel dplayer-info-panel-hide">
    <div class="dplayer-info-panel-close">[x]</div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">
        <span class="dplayer-info-panel-item-title">Player version</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">
        <span class="dplayer-info-panel-item-title">Player FPS</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">
        <span class="dplayer-info-panel-item-title">Video type</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">
        <span class="dplayer-info-panel-item-title">Video url</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">
        <span class="dplayer-info-panel-item-title">Video resolution</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">
        <span class="dplayer-info-panel-item-title">Video duration</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `,tt.danmaku&&(X+=`
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">
        <span class="dplayer-info-panel-item-title">Danmaku id</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">
        <span class="dplayer-info-panel-item-title">Danmaku api</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">
        <span class="dplayer-info-panel-item-title">Danmaku amount</span>
        <span class="dplayer-info-panel-item-data"></span>
    </div>
    `),X+=`
</div>
<div class="dplayer-menu">
    `,at(tt.contextmenu,function(Pt,Ft){X+=`
        <div class="dplayer-menu-item">
            <a`,Pt.link&&(X+=' target="_blank"'),X+=' href="',X+=Z(Pt.link||"javascript:void(0);"),X+='">',X+=Z(Pe(Pt.text)),X+=`</a>
        </div>
    `}),X+=`
</div>
<div class="dplayer-notice"></div>
<button class="dplayer-mobile-play">
    `,X+=ve.play,X+=`
</button>`}},function(Y,be,F){var re=F(36),P=F(37);typeof(P=P.__esModule?P.default:P)=="string"&&(P=[[Y.i,P,""]]);var X={insert:"head",singleton:!1};re(P,X),Y.exports=P.locals||{}},function(Y,be,F){"use strict";var re,P=function(){return re===void 0&&(re=Boolean(window&&document&&document.all&&!window.atob)),re},X=function(){var Ct={};return function(he){if(Ct[he]===void 0){var Ve=document.querySelector(he);if(window.HTMLIFrameElement&&Ve instanceof window.HTMLIFrameElement)try{Ve=Ve.contentDocument.head}catch(yt){Ve=null}Ct[he]=Ve}return Ct[he]}}(),je=[];function de(Ct){for(var he=-1,Ve=0;Ve<je.length;Ve++)if(je[Ve].identifier===Ct){he=Ve;break}return he}function tt(Ct,he){for(var Ve={},yt=[],Mt=0;Mt<Ct.length;Mt++){var Ut=Ct[Mt],It=he.base?Ut[0]+he.base:Ut[0],Yt=Ve[It]||0,Gt="".concat(It," ").concat(Yt);Ve[It]=Yt+1;var an=de(Gt),et={css:Ut[1],media:Ut[2],sourceMap:Ut[3]};an!==-1?(je[an].references++,je[an].updater(et)):je.push({identifier:Gt,updater:bt(et,he),references:1}),yt.push(Gt)}return yt}function Z(Ct){var he=document.createElement("style"),Ve=Ct.attributes||{};if(Ve.nonce===void 0){var yt=F.nc;yt&&(Ve.nonce=yt)}if(Object.keys(Ve).forEach(function(Ut){he.setAttribute(Ut,Ve[Ut])}),typeof Ct.insert=="function")Ct.insert(he);else{var Mt=X(Ct.insert||"head");if(!Mt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Mt.appendChild(he)}return he}var Pe,ve=(Pe=[],function(Ct,he){return Pe[Ct]=he,Pe.filter(Boolean).join(`
`)});function dt(Ct,he,Ve,yt){var Mt=Ve?"":yt.media?"@media ".concat(yt.media," {").concat(yt.css,"}"):yt.css;if(Ct.styleSheet)Ct.styleSheet.cssText=ve(he,Mt);else{var Ut=document.createTextNode(Mt),It=Ct.childNodes;It[he]&&Ct.removeChild(It[he]),It.length?Ct.insertBefore(Ut,It[he]):Ct.appendChild(Ut)}}function at(Ct,he,Ve){var yt=Ve.css,Mt=Ve.media,Ut=Ve.sourceMap;if(Mt?Ct.setAttribute("media",Mt):Ct.removeAttribute("media"),Ut&&btoa&&(yt+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ut))))," */")),Ct.styleSheet)Ct.styleSheet.cssText=yt;else{for(;Ct.firstChild;)Ct.removeChild(Ct.firstChild);Ct.appendChild(document.createTextNode(yt))}}var Pt=null,Ft=0;function bt(Ct,he){var Ve,yt,Mt;if(he.singleton){var Ut=Ft++;Ve=Pt||(Pt=Z(he)),yt=dt.bind(null,Ve,Ut,!1),Mt=dt.bind(null,Ve,Ut,!0)}else Ve=Z(he),yt=at.bind(null,Ve,he),Mt=function(){(function(It){if(It.parentNode===null)return!1;It.parentNode.removeChild(It)})(Ve)};return yt(Ct),function(It){if(It){if(It.css===Ct.css&&It.media===Ct.media&&It.sourceMap===Ct.sourceMap)return;yt(Ct=It)}else Mt()}}Y.exports=function(Ct,he){(he=he||{}).singleton||typeof he.singleton=="boolean"||(he.singleton=P());var Ve=tt(Ct=Ct||[],he);return function(yt){if(yt=yt||[],Object.prototype.toString.call(yt)==="[object Array]"){for(var Mt=0;Mt<Ve.length;Mt++){var Ut=de(Ve[Mt]);je[Ut].references--}for(var It=tt(yt,he),Yt=0;Yt<Ve.length;Yt++){var Gt=de(Ve[Yt]);je[Gt].references===0&&(je[Gt].updater(),je.splice(Gt,1))}Ve=It}}}},function(Y,be,F){var re=F(3),P=F(38);(be=re(!1)).i(P),be.push([Y.i,'@-webkit-keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}@keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}.dplayer{position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.dplayer *{box-sizing:content-box}.dplayer svg{width:100%;height:100%}.dplayer svg circle,.dplayer svg path{fill:#fff}.dplayer:-webkit-full-screen{width:100%;height:100%;background:#000;position:fixed;z-index:100000;left:0;top:0;margin:0;padding:0;transform:translate(0)}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{-webkit-animation:danmaku-center 6s linear;animation:danmaku-center 6s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{-webkit-animation:danmaku 8s linear;animation:danmaku 8s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer.dplayer-live .dplayer-bar-wrap,.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting,.dplayer.dplayer-live .dplayer-setting-loop,.dplayer.dplayer-live .dplayer-setting-speed,.dplayer.dplayer-live .dplayer-time,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,.dplayer.dplayer-no-danmaku .dplayer-danmaku{display:none}.dplayer.dplayer-arrow .dplayer-danmaku{font-size:18px}.dplayer.dplayer-arrow .dplayer-icon{margin:0 -3px}.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move{-webkit-animation-play-state:running;animation-play-state:running}@media (min-width:900px){.dplayer.dplayer-playing .dplayer-controller,.dplayer.dplayer-playing .dplayer-controller-mask{opacity:0}.dplayer.dplayer-playing:hover .dplayer-controller,.dplayer.dplayer-playing:hover .dplayer-controller-mask{opacity:1}}.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon{display:block}.dplayer.dplayer-loading .dplayer-danmaku,.dplayer.dplayer-loading .dplayer-danmaku-move,.dplayer.dplayer-paused .dplayer-danmaku,.dplayer.dplayer-paused .dplayer-danmaku-move{-webkit-animation-play-state:paused;animation-play-state:paused}.dplayer.dplayer-hide-controller{cursor:none}.dplayer.dplayer-hide-controller .dplayer-controller,.dplayer.dplayer-hide-controller .dplayer-controller-mask{opacity:0;transform:translateY(100%)}.dplayer.dplayer-show-controller .dplayer-controller,.dplayer.dplayer-show-controller .dplayer-controller-mask{opacity:1}.dplayer.dplayer-fulled{position:fixed;z-index:100000;left:0;top:0;width:100%!important;height:100%!important}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume{display:none}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:static;display:inline-block}.dplayer.dplayer-mobile .dplayer-bar-time,.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play{display:none}.dplayer.dplayer-mobile .dplayer-mobile-play{display:block}.dplayer-web-fullscreen-fix{position:fixed;top:0;left:0;margin:0;padding:0}[data-balloon]:before{display:none}[data-balloon]:after{padding:.3em .7em;background:rgba(17,17,17,.7)}[data-balloon][data-balloon-pos=up]:after{margin-bottom:0}.dplayer-bezel{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon{position:absolute;top:50%;left:50%;margin:-26px 0 0 -26px;height:52px;width:52px;padding:12px;box-sizing:border-box;background:rgba(0,0,0,.5);border-radius:50%;opacity:0;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition{-webkit-animation:bezel-hide .5s linear;animation:bezel-hide .5s linear}@-webkit-keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}@keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}.dplayer-bezel .dplayer-danloading{position:absolute;top:50%;margin-top:-7px;width:100%;text-align:center;font-size:14px;line-height:14px;-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-bezel .diplayer-loading-icon{display:none;position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;height:36px;width:36px;pointer-events:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide{display:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot{-webkit-animation:diplayer-loading-dot-fade .8s ease infinite;animation:diplayer-loading-dot-fade .8s ease infinite;opacity:0;transform-origin:4px 4px}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7{-webkit-animation-delay:.7s;animation-delay:.7s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6{-webkit-animation-delay:.6s;animation-delay:.6s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5{-webkit-animation-delay:.5s;animation-delay:.5s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4{-webkit-animation-delay:.4s;animation-delay:.4s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3{-webkit-animation-delay:.3s;animation-delay:.3s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2{-webkit-animation-delay:.2s;animation-delay:.2s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1{-webkit-animation-delay:.1s;animation-delay:.1s}@-webkit-keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}@keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}.dplayer-controller-mask{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;height:98px;width:100%}.dplayer-controller,.dplayer-controller-mask{position:absolute;bottom:0;transition:all .3s ease}.dplayer-controller{left:0;right:0;height:41px;padding:0 20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons{display:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box{display:block}.dplayer-controller .dplayer-bar-wrap{padding:5px 0;cursor:pointer;position:absolute;bottom:33px;width:calc(100% - 40px);height:3px}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight{display:block;width:8px;transform:translateX(-4px);top:4px;height:40%}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight{z-index:12;position:absolute;top:5px;width:6px;height:20%;border-radius:6px;background-color:#fff;text-align:center;transform:translateX(-3px);transition:all .2s ease-in-out}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text{display:block}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-preview,.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-time{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text{display:none;position:absolute;left:50%;top:-24px;padding:5px 8px;background-color:rgba(0,0,0,.62);color:#fff;border-radius:4px;font-size:12px;white-space:nowrap;transform:translateX(-50%)}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview{position:absolute;background:#fff;pointer-events:none;display:none;background-size:16000px 100%}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time{position:absolute;left:0;top:-20px;border-radius:4px;padding:5px 7px;background-color:rgba(0,0,0,.62);color:#fff;font-size:12px;text-align:center;opacity:1;transition:opacity .1s ease-in-out;word-wrap:normal;word-break:normal;z-index:2;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-bar{position:relative;height:3px;width:100%;background:hsla(0,0%,100%,.2);cursor:pointer}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded{background:hsla(0,0%,100%,.4);transition:all .5s ease}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded,.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played{position:absolute;left:0;top:0;bottom:0;height:3px;will-change:width}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons{height:38px;position:absolute;bottom:0}.dplayer-controller .dplayer-icons.dplayer-comment-box{display:none;position:absolute;transition:all .3s ease-in-out;z-index:2;height:38px;bottom:0;left:20px;right:20px;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon{position:absolute;left:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon{position:absolute;right:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box{position:absolute;background:rgba(28,28,28,.9);bottom:41px;left:0;box-shadow:0 0 25px rgba(0,0,0,.3);border-radius:4px;padding:10px 10px 16px;font-size:14px;width:204px;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open{transform:scale(1)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio]{display:none}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label{cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title{font-size:13px;color:#fff;line-height:30px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title{margin-bottom:6px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span{border-radius:4px 0 0 4px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span{border-radius:0 4px 4px 0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span{width:33%;padding:4px 6px;line-height:16px;display:inline-block;font-size:12px;color:#fff;border:1px solid #fff;margin-right:-1px;box-sizing:border-box;text-align:center;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked+span{background:#e4e4e6;color:#1c1c1c}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label{font-size:0;padding:6px;display:inline-block}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span{width:22px;height:22px;display:inline-block;border-radius:50%;box-sizing:border-box;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover{-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input{outline:none;border:none;padding:8px 31px;font-size:14px;line-height:18px;text-align:center;border-radius:4px;background:none;margin:0;height:100%;box-sizing:border-box;width:100%;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-webkit-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input:-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear{display:none}.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-icons-right{right:20px}.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon{padding:8px}.dplayer-controller .dplayer-icons .dplayer-live-badge,.dplayer-controller .dplayer-icons .dplayer-time{line-height:38px;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);vertical-align:middle;font-size:13px;cursor:default}.dplayer-controller .dplayer-icons .dplayer-live-dot{display:inline-block;width:6px;height:6px;vertical-align:4%;margin-right:5px;content:"";border-radius:6px}.dplayer-controller .dplayer-icons .dplayer-icon{width:40px;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;vertical-align:middle;box-sizing:border-box;display:inline-block}.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content{transition:all .2s ease-in-out;opacity:.8}.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content{opacity:1}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon{color:#fff;width:auto;line-height:22px;font-size:14px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon{padding:10px 9px 9px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon{padding-top:8.5px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon{width:43px}.dplayer-controller .dplayer-icons .dplayer-volume{position:relative;display:inline-block;cursor:pointer;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap{display:inline-block;margin:0 10px 0 -5px;vertical-align:middle;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar{position:relative;top:17px;width:0;height:3px;background:#aaa;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;will-change:width}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons .dplayer-setting,.dplayer-controller .dplayer-icons .dplayer-subtitle-btn{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box{position:absolute;right:0;bottom:50px;transform:scale(0);width:150px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 0;transition:all .3s ease-in-out;overflow:hidden;z-index:2}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div.dplayer-setting-origin-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow{width:70px;text-align:center}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item{height:30px;padding:5px 10px;box-sizing:border-box;cursor:pointer;position:relative}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku{padding:5px 0}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label{padding:0 10px;display:inline}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap{padding:0 10px;box-sizing:border-box;display:none;vertical-align:middle;height:100%;width:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar{position:relative;top:8.5px;width:100%;height:3px;background:#fff;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;background:#aaa;will-change:width}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;background:#aaa}.dplayer-controller .dplayer-icons .dplayer-full{display:inline-block;height:100%;position:relative}.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon{display:block}.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:absolute;top:-30px;z-index:1;display:none}.dplayer-controller .dplayer-icons .dplayer-quality{position:relative;display:inline-block;height:100%;z-index:2}.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list,.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask{display:block}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask{display:none;position:absolute;bottom:38px;left:-18px;width:80px;padding-bottom:12px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list{display:none;font-size:12px;width:80px;border-radius:2px;background:rgba(28,28,28,.9);padding:5px 0;transition:all .3s ease-in-out;overflow:hidden;color:#fff;text-align:center}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item{height:25px;box-sizing:border-box;cursor:pointer;line-height:25px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-comment{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-label{color:#eee;font-size:13px;display:inline-block;vertical-align:middle;white-space:nowrap}.dplayer-controller .dplayer-icons .dplayer-toggle{width:32px;height:20px;text-align:center;font-size:0;vertical-align:middle;position:absolute;top:5px;right:10px}.dplayer-controller .dplayer-icons .dplayer-toggle input{max-height:0;max-width:0;display:none}.dplayer-controller .dplayer-icons .dplayer-toggle input+label{display:inline-block;position:relative;box-shadow:inset 0 0 0 0 #dfdfdf;border:1px solid #dfdfdf;height:20px;width:32px;border-radius:10px;box-sizing:border-box;cursor:pointer;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after,.dplayer-controller .dplayer-icons .dplayer-toggle input+label:before{content:"";position:absolute;display:block;height:18px;width:18px;top:0;left:0;border-radius:15px;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after{background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label{border-color:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:before{width:30px;background:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:after{left:12px}.dplayer-mobile-play{display:none;width:50px;height:50px;border:none;background-color:transparent;outline:none;cursor:pointer;box-sizing:border-box;bottom:0;opacity:.8;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.dplayer-danmaku{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff}.dplayer-danmaku .dplayer-danmaku-item{display:inline-block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;white-space:nowrap;text-shadow:.5px .5px .5px rgba(0,0,0,.5)}.dplayer-danmaku .dplayer-danmaku-item--demo{position:absolute;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-right{position:absolute;right:0;transform:translateX(100%)}.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{will-change:transform;-webkit-animation:danmaku 5s linear;animation:danmaku 5s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku{0%{transform:translateX(100%)}}@keyframes danmaku{0%{transform:translateX(100%)}}.dplayer-danmaku .dplayer-danmaku-bottom,.dplayer-danmaku .dplayer-danmaku-top{position:absolute;width:100%;text-align:center;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{will-change:visibility;-webkit-animation:danmaku-center 4s linear;animation:danmaku-center 4s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}@keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}.dplayer-logo{pointer-events:none;position:absolute;left:20px;top:20px;max-width:50px;max-height:50px}.dplayer-logo img{max-width:100%;max-height:100%;background:none}.dplayer-menu{position:absolute;width:170px;border-radius:2px;background:rgba(28,28,28,.85);padding:5px 0;overflow:hidden;z-index:3;display:none}.dplayer-menu.dplayer-menu-show{display:block}.dplayer-menu .dplayer-menu-item{height:30px;box-sizing:border-box;cursor:pointer}.dplayer-menu .dplayer-menu-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-menu .dplayer-menu-item a{padding:0 10px;line-height:30px;color:#eee;font-size:13px;display:inline-block;vertical-align:middle;width:100%;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-menu .dplayer-menu-item a:hover{text-decoration:none}.dplayer-notice{opacity:0;position:absolute;bottom:60px;left:20px;font-size:14px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 20px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none}.dplayer-subtitle{position:absolute;bottom:40px;width:90%;left:5%;text-align:center;color:#fff;text-shadow:.5px .5px .5px rgba(0,0,0,.5);font-size:20px}.dplayer-subtitle.dplayer-subtitle-hide{display:none}.dplayer-mask{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:none}.dplayer-mask.dplayer-mask-show{display:block}.dplayer-video-wrap{position:relative;background:#000;font-size:0;width:100%;height:100%}.dplayer-video-wrap .dplayer-video{width:100%;height:100%;display:none}.dplayer-video-wrap .dplayer-video-current{display:block}.dplayer-video-wrap .dplayer-video-prepare{display:none}.dplayer-info-panel{position:absolute;top:10px;left:10px;width:400px;background:rgba(28,28,28,.8);padding:10px;color:#fff;font-size:12px;border-radius:2px}.dplayer-info-panel-hide{display:none}.dplayer-info-panel .dplayer-info-panel-close{cursor:pointer;position:absolute;right:10px;top:10px}.dplayer-info-panel .dplayer-info-panel-item>span{display:inline-block;vertical-align:middle;line-height:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-info-panel .dplayer-info-panel-item-title{width:100px;text-align:right;margin-right:10px}.dplayer-info-panel .dplayer-info-panel-item-data{width:260px}',""]),Y.exports=be},function(Y,be,F){(be=F(3)(!1)).push([Y.i,':root{--balloon-border-radius:2px;--balloon-color:rgba(16,16,16,0.95);--balloon-text-color:#fff;--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{position:relative;cursor:pointer}[aria-label][data-balloon-pos]:after{text-indent:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:var(--balloon-font-size);background:var(--balloon-color);border-radius:2px;color:var(--balloon-text-color);border-radius:var(--balloon-border-radius);content:attr(aria-label);padding:.5em 1em;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;transition:all .18s ease-out .18s;position:absolute;z-index:10}[aria-label][data-balloon-pos]:before{width:0;height:0;border:5px solid transparent;border-top:5px solid var(--balloon-color);content:""}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before,[aria-label][data-balloon-pos][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-visible]:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos].font-awesome:after{font-family:FontAwesome,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}[aria-label][data-balloon-pos][data-balloon-break]:after{white-space:pre}[aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after{white-space:pre-line;word-break:break-word}[aria-label][data-balloon-pos][data-balloon-blunt]:after,[aria-label][data-balloon-pos][data-balloon-blunt]:before{transition:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:after{bottom:100%;left:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:before{bottom:100%;left:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:after{bottom:100%;right:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:before{bottom:100%;right:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down]:after{left:50%;margin-top:10px;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:50%;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:after{left:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:after{right:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);right:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=left]:after{margin-right:10px;right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:before{width:0;height:0;border:5px solid transparent;border-left:5px solid var(--balloon-color);right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:after{left:100%;margin-left:10px;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:before{width:0;height:0;border:5px solid transparent;border-right:5px solid var(--balloon-color);left:100%;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-length=small]:after{white-space:normal;width:80px}[aria-label][data-balloon-pos][data-balloon-length=medium]:after{white-space:normal;width:150px}[aria-label][data-balloon-pos][data-balloon-length=large]:after{white-space:normal;width:260px}[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:380px}@media screen and (max-width:768px){[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:90vw}}[aria-label][data-balloon-pos][data-balloon-length=fit]:after{white-space:normal;width:100%}',""]),Y.exports=be},function(Y,be,F){var re=Function.prototype.apply;function P(X,je){this._id=X,this._clearFn=je}be.setTimeout=function(){return new P(re.call(setTimeout,window,arguments),clearTimeout)},be.setInterval=function(){return new P(re.call(setInterval,window,arguments),clearInterval)},be.clearTimeout=be.clearInterval=function(X){X&&X.close()},P.prototype.unref=P.prototype.ref=function(){},P.prototype.close=function(){this._clearFn.call(window,this._id)},be.enroll=function(X,je){clearTimeout(X._idleTimeoutId),X._idleTimeout=je},be.unenroll=function(X){clearTimeout(X._idleTimeoutId),X._idleTimeout=-1},be._unrefActive=be.active=function(X){clearTimeout(X._idleTimeoutId);var je=X._idleTimeout;je>=0&&(X._idleTimeoutId=setTimeout(function(){X._onTimeout&&X._onTimeout()},je))},F(40),be.setImmediate=setImmediate,be.clearImmediate=clearImmediate},function(Y,be,F){(function(re,P){(function(X,je){"use strict";if(!X.setImmediate){var de,tt,Z,Pe,ve,dt=1,at={},Pt=!1,Ft=X.document,bt=Object.getPrototypeOf&&Object.getPrototypeOf(X);bt=bt&&bt.setTimeout?bt:X,{}.toString.call(X.process)==="[object process]"?de=function(Ve){P.nextTick(function(){he(Ve)})}:function(){if(X.postMessage&&!X.importScripts){var Ve=!0,yt=X.onmessage;return X.onmessage=function(){Ve=!1},X.postMessage("","*"),X.onmessage=yt,Ve}}()?(Pe="setImmediate$"+Math.random()+"$",ve=function(Ve){Ve.source===X&&typeof Ve.data=="string"&&Ve.data.indexOf(Pe)===0&&he(+Ve.data.slice(Pe.length))},X.addEventListener?X.addEventListener("message",ve,!1):X.attachEvent("onmessage",ve),de=function(Ve){X.postMessage(Pe+Ve,"*")}):X.MessageChannel?((Z=new MessageChannel).port1.onmessage=function(Ve){he(Ve.data)},de=function(Ve){Z.port2.postMessage(Ve)}):Ft&&"onreadystatechange"in Ft.createElement("script")?(tt=Ft.documentElement,de=function(Ve){var yt=Ft.createElement("script");yt.onreadystatechange=function(){he(Ve),yt.onreadystatechange=null,tt.removeChild(yt),yt=null},tt.appendChild(yt)}):de=function(Ve){setTimeout(he,0,Ve)},bt.setImmediate=function(Ve){typeof Ve!="function"&&(Ve=new Function(""+Ve));for(var yt=new Array(arguments.length-1),Mt=0;Mt<yt.length;Mt++)yt[Mt]=arguments[Mt+1];var Ut={callback:Ve,args:yt};return at[dt]=Ut,de(dt),dt++},bt.clearImmediate=Ct}function Ct(Ve){delete at[Ve]}function he(Ve){if(Pt)setTimeout(he,0,Ve);else{var yt=at[Ve];if(yt){Pt=!0;try{(function(Mt){var Ut=Mt.callback,It=Mt.args;switch(It.length){case 0:Ut();break;case 1:Ut(It[0]);break;case 2:Ut(It[0],It[1]);break;case 3:Ut(It[0],It[1],It[2]);break;default:Ut.apply(je,It)}})(yt)}finally{Ct(Ve),Pt=!1}}}}})(typeof self=="undefined"?re===void 0?this:re:self)}).call(this,F(4),F(5))},function(Y,be,F){"use strict";var re=F(0),P=F(6),X=F(42),je=F(12);function de(Z){var Pe=new X(Z),ve=P(X.prototype.request,Pe);return re.extend(ve,X.prototype,Pe),re.extend(ve,Pe),ve}var tt=de(F(9));tt.Axios=X,tt.create=function(Z){return de(je(tt.defaults,Z))},tt.Cancel=F(13),tt.CancelToken=F(55),tt.isCancel=F(8),tt.all=function(Z){return Promise.all(Z)},tt.spread=F(56),Y.exports=tt,Y.exports.default=tt},function(Y,be,F){"use strict";var re=F(0),P=F(7),X=F(43),je=F(44),de=F(12);function tt(Z){this.defaults=Z,this.interceptors={request:new X,response:new X}}tt.prototype.request=function(Z){typeof Z=="string"?(Z=arguments[1]||{}).url=arguments[0]:Z=Z||{},(Z=de(this.defaults,Z)).method?Z.method=Z.method.toLowerCase():this.defaults.method?Z.method=this.defaults.method.toLowerCase():Z.method="get";var Pe=[je,void 0],ve=Promise.resolve(Z);for(this.interceptors.request.forEach(function(dt){Pe.unshift(dt.fulfilled,dt.rejected)}),this.interceptors.response.forEach(function(dt){Pe.push(dt.fulfilled,dt.rejected)});Pe.length;)ve=ve.then(Pe.shift(),Pe.shift());return ve},tt.prototype.getUri=function(Z){return Z=de(this.defaults,Z),P(Z.url,Z.params,Z.paramsSerializer).replace(/^\?/,"")},re.forEach(["delete","get","head","options"],function(Z){tt.prototype[Z]=function(Pe,ve){return this.request(re.merge(ve||{},{method:Z,url:Pe}))}}),re.forEach(["post","put","patch"],function(Z){tt.prototype[Z]=function(Pe,ve,dt){return this.request(re.merge(dt||{},{method:Z,url:Pe,data:ve}))}}),Y.exports=tt},function(Y,be,F){"use strict";var re=F(0);function P(){this.handlers=[]}P.prototype.use=function(X,je){return this.handlers.push({fulfilled:X,rejected:je}),this.handlers.length-1},P.prototype.eject=function(X){this.handlers[X]&&(this.handlers[X]=null)},P.prototype.forEach=function(X){re.forEach(this.handlers,function(je){je!==null&&X(je)})},Y.exports=P},function(Y,be,F){"use strict";var re=F(0),P=F(45),X=F(8),je=F(9);function de(tt){tt.cancelToken&&tt.cancelToken.throwIfRequested()}Y.exports=function(tt){return de(tt),tt.headers=tt.headers||{},tt.data=P(tt.data,tt.headers,tt.transformRequest),tt.headers=re.merge(tt.headers.common||{},tt.headers[tt.method]||{},tt.headers),re.forEach(["delete","get","head","post","put","patch","common"],function(Z){delete tt.headers[Z]}),(tt.adapter||je.adapter)(tt).then(function(Z){return de(tt),Z.data=P(Z.data,Z.headers,tt.transformResponse),Z},function(Z){return X(Z)||(de(tt),Z&&Z.response&&(Z.response.data=P(Z.response.data,Z.response.headers,tt.transformResponse))),Promise.reject(Z)})}},function(Y,be,F){"use strict";var re=F(0);Y.exports=function(P,X,je){return re.forEach(je,function(de){P=de(P,X)}),P}},function(Y,be,F){"use strict";var re=F(0);Y.exports=function(P,X){re.forEach(P,function(je,de){de!==X&&de.toUpperCase()===X.toUpperCase()&&(P[X]=je,delete P[de])})}},function(Y,be,F){"use strict";var re=F(11);Y.exports=function(P,X,je){var de=je.config.validateStatus;!de||de(je.status)?P(je):X(re("Request failed with status code "+je.status,je.config,null,je.request,je))}},function(Y,be,F){"use strict";Y.exports=function(re,P,X,je,de){return re.config=P,X&&(re.code=X),re.request=je,re.response=de,re.isAxiosError=!0,re.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},re}},function(Y,be,F){"use strict";var re=F(50),P=F(51);Y.exports=function(X,je){return X&&!re(je)?P(X,je):je}},function(Y,be,F){"use strict";Y.exports=function(re){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(re)}},function(Y,be,F){"use strict";Y.exports=function(re,P){return P?re.replace(/\/+$/,"")+"/"+P.replace(/^\/+/,""):re}},function(Y,be,F){"use strict";var re=F(0),P=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Y.exports=function(X){var je,de,tt,Z={};return X&&re.forEach(X.split(`
`),function(Pe){if(tt=Pe.indexOf(":"),je=re.trim(Pe.substr(0,tt)).toLowerCase(),de=re.trim(Pe.substr(tt+1)),je){if(Z[je]&&P.indexOf(je)>=0)return;Z[je]=je==="set-cookie"?(Z[je]?Z[je]:[]).concat([de]):Z[je]?Z[je]+", "+de:de}}),Z}},function(Y,be,F){"use strict";var re=F(0);Y.exports=re.isStandardBrowserEnv()?function(){var P,X=/(msie|trident)/i.test(navigator.userAgent),je=document.createElement("a");function de(tt){var Z=tt;return X&&(je.setAttribute("href",Z),Z=je.href),je.setAttribute("href",Z),{href:je.href,protocol:je.protocol?je.protocol.replace(/:$/,""):"",host:je.host,search:je.search?je.search.replace(/^\?/,""):"",hash:je.hash?je.hash.replace(/^#/,""):"",hostname:je.hostname,port:je.port,pathname:je.pathname.charAt(0)==="/"?je.pathname:"/"+je.pathname}}return P=de(window.location.href),function(tt){var Z=re.isString(tt)?de(tt):tt;return Z.protocol===P.protocol&&Z.host===P.host}}():function(){return!0}},function(Y,be,F){"use strict";var re=F(0);Y.exports=re.isStandardBrowserEnv()?{write:function(P,X,je,de,tt,Z){var Pe=[];Pe.push(P+"="+encodeURIComponent(X)),re.isNumber(je)&&Pe.push("expires="+new Date(je).toGMTString()),re.isString(de)&&Pe.push("path="+de),re.isString(tt)&&Pe.push("domain="+tt),Z===!0&&Pe.push("secure"),document.cookie=Pe.join("; ")},read:function(P){var X=document.cookie.match(new RegExp("(^|;\\s*)("+P+")=([^;]*)"));return X?decodeURIComponent(X[3]):null},remove:function(P){this.write(P,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(Y,be,F){"use strict";var re=F(13);function P(X){if(typeof X!="function")throw new TypeError("executor must be a function.");var je;this.promise=new Promise(function(tt){je=tt});var de=this;X(function(tt){de.reason||(de.reason=new re(tt),je(de.reason))})}P.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},P.source=function(){var X;return{token:new P(function(je){X=je}),cancel:X}},Y.exports=P},function(Y,be,F){"use strict";Y.exports=function(re){return function(P){return re.apply(null,P)}}},function(Y,be,F){"use strict";(function(re){var P=typeof self!="undefined"?self:typeof window!="undefined"?window:re!==void 0?re:{},X=Object.create(P),je=/["&'<>]/;X.$escape=function(de){return function(tt){var Z=""+tt,Pe=je.exec(Z);if(!Pe)return tt;var ve="",dt=void 0,at=void 0,Pt=void 0;for(dt=Pe.index,at=0;dt<Z.length;dt++){switch(Z.charCodeAt(dt)){case 34:Pt="&#34;";break;case 38:Pt="&#38;";break;case 39:Pt="&#39;";break;case 60:Pt="&#60;";break;case 62:Pt="&#62;";break;default:continue}at!==dt&&(ve+=Z.substring(at,dt)),at=dt+1,ve+=Pt}return at!==dt?ve+Z.substring(at,dt):ve}(function tt(Z){return typeof Z!="string"&&(Z=Z==null?"":typeof Z=="function"?tt(Z.call(Z)):JSON.stringify(Z)),Z}(de))},X.$each=function(de,tt){if(Array.isArray(de))for(var Z=0,Pe=de.length;Z<Pe;Z++)tt(de[Z],Z);else for(var ve in de)tt(de[ve],ve)},Y.exports=X}).call(this,F(4))},function(Y,be,F){"use strict";F.r(be),F(35);var re=F(15),P=/mobile/i.test(window.navigator.userAgent),X={secondToTime:function(qe){if((qe=qe||0)===0||qe===1/0||qe.toString()==="NaN")return"00:00";var Qe=Math.floor(qe/3600),vt=Math.floor((qe-3600*Qe)/60),Je=Math.floor(qe-3600*Qe-60*vt);return(Qe>0?[Qe,vt,Je]:[vt,Je]).map(function(me){return me<10?"0"+me:""+me}).join(":")},getElementViewLeft:function(qe){var Qe=qe.offsetLeft,vt=qe.offsetParent,Je=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;vt!==null&&vt!==qe;)Qe+=vt.offsetLeft,vt=vt.offsetParent;else for(;vt!==null;)Qe+=vt.offsetLeft,vt=vt.offsetParent;return Qe-Je},getBoundingClientRectViewLeft:function(qe){var Qe=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(qe.getBoundingClientRect){if(typeof this.getBoundingClientRectViewLeft.offset!="number"){var vt=document.createElement("div");vt.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(vt),this.getBoundingClientRectViewLeft.offset=-vt.getBoundingClientRect().top-Qe,document.body.removeChild(vt),vt=null}var Je=qe.getBoundingClientRect(),me=this.getBoundingClientRectViewLeft.offset;return Je.left+me}return this.getElementViewLeft(qe)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(qe){var Qe=qe.left,vt=Qe===void 0?0:Qe,Je=qe.top,me=Je===void 0?0:Je;this.isFirefox?(document.documentElement.scrollLeft=vt,document.documentElement.scrollTop=me):window.scrollTo(vt,me)},isMobile:P,isSafari:/Safari/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(qe,Qe){localStorage.setItem(qe,Qe)},get:function(qe){return localStorage.getItem(qe)}},nameMap:{dragStart:P?"touchstart":"mousedown",dragMove:P?"touchmove":"mousemove",dragEnd:P?"touchend":"mouseup"},color2Number:function(qe){return qe[0]==="#"&&(qe=qe.substr(1)),qe.length===3&&(qe="".concat(qe[0]).concat(qe[0]).concat(qe[1]).concat(qe[1]).concat(qe[2]).concat(qe[2])),parseInt(qe,16)+0&16777215},number2Color:function(qe){return"#"+("00000"+qe.toString(16)).slice(-6)},number2Type:function(qe){switch(qe){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},je=F(2),de=F.n(je),tt={send:function(qe){de.a.post(qe.url,qe.data).then(function(Qe){var vt=Qe.data;vt&&vt.code===0?qe.success&&qe.success(vt):qe.error&&qe.error(vt&&vt.msg)}).catch(function(Qe){console.error(Qe),qe.error&&qe.error()})},read:function(qe){de.a.get(qe.url).then(function(Qe){var vt=Qe.data;vt&&vt.code===0?qe.success&&qe.success(vt.data.map(function(Je){return{time:Je[0],type:Je[1],color:Je[2],author:Je[3],text:Je[4]}})):qe.error&&qe.error(vt&&vt.msg)}).catch(function(Qe){console.error(Qe),qe.error&&qe.error()})}};function Z(qe){return(Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qe){return typeof Qe}:function(Qe){return Qe&&typeof Symbol=="function"&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe})(qe)}var Pe=function(qe){var Qe={container:qe.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:tt,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}}};for(var vt in Qe)Qe.hasOwnProperty(vt)&&!qe.hasOwnProperty(vt)&&(qe[vt]=Qe[vt]);return qe.video&&!qe.video.type&&(qe.video.type="auto"),Z(qe.danmaku)==="object"&&qe.danmaku&&!qe.danmaku.user&&(qe.danmaku.user="DIYgod"),qe.subtitle&&(!qe.subtitle.type&&(qe.subtitle.type="webvtt"),!qe.subtitle.fontSize&&(qe.subtitle.fontSize="20px"),!qe.subtitle.bottom&&(qe.subtitle.bottom="40px"),!qe.subtitle.color&&(qe.subtitle.color="#fff")),qe.video.quality&&(qe.video.url=qe.video.quality[qe.video.defaultQuality].url),qe.lang&&(qe.lang=qe.lang.toLowerCase()),qe.contextmenu=qe.contextmenu.concat([{text:"Video info",click:function(Je){Je.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.26.0"),link:"https://github.com/MoePlayer/DPlayer"}]),qe},ve={"zh-cn":{"Danmaku is loading":"\u5F39\u5E55\u52A0\u8F7D\u4E2D",Top:"\u9876\u90E8",Bottom:"\u5E95\u90E8",Rolling:"\u6EDA\u52A8","Input danmaku, hit Enter":"\u8F93\u5165\u5F39\u5E55\uFF0C\u56DE\u8F66\u53D1\u9001","About author":"\u5173\u4E8E\u4F5C\u8005","DPlayer feedback":"\u64AD\u653E\u5668\u610F\u89C1\u53CD\u9988","About DPlayer":"\u5173\u4E8E DPlayer \u64AD\u653E\u5668",Loop:"\u6D17\u8111\u5FAA\u73AF",Speed:"\u901F\u5EA6","Opacity for danmaku":"\u5F39\u5E55\u900F\u660E\u5EA6",Normal:"\u6B63\u5E38","Please input danmaku content!":"\u8981\u8F93\u5165\u5F39\u5E55\u5185\u5BB9\u554A\u5582\uFF01","Set danmaku color":"\u8BBE\u7F6E\u5F39\u5E55\u989C\u8272","Set danmaku type":"\u8BBE\u7F6E\u5F39\u5E55\u7C7B\u578B","Show danmaku":"\u663E\u793A\u5F39\u5E55","Video load failed":"\u89C6\u9891\u52A0\u8F7D\u5931\u8D25","Danmaku load failed":"\u5F39\u5E55\u52A0\u8F7D\u5931\u8D25","Danmaku send failed":"\u5F39\u5E55\u53D1\u9001\u5931\u8D25","Switching to":"\u6B63\u5728\u5207\u6362\u81F3","Switched to":"\u5DF2\u7ECF\u5207\u6362\u81F3",quality:"\u753B\u8D28",FF:"\u5FEB\u8FDB",REW:"\u5FEB\u9000","Unlimited danmaku":"\u6D77\u91CF\u5F39\u5E55","Send danmaku":"\u53D1\u9001\u5F39\u5E55",Setting:"\u8BBE\u7F6E","Full screen":"\u5168\u5C4F","Web full screen":"\u9875\u9762\u5168\u5C4F",Send:"\u53D1\u9001",Screenshot:"\u622A\u56FE",AirPlay:"\u65E0\u7EBF\u6295\u5C4F",s:"\u79D2","Show subtitle":"\u663E\u793A\u5B57\u5E55","Hide subtitle":"\u9690\u85CF\u5B57\u5E55",Volume:"\u97F3\u91CF",Live:"\u76F4\u64AD","Video info":"\u89C6\u9891\u7EDF\u8BA1\u4FE1\u606F"},"zh-tw":{"Danmaku is loading":"\u5F48\u5E55\u8F09\u5165\u4E2D",Top:"\u9802\u90E8",Bottom:"\u5E95\u90E8",Rolling:"\u6EFE\u52D5","Input danmaku, hit Enter":"\u8F38\u5165\u5F48\u5E55\uFF0CEnter \u767C\u9001","About author":"\u95DC\u65BC\u4F5C\u8005","DPlayer feedback":"\u64AD\u653E\u5668\u610F\u898B\u56DE\u994B","About DPlayer":"\u95DC\u65BC DPlayer \u64AD\u653E\u5668",Loop:"\u5FAA\u74B0\u64AD\u653E",Speed:"\u901F\u5EA6","Opacity for danmaku":"\u5F48\u5E55\u900F\u660E\u5EA6",Normal:"\u6B63\u5E38","Please input danmaku content!":"\u8ACB\u8F38\u5165\u5F48\u5E55\u5167\u5BB9\u554A\uFF01","Set danmaku color":"\u8A2D\u5B9A\u5F48\u5E55\u984F\u8272","Set danmaku type":"\u8A2D\u5B9A\u5F48\u5E55\u985E\u578B","Show danmaku":"\u986F\u793A\u5F48\u5E55","Video load failed":"\u5F71\u7247\u8F09\u5165\u5931\u6557","Danmaku load failed":"\u5F48\u5E55\u8F09\u5165\u5931\u6557","Danmaku send failed":"\u5F48\u5E55\u767C\u9001\u5931\u6557","Switching to":"\u6B63\u5728\u5207\u63DB\u81F3","Switched to":"\u5DF2\u7D93\u5207\u63DB\u81F3",quality:"\u756B\u8CEA",FF:"\u5FEB\u9032",REW:"\u5FEB\u9000","Unlimited danmaku":"\u5DE8\u91CF\u5F48\u5E55","Send danmaku":"\u767C\u9001\u5F48\u5E55",Setting:"\u8A2D\u5B9A","Full screen":"\u5168\u87A2\u5E55","Web full screen":"\u9801\u9762\u5168\u87A2\u5E55",Send:"\u767C\u9001",Screenshot:"\u622A\u5716",AirPlay:"\u7121\u7DDA\u6295\u5C4F",s:"\u79D2","Show subtitle":"\u986F\u793A\u5B57\u5E55","Hide subtitle":"\u96B1\u85CF\u5B57\u5E55",Volume:"\u97F3\u91CF",Live:"\u76F4\u64AD","Video info":"\u5F71\u7247\u7D71\u8A08\u8A0A\u606F"}},dt=function(qe){var Qe=this;this.lang=qe,this.tran=function(vt){return ve[Qe.lang]&&ve[Qe.lang][vt]?ve[Qe.lang][vt]:vt}},at=F(17),Pt=F.n(at),Ft=F(18),bt=F.n(Ft),Ct=F(19),he=F.n(Ct),Ve=F(20),yt=F.n(Ve),Mt=F(21),Ut=F.n(Mt),It=F(22),Yt=F.n(It),Gt=F(23),an=F.n(Gt),et=F(24),xt=F.n(et),mt=F(25),Kt=F.n(mt),$t=F(26),un=F.n($t),Sn=F(27),on=F.n(Sn),zt=F(28),en=F.n(zt),y=F(29),_n=F.n(y),An=F(30),Fn=F.n(An),Wn=F(31),zn=F.n(Wn),or=F(32),Sr=F.n(or),pr=F(33),Jr=F.n(pr),jr={play:Pt.a,pause:bt.a,volumeUp:he.a,volumeDown:yt.a,volumeOff:Ut.a,full:Yt.a,fullWeb:an.a,setting:xt.a,right:Kt.a,comment:un.a,commentOff:on.a,send:en.a,pallette:_n.a,camera:Fn.a,subtitle:Sr.a,loading:Jr.a,airplay:zn.a},Mi=F(34),wn=F.n(Mi);function De(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Ae=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.container=me.container,this.options=me.options,this.index=me.index,this.tran=me.tran,this.init()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"init",value:function(){this.container.innerHTML=wn()({options:this.options,index:this.index,tran:this.tran,icons:jr,mobile:X.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:this.options.airplay,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&De(Qe.prototype,vt),Je&&De(Qe,Je),qe}();function st(qe){return(st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qe){return typeof Qe}:function(Qe){return Qe&&typeof Symbol=="function"&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe})(qe)}function Xe(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var ie=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.options=me,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"load",value:function(){var me,Ye=this;me=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var Tt=(this.options.api.addition||[]).slice(0);Tt.push(me),this.events&&this.events.trigger("danmaku_load_start",Tt),this._readAllEndpoints(Tt,function(Tn){Ye.dan=[].concat.apply([],Tn).sort(function(tr,mr){return tr.time-mr.time}),window.requestAnimationFrame(function(){Ye.frame()}),Ye.options.callback(),Ye.events&&Ye.events.trigger("danmaku_load_end")})}},{key:"reload",value:function(me){this.options.api=me,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(me,Ye){for(var Tt=this,Tn=[],tr=0,mr=function($i){Tt.options.apiBackend.read({url:me[$i],success:function(Li){Tn[$i]=Li,++tr===me.length&&Ye(Tn)},error:function(Li){Tt.options.error(Li||Tt.options.tran("Danmaku load failed")),Tn[$i]=[],++tr===me.length&&Ye(Tn)}})},ni=0;ni<me.length;++ni)mr(ni)}},{key:"send",value:function(me,Ye){var Tt=this,Tn={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:me.text,color:me.color,type:me.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:Tn,success:Ye,error:function(mr){Tt.options.error(mr||Tt.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,Tn),this.danIndex++;var tr={text:this.htmlEncode(Tn.text),color:Tn.color,type:Tn.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(tr),this.events&&this.events.trigger("danmaku_send",Tn)}},{key:"frame",value:function(){var me=this;if(this.dan.length&&!this.paused&&this.showing){for(var Ye=this.dan[this.danIndex],Tt=[];Ye&&this.options.time()>parseFloat(Ye.time);)Tt.push(Ye),Ye=this.dan[++this.danIndex];this.draw(Tt)}window.requestAnimationFrame(function(){me.frame()})}},{key:"opacity",value:function(me){if(me!==void 0){for(var Ye=this.container.getElementsByClassName("dplayer-danmaku-item"),Tt=0;Tt<Ye.length;Tt++)Ye[Tt].style.opacity=me;this._opacity=me,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(me){var Ye=this;if(this.showing){var Tt=this.options.height,Tn=this.container.offsetWidth,tr=this.container.offsetHeight,mr=parseInt(tr/Tt),ni=function(Ei){var Br=Ei.offsetWidth||parseInt(Ei.style.width),Ma=Ei.getBoundingClientRect().right||Ye.container.getBoundingClientRect().right+Br;return Ye.container.getBoundingClientRect().right-Ma},$i=function(Ei){return(Tn+Ei)/5},Li=function(Ei,Br,Ma){for(var to=Tn/$i(Ma),Go=function(Co){var Lo=Ye.danTunnel[Br][Co+""];if(!Lo||!Lo.length)return Ye.danTunnel[Br][Co+""]=[Ei],Ei.addEventListener("animationend",function(){Ye.danTunnel[Br][Co+""].splice(0,1)}),{v:Co%mr};if(Br!=="right")return"continue";for(var Vt=0;Vt<Lo.length;Vt++){var Lt=ni(Lo[Vt])-10;if(Lt<=Tn-to*$i(parseInt(Lo[Vt].style.width))||Lt<=0)break;if(Vt===Lo.length-1)return Ye.danTunnel[Br][Co+""].push(Ei),Ei.addEventListener("animationend",function(){Ye.danTunnel[Br][Co+""].splice(0,1)}),{v:Co%mr}}},es=0;Ye.unlimited||es<mr;es++){var Es=Go(es);switch(Es){case"continue":continue;default:if(st(Es)==="object")return Es.v}}return-1};Object.prototype.toString.call(me)!=="[object Array]"&&(me=[me]);for(var eo=document.createDocumentFragment(),Ho=function(Ei){me[Ei].type=X.number2Type(me[Ei].type),me[Ei].color||(me[Ei].color=16777215);var Br=document.createElement("div");Br.classList.add("dplayer-danmaku-item"),Br.classList.add("dplayer-danmaku-".concat(me[Ei].type)),me[Ei].border?Br.innerHTML='<span style="border:'.concat(me[Ei].border,'">').concat(me[Ei].text,"</span>"):Br.innerHTML=me[Ei].text,Br.style.opacity=Ye._opacity,Br.style.color=X.number2Color(me[Ei].color),Br.addEventListener("animationend",function(){Ye.container.removeChild(Br)});var Ma=Ye._measure(me[Ei].text),to=void 0;switch(me[Ei].type){case"right":(to=Li(Br,me[Ei].type,Ma))>=0&&(Br.style.width=Ma+1+"px",Br.style.top=Tt*to+"px",Br.style.transform="translateX(-".concat(Tn,"px)"));break;case"top":(to=Li(Br,me[Ei].type))>=0&&(Br.style.top=Tt*to+"px");break;case"bottom":(to=Li(Br,me[Ei].type))>=0&&(Br.style.bottom=Tt*to+"px");break;default:console.error("Can't handled danmaku type: ".concat(me[Ei].type))}to>=0&&(Br.classList.add("dplayer-danmaku-move"),eo.appendChild(Br))},No=0;No<me.length;No++)Ho(No);return this.container.appendChild(eo),eo}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(me){if(!this.context){var Ye=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=Ye.getPropertyValue("font")}return this.context.measureText(me).width}},{key:"seek",value:function(){this.clear();for(var me=0;me<this.dan.length;me++){if(this.dan[me].time>=this.options.time()){this.danIndex=me;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(me){return me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var me=this.container.offsetWidth,Ye=this.container.getElementsByClassName("dplayer-danmaku-item"),Tt=0;Tt<Ye.length;Tt++)Ye[Tt].style.transform="translateX(-".concat(me,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(me){this.unlimited=me}}])&&Xe(Qe.prototype,vt),Je&&Xe(Qe,Je),qe}();function V(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var B=function(){function qe(){(function(me,Ye){if(!(me instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,qe),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var Qe,vt,Je;return Qe=qe,(vt=[{key:"on",value:function(me,Ye){this.type(me)&&typeof Ye=="function"&&(this.events[me]||(this.events[me]=[]),this.events[me].push(Ye))}},{key:"trigger",value:function(me,Ye){if(this.events[me]&&this.events[me].length)for(var Tt=0;Tt<this.events[me].length;Tt++)this.events[me][Tt](Ye)}},{key:"type",value:function(me){return this.playerEvents.indexOf(me)!==-1?"player":this.videoEvents.indexOf(me)!==-1?"video":(console.error("Unknown event name: ".concat(me)),null)}}])&&V(Qe.prototype,vt),Je&&V(Qe,Je),qe}();function J(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Oe=function(){function qe(me){var Ye=this;(function(tr,mr){if(!(tr instanceof mr))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",function(){Ye.player.resize()}),this.player.events.on("webfullscreen_cancel",function(){Ye.player.resize(),X.setScrollPosition(Ye.lastScrollPosition)});var Tt=function(){Ye.player.resize(),Ye.isFullScreen("browser")?Ye.player.events.trigger("fullscreen"):(X.setScrollPosition(Ye.lastScrollPosition),Ye.player.events.trigger("fullscreen_cancel"))},Tn=function(){var tr=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;tr&&tr!==Ye.player.container||(Ye.player.resize(),tr?Ye.player.events.trigger("fullscreen"):(X.setScrollPosition(Ye.lastScrollPosition),Ye.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",Tn),document.addEventListener("fullscreenchange",Tn)):(this.player.container.addEventListener("fullscreenchange",Tt),this.player.container.addEventListener("webkitfullscreenchange",Tt),document.addEventListener("msfullscreenchange",Tn),document.addEventListener("MSFullscreenChange",Tn))}var Qe,vt,Je;return Qe=qe,(vt=[{key:"isFullScreen",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(me){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser",Ye=me==="browser"?"web":"browser",Tt=this.isFullScreen(Ye);switch(Tt||(this.lastScrollPosition=X.getScrollPosition()),me){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}Tt&&this.cancel(Ye)}},{key:"cancel",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";switch(me){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"browser";this.isFullScreen(me)?this.cancel(me):this.request(me)}}])&&J(Qe.prototype,vt),Je&&J(Qe,Je),qe}();function nt(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var ut=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:me.options.hasOwnProperty("volume")?me.options.volume:.7,unlimited:(me.options.danmaku&&me.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"init",value:function(){for(var me in this.storageName){var Ye=this.storageName[me];this.data[me]=parseFloat(X.storage.get(Ye)||this.default[me])}}},{key:"get",value:function(me){return this.data[me]}},{key:"set",value:function(me,Ye){this.data[me]=Ye,X.storage.set(this.storageName[me],Ye)}}])&&nt(Qe.prototype,vt),Je&&nt(Qe,Je),qe}();function Jt(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var pn=function(){function qe(me,Ye,Tt,Tn){(function(tr,mr){if(!(tr instanceof mr))throw new TypeError("Cannot call a class as a function")})(this,qe),this.container=me,this.video=Ye,this.options=Tt,this.events=Tn,this.init()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"init",value:function(){var me=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var Ye=this.video.textTracks[0];Ye.oncuechange=function(){var Tt=Ye.activeCues[0];if(me.container.innerHTML="",Tt){var Tn=document.createElement("div");Tn.appendChild(Tt.getCueAsHTML());var tr=Tn.innerHTML.split(/\r?\n/).map(function(mr){return"<p>".concat(mr,"</p>")}).join("");me.container.innerHTML=tr}me.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&Jt(Qe.prototype,vt),Je&&Jt(Qe,Je),qe}();function hn(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Ln=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.elements={},this.elements.volume=me.volumeBar,this.elements.played=me.playedBar,this.elements.loaded=me.loadedBar,this.elements.danmaku=me.danmakuOpacityBar}var Qe,vt,Je;return Qe=qe,(vt=[{key:"set",value:function(me,Ye,Tt){Ye=Math.max(Ye,0),Ye=Math.min(Ye,1),this.elements[me].style[Tt]=100*Ye+"%"}},{key:"get",value:function(me){return parseFloat(this.elements[me].style.width)/100}}])&&hn(Qe.prototype,vt),Je&&hn(Qe,Je),qe}();function Se(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Ee=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Ye){window.setTimeout(Ye,1e3/60)},this.types=["loading","info","fps"],this.init()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"init",value:function(){var me=this;this.types.map(function(Ye){return Ye!=="fps"&&me["init".concat(Ye,"Checker")](),Ye})}},{key:"initloadingChecker",value:function(){var me=this,Ye=0,Tt=0,Tn=!1;this.loadingChecker=setInterval(function(){me.enableloadingChecker&&(Tt=me.player.video.currentTime,Tn||Tt!==Ye||me.player.video.paused||(me.player.container.classList.add("dplayer-loading"),Tn=!0),Tn&&Tt>Ye&&!me.player.video.paused&&(me.player.container.classList.remove("dplayer-loading"),Tn=!1),Ye=Tt)},100)}},{key:"initfpsChecker",value:function(){var me=this;window.requestAnimationFrame(function(){if(me.enablefpsChecker)if(me.initfpsChecker(),me.fpsStart){me.fpsIndex++;var Ye=new Date;Ye-me.fpsStart>1e3&&(me.player.infoPanel.fps(me.fpsIndex/(Ye-me.fpsStart)*1e3),me.fpsStart=new Date,me.fpsIndex=0)}else me.fpsStart=new Date,me.fpsIndex=0;else me.fpsStart=0,me.fpsIndex=0})}},{key:"initinfoChecker",value:function(){var me=this;this.infoChecker=setInterval(function(){me.enableinfoChecker&&me.player.infoPanel.update()},1e3)}},{key:"enable",value:function(me){this["enable".concat(me,"Checker")]=!0,me==="fps"&&this.initfpsChecker()}},{key:"disable",value:function(me){this["enable".concat(me,"Checker")]=!1}},{key:"destroy",value:function(){var me=this;this.types.map(function(Ye){return me["enable".concat(Ye,"Checker")]=!1,me["".concat(Ye,"Checker")]&&clearInterval(me["".concat(Ye,"Checker")]),Ye})}}])&&Se(Qe.prototype,vt),Je&&Se(Qe,Je),qe}();function Ue(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Ie=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.container=me,this.container.addEventListener("animationend",function(){Ye.container.classList.remove("dplayer-bezel-transition")})}var Qe,vt,Je;return Qe=qe,(vt=[{key:"switch",value:function(me){this.container.innerHTML=me,this.container.classList.add("dplayer-bezel-transition")}}])&&Ue(Qe.prototype,vt),Je&&Ue(Qe,Je),qe}();function Re(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var Ke=function(){function qe(me){(function(Ye,Tt){if(!(Ye instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,qe),this.container=me.container,this.barWidth=me.barWidth,this.container.style.backgroundImage="url('".concat(me.url,"')"),this.events=me.events}var Qe,vt,Je;return Qe=qe,(vt=[{key:"resize",value:function(me,Ye,Tt){this.container.style.width="".concat(me,"px"),this.container.style.height="".concat(Ye,"px"),this.container.style.top="".concat(2-Ye,"px"),this.barWidth=Tt}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(me){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(me/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(me-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&Re(Qe.prototype,vt),Je&&Re(Qe,Je),qe}();function We(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var ht=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,this.autoHideTimer=0,X.isMobile||(this.player.container.addEventListener("mousemove",function(){Ye.setAutoHide()}),this.player.container.addEventListener("click",function(){Ye.setAutoHide()}),this.player.on("play",function(){Ye.setAutoHide()}),this.player.on("pause",function(){Ye.setAutoHide()})),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),X.isSafari&&this.initAirplayButton(),X.isMobile||this.initVolumeButton()}var Qe,vt,Je;return Qe=qe,(vt=[{key:"initPlayButton",value:function(){var me=this;this.player.template.playButton.addEventListener("click",function(){me.player.toggle()}),this.player.template.mobilePlayButton.addEventListener("click",function(){me.player.toggle()}),X.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){me.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){me.toggle()})):(this.player.template.videoWrap.addEventListener("click",function(){me.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){me.player.toggle()}))}},{key:"initHighlights",value:function(){var me=this;this.player.on("durationchange",function(){if(me.player.video.duration!==1&&me.player.video.duration!==1/0&&me.player.options.highlight){var Ye=document.querySelectorAll(".dplayer-highlight");[].slice.call(Ye,0).forEach(function(tr){me.player.template.playedBarWrap.removeChild(tr)});for(var Tt=0;Tt<me.player.options.highlight.length;Tt++)if(me.player.options.highlight[Tt].text&&me.player.options.highlight[Tt].time){var Tn=document.createElement("div");Tn.classList.add("dplayer-highlight"),Tn.style.left=me.player.options.highlight[Tt].time/me.player.video.duration*100+"%",Tn.innerHTML='<span class="dplayer-highlight-text">'+me.player.options.highlight[Tt].text+"</span>",me.player.template.playedBarWrap.insertBefore(Tn,me.player.template.playedBarTime)}}})}},{key:"initThumbnails",value:function(){var me=this;this.player.options.video.thumbnails&&(this.thumbnails=new Ke({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",function(){me.thumbnails.resize(160,me.player.video.videoHeight/me.player.video.videoWidth*160,me.player.template.barWrap.offsetWidth)}))}},{key:"initPlayedBar",value:function(){var me=this,Ye=function(Tn){var tr=((Tn.clientX||Tn.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(me.player.template.playedBarWrap))/me.player.template.playedBarWrap.clientWidth;tr=Math.max(tr,0),tr=Math.min(tr,1),me.player.bar.set("played",tr,"width"),me.player.template.ptime.innerHTML=X.secondToTime(tr*me.player.video.duration)},Tt=function Tn(tr){document.removeEventListener(X.nameMap.dragEnd,Tn),document.removeEventListener(X.nameMap.dragMove,Ye);var mr=((tr.clientX||tr.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(me.player.template.playedBarWrap))/me.player.template.playedBarWrap.clientWidth;mr=Math.max(mr,0),mr=Math.min(mr,1),me.player.bar.set("played",mr,"width"),me.player.seek(me.player.bar.get("played")*me.player.video.duration),me.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(X.nameMap.dragStart,function(){me.player.timer.disable("progress"),document.addEventListener(X.nameMap.dragMove,Ye),document.addEventListener(X.nameMap.dragEnd,Tt)}),this.player.template.playedBarWrap.addEventListener(X.nameMap.dragMove,function(Tn){if(me.player.video.duration){var tr=me.player.template.playedBarWrap.getBoundingClientRect().left,mr=(Tn.clientX||Tn.changedTouches[0].clientX)-tr;if(mr<0||mr>me.player.template.playedBarWrap.offsetWidth)return;var ni=me.player.video.duration*(mr/me.player.template.playedBarWrap.offsetWidth);X.isMobile&&me.thumbnails&&me.thumbnails.show(),me.thumbnails&&me.thumbnails.move(mr),me.player.template.playedBarTime.style.left="".concat(mr-(ni>=3600?25:20),"px"),me.player.template.playedBarTime.innerText=X.secondToTime(ni),me.player.template.playedBarTime.classList.remove("hidden")}}),this.player.template.playedBarWrap.addEventListener(X.nameMap.dragEnd,function(){X.isMobile&&me.thumbnails&&me.thumbnails.hide()}),X.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",function(){me.player.video.duration&&(me.thumbnails&&me.thumbnails.show(),me.player.template.playedBarTime.classList.remove("hidden"))}),this.player.template.playedBarWrap.addEventListener("mouseleave",function(){me.player.video.duration&&(me.thumbnails&&me.thumbnails.hide(),me.player.template.playedBarTime.classList.add("hidden"))}))}},{key:"initFullButton",value:function(){var me=this;this.player.template.browserFullButton.addEventListener("click",function(){me.player.fullScreen.toggle("browser")}),this.player.template.webFullButton.addEventListener("click",function(){me.player.fullScreen.toggle("web")})}},{key:"initVolumeButton",value:function(){var me=this,Ye=function(Tn){var tr=Tn||window.event,mr=((tr.clientX||tr.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(me.player.template.volumeBarWrap)-5.5)/35;me.player.volume(mr)},Tt=function Tn(){document.removeEventListener(X.nameMap.dragEnd,Tn),document.removeEventListener(X.nameMap.dragMove,Ye),me.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",function(Tn){var tr=Tn||window.event,mr=((tr.clientX||tr.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(me.player.template.volumeBarWrap)-5.5)/35;me.player.volume(mr)}),this.player.template.volumeBarWrapWrap.addEventListener(X.nameMap.dragStart,function(){document.addEventListener(X.nameMap.dragMove,Ye),document.addEventListener(X.nameMap.dragEnd,Tt),me.player.template.volumeButton.classList.add("dplayer-volume-active")}),this.player.template.volumeButtonIcon.addEventListener("click",function(){me.player.video.muted?(me.player.video.muted=!1,me.player.switchVolumeIcon(),me.player.bar.set("volume",me.player.volume(),"width")):(me.player.video.muted=!0,me.player.template.volumeIcon.innerHTML=jr.volumeOff,me.player.bar.set("volume",0,"width"))})}},{key:"initQualityButton",value:function(){var me=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",function(Ye){Ye.target.classList.contains("dplayer-quality-item")&&me.player.switchQuality(Ye.target.dataset.index)})}},{key:"initScreenshotButton",value:function(){var me=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",function(){var Ye,Tt=document.createElement("canvas");Tt.width=me.player.video.videoWidth,Tt.height=me.player.video.videoHeight,Tt.getContext("2d").drawImage(me.player.video,0,0,Tt.width,Tt.height),Tt.toBlob(function(Tn){Ye=URL.createObjectURL(Tn);var tr=document.createElement("a");tr.href=Ye,tr.download="DPlayer.png",tr.style.display="none",document.body.appendChild(tr),tr.click(),document.body.removeChild(tr),URL.revokeObjectURL(Ye)}),me.player.events.trigger("screenshot",Ye)})}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(me){switch(me.availability){case"available":this.template.airplayButton.disable=!1;break;default:this.template.airplayButton.disable=!0}this.template.airplayButton.addEventListener("click",function(){this.video.webkitShowPlaybackTargetPicker()}.bind(this))}.bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initSubtitleButton",value:function(){var me=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",function(){me.player.template.subtitleButton.dataset.balloon=me.player.tran("Hide subtitle"),me.player.template.subtitleButtonInner.style.opacity="",me.player.user.set("subtitle",1)}),this.player.events.on("subtitle_hide",function(){me.player.template.subtitleButton.dataset.balloon=me.player.tran("Show subtitle"),me.player.template.subtitleButtonInner.style.opacity="0.4",me.player.user.set("subtitle",0)}),this.player.template.subtitleButton.addEventListener("click",function(){me.player.subtitle.toggle()}))}},{key:"setAutoHide",value:function(){var me=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){!me.player.video.played.length||me.player.paused||me.disableAutoHide||me.hide()},3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&We(Qe.prototype,vt),Je&&We(Qe,Je),qe}();function ot(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var oe=function(){function qe(me){var Ye=this;(function(ni,$i){if(!(ni instanceof $i))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,this.player.template.mask.addEventListener("click",function(){Ye.hide()}),this.player.template.settingButton.addEventListener("click",function(){Ye.show()}),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",function(){Ye.player.template.loopToggle.checked=!Ye.player.template.loopToggle.checked,Ye.player.template.loopToggle.checked?Ye.loop=!0:Ye.loop=!1,Ye.hide()}),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",function(){Ye.player.template.showDanmakuToggle.checked=!Ye.player.template.showDanmakuToggle.checked,Ye.player.template.showDanmakuToggle.checked?(Ye.showDanmaku=!0,Ye.player.danmaku.show()):(Ye.showDanmaku=!1,Ye.player.danmaku.hide()),Ye.player.user.set("danmaku",Ye.showDanmaku?1:0),Ye.hide()}),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",function(){Ye.player.template.unlimitDanmakuToggle.checked=!Ye.player.template.unlimitDanmakuToggle.checked,Ye.player.template.unlimitDanmakuToggle.checked?(Ye.unlimitDanmaku=!0,Ye.player.danmaku.unlimit(!0)):(Ye.unlimitDanmaku=!1,Ye.player.danmaku.unlimit(!1)),Ye.player.user.set("unlimited",Ye.unlimitDanmaku?1:0),Ye.hide()}),this.player.template.speed.addEventListener("click",function(){Ye.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),Ye.player.template.settingBox.classList.add("dplayer-setting-box-speed")});for(var Tt=function(ni){Ye.player.template.speedItem[ni].addEventListener("click",function(){Ye.player.speed(Ye.player.template.speedItem[ni].dataset.speed),Ye.hide()})},Tn=0;Tn<this.player.template.speedItem.length;Tn++)Tt(Tn);if(this.player.danmaku){this.player.on("danmaku_opacity",function(ni){Ye.player.bar.set("danmaku",ni,"width"),Ye.player.user.set("opacity",ni)}),this.player.danmaku.opacity(this.player.user.get("opacity"));var tr=function(ni){var $i=ni||window.event,Li=(($i.clientX||$i.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(Ye.player.template.danmakuOpacityBarWrap))/130;Li=Math.max(Li,0),Li=Math.min(Li,1),Ye.player.danmaku.opacity(Li)},mr=function ni(){document.removeEventListener(X.nameMap.dragEnd,ni),document.removeEventListener(X.nameMap.dragMove,tr),Ye.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",function(ni){var $i=ni||window.event,Li=(($i.clientX||$i.changedTouches[0].clientX)-X.getBoundingClientRectViewLeft(Ye.player.template.danmakuOpacityBarWrap))/130;Li=Math.max(Li,0),Li=Math.min(Li,1),Ye.player.danmaku.opacity(Li)}),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(X.nameMap.dragStart,function(){document.addEventListener(X.nameMap.dragMove,tr),document.addEventListener(X.nameMap.dragEnd,mr),Ye.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")})}}var Qe,vt,Je;return Qe=qe,(vt=[{key:"hide",value:function(){var me=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout(function(){me.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),me.player.template.settingBox.classList.remove("dplayer-setting-box-speed")},300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&ot(Qe.prototype,vt),Je&&ot(Qe,Je),qe}();function ue(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var $e=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,this.player.template.mask.addEventListener("click",function(){Ye.hide()}),this.player.template.commentButton.addEventListener("click",function(){Ye.show()}),this.player.template.commentSettingButton.addEventListener("click",function(){Ye.toggleSetting()}),this.player.template.commentColorSettingBox.addEventListener("click",function(){if(Ye.player.template.commentColorSettingBox.querySelector("input:checked+span")){var Tt=Ye.player.template.commentColorSettingBox.querySelector("input:checked").value;Ye.player.template.commentSettingFill.style.fill=Tt,Ye.player.template.commentInput.style.color=Tt,Ye.player.template.commentSendFill.style.fill=Tt}}),this.player.template.commentInput.addEventListener("click",function(){Ye.hideSetting()}),this.player.template.commentInput.addEventListener("keydown",function(Tt){(Tt||window.event).keyCode===13&&Ye.send()}),this.player.template.commentSendButton.addEventListener("click",function(){Ye.send()})}var Qe,vt,Je;return Qe=qe,(vt=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var me=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:X.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},function(){me.player.template.commentInput.value="",me.hide()}):this.player.notice(this.player.tran("Please input danmaku content!"))}}])&&ue(Qe.prototype,vt),Je&&ue(Qe,Je),qe}(),k=function qe(Qe){(function(vt,Je){if(!(vt instanceof Je))throw new TypeError("Cannot call a class as a function")})(this,qe),Qe.options.hotkey&&document.addEventListener("keydown",function(vt){if(Qe.focus){var Je=document.activeElement.tagName.toUpperCase(),me=document.activeElement.getAttribute("contenteditable");if(Je!=="INPUT"&&Je!=="TEXTAREA"&&me!==""&&me!=="true"){var Ye,Tt=vt||window.event;switch(Tt.keyCode){case 32:Tt.preventDefault(),Qe.toggle();break;case 37:if(Tt.preventDefault(),Qe.options.live)break;Qe.seek(Qe.video.currentTime-5),Qe.controller.setAutoHide();break;case 39:if(Tt.preventDefault(),Qe.options.live)break;Qe.seek(Qe.video.currentTime+5),Qe.controller.setAutoHide();break;case 38:Tt.preventDefault(),Ye=Qe.volume()+.1,Qe.volume(Ye);break;case 40:Tt.preventDefault(),Ye=Qe.volume()-.1,Qe.volume(Ye)}}}}),document.addEventListener("keydown",function(vt){switch((vt||window.event).keyCode){case 27:Qe.fullScreen.isFullScreen("web")&&Qe.fullScreen.cancel("web")}})};function Ce(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var ge=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.player=me,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach(function(Tt,Tn){Ye.player.options.contextmenu[Tn].click&&Tt.addEventListener("click",function(){Ye.player.options.contextmenu[Tn].click(Ye.player),Ye.hide()})}),this.player.container.addEventListener("contextmenu",function(Tt){if(Ye.shown)Ye.hide();else{var Tn=Tt||window.event;Tn.preventDefault();var tr=Ye.player.container.getBoundingClientRect();Ye.show(Tn.clientX-tr.left,Tn.clientY-tr.top),Ye.player.template.mask.addEventListener("click",function(){Ye.hide()})}})}var Qe,vt,Je;return Qe=qe,(vt=[{key:"show",value:function(me,Ye){this.player.template.menu.classList.add("dplayer-menu-show");var Tt=this.player.container.getBoundingClientRect();me+this.player.template.menu.offsetWidth>=Tt.width?(this.player.template.menu.style.right=Tt.width-me+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=me+"px",this.player.template.menu.style.right="initial"),Ye+this.player.template.menu.offsetHeight>=Tt.height?(this.player.template.menu.style.bottom=Tt.height-Ye+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=Ye+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&Ce(Qe.prototype,vt),Je&&Ce(Qe,Je),qe}();function we(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var ct=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.container=me.template.infoPanel,this.template=me.template,this.video=me.video,this.player=me,this.template.infoPanelClose.addEventListener("click",function(){Ye.hide()})}var Qe,vt,Je;return Qe=qe,(vt=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.26.0"," ").concat("63275c8"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(me){this.template.infoFPS.innerHTML="".concat(me.toFixed(1))}}])&&we(Qe.prototype,vt),Je&&we(Qe,Je),qe}(),Rt=F(1),Wt=F.n(Rt);function kt(qe,Qe){var vt=Object.keys(qe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(qe);Qe&&(Je=Je.filter(function(me){return Object.getOwnPropertyDescriptor(qe,me).enumerable})),vt.push.apply(vt,Je)}return vt}function nn(qe,Qe,vt){return Qe in qe?Object.defineProperty(qe,Qe,{value:vt,enumerable:!0,configurable:!0,writable:!0}):qe[Qe]=vt,qe}function cn(qe,Qe){for(var vt=0;vt<Qe.length;vt++){var Je=Qe[vt];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(qe,Je.key,Je)}}var gn=0,tn=[],fn=function(){function qe(me){var Ye=this;(function(Tt,Tn){if(!(Tt instanceof Tn))throw new TypeError("Cannot call a class as a function")})(this,qe),this.options=Pe(function(Tt){for(var Tn=1;Tn<arguments.length;Tn++){var tr=arguments[Tn]!=null?arguments[Tn]:{};Tn%2?kt(Object(tr),!0).forEach(function(mr){nn(Tt,mr,tr[mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(tr)):kt(Object(tr)).forEach(function(mr){Object.defineProperty(Tt,mr,Object.getOwnPropertyDescriptor(tr,mr))})}return Tt}({preload:me.video.type==="webtorrent"?"none":"metadata"},me)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new dt(this.options.lang).tran,this.events=new B,this.user=new ut(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),X.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new Ae({container:this.container,options:this.options,index:gn,tran:this.tran}),this.video=this.template.video,this.bar=new Ln(this.template),this.bezel=new Ie(this.template.bezel),this.fullScreen=new Oe(this),this.controller=new ht(this),this.options.danmaku&&(this.danmaku=new ie({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout(function(){Ye.template.danmakuLoading.style.display="none",Ye.options.autoplay&&Ye.play()},0)},error:function(Tt){Ye.notice(Tt)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return Ye.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(Tt){return Ye.tran(Tt)}}),this.comment=new $e(this)),this.setting=new oe(this),this.plugins={},document.addEventListener("click",function(){Ye.focus=!1},!0),this.container.addEventListener("click",function(){Ye.focus=!0},!0),this.paused=!0,this.timer=new Ee(this),this.hotkey=new k(this),this.contextmenu=new ge(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new ct(this),!this.danmaku&&this.options.autoplay&&this.play(),gn++,tn.push(this)}var Qe,vt,Je;return Qe=qe,Je=[{key:"version",get:function(){return"1.26.0"}}],(vt=[{key:"seek",value:function(me){me=Math.max(me,0),this.video.duration&&(me=Math.min(me,this.video.duration)),this.video.currentTime<me?this.notice("".concat(this.tran("FF")," ").concat((me-this.video.currentTime).toFixed(0)," ").concat(this.tran("s"))):this.video.currentTime>me&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-me).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=me,this.danmaku&&this.danmaku.seek(),this.bar.set("played",me/this.video.duration,"width"),this.template.ptime.innerHTML=X.secondToTime(me)}},{key:"play",value:function(me){var Ye=this;if(this.paused=!1,this.video.paused&&!X.isMobile&&this.bezel.switch(jr.play),this.template.playButton.innerHTML=jr.pause,this.template.mobilePlayButton.innerHTML=jr.pause,me||re.a.resolve(this.video.play()).catch(function(){Ye.pause()}).then(function(){}),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var Tt=0;Tt<tn.length;Tt++)this!==tn[Tt]&&tn[Tt].pause()}},{key:"pause",value:function(me){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||X.isMobile||this.bezel.switch(jr.pause),this.template.playButton.innerHTML=jr.play,this.template.mobilePlayButton.innerHTML=jr.play,me||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=jr.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=jr.volumeDown:this.template.volumeIcon.innerHTML=jr.volumeOff}},{key:"volume",value:function(me,Ye,Tt){if(me=parseFloat(me),!isNaN(me)){me=Math.max(me,0),me=Math.min(me,1),this.bar.set("volume",me,"width");var Tn="".concat((100*me).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=Tn,Ye||this.user.set("volume",me),Tt||this.notice("".concat(this.tran("Volume")," ").concat((100*me).toFixed(0),"%")),this.video.volume=me,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(me,Ye){this.events.on(me,Ye)}},{key:"switchVideo",value:function(me,Ye){this.pause(),this.video.poster=me.pic?me.pic:"",this.video.src=me.url,this.initMSE(this.video,me.type||"auto"),Ye&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:Ye.id,address:Ye.api,token:Ye.token,maximum:Ye.maximum,addition:Ye.addition,user:Ye.user}))}},{key:"initMSE",value:function(me,Ye){var Tt=this;if(this.type=Ye,this.options.video.customType&&this.options.video.customType[Ye])Object.prototype.toString.call(this.options.video.customType[Ye])==="[object Function]"?this.options.video.customType[Ye](this.video,this):console.error("Illegal customType: ".concat(Ye));else switch(this.type==="auto"&&(/m3u8(#|\?|$)/i.exec(me.src)?this.type="hls":/.flv(#|\?|$)/i.exec(me.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(me.src)?this.type="dash":this.type="normal"),this.type==="hls"&&(me.canPlayType("application/x-mpegURL")||me.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var Tn=this.options.pluginOptions.hls,tr=new window.Hls(Tn);this.plugins.hls=tr,tr.loadSource(me.src),tr.attachMedia(me),this.events.on("destroy",function(){tr.destroy(),delete Tt.plugins.hls})}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var mr=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:me.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=mr,mr.attachMediaElement(me),mr.load(),this.events.on("destroy",function(){mr.unload(),mr.detachMediaElement(),mr.destroy(),delete Tt.plugins.flvjs})}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var ni=window.dashjs.MediaPlayer().create().initialize(me,me.src,!1),$i=this.options.pluginOptions.dash;ni.updateSettings($i),this.plugins.dash=ni,this.events.on("destroy",function(){window.dashjs.MediaPlayer().reset(),delete Tt.plugins.dash})}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var Li=this.options.pluginOptions.webtorrent,eo=new window.WebTorrent(Li);this.plugins.webtorrent=eo;var Ho=me.src;me.src="",me.preload="metadata",me.addEventListener("durationchange",function(){return Tt.container.classList.remove("dplayer-loading")},{once:!0}),eo.add(Ho,function(No){No.files.find(function(Ei){return Ei.name.endsWith(".mp4")}).renderTo(Tt.video,{autoplay:Tt.options.autoplay,controls:!1})}),this.events.on("destroy",function(){eo.remove(Ho),eo.destroy(),delete Tt.plugins.webtorrent})}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(me,Ye){var Tt=this;this.initMSE(me,Ye),this.on("durationchange",function(){me.duration!==1&&me.duration!==1/0&&(Tt.template.dtime.innerHTML=X.secondToTime(me.duration))}),this.on("progress",function(){var mr=me.buffered.length?me.buffered.end(me.buffered.length-1)/me.duration:0;Tt.bar.set("loaded",mr,"width")}),this.on("error",function(){Tt.video.error&&Tt.tran&&Tt.notice&&Tt.type!=="webtorrent"&&Tt.notice(Tt.tran("Video load failed"),-1)}),this.on("ended",function(){Tt.bar.set("played",1,"width"),Tt.setting.loop?(Tt.seek(0),Tt.play()):Tt.pause(),Tt.danmaku&&(Tt.danmaku.danIndex=0)}),this.on("play",function(){Tt.paused&&Tt.play(!0)}),this.on("pause",function(){Tt.paused||Tt.pause(!0)}),this.on("timeupdate",function(){Tt.bar.set("played",Tt.video.currentTime/Tt.video.duration,"width");var mr=X.secondToTime(Tt.video.currentTime);Tt.template.ptime.innerHTML!==mr&&(Tt.template.ptime.innerHTML=mr)});for(var Tn=function(mr){me.addEventListener(Tt.events.videoEvents[mr],function(){Tt.events.trigger(Tt.events.videoEvents[mr])})},tr=0;tr<this.events.videoEvents.length;tr++)Tn(tr);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new pn(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(me){var Ye=this;if(me=typeof me=="string"?parseInt(me):me,this.qualityIndex!==me&&!this.switchingQuality){this.qualityIndex=me,this.switchingQuality=!0,this.quality=this.options.video.quality[me],this.template.qualityButton.innerHTML=this.quality.name;var Tt=this.video.paused;this.video.pause();var Tn=Wt()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),tr=new DOMParser().parseFromString(Tn,"text/html").body.firstChild;this.template.videoWrap.insertBefore(tr,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=tr,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",function(){if(Ye.prevVideo){if(Ye.video.currentTime!==Ye.prevVideo.currentTime)return void Ye.seek(Ye.prevVideo.currentTime);Ye.template.videoWrap.removeChild(Ye.prevVideo),Ye.video.classList.add("dplayer-video-current"),Tt||Ye.video.play(),Ye.prevVideo=null,Ye.notice("".concat(Ye.tran("Switched to")," ").concat(Ye.quality.name," ").concat(Ye.tran("quality"))),Ye.switchingQuality=!1,Ye.events.trigger("quality_end")}})}}},{key:"notice",value:function(me){var Ye=this,Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2e3,Tn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.8;this.template.notice.innerHTML=me,this.template.notice.style.opacity=Tn,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",me),Tt>0&&(this.noticeTime=setTimeout(function(){Ye.template.notice.style.opacity=0,Ye.events.trigger("notice_hide")},Tt))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(me){this.video.playbackRate=me}},{key:"destroy",value:function(){tn.splice(tn.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&cn(Qe.prototype,vt),Je&&cn(Qe,Je),qe}();console.log(`
`.concat(" %c DPlayer v","1.26.0"," ").concat("63275c8"," %c http://dplayer.js.org ",`
`,`
`),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),be.default=fn}]).default})},"9BLJ":function(Cr,Ne,D){"use strict";var Y=D("VTBJ"),be=D("q1tI"),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},re=F,P=D("6VBw"),X=function(tt,Z){return be.createElement(P.a,Object(Y.a)(Object(Y.a)({},tt),{},{ref:Z,icon:re}))};X.displayName="EyeOutlined";var je=Ne.a=be.forwardRef(X)},"9yH6":function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("q1tI"),re=D("x1Ya"),P=D("TSYQ"),X=D.n(P),je=D("c+Xe"),de=D("H84U"),tt=F.createContext(null),Z=tt.Provider,Pe=tt,ve=D("uaoM"),dt=function(et,xt){var mt={};for(var Kt in et)Object.prototype.hasOwnProperty.call(et,Kt)&&xt.indexOf(Kt)<0&&(mt[Kt]=et[Kt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,Kt=Object.getOwnPropertySymbols(et);$t<Kt.length;$t++)xt.indexOf(Kt[$t])<0&&Object.prototype.propertyIsEnumerable.call(et,Kt[$t])&&(mt[Kt[$t]]=et[Kt[$t]]);return mt},at=function(xt,mt){var Kt,$t=F.useContext(Pe),un=F.useContext(de.b),Sn=un.getPrefixCls,on=un.direction,zt=F.useRef(),en=Object(je.a)(mt,zt);F.useEffect(function(){Object(ve.a)(!("optionType"in xt),"Radio","`optionType` is only support in Radio.Group.")},[]);var y=function(jr){var Mi,wn;(Mi=xt.onChange)===null||Mi===void 0||Mi.call(xt,jr),(wn=$t==null?void 0:$t.onChange)===null||wn===void 0||wn.call($t,jr)},_n=xt.prefixCls,An=xt.className,Fn=xt.children,Wn=xt.style,zn=dt(xt,["prefixCls","className","children","style"]),or=Sn("radio",_n),Sr=Object(be.a)({},zn);$t&&(Sr.name=$t.name,Sr.onChange=y,Sr.checked=xt.value===$t.value,Sr.disabled=xt.disabled||$t.disabled);var pr=X()("".concat(or,"-wrapper"),(Kt={},Object(Y.a)(Kt,"".concat(or,"-wrapper-checked"),Sr.checked),Object(Y.a)(Kt,"".concat(or,"-wrapper-disabled"),Sr.disabled),Object(Y.a)(Kt,"".concat(or,"-wrapper-rtl"),on==="rtl"),Kt),An);return F.createElement("label",{className:pr,style:Wn,onMouseEnter:xt.onMouseEnter,onMouseLeave:xt.onMouseLeave},F.createElement(re.a,Object(be.a)({},Sr,{type:"radio",prefixCls:or,ref:en})),Fn!==void 0?F.createElement("span",null,Fn):null)},Pt=F.forwardRef(at);Pt.displayName="Radio";var Ft=Pt,bt=D("ODXe"),Ct=D("6cGi"),he=D("3Nzz");function Ve(et){return Object.keys(et).reduce(function(xt,mt){return(mt.substr(0,5)==="data-"||mt.substr(0,5)==="aria-"||mt==="role")&&mt.substr(0,7)!=="data-__"&&(xt[mt]=et[mt]),xt},{})}var yt=F.forwardRef(function(et,xt){var mt=F.useContext(de.b),Kt=mt.getPrefixCls,$t=mt.direction,un=F.useContext(he.b),Sn=Object(Ct.a)(et.defaultValue,{value:et.value}),on=Object(bt.a)(Sn,2),zt=on[0],en=on[1],y=function(Fn){var Wn=zt,zn=Fn.target.value;"value"in et||en(zn);var or=et.onChange;or&&zn!==Wn&&or(Fn)},_n=function(){var Fn,Wn=et.prefixCls,zn=et.className,or=zn===void 0?"":zn,Sr=et.options,pr=et.optionType,Jr=et.buttonStyle,jr=Jr===void 0?"outline":Jr,Mi=et.disabled,wn=et.children,De=et.size,Ae=et.style,st=et.id,Xe=et.onMouseEnter,ie=et.onMouseLeave,V=Kt("radio",Wn),B="".concat(V,"-group"),J=wn;if(Sr&&Sr.length>0){var Oe=pr==="button"?"".concat(V,"-button"):V;J=Sr.map(function(Jt){return typeof Jt=="string"||typeof Jt=="number"?F.createElement(Ft,{key:Jt.toString(),prefixCls:Oe,disabled:Mi,value:Jt,checked:zt===Jt},Jt):F.createElement(Ft,{key:"radio-group-value-options-".concat(Jt.value),prefixCls:Oe,disabled:Jt.disabled||Mi,value:Jt.value,checked:zt===Jt.value,style:Jt.style},Jt.label)})}var nt=De||un,ut=X()(B,"".concat(B,"-").concat(jr),(Fn={},Object(Y.a)(Fn,"".concat(B,"-").concat(nt),nt),Object(Y.a)(Fn,"".concat(B,"-rtl"),$t==="rtl"),Fn),or);return F.createElement("div",Object(be.a)({},Ve(et),{className:ut,style:Ae,onMouseEnter:Xe,onMouseLeave:ie,id:st,ref:xt}),J)};return F.createElement(Z,{value:{onChange:y,value:zt,disabled:et.disabled,name:et.name}},_n())}),Mt=F.memo(yt),Ut=function(et,xt){var mt={};for(var Kt in et)Object.prototype.hasOwnProperty.call(et,Kt)&&xt.indexOf(Kt)<0&&(mt[Kt]=et[Kt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,Kt=Object.getOwnPropertySymbols(et);$t<Kt.length;$t++)xt.indexOf(Kt[$t])<0&&Object.prototype.propertyIsEnumerable.call(et,Kt[$t])&&(mt[Kt[$t]]=et[Kt[$t]]);return mt},It=function(xt,mt){var Kt=F.useContext(Pe),$t=F.useContext(de.b),un=$t.getPrefixCls,Sn=xt.prefixCls,on=Ut(xt,["prefixCls"]),zt=un("radio-button",Sn);return Kt&&(on.checked=xt.value===Kt.value,on.disabled=xt.disabled||Kt.disabled),F.createElement(Ft,Object(be.a)({prefixCls:zt},on,{type:"radio",ref:mt}))},Yt=F.forwardRef(It),Gt=Ft;Gt.Button=Yt,Gt.Group=Mt;var an=Ne.a=Gt},Awhp:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("PQMj"),re=D.n(F)},BJfS:function(Cr,Ne){var D=function(Y){return Y.replace(/[A-Z]/g,function(be){return"-"+be.toLowerCase()}).toLowerCase()};Cr.exports=D},BMrR:function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("rePB"),F=D("U8pU"),re=D("ODXe"),P=D("q1tI"),X=D("TSYQ"),je=D.n(X),de=D("H84U"),tt=D("o/2+"),Z=D("CWQg"),Pe=D("ACnJ"),ve=D("P80f"),dt=function(he,Ve){var yt={};for(var Mt in he)Object.prototype.hasOwnProperty.call(he,Mt)&&Ve.indexOf(Mt)<0&&(yt[Mt]=he[Mt]);if(he!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Mt=Object.getOwnPropertySymbols(he);Ut<Mt.length;Ut++)Ve.indexOf(Mt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(he,Mt[Ut])&&(yt[Mt[Ut]]=he[Mt[Ut]]);return yt},at=Object(Z.a)("top","middle","bottom","stretch"),Pt=Object(Z.a)("start","end","center","space-around","space-between"),Ft=P.forwardRef(function(he,Ve){var yt,Mt=he.prefixCls,Ut=he.justify,It=he.align,Yt=he.className,Gt=he.style,an=he.children,et=he.gutter,xt=et===void 0?0:et,mt=he.wrap,Kt=dt(he,["prefixCls","justify","align","className","style","children","gutter","wrap"]),$t=P.useContext(de.b),un=$t.getPrefixCls,Sn=$t.direction,on=P.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),zt=Object(re.a)(on,2),en=zt[0],y=zt[1],_n=Object(ve.a)(),An=P.useRef(xt);P.useEffect(function(){var st=Pe.a.subscribe(function(Xe){var ie=An.current||0;(!Array.isArray(ie)&&Object(F.a)(ie)==="object"||Array.isArray(ie)&&(Object(F.a)(ie[0])==="object"||Object(F.a)(ie[1])==="object"))&&y(Xe)});return function(){return Pe.a.unsubscribe(st)}},[]);var Fn=function(){var Xe=[0,0],ie=Array.isArray(xt)?xt:[xt,0];return ie.forEach(function(V,B){if(Object(F.a)(V)==="object")for(var J=0;J<Pe.b.length;J++){var Oe=Pe.b[J];if(en[Oe]&&V[Oe]!==void 0){Xe[B]=V[Oe];break}}else Xe[B]=V||0}),Xe},Wn=un("row",Mt),zn=Fn(),or=je()(Wn,(yt={},Object(be.a)(yt,"".concat(Wn,"-no-wrap"),mt===!1),Object(be.a)(yt,"".concat(Wn,"-").concat(Ut),Ut),Object(be.a)(yt,"".concat(Wn,"-").concat(It),It),Object(be.a)(yt,"".concat(Wn,"-rtl"),Sn==="rtl"),yt),Yt),Sr={},pr=zn[0]>0?zn[0]/-2:void 0,Jr=zn[1]>0?zn[1]/-2:void 0;if(pr&&(Sr.marginLeft=pr,Sr.marginRight=pr),_n){var jr=Object(re.a)(zn,2);Sr.rowGap=jr[1]}else Jr&&(Sr.marginTop=Jr,Sr.marginBottom=Jr);var Mi=Object(re.a)(zn,2),wn=Mi[0],De=Mi[1],Ae=P.useMemo(function(){return{gutter:[wn,De],wrap:mt,supportFlexGap:_n}},[wn,De,mt,_n]);return P.createElement(tt.a.Provider,{value:Ae},P.createElement("div",Object(Y.a)({},Kt,{className:or,style:Object(Y.a)(Object(Y.a)({},Sr),Gt),ref:Ve}),an))});Ft.displayName="Row";var bt=Ft,Ct=Ne.a=bt},DjyN:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("Urep"),re=D.n(F),P=D("OaEy")},FIfw:function(Cr,Ne,D){},GzdX:function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("q1tI"),F=D.n(be),re=D("VTBJ"),P=D("rePB"),X=D("1OyB"),je=D("vuIU"),de=D("Ji7U"),tt=D("LK+K"),Z=D("m+aA"),Pe=D("TSYQ"),ve=D.n(Pe),dt=D("4IlW");function at($t){var un=$t.pageXOffset,Sn="scrollLeft";if(typeof un!="number"){var on=$t.document;un=on.documentElement[Sn],typeof un!="number"&&(un=on.body[Sn])}return un}function Pt($t){var un,Sn,on=$t.ownerDocument,zt=on.body,en=on&&on.documentElement,y=$t.getBoundingClientRect();return un=y.left,Sn=y.top,un-=en.clientLeft||zt.clientLeft||0,Sn-=en.clientTop||zt.clientTop||0,{left:un,top:Sn}}function Ft($t){var un=Pt($t),Sn=$t.ownerDocument,on=Sn.defaultView||Sn.parentWindow;return un.left+=at(on),un.left}var bt=function($t){Object(de.a)(Sn,$t);var un=Object(tt.a)(Sn);function Sn(){var on;return Object(X.a)(this,Sn),on=un.apply(this,arguments),on.onHover=function(zt){var en=on.props,y=en.onHover,_n=en.index;y(zt,_n)},on.onClick=function(zt){var en=on.props,y=en.onClick,_n=en.index;y(zt,_n)},on.onKeyDown=function(zt){var en=on.props,y=en.onClick,_n=en.index;zt.keyCode===13&&y(zt,_n)},on}return Object(je.a)(Sn,[{key:"getClassName",value:function(){var zt=this.props,en=zt.prefixCls,y=zt.index,_n=zt.value,An=zt.allowHalf,Fn=zt.focused,Wn=y+1,zn=en;return _n===0&&y===0&&Fn?zn+=" ".concat(en,"-focused"):An&&_n+.5>=Wn&&_n<Wn?(zn+=" ".concat(en,"-half ").concat(en,"-active"),Fn&&(zn+=" ".concat(en,"-focused"))):(zn+=Wn<=_n?" ".concat(en,"-full"):" ".concat(en,"-zero"),Wn===_n&&Fn&&(zn+=" ".concat(en,"-focused"))),zn}},{key:"render",value:function(){var zt=this.onHover,en=this.onClick,y=this.onKeyDown,_n=this.props,An=_n.disabled,Fn=_n.prefixCls,Wn=_n.character,zn=_n.characterRender,or=_n.index,Sr=_n.count,pr=_n.value,Jr=typeof Wn=="function"?Wn(this.props):Wn,jr=F.a.createElement("li",{className:this.getClassName()},F.a.createElement("div",{onClick:An?null:en,onKeyDown:An?null:y,onMouseMove:An?null:zt,role:"radio","aria-checked":pr>or?"true":"false","aria-posinset":or+1,"aria-setsize":Sr,tabIndex:An?-1:0},F.a.createElement("div",{className:"".concat(Fn,"-first")},Jr),F.a.createElement("div",{className:"".concat(Fn,"-second")},Jr)));return zn&&(jr=zn(jr,this.props)),jr}}]),Sn}(F.a.Component);function Ct(){}var he=function($t){Object(de.a)(Sn,$t);var un=Object(tt.a)(Sn);function Sn(on){var zt;Object(X.a)(this,Sn),zt=un.call(this,on),zt.onHover=function(y,_n){var An=zt.props.onHoverChange,Fn=zt.getStarValue(_n,y.pageX),Wn=zt.state.cleanedValue;Fn!==Wn&&zt.setState({hoverValue:Fn,cleanedValue:null}),An(Fn)},zt.onMouseLeave=function(){var y=zt.props.onHoverChange;zt.setState({hoverValue:void 0,cleanedValue:null}),y(void 0)},zt.onClick=function(y,_n){var An=zt.props.allowClear,Fn=zt.state.value,Wn=zt.getStarValue(_n,y.pageX),zn=!1;An&&(zn=Wn===Fn),zt.onMouseLeave(),zt.changeValue(zn?0:Wn),zt.setState({cleanedValue:zn?Wn:null})},zt.onFocus=function(){var y=zt.props.onFocus;zt.setState({focused:!0}),y&&y()},zt.onBlur=function(){var y=zt.props.onBlur;zt.setState({focused:!1}),y&&y()},zt.onKeyDown=function(y){var _n=y.keyCode,An=zt.props,Fn=An.count,Wn=An.allowHalf,zn=An.onKeyDown,or=An.direction,Sr=or==="rtl",pr=zt.state.value;_n===dt.a.RIGHT&&pr<Fn&&!Sr?(Wn?pr+=.5:pr+=1,zt.changeValue(pr),y.preventDefault()):_n===dt.a.LEFT&&pr>0&&!Sr||_n===dt.a.RIGHT&&pr>0&&Sr?(Wn?pr-=.5:pr-=1,zt.changeValue(pr),y.preventDefault()):_n===dt.a.LEFT&&pr<Fn&&Sr&&(Wn?pr+=.5:pr+=1,zt.changeValue(pr),y.preventDefault()),zn&&zn(y)},zt.saveRef=function(y){return function(_n){zt.stars[y]=_n}},zt.saveRate=function(y){zt.rate=y};var en=on.value;return en===void 0&&(en=on.defaultValue),zt.stars={},zt.state={value:en,focused:!1,cleanedValue:null},zt}return Object(je.a)(Sn,[{key:"componentDidMount",value:function(){var zt=this.props,en=zt.autoFocus,y=zt.disabled;en&&!y&&this.focus()}},{key:"getStarDOM",value:function(zt){return Object(Z.a)(this.stars[zt])}},{key:"getStarValue",value:function(zt,en){var y=this.props,_n=y.allowHalf,An=y.direction,Fn=An==="rtl",Wn=zt+1;if(_n){var zn=this.getStarDOM(zt),or=Ft(zn),Sr=zn.clientWidth;(Fn&&en-or>Sr/2||!Fn&&en-or<Sr/2)&&(Wn-=.5)}return Wn}},{key:"focus",value:function(){var zt=this.props.disabled;zt||this.rate.focus()}},{key:"blur",value:function(){var zt=this.props.disabled;zt||this.rate.blur()}},{key:"changeValue",value:function(zt){var en=this.props.onChange;"value"in this.props||this.setState({value:zt}),en(zt)}},{key:"render",value:function(){for(var zt=this.props,en=zt.count,y=zt.allowHalf,_n=zt.style,An=zt.prefixCls,Fn=zt.disabled,Wn=zt.className,zn=zt.character,or=zt.characterRender,Sr=zt.tabIndex,pr=zt.direction,Jr=this.state,jr=Jr.value,Mi=Jr.hoverValue,wn=Jr.focused,De=[],Ae=Fn?"".concat(An,"-disabled"):"",st=0;st<en;st+=1)De.push(F.a.createElement(bt,{ref:this.saveRef(st),index:st,count:en,disabled:Fn,prefixCls:"".concat(An,"-star"),allowHalf:y,value:Mi===void 0?jr:Mi,onClick:this.onClick,onHover:this.onHover,key:st,character:zn,characterRender:or,focused:wn}));var Xe=ve()(An,Ae,Wn,Object(P.a)({},"".concat(An,"-rtl"),pr==="rtl"));return F.a.createElement("ul",{className:Xe,style:_n,onMouseLeave:Fn?null:this.onMouseLeave,tabIndex:Fn?-1:Sr,onFocus:Fn?null:this.onFocus,onBlur:Fn?null:this.onBlur,onKeyDown:Fn?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},De)}}],[{key:"getDerivedStateFromProps",value:function(zt,en){return"value"in zt&&zt.value!==void 0?Object(re.a)(Object(re.a)({},en),{},{value:zt.value}):en}}]),Sn}(F.a.Component);he.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:Ct,character:"\u2605",onHoverChange:Ct,tabIndex:0,direction:"ltr"};var Ve=he,yt=Ve,Mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},Ut=Mt,It=D("6VBw"),Yt=function(un,Sn){return be.createElement(It.a,Object(re.a)(Object(re.a)({},un),{},{ref:Sn,icon:Ut}))};Yt.displayName="StarFilled";var Gt=be.forwardRef(Yt),an=D("3S7+"),et=D("H84U"),xt=function($t,un){var Sn={};for(var on in $t)Object.prototype.hasOwnProperty.call($t,on)&&un.indexOf(on)<0&&(Sn[on]=$t[on]);if($t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var zt=0,on=Object.getOwnPropertySymbols($t);zt<on.length;zt++)un.indexOf(on[zt])<0&&Object.prototype.propertyIsEnumerable.call($t,on[zt])&&(Sn[on[zt]]=$t[on[zt]]);return Sn},mt=be.forwardRef(function($t,un){var Sn=$t.prefixCls,on=$t.tooltips,zt=xt($t,["prefixCls","tooltips"]),en=function(zn,or){var Sr=or.index;return on?be.createElement(an.a,{title:on[Sr]},zn):zn},y=be.useContext(et.b),_n=y.getPrefixCls,An=y.direction,Fn=_n("rate",Sn);return be.createElement(yt,Object(Y.a)({ref:un,characterRender:en},zt,{prefixCls:Fn,direction:An}))});mt.displayName="Rate",mt.defaultProps={character:be.createElement(Gt,null)};var Kt=Ne.a=mt},H7XF:function(Cr,Ne,D){"use strict";Ne.byteLength=de,Ne.toByteArray=Z,Ne.fromByteArray=dt;for(var Y=[],be=[],F=typeof Uint8Array!="undefined"?Uint8Array:Array,re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,X=re.length;P<X;++P)Y[P]=re[P],be[re.charCodeAt(P)]=P;be["-".charCodeAt(0)]=62,be["_".charCodeAt(0)]=63;function je(at){var Pt=at.length;if(Pt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Ft=at.indexOf("=");Ft===-1&&(Ft=Pt);var bt=Ft===Pt?0:4-Ft%4;return[Ft,bt]}function de(at){var Pt=je(at),Ft=Pt[0],bt=Pt[1];return(Ft+bt)*3/4-bt}function tt(at,Pt,Ft){return(Pt+Ft)*3/4-Ft}function Z(at){var Pt,Ft=je(at),bt=Ft[0],Ct=Ft[1],he=new F(tt(at,bt,Ct)),Ve=0,yt=Ct>0?bt-4:bt,Mt;for(Mt=0;Mt<yt;Mt+=4)Pt=be[at.charCodeAt(Mt)]<<18|be[at.charCodeAt(Mt+1)]<<12|be[at.charCodeAt(Mt+2)]<<6|be[at.charCodeAt(Mt+3)],he[Ve++]=Pt>>16&255,he[Ve++]=Pt>>8&255,he[Ve++]=Pt&255;return Ct===2&&(Pt=be[at.charCodeAt(Mt)]<<2|be[at.charCodeAt(Mt+1)]>>4,he[Ve++]=Pt&255),Ct===1&&(Pt=be[at.charCodeAt(Mt)]<<10|be[at.charCodeAt(Mt+1)]<<4|be[at.charCodeAt(Mt+2)]>>2,he[Ve++]=Pt>>8&255,he[Ve++]=Pt&255),he}function Pe(at){return Y[at>>18&63]+Y[at>>12&63]+Y[at>>6&63]+Y[at&63]}function ve(at,Pt,Ft){for(var bt,Ct=[],he=Pt;he<Ft;he+=3)bt=(at[he]<<16&16711680)+(at[he+1]<<8&65280)+(at[he+2]&255),Ct.push(Pe(bt));return Ct.join("")}function dt(at){for(var Pt,Ft=at.length,bt=Ft%3,Ct=[],he=16383,Ve=0,yt=Ft-bt;Ve<yt;Ve+=he)Ct.push(ve(at,Ve,Ve+he>yt?yt:Ve+he));return bt===1?(Pt=at[Ft-1],Ct.push(Y[Pt>>2]+Y[Pt<<4&63]+"==")):bt===2&&(Pt=(at[Ft-2]<<8)+at[Ft-1],Ct.push(Y[Pt>>10]+Y[Pt>>4&63]+Y[Pt<<2&63]+"=")),Ct.join("")}},HDXh:function(Cr,Ne,D){"use strict";(function(Y){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var be=D("H7XF"),F=D("kVK+"),re=D("v3Qx");Ne.Buffer=de,Ne.SlowBuffer=Ct,Ne.INSPECT_MAX_BYTES=50,de.TYPED_ARRAY_SUPPORT=Y.TYPED_ARRAY_SUPPORT!==void 0?Y.TYPED_ARRAY_SUPPORT:P(),Ne.kMaxLength=X();function P(){try{var ie=new Uint8Array(1);return ie.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ie.foo()===42&&typeof ie.subarray=="function"&&ie.subarray(1,1).byteLength===0}catch(V){return!1}}function X(){return de.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function je(ie,V){if(X()<V)throw new RangeError("Invalid typed array length");return de.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(V),ie.__proto__=de.prototype):(ie===null&&(ie=new de(V)),ie.length=V),ie}function de(ie,V,B){if(!de.TYPED_ARRAY_SUPPORT&&!(this instanceof de))return new de(ie,V,B);if(typeof ie=="number"){if(typeof V=="string")throw new Error("If encoding is specified then the first argument must be a string");return ve(this,ie)}return tt(this,ie,V,B)}de.poolSize=8192,de._augment=function(ie){return ie.__proto__=de.prototype,ie};function tt(ie,V,B,J){if(typeof V=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&V instanceof ArrayBuffer?Pt(ie,V,B,J):typeof V=="string"?dt(ie,V,B):Ft(ie,V)}de.from=function(ie,V,B){return tt(null,ie,V,B)},de.TYPED_ARRAY_SUPPORT&&(de.prototype.__proto__=Uint8Array.prototype,de.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&de[Symbol.species]===de&&Object.defineProperty(de,Symbol.species,{value:null,configurable:!0}));function Z(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function Pe(ie,V,B,J){return Z(V),V<=0?je(ie,V):B!==void 0?typeof J=="string"?je(ie,V).fill(B,J):je(ie,V).fill(B):je(ie,V)}de.alloc=function(ie,V,B){return Pe(null,ie,V,B)};function ve(ie,V){if(Z(V),ie=je(ie,V<0?0:bt(V)|0),!de.TYPED_ARRAY_SUPPORT)for(var B=0;B<V;++B)ie[B]=0;return ie}de.allocUnsafe=function(ie){return ve(null,ie)},de.allocUnsafeSlow=function(ie){return ve(null,ie)};function dt(ie,V,B){if((typeof B!="string"||B==="")&&(B="utf8"),!de.isEncoding(B))throw new TypeError('"encoding" must be a valid string encoding');var J=he(V,B)|0;ie=je(ie,J);var Oe=ie.write(V,B);return Oe!==J&&(ie=ie.slice(0,Oe)),ie}function at(ie,V){var B=V.length<0?0:bt(V.length)|0;ie=je(ie,B);for(var J=0;J<B;J+=1)ie[J]=V[J]&255;return ie}function Pt(ie,V,B,J){if(V.byteLength,B<0||V.byteLength<B)throw new RangeError("'offset' is out of bounds");if(V.byteLength<B+(J||0))throw new RangeError("'length' is out of bounds");return B===void 0&&J===void 0?V=new Uint8Array(V):J===void 0?V=new Uint8Array(V,B):V=new Uint8Array(V,B,J),de.TYPED_ARRAY_SUPPORT?(ie=V,ie.__proto__=de.prototype):ie=at(ie,V),ie}function Ft(ie,V){if(de.isBuffer(V)){var B=bt(V.length)|0;return ie=je(ie,B),ie.length===0||V.copy(ie,0,0,B),ie}if(V){if(typeof ArrayBuffer!="undefined"&&V.buffer instanceof ArrayBuffer||"length"in V)return typeof V.length!="number"||Xe(V.length)?je(ie,0):at(ie,V);if(V.type==="Buffer"&&re(V.data))return at(ie,V.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function bt(ie){if(ie>=X())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X().toString(16)+" bytes");return ie|0}function Ct(ie){return+ie!=ie&&(ie=0),de.alloc(+ie)}de.isBuffer=function(V){return!!(V!=null&&V._isBuffer)},de.compare=function(V,B){if(!de.isBuffer(V)||!de.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(V===B)return 0;for(var J=V.length,Oe=B.length,nt=0,ut=Math.min(J,Oe);nt<ut;++nt)if(V[nt]!==B[nt]){J=V[nt],Oe=B[nt];break}return J<Oe?-1:Oe<J?1:0},de.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},de.concat=function(V,B){if(!re(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return de.alloc(0);var J;if(B===void 0)for(B=0,J=0;J<V.length;++J)B+=V[J].length;var Oe=de.allocUnsafe(B),nt=0;for(J=0;J<V.length;++J){var ut=V[J];if(!de.isBuffer(ut))throw new TypeError('"list" argument must be an Array of Buffers');ut.copy(Oe,nt),nt+=ut.length}return Oe};function he(ie,V){if(de.isBuffer(ie))return ie.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var B=ie.length;if(B===0)return 0;for(var J=!1;;)switch(V){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":case void 0:return Mi(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return Ae(ie).length;default:if(J)return Mi(ie).length;V=(""+V).toLowerCase(),J=!0}}de.byteLength=he;function Ve(ie,V,B){var J=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,V>>>=0,B<=V))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return zt(this,V,B);case"utf8":case"utf-8":return Kt(this,V,B);case"ascii":return Sn(this,V,B);case"latin1":case"binary":return on(this,V,B);case"base64":return mt(this,V,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,V,B);default:if(J)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),J=!0}}de.prototype._isBuffer=!0;function yt(ie,V,B){var J=ie[V];ie[V]=ie[B],ie[B]=J}de.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<V;B+=2)yt(this,B,B+1);return this},de.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<V;B+=4)yt(this,B,B+3),yt(this,B+1,B+2);return this},de.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<V;B+=8)yt(this,B,B+7),yt(this,B+1,B+6),yt(this,B+2,B+5),yt(this,B+3,B+4);return this},de.prototype.toString=function(){var V=this.length|0;return V===0?"":arguments.length===0?Kt(this,0,V):Ve.apply(this,arguments)},de.prototype.equals=function(V){if(!de.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:de.compare(this,V)===0},de.prototype.inspect=function(){var V="",B=Ne.INSPECT_MAX_BYTES;return this.length>0&&(V=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(V+=" ... ")),"<Buffer "+V+">"},de.prototype.compare=function(V,B,J,Oe,nt){if(!de.isBuffer(V))throw new TypeError("Argument must be a Buffer");if(B===void 0&&(B=0),J===void 0&&(J=V?V.length:0),Oe===void 0&&(Oe=0),nt===void 0&&(nt=this.length),B<0||J>V.length||Oe<0||nt>this.length)throw new RangeError("out of range index");if(Oe>=nt&&B>=J)return 0;if(Oe>=nt)return-1;if(B>=J)return 1;if(B>>>=0,J>>>=0,Oe>>>=0,nt>>>=0,this===V)return 0;for(var ut=nt-Oe,Jt=J-B,pn=Math.min(ut,Jt),hn=this.slice(Oe,nt),Ln=V.slice(B,J),Se=0;Se<pn;++Se)if(hn[Se]!==Ln[Se]){ut=hn[Se],Jt=Ln[Se];break}return ut<Jt?-1:Jt<ut?1:0};function Mt(ie,V,B,J,Oe){if(ie.length===0)return-1;if(typeof B=="string"?(J=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,isNaN(B)&&(B=Oe?0:ie.length-1),B<0&&(B=ie.length+B),B>=ie.length){if(Oe)return-1;B=ie.length-1}else if(B<0)if(Oe)B=0;else return-1;if(typeof V=="string"&&(V=de.from(V,J)),de.isBuffer(V))return V.length===0?-1:Ut(ie,V,B,J,Oe);if(typeof V=="number")return V=V&255,de.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Oe?Uint8Array.prototype.indexOf.call(ie,V,B):Uint8Array.prototype.lastIndexOf.call(ie,V,B):Ut(ie,[V],B,J,Oe);throw new TypeError("val must be string, number or Buffer")}function Ut(ie,V,B,J,Oe){var nt=1,ut=ie.length,Jt=V.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(ie.length<2||V.length<2)return-1;nt=2,ut/=2,Jt/=2,B/=2}function pn(Ue,Ie){return nt===1?Ue[Ie]:Ue.readUInt16BE(Ie*nt)}var hn;if(Oe){var Ln=-1;for(hn=B;hn<ut;hn++)if(pn(ie,hn)===pn(V,Ln===-1?0:hn-Ln)){if(Ln===-1&&(Ln=hn),hn-Ln+1===Jt)return Ln*nt}else Ln!==-1&&(hn-=hn-Ln),Ln=-1}else for(B+Jt>ut&&(B=ut-Jt),hn=B;hn>=0;hn--){for(var Se=!0,Ee=0;Ee<Jt;Ee++)if(pn(ie,hn+Ee)!==pn(V,Ee)){Se=!1;break}if(Se)return hn}return-1}de.prototype.includes=function(V,B,J){return this.indexOf(V,B,J)!==-1},de.prototype.indexOf=function(V,B,J){return Mt(this,V,B,J,!0)},de.prototype.lastIndexOf=function(V,B,J){return Mt(this,V,B,J,!1)};function It(ie,V,B,J){B=Number(B)||0;var Oe=ie.length-B;J?(J=Number(J),J>Oe&&(J=Oe)):J=Oe;var nt=V.length;if(nt%2!=0)throw new TypeError("Invalid hex string");J>nt/2&&(J=nt/2);for(var ut=0;ut<J;++ut){var Jt=parseInt(V.substr(ut*2,2),16);if(isNaN(Jt))return ut;ie[B+ut]=Jt}return ut}function Yt(ie,V,B,J){return st(Mi(V,ie.length-B),ie,B,J)}function Gt(ie,V,B,J){return st(wn(V),ie,B,J)}function an(ie,V,B,J){return Gt(ie,V,B,J)}function et(ie,V,B,J){return st(Ae(V),ie,B,J)}function xt(ie,V,B,J){return st(De(V,ie.length-B),ie,B,J)}de.prototype.write=function(V,B,J,Oe){if(B===void 0)Oe="utf8",J=this.length,B=0;else if(J===void 0&&typeof B=="string")Oe=B,J=this.length,B=0;else if(isFinite(B))B=B|0,isFinite(J)?(J=J|0,Oe===void 0&&(Oe="utf8")):(Oe=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var nt=this.length-B;if((J===void 0||J>nt)&&(J=nt),V.length>0&&(J<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var ut=!1;;)switch(Oe){case"hex":return It(this,V,B,J);case"utf8":case"utf-8":return Yt(this,V,B,J);case"ascii":return Gt(this,V,B,J);case"latin1":case"binary":return an(this,V,B,J);case"base64":return et(this,V,B,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,V,B,J);default:if(ut)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),ut=!0}},de.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mt(ie,V,B){return V===0&&B===ie.length?be.fromByteArray(ie):be.fromByteArray(ie.slice(V,B))}function Kt(ie,V,B){B=Math.min(ie.length,B);for(var J=[],Oe=V;Oe<B;){var nt=ie[Oe],ut=null,Jt=nt>239?4:nt>223?3:nt>191?2:1;if(Oe+Jt<=B){var pn,hn,Ln,Se;switch(Jt){case 1:nt<128&&(ut=nt);break;case 2:pn=ie[Oe+1],(pn&192)==128&&(Se=(nt&31)<<6|pn&63,Se>127&&(ut=Se));break;case 3:pn=ie[Oe+1],hn=ie[Oe+2],(pn&192)==128&&(hn&192)==128&&(Se=(nt&15)<<12|(pn&63)<<6|hn&63,Se>2047&&(Se<55296||Se>57343)&&(ut=Se));break;case 4:pn=ie[Oe+1],hn=ie[Oe+2],Ln=ie[Oe+3],(pn&192)==128&&(hn&192)==128&&(Ln&192)==128&&(Se=(nt&15)<<18|(pn&63)<<12|(hn&63)<<6|Ln&63,Se>65535&&Se<1114112&&(ut=Se))}}ut===null?(ut=65533,Jt=1):ut>65535&&(ut-=65536,J.push(ut>>>10&1023|55296),ut=56320|ut&1023),J.push(ut),Oe+=Jt}return un(J)}var $t=4096;function un(ie){var V=ie.length;if(V<=$t)return String.fromCharCode.apply(String,ie);for(var B="",J=0;J<V;)B+=String.fromCharCode.apply(String,ie.slice(J,J+=$t));return B}function Sn(ie,V,B){var J="";B=Math.min(ie.length,B);for(var Oe=V;Oe<B;++Oe)J+=String.fromCharCode(ie[Oe]&127);return J}function on(ie,V,B){var J="";B=Math.min(ie.length,B);for(var Oe=V;Oe<B;++Oe)J+=String.fromCharCode(ie[Oe]);return J}function zt(ie,V,B){var J=ie.length;(!V||V<0)&&(V=0),(!B||B<0||B>J)&&(B=J);for(var Oe="",nt=V;nt<B;++nt)Oe+=jr(ie[nt]);return Oe}function en(ie,V,B){for(var J=ie.slice(V,B),Oe="",nt=0;nt<J.length;nt+=2)Oe+=String.fromCharCode(J[nt]+J[nt+1]*256);return Oe}de.prototype.slice=function(V,B){var J=this.length;V=~~V,B=B===void 0?J:~~B,V<0?(V+=J,V<0&&(V=0)):V>J&&(V=J),B<0?(B+=J,B<0&&(B=0)):B>J&&(B=J),B<V&&(B=V);var Oe;if(de.TYPED_ARRAY_SUPPORT)Oe=this.subarray(V,B),Oe.__proto__=de.prototype;else{var nt=B-V;Oe=new de(nt,void 0);for(var ut=0;ut<nt;++ut)Oe[ut]=this[ut+V]}return Oe};function y(ie,V,B){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+V>B)throw new RangeError("Trying to access beyond buffer length")}de.prototype.readUIntLE=function(V,B,J){V=V|0,B=B|0,J||y(V,B,this.length);for(var Oe=this[V],nt=1,ut=0;++ut<B&&(nt*=256);)Oe+=this[V+ut]*nt;return Oe},de.prototype.readUIntBE=function(V,B,J){V=V|0,B=B|0,J||y(V,B,this.length);for(var Oe=this[V+--B],nt=1;B>0&&(nt*=256);)Oe+=this[V+--B]*nt;return Oe},de.prototype.readUInt8=function(V,B){return B||y(V,1,this.length),this[V]},de.prototype.readUInt16LE=function(V,B){return B||y(V,2,this.length),this[V]|this[V+1]<<8},de.prototype.readUInt16BE=function(V,B){return B||y(V,2,this.length),this[V]<<8|this[V+1]},de.prototype.readUInt32LE=function(V,B){return B||y(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},de.prototype.readUInt32BE=function(V,B){return B||y(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},de.prototype.readIntLE=function(V,B,J){V=V|0,B=B|0,J||y(V,B,this.length);for(var Oe=this[V],nt=1,ut=0;++ut<B&&(nt*=256);)Oe+=this[V+ut]*nt;return nt*=128,Oe>=nt&&(Oe-=Math.pow(2,8*B)),Oe},de.prototype.readIntBE=function(V,B,J){V=V|0,B=B|0,J||y(V,B,this.length);for(var Oe=B,nt=1,ut=this[V+--Oe];Oe>0&&(nt*=256);)ut+=this[V+--Oe]*nt;return nt*=128,ut>=nt&&(ut-=Math.pow(2,8*B)),ut},de.prototype.readInt8=function(V,B){return B||y(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},de.prototype.readInt16LE=function(V,B){B||y(V,2,this.length);var J=this[V]|this[V+1]<<8;return J&32768?J|4294901760:J},de.prototype.readInt16BE=function(V,B){B||y(V,2,this.length);var J=this[V+1]|this[V]<<8;return J&32768?J|4294901760:J},de.prototype.readInt32LE=function(V,B){return B||y(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},de.prototype.readInt32BE=function(V,B){return B||y(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},de.prototype.readFloatLE=function(V,B){return B||y(V,4,this.length),F.read(this,V,!0,23,4)},de.prototype.readFloatBE=function(V,B){return B||y(V,4,this.length),F.read(this,V,!1,23,4)},de.prototype.readDoubleLE=function(V,B){return B||y(V,8,this.length),F.read(this,V,!0,52,8)},de.prototype.readDoubleBE=function(V,B){return B||y(V,8,this.length),F.read(this,V,!1,52,8)};function _n(ie,V,B,J,Oe,nt){if(!de.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Oe||V<nt)throw new RangeError('"value" argument is out of bounds');if(B+J>ie.length)throw new RangeError("Index out of range")}de.prototype.writeUIntLE=function(V,B,J,Oe){if(V=+V,B=B|0,J=J|0,!Oe){var nt=Math.pow(2,8*J)-1;_n(this,V,B,J,nt,0)}var ut=1,Jt=0;for(this[B]=V&255;++Jt<J&&(ut*=256);)this[B+Jt]=V/ut&255;return B+J},de.prototype.writeUIntBE=function(V,B,J,Oe){if(V=+V,B=B|0,J=J|0,!Oe){var nt=Math.pow(2,8*J)-1;_n(this,V,B,J,nt,0)}var ut=J-1,Jt=1;for(this[B+ut]=V&255;--ut>=0&&(Jt*=256);)this[B+ut]=V/Jt&255;return B+J},de.prototype.writeUInt8=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,1,255,0),de.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),this[B]=V&255,B+1};function An(ie,V,B,J){V<0&&(V=65535+V+1);for(var Oe=0,nt=Math.min(ie.length-B,2);Oe<nt;++Oe)ie[B+Oe]=(V&255<<8*(J?Oe:1-Oe))>>>(J?Oe:1-Oe)*8}de.prototype.writeUInt16LE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,2,65535,0),de.TYPED_ARRAY_SUPPORT?(this[B]=V&255,this[B+1]=V>>>8):An(this,V,B,!0),B+2},de.prototype.writeUInt16BE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,2,65535,0),de.TYPED_ARRAY_SUPPORT?(this[B]=V>>>8,this[B+1]=V&255):An(this,V,B,!1),B+2};function Fn(ie,V,B,J){V<0&&(V=4294967295+V+1);for(var Oe=0,nt=Math.min(ie.length-B,4);Oe<nt;++Oe)ie[B+Oe]=V>>>(J?Oe:3-Oe)*8&255}de.prototype.writeUInt32LE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,4,4294967295,0),de.TYPED_ARRAY_SUPPORT?(this[B+3]=V>>>24,this[B+2]=V>>>16,this[B+1]=V>>>8,this[B]=V&255):Fn(this,V,B,!0),B+4},de.prototype.writeUInt32BE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,4,4294967295,0),de.TYPED_ARRAY_SUPPORT?(this[B]=V>>>24,this[B+1]=V>>>16,this[B+2]=V>>>8,this[B+3]=V&255):Fn(this,V,B,!1),B+4},de.prototype.writeIntLE=function(V,B,J,Oe){if(V=+V,B=B|0,!Oe){var nt=Math.pow(2,8*J-1);_n(this,V,B,J,nt-1,-nt)}var ut=0,Jt=1,pn=0;for(this[B]=V&255;++ut<J&&(Jt*=256);)V<0&&pn===0&&this[B+ut-1]!==0&&(pn=1),this[B+ut]=(V/Jt>>0)-pn&255;return B+J},de.prototype.writeIntBE=function(V,B,J,Oe){if(V=+V,B=B|0,!Oe){var nt=Math.pow(2,8*J-1);_n(this,V,B,J,nt-1,-nt)}var ut=J-1,Jt=1,pn=0;for(this[B+ut]=V&255;--ut>=0&&(Jt*=256);)V<0&&pn===0&&this[B+ut+1]!==0&&(pn=1),this[B+ut]=(V/Jt>>0)-pn&255;return B+J},de.prototype.writeInt8=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,1,127,-128),de.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),V<0&&(V=255+V+1),this[B]=V&255,B+1},de.prototype.writeInt16LE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,2,32767,-32768),de.TYPED_ARRAY_SUPPORT?(this[B]=V&255,this[B+1]=V>>>8):An(this,V,B,!0),B+2},de.prototype.writeInt16BE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,2,32767,-32768),de.TYPED_ARRAY_SUPPORT?(this[B]=V>>>8,this[B+1]=V&255):An(this,V,B,!1),B+2},de.prototype.writeInt32LE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,4,2147483647,-2147483648),de.TYPED_ARRAY_SUPPORT?(this[B]=V&255,this[B+1]=V>>>8,this[B+2]=V>>>16,this[B+3]=V>>>24):Fn(this,V,B,!0),B+4},de.prototype.writeInt32BE=function(V,B,J){return V=+V,B=B|0,J||_n(this,V,B,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),de.TYPED_ARRAY_SUPPORT?(this[B]=V>>>24,this[B+1]=V>>>16,this[B+2]=V>>>8,this[B+3]=V&255):Fn(this,V,B,!1),B+4};function Wn(ie,V,B,J,Oe,nt){if(B+J>ie.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function zn(ie,V,B,J,Oe){return Oe||Wn(ie,V,B,4,34028234663852886e22,-34028234663852886e22),F.write(ie,V,B,J,23,4),B+4}de.prototype.writeFloatLE=function(V,B,J){return zn(this,V,B,!0,J)},de.prototype.writeFloatBE=function(V,B,J){return zn(this,V,B,!1,J)};function or(ie,V,B,J,Oe){return Oe||Wn(ie,V,B,8,17976931348623157e292,-17976931348623157e292),F.write(ie,V,B,J,52,8),B+8}de.prototype.writeDoubleLE=function(V,B,J){return or(this,V,B,!0,J)},de.prototype.writeDoubleBE=function(V,B,J){return or(this,V,B,!1,J)},de.prototype.copy=function(V,B,J,Oe){if(J||(J=0),!Oe&&Oe!==0&&(Oe=this.length),B>=V.length&&(B=V.length),B||(B=0),Oe>0&&Oe<J&&(Oe=J),Oe===J||V.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("sourceStart out of bounds");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),V.length-B<Oe-J&&(Oe=V.length-B+J);var nt=Oe-J,ut;if(this===V&&J<B&&B<Oe)for(ut=nt-1;ut>=0;--ut)V[ut+B]=this[ut+J];else if(nt<1e3||!de.TYPED_ARRAY_SUPPORT)for(ut=0;ut<nt;++ut)V[ut+B]=this[ut+J];else Uint8Array.prototype.set.call(V,this.subarray(J,J+nt),B);return nt},de.prototype.fill=function(V,B,J,Oe){if(typeof V=="string"){if(typeof B=="string"?(Oe=B,B=0,J=this.length):typeof J=="string"&&(Oe=J,J=this.length),V.length===1){var nt=V.charCodeAt(0);nt<256&&(V=nt)}if(Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!de.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe)}else typeof V=="number"&&(V=V&255);if(B<0||this.length<B||this.length<J)throw new RangeError("Out of range index");if(J<=B)return this;B=B>>>0,J=J===void 0?this.length:J>>>0,V||(V=0);var ut;if(typeof V=="number")for(ut=B;ut<J;++ut)this[ut]=V;else{var Jt=de.isBuffer(V)?V:Mi(new de(V,Oe).toString()),pn=Jt.length;for(ut=0;ut<J-B;++ut)this[ut+B]=Jt[ut%pn]}return this};var Sr=/[^+\/0-9A-Za-z-_]/g;function pr(ie){if(ie=Jr(ie).replace(Sr,""),ie.length<2)return"";for(;ie.length%4!=0;)ie=ie+"=";return ie}function Jr(ie){return ie.trim?ie.trim():ie.replace(/^\s+|\s+$/g,"")}function jr(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function Mi(ie,V){V=V||Infinity;for(var B,J=ie.length,Oe=null,nt=[],ut=0;ut<J;++ut){if(B=ie.charCodeAt(ut),B>55295&&B<57344){if(!Oe){if(B>56319){(V-=3)>-1&&nt.push(239,191,189);continue}else if(ut+1===J){(V-=3)>-1&&nt.push(239,191,189);continue}Oe=B;continue}if(B<56320){(V-=3)>-1&&nt.push(239,191,189),Oe=B;continue}B=(Oe-55296<<10|B-56320)+65536}else Oe&&(V-=3)>-1&&nt.push(239,191,189);if(Oe=null,B<128){if((V-=1)<0)break;nt.push(B)}else if(B<2048){if((V-=2)<0)break;nt.push(B>>6|192,B&63|128)}else if(B<65536){if((V-=3)<0)break;nt.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((V-=4)<0)break;nt.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return nt}function wn(ie){for(var V=[],B=0;B<ie.length;++B)V.push(ie.charCodeAt(B)&255);return V}function De(ie,V){for(var B,J,Oe,nt=[],ut=0;ut<ie.length&&!((V-=2)<0);++ut)B=ie.charCodeAt(ut),J=B>>8,Oe=B%256,nt.push(Oe),nt.push(J);return nt}function Ae(ie){return be.toByteArray(pr(ie))}function st(ie,V,B,J){for(var Oe=0;Oe<J&&!(Oe+B>=V.length||Oe>=ie.length);++Oe)V[Oe+B]=ie[Oe];return Oe}function Xe(ie){return ie!==ie}}).call(this,D("IyRk"))},IrXD:function(Cr,Ne,D){"use strict";D.r(Ne),function(Y){D.d(Ne,"Easing",function(){return be}),D.d(Ne,"Group",function(){return P}),D.d(Ne,"Interpolation",function(){return X}),D.d(Ne,"Sequence",function(){return je}),D.d(Ne,"Tween",function(){return tt}),D.d(Ne,"VERSION",function(){return Z}),D.d(Ne,"add",function(){return Pt}),D.d(Ne,"getAll",function(){return dt}),D.d(Ne,"nextId",function(){return Pe}),D.d(Ne,"now",function(){return re}),D.d(Ne,"remove",function(){return Ft}),D.d(Ne,"removeAll",function(){return at}),D.d(Ne,"update",function(){return bt});var be={Linear:{None:function(he){return he}},Quadratic:{In:function(he){return he*he},Out:function(he){return he*(2-he)},InOut:function(he){return(he*=2)<1?.5*he*he:-.5*(--he*(he-2)-1)}},Cubic:{In:function(he){return he*he*he},Out:function(he){return--he*he*he+1},InOut:function(he){return(he*=2)<1?.5*he*he*he:.5*((he-=2)*he*he+2)}},Quartic:{In:function(he){return he*he*he*he},Out:function(he){return 1- --he*he*he*he},InOut:function(he){return(he*=2)<1?.5*he*he*he*he:-.5*((he-=2)*he*he*he-2)}},Quintic:{In:function(he){return he*he*he*he*he},Out:function(he){return--he*he*he*he*he+1},InOut:function(he){return(he*=2)<1?.5*he*he*he*he*he:.5*((he-=2)*he*he*he*he+2)}},Sinusoidal:{In:function(he){return 1-Math.cos(he*Math.PI/2)},Out:function(he){return Math.sin(he*Math.PI/2)},InOut:function(he){return .5*(1-Math.cos(Math.PI*he))}},Exponential:{In:function(he){return he===0?0:Math.pow(1024,he-1)},Out:function(he){return he===1?1:1-Math.pow(2,-10*he)},InOut:function(he){return he===0?0:he===1?1:(he*=2)<1?.5*Math.pow(1024,he-1):.5*(-Math.pow(2,-10*(he-1))+2)}},Circular:{In:function(he){return 1-Math.sqrt(1-he*he)},Out:function(he){return Math.sqrt(1- --he*he)},InOut:function(he){return(he*=2)<1?-.5*(Math.sqrt(1-he*he)-1):.5*(Math.sqrt(1-(he-=2)*he)+1)}},Elastic:{In:function(he){return he===0?0:he===1?1:-Math.pow(2,10*(he-1))*Math.sin((he-1.1)*5*Math.PI)},Out:function(he){return he===0?0:he===1?1:Math.pow(2,-10*he)*Math.sin((he-.1)*5*Math.PI)+1},InOut:function(he){return he===0?0:he===1?1:(he*=2,he<1?-.5*Math.pow(2,10*(he-1))*Math.sin((he-1.1)*5*Math.PI):.5*Math.pow(2,-10*(he-1))*Math.sin((he-1.1)*5*Math.PI)+1)}},Back:{In:function(he){var Ve=1.70158;return he*he*((Ve+1)*he-Ve)},Out:function(he){var Ve=1.70158;return--he*he*((Ve+1)*he+Ve)+1},InOut:function(he){var Ve=1.70158*1.525;return(he*=2)<1?.5*(he*he*((Ve+1)*he-Ve)):.5*((he-=2)*he*((Ve+1)*he+Ve)+2)}},Bounce:{In:function(he){return 1-be.Bounce.Out(1-he)},Out:function(he){return he<1/2.75?7.5625*he*he:he<2/2.75?7.5625*(he-=1.5/2.75)*he+.75:he<2.5/2.75?7.5625*(he-=2.25/2.75)*he+.9375:7.5625*(he-=2.625/2.75)*he+.984375},InOut:function(he){return he<.5?be.Bounce.In(he*2)*.5:be.Bounce.Out(he*2-1)*.5+.5}}},F;typeof self=="undefined"&&typeof Y!="undefined"&&Y.hrtime?F=function(){var he=Y.hrtime();return he[0]*1e3+he[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?F=self.performance.now.bind(self.performance):Date.now!==void 0?F=Date.now:F=function(){return new Date().getTime()};var re=F,P=function(){function he(){this._tweens={},this._tweensAddedDuringUpdate={}}return he.prototype.getAll=function(){var Ve=this;return Object.keys(this._tweens).map(function(yt){return Ve._tweens[yt]})},he.prototype.removeAll=function(){this._tweens={}},he.prototype.add=function(Ve){this._tweens[Ve.getId()]=Ve,this._tweensAddedDuringUpdate[Ve.getId()]=Ve},he.prototype.remove=function(Ve){delete this._tweens[Ve.getId()],delete this._tweensAddedDuringUpdate[Ve.getId()]},he.prototype.update=function(Ve,yt){Ve===void 0&&(Ve=re()),yt===void 0&&(yt=!1);var Mt=Object.keys(this._tweens);if(Mt.length===0)return!1;for(;Mt.length>0;){this._tweensAddedDuringUpdate={};for(var Ut=0;Ut<Mt.length;Ut++){var It=this._tweens[Mt[Ut]],Yt=!yt;It&&It.update(Ve,Yt)===!1&&!yt&&delete this._tweens[Mt[Ut]]}Mt=Object.keys(this._tweensAddedDuringUpdate)}return!0},he}(),X={Linear:function(he,Ve){var yt=he.length-1,Mt=yt*Ve,Ut=Math.floor(Mt),It=X.Utils.Linear;return Ve<0?It(he[0],he[1],Mt):Ve>1?It(he[yt],he[yt-1],yt-Mt):It(he[Ut],he[Ut+1>yt?yt:Ut+1],Mt-Ut)},Bezier:function(he,Ve){for(var yt=0,Mt=he.length-1,Ut=Math.pow,It=X.Utils.Bernstein,Yt=0;Yt<=Mt;Yt++)yt+=Ut(1-Ve,Mt-Yt)*Ut(Ve,Yt)*he[Yt]*It(Mt,Yt);return yt},CatmullRom:function(he,Ve){var yt=he.length-1,Mt=yt*Ve,Ut=Math.floor(Mt),It=X.Utils.CatmullRom;return he[0]===he[yt]?(Ve<0&&(Ut=Math.floor(Mt=yt*(1+Ve))),It(he[(Ut-1+yt)%yt],he[Ut],he[(Ut+1)%yt],he[(Ut+2)%yt],Mt-Ut)):Ve<0?he[0]-(It(he[0],he[0],he[1],he[1],-Mt)-he[0]):Ve>1?he[yt]-(It(he[yt],he[yt],he[yt-1],he[yt-1],Mt-yt)-he[yt]):It(he[Ut?Ut-1:0],he[Ut],he[yt<Ut+1?yt:Ut+1],he[yt<Ut+2?yt:Ut+2],Mt-Ut)},Utils:{Linear:function(he,Ve,yt){return(Ve-he)*yt+he},Bernstein:function(he,Ve){var yt=X.Utils.Factorial;return yt(he)/yt(Ve)/yt(he-Ve)},Factorial:function(){var he=[1];return function(Ve){var yt=1;if(he[Ve])return he[Ve];for(var Mt=Ve;Mt>1;Mt--)yt*=Mt;return he[Ve]=yt,yt}}(),CatmullRom:function(he,Ve,yt,Mt,Ut){var It=(yt-he)*.5,Yt=(Mt-Ve)*.5,Gt=Ut*Ut,an=Ut*Gt;return(2*Ve-2*yt+It+Yt)*an+(-3*Ve+3*yt-2*It-Yt)*Gt+It*Ut+Ve}}},je=function(){function he(){}return he.nextId=function(){return he._nextId++},he._nextId=0,he}(),de=new P,tt=function(){function he(Ve,yt){yt===void 0&&(yt=de),this._object=Ve,this._group=yt,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=be.Linear.None,this._interpolationFunction=X.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=je.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return he.prototype.getId=function(){return this._id},he.prototype.isPlaying=function(){return this._isPlaying},he.prototype.isPaused=function(){return this._isPaused},he.prototype.to=function(Ve,yt){return this._valuesEnd=Object.create(Ve),yt!==void 0&&(this._duration=yt),this},he.prototype.duration=function(Ve){return this._duration=Ve,this},he.prototype.start=function(Ve){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var yt in this._valuesStartRepeat)this._swapEndStartRepeatValues(yt),this._valuesStart[yt]=this._valuesStartRepeat[yt]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=Ve!==void 0?typeof Ve=="string"?re()+parseFloat(Ve):Ve:re(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},he.prototype._setupProperties=function(Ve,yt,Mt,Ut){for(var It in Mt){var Yt=Ve[It],Gt=Array.isArray(Yt),an=Gt?"array":typeof Yt,et=!Gt&&Array.isArray(Mt[It]);if(!(an==="undefined"||an==="function")){if(et){var xt=Mt[It];if(xt.length===0)continue;xt=xt.map(this._handleRelativeValue.bind(this,Yt)),Mt[It]=[Yt].concat(xt)}if((an==="object"||Gt)&&Yt&&!et){yt[It]=Gt?[]:{};for(var mt in Yt)yt[It][mt]=Yt[mt];Ut[It]=Gt?[]:{},this._setupProperties(Yt,yt[It],Mt[It],Ut[It])}else typeof yt[It]=="undefined"&&(yt[It]=Yt),Gt||(yt[It]*=1),et?Ut[It]=Mt[It].slice().reverse():Ut[It]=yt[It]||0}}},he.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},he.prototype.end=function(){return this._goToEnd=!0,this.update(Infinity),this},he.prototype.pause=function(Ve){return Ve===void 0&&(Ve=re()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=Ve,this._group&&this._group.remove(this),this)},he.prototype.resume=function(Ve){return Ve===void 0&&(Ve=re()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=Ve-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},he.prototype.stopChainedTweens=function(){for(var Ve=0,yt=this._chainedTweens.length;Ve<yt;Ve++)this._chainedTweens[Ve].stop();return this},he.prototype.group=function(Ve){return this._group=Ve,this},he.prototype.delay=function(Ve){return this._delayTime=Ve,this},he.prototype.repeat=function(Ve){return this._initialRepeat=Ve,this._repeat=Ve,this},he.prototype.repeatDelay=function(Ve){return this._repeatDelayTime=Ve,this},he.prototype.yoyo=function(Ve){return this._yoyo=Ve,this},he.prototype.easing=function(Ve){return this._easingFunction=Ve,this},he.prototype.interpolation=function(Ve){return this._interpolationFunction=Ve,this},he.prototype.chain=function(){for(var Ve=[],yt=0;yt<arguments.length;yt++)Ve[yt]=arguments[yt];return this._chainedTweens=Ve,this},he.prototype.onStart=function(Ve){return this._onStartCallback=Ve,this},he.prototype.onUpdate=function(Ve){return this._onUpdateCallback=Ve,this},he.prototype.onRepeat=function(Ve){return this._onRepeatCallback=Ve,this},he.prototype.onComplete=function(Ve){return this._onCompleteCallback=Ve,this},he.prototype.onStop=function(Ve){return this._onStopCallback=Ve,this},he.prototype.update=function(Ve,yt){if(Ve===void 0&&(Ve=re()),yt===void 0&&(yt=!0),this._isPaused)return!0;var Mt,Ut,It=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(Ve>It)return!1;yt&&this.start(Ve)}if(this._goToEnd=!1,Ve<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),Ut=(Ve-this._startTime)/this._duration,Ut=this._duration===0||Ut>1?1:Ut;var Yt=this._easingFunction(Ut);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,Yt),this._onUpdateCallback&&this._onUpdateCallback(this._object,Ut),Ut===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(Mt in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[Mt]=="string"&&(this._valuesStartRepeat[Mt]=this._valuesStartRepeat[Mt]+parseFloat(this._valuesEnd[Mt])),this._yoyo&&this._swapEndStartRepeatValues(Mt),this._valuesStart[Mt]=this._valuesStartRepeat[Mt];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=Ve+this._repeatDelayTime:this._startTime=Ve+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var Gt=0,an=this._chainedTweens.length;Gt<an;Gt++)this._chainedTweens[Gt].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},he.prototype._updateProperties=function(Ve,yt,Mt,Ut){for(var It in Mt)if(yt[It]!==void 0){var Yt=yt[It]||0,Gt=Mt[It],an=Array.isArray(Ve[It]),et=Array.isArray(Gt),xt=!an&&et;xt?Ve[It]=this._interpolationFunction(Gt,Ut):typeof Gt=="object"&&Gt?this._updateProperties(Ve[It],Yt,Gt,Ut):(Gt=this._handleRelativeValue(Yt,Gt),typeof Gt=="number"&&(Ve[It]=Yt+(Gt-Yt)*Ut))}},he.prototype._handleRelativeValue=function(Ve,yt){return typeof yt!="string"?yt:yt.charAt(0)==="+"||yt.charAt(0)==="-"?Ve+parseFloat(yt):parseFloat(yt)},he.prototype._swapEndStartRepeatValues=function(Ve){var yt=this._valuesStartRepeat[Ve],Mt=this._valuesEnd[Ve];typeof Mt=="string"?this._valuesStartRepeat[Ve]=this._valuesStartRepeat[Ve]+parseFloat(Mt):this._valuesStartRepeat[Ve]=this._valuesEnd[Ve],this._valuesEnd[Ve]=yt},he}(),Z="18.6.4",Pe=je.nextId,ve=de,dt=ve.getAll.bind(ve),at=ve.removeAll.bind(ve),Pt=ve.add.bind(ve),Ft=ve.remove.bind(ve),bt=ve.update.bind(ve),Ct={Easing:be,Group:P,Interpolation:X,now:re,Sequence:je,nextId:Pe,Tween:tt,VERSION:Z,getAll:dt,removeAll:at,add:Pt,remove:Ft,update:bt};Ne.default=Ct}.call(this,D("Q2Ig"))},ItGF:function(Cr,Ne,D){"use strict";var Y=function(){function P(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return P}(),be=function(){function P(){this.browser=new Y,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return P}(),F=new be;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(F.wxa=!0,F.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?F.worker=!0:typeof navigator=="undefined"?(F.node=!0,F.svgSupported=!0):re(navigator.userAgent,F);function re(P,X){var je=X.browser,de=P.match(/Firefox\/([\d.]+)/),tt=P.match(/MSIE\s([\d.]+)/)||P.match(/Trident\/.+?rv:(([\d.]+))/),Z=P.match(/Edge?\/([\d.]+)/),Pe=/micromessenger/i.test(P);de&&(je.firefox=!0,je.version=de[1]),tt&&(je.ie=!0,je.version=tt[1]),Z&&(je.edge=!0,je.version=Z[1],je.newEdge=+Z[1].split(".")[0]>18),Pe&&(je.weChat=!0),X.svgSupported=typeof SVGRect!="undefined",X.touchEventsSupported="ontouchstart"in window&&!je.ie&&!je.edge,X.pointerEventsSupported="onpointerdown"in window&&(je.edge||je.ie&&+je.version>=11),X.domSupported=typeof document!="undefined";var ve=document.documentElement.style;X.transform3dSupported=(je.ie&&"transition"in ve||je.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in ve)&&!("OTransition"in ve),X.transformSupported=X.transform3dSupported||je.ie&&+je.version>=9}Ne.a=F},KCY9:function(Cr,Ne,D){},KPFz:function(Cr,Ne,D){},KrTs:function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("U8pU"),F=D("wx14"),re=D("q1tI"),P=D("8XRh"),X=D("TSYQ"),je=D.n(X),de=D("H84U"),tt=D("0n0R"),Z=D("ODXe");function Pe(It){var Yt=It.prefixCls,Gt=It.value,an=It.current,et=It.offset,xt=et===void 0?0:et,mt;return xt&&(mt={position:"absolute",top:"".concat(xt,"00%"),left:0}),re.createElement("span",{style:mt,className:je()("".concat(Yt,"-only-unit"),{current:an})},Gt)}function ve(It,Yt,Gt){for(var an=It,et=0;(an+10)%10!==Yt;)an+=Gt,et+=Gt;return et}function dt(It){var Yt=It.prefixCls,Gt=It.count,an=It.value,et=Number(an),xt=Math.abs(Gt),mt=re.useState(et),Kt=Object(Z.a)(mt,2),$t=Kt[0],un=Kt[1],Sn=re.useState(xt),on=Object(Z.a)(Sn,2),zt=on[0],en=on[1],y=function(){un(et),en(xt)};re.useEffect(function(){var pr=setTimeout(function(){y()},1e3);return function(){clearTimeout(pr)}},[et]);var _n,An;if($t===et||Number.isNaN(et)||Number.isNaN($t))_n=[re.createElement(Pe,Object(F.a)({},It,{key:et,current:!0}))],An={transition:"none"};else{_n=[];for(var Fn=et+10,Wn=[],zn=et;zn<=Fn;zn+=1)Wn.push(zn);var or=Wn.findIndex(function(pr){return pr%10===$t});_n=Wn.map(function(pr,Jr){var jr=pr%10;return re.createElement(Pe,Object(F.a)({},It,{key:pr,value:jr,offset:Jr-or,current:Jr===or}))});var Sr=zt<xt?1:-1;An={transform:"translateY(".concat(-ve($t,et,Sr),"00%)")}}return re.createElement("span",{className:"".concat(Yt,"-only"),style:An,onTransitionEnd:y},_n)}var at=function(It,Yt){var Gt={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Yt.indexOf(an)<0&&(Gt[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,an=Object.getOwnPropertySymbols(It);et<an.length;et++)Yt.indexOf(an[et])<0&&Object.prototype.propertyIsEnumerable.call(It,an[et])&&(Gt[an[et]]=It[an[et]]);return Gt},Pt=function(Yt){var Gt=Yt.prefixCls,an=Yt.count,et=Yt.className,xt=Yt.motionClassName,mt=Yt.style,Kt=Yt.title,$t=Yt.show,un=Yt.component,Sn=un===void 0?"sup":un,on=Yt.children,zt=at(Yt,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),en=re.useContext(de.b),y=en.getPrefixCls,_n=y("scroll-number",Gt),An=Object(F.a)(Object(F.a)({},zt),{"data-show":$t,style:mt,className:je()(_n,et,xt),title:Kt}),Fn=an;if(an&&Number(an)%1==0){var Wn=String(an).split("");Fn=Wn.map(function(zn,or){return re.createElement(dt,{prefixCls:_n,count:Number(an),value:zn,key:Wn.length-or})})}return mt&&mt.borderColor&&(An.style=Object(F.a)(Object(F.a)({},mt),{boxShadow:"0 0 0 1px ".concat(mt.borderColor," inset")})),on?Object(tt.a)(on,function(zn){return{className:je()("".concat(_n,"-custom-component"),zn==null?void 0:zn.className,xt)}}):re.createElement(Sn,An,Fn)},Ft=Pt,bt=D("09Wf");function Ct(It){return bt.a.indexOf(It)!==-1}var he=function(Yt){var Gt,an=Yt.className,et=Yt.prefixCls,xt=Yt.style,mt=Yt.color,Kt=Yt.children,$t=Yt.text,un=Yt.placement,Sn=un===void 0?"end":un,on=re.useContext(de.b),zt=on.getPrefixCls,en=on.direction,y=zt("ribbon",et),_n=Ct(mt),An=je()(y,"".concat(y,"-placement-").concat(Sn),(Gt={},Object(Y.a)(Gt,"".concat(y,"-rtl"),en==="rtl"),Object(Y.a)(Gt,"".concat(y,"-color-").concat(mt),_n),Gt),an),Fn={},Wn={};return mt&&!_n&&(Fn.background=mt,Wn.color=mt),re.createElement("div",{className:"".concat(y,"-wrapper")},Kt,re.createElement("div",{className:An,style:Object(F.a)(Object(F.a)({},Fn),xt)},re.createElement("span",{className:"".concat(y,"-text")},$t),re.createElement("div",{className:"".concat(y,"-corner"),style:Wn})))},Ve=he,yt=function(It,Yt){var Gt={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Yt.indexOf(an)<0&&(Gt[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,an=Object.getOwnPropertySymbols(It);et<an.length;et++)Yt.indexOf(an[et])<0&&Object.prototype.propertyIsEnumerable.call(It,an[et])&&(Gt[an[et]]=It[an[et]]);return Gt},Mt=function(Yt){var Gt,an,et=Yt.prefixCls,xt=Yt.scrollNumberPrefixCls,mt=Yt.children,Kt=Yt.status,$t=Yt.text,un=Yt.color,Sn=Yt.count,on=Sn===void 0?null:Sn,zt=Yt.overflowCount,en=zt===void 0?99:zt,y=Yt.dot,_n=y===void 0?!1:y,An=Yt.size,Fn=An===void 0?"default":An,Wn=Yt.title,zn=Yt.offset,or=Yt.style,Sr=Yt.className,pr=Yt.showZero,Jr=pr===void 0?!1:pr,jr=yt(Yt,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),Mi=re.useContext(de.b),wn=Mi.getPrefixCls,De=Mi.direction,Ae=wn("badge",et),st=on>en?"".concat(en,"+"):on,Xe=Kt!=null||un!=null,ie=st==="0"||st===0,V=_n&&!ie,B=V?"":st,J=Object(re.useMemo)(function(){var We=B==null||B==="";return(We||ie&&!Jr)&&!V},[B,ie,Jr,V]),Oe=Object(re.useRef)(on);J||(Oe.current=on);var nt=Oe.current,ut=Object(re.useRef)(B);J||(ut.current=B);var Jt=ut.current,pn=Object(re.useRef)(V);J||(pn.current=V);var hn=Object(re.useMemo)(function(){if(!zn)return Object(F.a)({},or);var We={marginTop:zn[1]};return De==="rtl"?We.left=parseInt(zn[0],10):We.right=-parseInt(zn[0],10),Object(F.a)(Object(F.a)({},We),or)},[De,zn,or]),Ln=Wn!=null?Wn:typeof nt=="string"||typeof nt=="number"?nt:void 0,Se=J||!$t?null:re.createElement("span",{className:"".concat(Ae,"-status-text")},$t),Ee=!nt||Object(be.a)(nt)!=="object"?void 0:Object(tt.a)(nt,function(We){return{style:Object(F.a)(Object(F.a)({},hn),We.style)}}),Ue=je()((Gt={},Object(Y.a)(Gt,"".concat(Ae,"-status-dot"),Xe),Object(Y.a)(Gt,"".concat(Ae,"-status-").concat(Kt),!!Kt),Object(Y.a)(Gt,"".concat(Ae,"-status-").concat(un),Ct(un)),Gt)),Ie={};un&&!Ct(un)&&(Ie.background=un);var Re=je()(Ae,(an={},Object(Y.a)(an,"".concat(Ae,"-status"),Xe),Object(Y.a)(an,"".concat(Ae,"-not-a-wrapper"),!mt),Object(Y.a)(an,"".concat(Ae,"-rtl"),De==="rtl"),an),Sr);if(!mt&&Xe){var Ke=hn.color;return re.createElement("span",Object(F.a)({},jr,{className:Re,style:hn}),re.createElement("span",{className:Ue,style:Ie}),re.createElement("span",{style:{color:Ke},className:"".concat(Ae,"-status-text")},$t))}return re.createElement("span",Object(F.a)({},jr,{className:Re}),mt,re.createElement(P.b,{visible:!J,motionName:"".concat(Ae,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(We){var ht,ot=We.className,oe=wn("scroll-number",xt),ue=pn.current,$e=je()((ht={},Object(Y.a)(ht,"".concat(Ae,"-dot"),ue),Object(Y.a)(ht,"".concat(Ae,"-count"),!ue),Object(Y.a)(ht,"".concat(Ae,"-count-sm"),Fn==="small"),Object(Y.a)(ht,"".concat(Ae,"-multiple-words"),!ue&&Jt&&Jt.toString().length>1),Object(Y.a)(ht,"".concat(Ae,"-status-").concat(Kt),!!Kt),Object(Y.a)(ht,"".concat(Ae,"-status-").concat(un),Ct(un)),ht)),k=Object(F.a)({},hn);return un&&!Ct(un)&&(k=k||{},k.background=un),re.createElement(Ft,{prefixCls:oe,show:!J,motionClassName:ot,className:$e,count:Jt,title:Ln,style:k,key:"scrollNumber"},Ee)}),Se)};Mt.Ribbon=Ve;var Ut=Ne.a=Mt},KxFI:function(Cr,Ne,D){},MT78:function(Cr,Ne,D){"use strict";D.r(Ne),D.d(Ne,"version",function(){return H3}),D.d(Ne,"dependencies",function(){return G3}),D.d(Ne,"PRIORITY",function(){return XO}),D.d(Ne,"init",function(){return oN}),D.d(Ne,"connect",function(){return sN}),D.d(Ne,"disConnect",function(){return uE}),D.d(Ne,"disconnect",function(){return lN}),D.d(Ne,"dispose",function(){return uN}),D.d(Ne,"getInstanceByDom",function(){return VM}),D.d(Ne,"getInstanceById",function(){return cN}),D.d(Ne,"registerTheme",function(){return HM}),D.d(Ne,"registerPreprocessor",function(){return GM}),D.d(Ne,"registerProcessor",function(){return UM}),D.d(Ne,"registerPostInit",function(){return cE}),D.d(Ne,"registerPostUpdate",function(){return fE}),D.d(Ne,"registerUpdateLifecycle",function(){return eS}),D.d(Ne,"registerAction",function(){return Zf}),D.d(Ne,"registerCoordinateSystem",function(){return dE}),D.d(Ne,"getCoordinateSystemDimensions",function(){return fN}),D.d(Ne,"registerLocale",function(){return cm}),D.d(Ne,"registerLayout",function(){return hE}),D.d(Ne,"registerVisual",function(){return zp}),D.d(Ne,"registerLoading",function(){return KM}),D.d(Ne,"setCanvasCreator",function(){return dN}),D.d(Ne,"registerMap",function(){return vE}),D.d(Ne,"getMap",function(){return hN}),D.d(Ne,"registerTransform",function(){return gE}),D.d(Ne,"dataTool",function(){return pN}),D.d(Ne,"zrender",function(){return F}),D.d(Ne,"matrix",function(){return be}),D.d(Ne,"vector",function(){return Y}),D.d(Ne,"zrUtil",function(){return y}),D.d(Ne,"color",function(){return oa}),D.d(Ne,"throttle",function(){return Bt}),D.d(Ne,"helper",function(){return P}),D.d(Ne,"use",function(){return ea}),D.d(Ne,"setPlatformAPI",function(){return Eo.e}),D.d(Ne,"parseGeoJSON",function(){return u_}),D.d(Ne,"parseGeoJson",function(){return u_}),D.d(Ne,"number",function(){return X}),D.d(Ne,"time",function(){return je}),D.d(Ne,"graphic",function(){return de}),D.d(Ne,"format",function(){return tt}),D.d(Ne,"util",function(){return Z}),D.d(Ne,"env",function(){return en.a}),D.d(Ne,"List",function(){return Tu}),D.d(Ne,"Model",function(){return Mo}),D.d(Ne,"Axis",function(){return vf}),D.d(Ne,"ComponentModel",function(){return xa}),D.d(Ne,"ComponentView",function(){return Xo}),D.d(Ne,"SeriesModel",function(){return Io}),D.d(Ne,"ChartView",function(){return Te}),D.d(Ne,"innerDrawElementOnCanvas",function(){return TM}),D.d(Ne,"extendComponentModel",function(){return Bk}),D.d(Ne,"extendComponentView",function(){return Fk}),D.d(Ne,"extendSeriesModel",function(){return zk}),D.d(Ne,"extendChartView",function(){return Vk});var Y={};D.r(Y),D.d(Y,"create",function(){return Ln}),D.d(Y,"copy",function(){return Se}),D.d(Y,"clone",function(){return Ee}),D.d(Y,"set",function(){return Ue}),D.d(Y,"add",function(){return Ie}),D.d(Y,"scaleAndAdd",function(){return Re}),D.d(Y,"sub",function(){return Ke}),D.d(Y,"len",function(){return We}),D.d(Y,"length",function(){return ht}),D.d(Y,"lenSquare",function(){return ot}),D.d(Y,"lengthSquare",function(){return oe}),D.d(Y,"mul",function(){return ue}),D.d(Y,"div",function(){return $e}),D.d(Y,"dot",function(){return k}),D.d(Y,"scale",function(){return Ce}),D.d(Y,"normalize",function(){return ge}),D.d(Y,"distance",function(){return we}),D.d(Y,"dist",function(){return ct}),D.d(Y,"distanceSquare",function(){return Rt}),D.d(Y,"distSquare",function(){return Wt}),D.d(Y,"negate",function(){return kt}),D.d(Y,"lerp",function(){return nn}),D.d(Y,"applyTransform",function(){return cn}),D.d(Y,"min",function(){return gn}),D.d(Y,"max",function(){return tn});var be={};D.r(be),D.d(be,"create",function(){return Ze}),D.d(be,"identity",function(){return Zs}),D.d(be,"copy",function(){return su}),D.d(be,"mul",function(){return ho}),D.d(be,"translate",function(){return Bo}),D.d(be,"rotate",function(){return fl}),D.d(be,"scale",function(){return Kc}),D.d(be,"invert",function(){return dl}),D.d(be,"clone",function(){return mc});var F={};D.r(F),D.d(F,"init",function(){return Yd}),D.d(F,"dispose",function(){return av}),D.d(F,"disposeAll",function(){return Ms}),D.d(F,"getInstance",function(){return Wg}),D.d(F,"registerPainter",function(){return Ps}),D.d(F,"version",function(){return tc});var re={};D.r(re),D.d(re,"updateProps",function(){return Ea}),D.d(re,"initProps",function(){return Jo}),D.d(re,"removeElement",function(){return vd}),D.d(re,"removeElementWithFadeOut",function(){return Ev}),D.d(re,"isElementRemoved",function(){return ap}),D.d(re,"extendShape",function(){return yM}),D.d(re,"extendPath",function(){return bM}),D.d(re,"registerShape",function(){return zc}),D.d(re,"getShapeClass",function(){return lb}),D.d(re,"makePath",function(){return Xm}),D.d(re,"makeImage",function(){return z1}),D.d(re,"mergePath",function(){return fc}),D.d(re,"resizePath",function(){return V1}),D.d(re,"subPixelOptimizeLine",function(){return LO}),D.d(re,"subPixelOptimizeRect",function(){return DO}),D.d(re,"subPixelOptimize",function(){return ub}),D.d(re,"getTransform",function(){return wh}),D.d(re,"applyTransform",function(){return df}),D.d(re,"transformDirection",function(){return cb}),D.d(re,"groupTransition",function(){return o}),D.d(re,"clipPointsByRect",function(){return c}),D.d(re,"clipRectByRect",function(){return p}),D.d(re,"createIcon",function(){return m}),D.d(re,"linePolygonIntersect",function(){return x}),D.d(re,"lineLineIntersect",function(){return _}),D.d(re,"setTooltipConfig",function(){return L}),D.d(re,"traverseElements",function(){return U}),D.d(re,"Group",function(){return Wr}),D.d(re,"Image",function(){return cs}),D.d(re,"Text",function(){return Fi}),D.d(re,"Circle",function(){return Bc}),D.d(re,"Ellipse",function(){return Od}),D.d(re,"Sector",function(){return Vl}),D.d(re,"Ring",function(){return Gm}),D.d(re,"Polygon",function(){return sl}),D.d(re,"Polyline",function(){return Mu}),D.d(re,"Rect",function(){return Bi}),D.d(re,"Line",function(){return ll}),D.d(re,"BezierCurve",function(){return Ym}),D.d(re,"Arc",function(){return tb}),D.d(re,"IncrementalDisplayable",function(){return mM}),D.d(re,"CompoundPath",function(){return nb}),D.d(re,"LinearGradient",function(){return hg}),D.d(re,"RadialGradient",function(){return B1}),D.d(re,"BoundingRect",function(){return Hn}),D.d(re,"OrientedBoundingRect",function(){return ab}),D.d(re,"Point",function(){return mi}),D.d(re,"Path",function(){return ir});var P={};D.r(P),D.d(P,"createList",function(){return mk}),D.d(P,"getLayoutRect",function(){return ks}),D.d(P,"createDimensions",function(){return EN}),D.d(P,"dataStack",function(){return yk}),D.d(P,"createSymbol",function(){return Ts}),D.d(P,"createScale",function(){return bk}),D.d(P,"mixinAxisModelCommonMethods",function(){return xk}),D.d(P,"getECData",function(){return Yr}),D.d(P,"enableHoverEmphasis",function(){return jf}),D.d(P,"createTextStyle",function(){return Sk});var X={};D.r(X),D.d(X,"linearMap",function(){return Da}),D.d(X,"round",function(){return nr}),D.d(X,"asc",function(){return ms}),D.d(X,"getPrecision",function(){return Ra}),D.d(X,"getPrecisionSafe",function(){return $d}),D.d(X,"getPixelPrecision",function(){return Va}),D.d(X,"getPercentWithPrecision",function(){return Kg}),D.d(X,"MAX_SAFE_INTEGER",function(){return ov}),D.d(X,"remRadian",function(){return Hh}),D.d(X,"isRadianAroundZero",function(){return Ef}),D.d(X,"parseDate",function(){return pl}),D.d(X,"quantity",function(){return sv}),D.d(X,"quantityExponent",function(){return ei}),D.d(X,"nice",function(){return lv}),D.d(X,"quantile",function(){return Gh}),D.d(X,"reformIntervals",function(){return vl}),D.d(X,"isNumeric",function(){return Js}),D.d(X,"numericToNumber",function(){return hu});var je={};D.r(je),D.d(je,"parse",function(){return pl}),D.d(je,"format",function(){return Iv});var de={};D.r(de),D.d(de,"extendShape",function(){return yM}),D.d(de,"extendPath",function(){return bM}),D.d(de,"makePath",function(){return Xm}),D.d(de,"makeImage",function(){return z1}),D.d(de,"mergePath",function(){return fc}),D.d(de,"resizePath",function(){return V1}),D.d(de,"createIcon",function(){return m}),D.d(de,"updateProps",function(){return Ea}),D.d(de,"initProps",function(){return Jo}),D.d(de,"getTransform",function(){return wh}),D.d(de,"clipPointsByRect",function(){return c}),D.d(de,"clipRectByRect",function(){return p}),D.d(de,"registerShape",function(){return zc}),D.d(de,"getShapeClass",function(){return lb}),D.d(de,"Group",function(){return Wr}),D.d(de,"Image",function(){return cs}),D.d(de,"Text",function(){return Fi}),D.d(de,"Circle",function(){return Bc}),D.d(de,"Ellipse",function(){return Od}),D.d(de,"Sector",function(){return Vl}),D.d(de,"Ring",function(){return Gm}),D.d(de,"Polygon",function(){return sl}),D.d(de,"Polyline",function(){return Mu}),D.d(de,"Rect",function(){return Bi}),D.d(de,"Line",function(){return ll}),D.d(de,"BezierCurve",function(){return Ym}),D.d(de,"Arc",function(){return tb}),D.d(de,"IncrementalDisplayable",function(){return mM}),D.d(de,"CompoundPath",function(){return nb}),D.d(de,"LinearGradient",function(){return hg}),D.d(de,"RadialGradient",function(){return B1}),D.d(de,"BoundingRect",function(){return Hn});var tt={};D.r(tt),D.d(tt,"addCommas",function(){return cp}),D.d(tt,"toCamelCase",function(){return fp}),D.d(tt,"normalizeCssArray",function(){return nf}),D.d(tt,"encodeHTML",function(){return Ns}),D.d(tt,"formatTpl",function(){return md}),D.d(tt,"getTooltipMarker",function(){return fh}),D.d(tt,"formatTime",function(){return Bv}),D.d(tt,"capitalFirst",function(){return Bx}),D.d(tt,"truncateText",function(){return vv}),D.d(tt,"getTextRect",function(){return Ok});var Z={};D.r(Z),D.d(Z,"map",function(){return y.map}),D.d(Z,"each",function(){return y.each}),D.d(Z,"indexOf",function(){return y.indexOf}),D.d(Z,"inherits",function(){return y.inherits}),D.d(Z,"reduce",function(){return y.reduce}),D.d(Z,"filter",function(){return y.filter}),D.d(Z,"bind",function(){return y.bind}),D.d(Z,"curry",function(){return y.curry}),D.d(Z,"isArray",function(){return y.isArray}),D.d(Z,"isString",function(){return y.isString}),D.d(Z,"isObject",function(){return y.isObject}),D.d(Z,"isFunction",function(){return y.isFunction}),D.d(Z,"extend",function(){return y.extend}),D.d(Z,"defaults",function(){return y.defaults}),D.d(Z,"clone",function(){return y.clone}),D.d(Z,"merge",function(){return y.merge});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pe=function(n,t){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},Pe(n,t)};function ve(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pe(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var dt=function(){return dt=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},dt.apply(this,arguments)};function at(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function Pt(n,t,e,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(a=(i<3?s(a):i>3?s(t,e,a):s(t,e))||a);return i>3&&a&&Object.defineProperty(t,e,a),a}function Ft(n,t){return function(e,r){t(e,r,n)}}function bt(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function Ct(n,t,e,r){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(d){try{f(r.next(d))}catch(h){s(h)}}function u(d){try{f(r.throw(d))}catch(h){s(h)}}function f(d){d.done?a(d.value):i(d.value).then(l,u)}f((r=r.apply(n,t||[])).next())})}function he(n,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){e.label=f[1];break}if(f[0]===6&&e.label<a[1]){e.label=a[1],a=f;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(f);break}a[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ve=Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};function yt(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Ve(t,n,e)}function Mt(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return a}function It(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ut(arguments[t]));return n}function Yt(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,i++)r[i]=a[s];return r}function Gt(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return n.concat(a||t)}function an(n){return this instanceof an?(this.v=n,this):new an(n)}function et(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(v){r[v]&&(i[v]=function(g){return new Promise(function(b,S){a.push([v,g,b,S])>1||l(v,g)})})}function l(v,g){try{u(r[v](g))}catch(b){h(a[0][3],b)}}function u(v){v.value instanceof an?Promise.resolve(v.value.v).then(f,d):h(a[0][2],v)}function f(v){l("next",v)}function d(v){l("throw",v)}function h(v,g){v(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function xt(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=n[i]?function(s){return(e=!e)?{value:an(n[i](s)),done:i==="return"}:a?a(s):s}:a}}function mt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Mt=="function"?Mt(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=n[a]&&function(s){return new Promise(function(l,u){s=n[a](s),i(l,u,s.done,s.value)})}}function i(a,s,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},s)}}function Kt(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var $t=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};function un(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&Ve(t,n,e);return $t(t,n),t}function Sn(n){return n&&n.__esModule?n:{default:n}}function on(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function zt(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}var en=D("ItGF"),y=D("bYtY");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _n=function(n,t){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},_n(n,t)};function An(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_n(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Fn=function(){return Fn=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Fn.apply(this,arguments)};function Wn(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function zn(n,t,e,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,e,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(a=(i<3?s(a):i>3?s(t,e,a):s(t,e))||a);return i>3&&a&&Object.defineProperty(t,e,a),a}function or(n,t){return function(e,r){t(e,r,n)}}function Sr(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function pr(n,t,e,r){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(d){try{f(r.next(d))}catch(h){s(h)}}function u(d){try{f(r.throw(d))}catch(h){s(h)}}function f(d){d.done?a(d.value):i(d.value).then(l,u)}f((r=r.apply(n,t||[])).next())})}function Jr(n,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){e.label=f[1];break}if(f[0]===6&&e.label<a[1]){e.label=a[1],a=f;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(f);break}a[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(d){f=[6,d],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var jr=Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]};function Mi(n,t){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&jr(t,n,e)}function wn(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return a}function Ae(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(De(arguments[t]));return n}function st(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,i++)r[i]=a[s];return r}function Xe(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return n.concat(a||t)}function ie(n){return this instanceof ie?(this.v=n,this):new ie(n)}function V(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(v){r[v]&&(i[v]=function(g){return new Promise(function(b,S){a.push([v,g,b,S])>1||l(v,g)})})}function l(v,g){try{u(r[v](g))}catch(b){h(a[0][3],b)}}function u(v){v.value instanceof ie?Promise.resolve(v.value.v).then(f,d):h(a[0][2],v)}function f(v){l("next",v)}function d(v){l("throw",v)}function h(v,g){v(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function B(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=n[i]?function(s){return(e=!e)?{value:ie(n[i](s)),done:i==="return"}:a?a(s):s}:a}}function J(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof wn=="function"?wn(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=n[a]&&function(s){return new Promise(function(l,u){s=n[a](s),i(l,u,s.done,s.value)})}}function i(a,s,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},s)}}function Oe(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var nt=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};function ut(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&jr(t,n,e);return nt(t,n),t}function Jt(n){return n&&n.__esModule?n:{default:n}}function pn(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)}function hn(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e}function Ln(n,t){return n==null&&(n=0),t==null&&(t=0),[n,t]}function Se(n,t){return n[0]=t[0],n[1]=t[1],n}function Ee(n){return[n[0],n[1]]}function Ue(n,t,e){return n[0]=t,n[1]=e,n}function Ie(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Re(n,t,e,r){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n}function Ke(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function We(n){return Math.sqrt(ot(n))}var ht=We;function ot(n){return n[0]*n[0]+n[1]*n[1]}var oe=ot;function ue(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n}function $e(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n}function k(n,t){return n[0]*t[0]+n[1]*t[1]}function Ce(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function ge(n,t){var e=We(t);return e===0?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function we(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var ct=we;function Rt(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var Wt=Rt;function kt(n,t){return n[0]=-t[0],n[1]=-t[1],n}function nn(n,t,e,r){return n[0]=t[0]+r*(e[0]-t[0]),n[1]=t[1]+r*(e[1]-t[1]),n}function cn(n,t,e){var r=t[0],i=t[1];return n[0]=e[0]*r+e[2]*i+e[4],n[1]=e[1]*r+e[3]*i+e[5],n}function gn(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function tn(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var fn=function(){function n(t,e){this.target=t,this.topTarget=e&&e.topTarget}return n}(),qe=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new fn(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,i=t.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,e.drift(a,s,t),this.handler.dispatchToElement(new fn(e,t),"drag",t.event);var l=this.handler.findHover(r,i,e).target,u=this._dropTarget;this._dropTarget=l,e!==l&&(u&&l!==u&&this.handler.dispatchToElement(new fn(u,t),"dragleave",t.event),l&&l!==u&&this.handler.dispatchToElement(new fn(l,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new fn(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new fn(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),Qe=qe,vt=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=r,r=e,e=null),!r||!t)return this;var s=this._$eventProcessor;e!=null&&s&&s.normalizeQuery&&(e=s.normalizeQuery(e)),a[t]||(a[t]=[]);for(var l=0;l<a[t].length;l++)if(a[t][l].h===r)return this;var u={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},f=a[t].length-1,d=a[t][f];return d&&d.callAtLast?a[t].splice(f,0,u):a[t].push(u),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var i=[],a=0,s=r[t].length;a<s;a++)r[t][a].h!==e&&i.push(r[t][a]);r[t]=i}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=e.length,l=i.length,u=0;u<l;u++){var f=i[u];if(!(a&&a.filter&&f.query!=null&&!a.filter(t,f.query)))switch(s){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,e[0]);break;case 2:f.h.call(f.ctx,e[0],e[1]);break;default:f.h.apply(f.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=e.length,l=e[s-1],u=i.length,f=0;f<u;f++){var d=i[f];if(!(a&&a.filter&&d.query!=null&&!a.filter(t,d.query)))switch(s){case 0:d.h.call(l);break;case 1:d.h.call(l,e[0]);break;case 2:d.h.call(l,e[0],e[1]);break;default:d.h.apply(l,e.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},n}(),Je=vt,me=Math.log(2);function Ye(n,t,e,r,i,a){var s=r+"-"+i,l=n.length;if(a.hasOwnProperty(s))return a[s];if(t===1){var u=Math.round(Math.log((1<<l)-1&~i)/me);return n[e][u]}for(var f=r|1<<e,d=e+1;r&1<<d;)d++;for(var h=0,v=0,g=0;v<l;v++){var b=1<<v;b&i||(h+=(g%2?-1:1)*n[e][v]*Ye(n,t-1,d,f,i|b,a),g++)}return a[s]=h,h}function Tt(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],r={},i=Ye(e,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)a[l]==null&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*Ye(e,7,s===0?1:0,1<<s,1<<l,r)/i*t[s];return function(u,f,d){var h=f*a[6]+d*a[7]+1;u[0]=(f*a[0]+d*a[1]+a[2])/h,u[1]=(f*a[3]+d*a[4]+a[5])/h}}}var Tn="___zrEVENTSAVED",tr=[];function mr(n,t,e,r,i){return ni(tr,t,r,i,!0)&&ni(n,e,tr[0],tr[1])}function ni(n,t,e,r,i){if(t.getBoundingClientRect&&en.a.domSupported&&!eo(t)){var a=t[Tn]||(t[Tn]={}),s=$i(t,a),l=Li(s,a,i);if(l)return l(n,e,r),!0}return!1}function $i(n,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),l=s.style,u=a%2,f=(a>>1)%2;l.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",i[f]+":0",r[1-u]+":auto",i[1-f]+":auto",""].join("!important;"),n.appendChild(s),e.push(s)}return e}function Li(n,t,e){for(var r=e?"invTrans":"trans",i=t[r],a=t.srcCoords,s=[],l=[],u=!0,f=0;f<4;f++){var d=n[f].getBoundingClientRect(),h=2*f,v=d.left,g=d.top;s.push(v,g),u=u&&a&&v===a[h]&&g===a[h+1],l.push(n[f].offsetLeft,n[f].offsetTop)}return u&&i?i:(t.srcCoords=s,t[r]=e?Tt(l,s):Tt(s,l))}function eo(n){return n.nodeName.toUpperCase()==="CANVAS"}var Ho=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,No=[],Ei=en.a.browser.firefox&&+en.a.browser.version.split(".")[0]<39;function Br(n,t,e,r){return e=e||{},r?Ma(n,t,e):Ei&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):Ma(n,t,e),e}function Ma(n,t,e){if(en.a.domSupported&&n.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(eo(n)){var a=n.getBoundingClientRect();e.zrX=r-a.left,e.zrY=i-a.top;return}else if(ni(No,n,r,i)){e.zrX=No[0],e.zrY=No[1];return}}e.zrX=e.zrY=0}function to(n){return n||window.event}function Go(n,t,e){if(t=to(t),t.zrX!=null)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&Br(n,s,t,e)}else{Br(n,t,t,e);var a=es(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var l=t.button;return t.which==null&&l!==void 0&&Ho.test(t.type)&&(t.which=l&1?1:l&2?3:l&4?2:0),t}function es(n){var t=n.wheelDelta;if(t)return t;var e=n.deltaX,r=n.deltaY;if(e==null||r==null)return t;var i=Math.abs(r!==0?r:e),a=r>0?-1:r<0?1:e>0?-1:1;return 3*i*a}function Es(n,t,e,r){n.addEventListener(t,e,r)}function Co(n,t,e,r){n.removeEventListener(t,e,r)}var Lo=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Vt(n){return n.which===2||n.which===3}var Lt=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,r){var i=t.touches;if(!!i){for(var a={points:[],touches:[],target:e,event:t},s=0,l=i.length;s<l;s++){var u=i[s],f=Br(r,u,{});a.points.push([f.zrX,f.zrY]),a.touches.push(u)}this._track.push(a)}},n.prototype._recognize=function(t){for(var e in hr)if(hr.hasOwnProperty(e)){var r=hr[e](this._track,t);if(r)return r}},n}();function Nn(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}function bn(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var hr={pinch:function(n,t){var e=n.length;if(!!e){var r=(n[e-1]||{}).points,i=(n[e-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=Nn(r)/Nn(i);!isFinite(a)&&(a=1),t.pinchScale=a;var s=bn(r);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}}}}},ur="silent";function Hr(n,t,e){return{type:n,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:Xr}}function Xr(){Lo(this.event)}var Ir=function(n){An(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Je),Ur=function(){function n(t,e){this.x=t,this.y=e}return n}(),Nr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],br=function(n){An(t,n);function t(e,r,i,a){var s=n.call(this)||this;return s._hovered=new Ur(0,0),s.storage=e,s.painter=r,s.painterRoot=a,i=i||new Ir,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new Qe(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(y.each(Nr,function(r){e.on&&e.on(r,this[r],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var r=e.zrX,i=e.zrY,a=ai(this,r,i),s=this._hovered,l=s.target;l&&!l.__zr&&(s=this.findHover(s.x,s.y),l=s.target);var u=this._hovered=a?new Ur(r,i):this.findHover(r,i),f=u.target,d=this.proxy;d.setCursor&&d.setCursor(f?f.cursor:"default"),l&&f!==l&&this.dispatchToElement(s,"mouseout",e),this.dispatchToElement(u,"mousemove",e),f&&f!==l&&this.dispatchToElement(u,"mouseover",e)},t.prototype.mouseout=function(e){var r=e.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Ur(0,0)},t.prototype.dispatch=function(e,r){var i=this[e];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var r=this.proxy;r.setCursor&&r.setCursor(e)},t.prototype.dispatchToElement=function(e,r,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var s="on"+r,l=Hr(r,e,i);a&&(a[s]&&(l.cancelBubble=!!a[s].call(a,l)),a.trigger(r,l),a=a.__hostTarget?a.__hostTarget:a.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(r,l),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[s]=="function"&&u[s].call(u,l),u.trigger&&u.trigger(r,l)}))}},t.prototype.findHover=function(e,r,i){for(var a=this.storage.getDisplayList(),s=new Ur(e,r),l=a.length-1;l>=0;l--){var u=void 0;if(a[l]!==i&&!a[l].ignore&&(u=Pr(a[l],e,r))&&(!s.topTarget&&(s.topTarget=a[l]),u!==ur)){s.target=a[l];break}}return s},t.prototype.processGesture=function(e,r){this._gestureMgr||(this._gestureMgr=new Lt);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;e.gestureEvent=s;var l=new Ur;l.target=a.target,this.dispatchToElement(l,s,a.event)}},t}(Je);y.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){br.prototype[n]=function(t){var e=t.zrX,r=t.zrY,i=ai(this,e,r),a,s;if((n!=="mouseup"||!i)&&(a=this.findHover(e,r),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||ct(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,t)}});function Pr(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(t,e))return!1;r.silent&&(i=!0)}var l=r.__hostTarget;r=l||r.parent}return i?ur:!0}return!1}function ai(n,t,e){var r=n.painter;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var Gi=br,ra=32,Ar=7,cr=256;function ci(n){for(var t=0;n>=ra;)t|=n&1,n>>=1;return n+t}function ua(n,t,e,r){var i=t+1;if(i===e)return 1;if(r(n[i++],n[t])<0){for(;i<e&&r(n[i],n[i-1])<0;)i++;Wa(n,t,i)}else for(;i<e&&r(n[i],n[i-1])>=0;)i++;return i-t}function Wa(n,t,e){for(e--;t<e;){var r=n[t];n[t++]=n[e],n[e--]=r}}function Ai(n,t,e,r,i){for(r===t&&r++;r<e;r++){for(var a=n[r],s=t,l=r,u;s<l;)u=s+l>>>1,i(a,n[u])<0?l=u:s=u+1;var f=r-s;switch(f){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;f>0;)n[s+f]=n[s+f-1],f--}n[s]=a}}function Ii(n,t,e,r,i,a){var s=0,l=0,u=1;if(a(n,t[e+i])>0){for(l=r-i;u<l&&a(n,t[e+i+u])>0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=i,u+=i}else{for(l=i+1;u<l&&a(n,t[e+i-u])<=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var f=s;s=i-u,u=i-f}for(s++;s<u;){var d=s+(u-s>>>1);a(n,t[e+d])>0?s=d+1:u=d}return u}function ma(n,t,e,r,i,a){var s=0,l=0,u=1;if(a(n,t[e+i])<0){for(l=i+1;u<l&&a(n,t[e+i-u])<0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var f=s;s=i-u,u=i-f}else{for(l=r-i;u<l&&a(n,t[e+i+u])>=0;)s=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),s+=i,u+=i}for(s++;s<u;){var d=s+(u-s>>>1);a(n,t[e+d])<0?u=d:s=d+1}return u}function ya(n,t){var e=Ar,r=0,i=cr,a=0,s,l,u=0;r=n.length,r<2*cr&&(i=r>>>1);var f=[];a=r<120?5:r<1542?10:r<119151?19:40,s=[],l=[];function d(M,C){s[u]=M,l[u]=C,u+=1}function h(){for(;u>1;){var M=u-2;if(M>=1&&l[M-1]<=l[M]+l[M+1]||M>=2&&l[M-2]<=l[M]+l[M-1])l[M-1]<l[M+1]&&M--;else if(l[M]>l[M+1])break;g(M)}}function v(){for(;u>1;){var M=u-2;M>0&&l[M-1]<l[M+1]&&M--,g(M)}}function g(M){var C=s[M],O=l[M],E=s[M+1],I=l[M+1];l[M]=O+I,M===u-3&&(s[M+1]=s[M+2],l[M+1]=l[M+2]),u--;var W=ma(n[E],n,C,O,0,t);C+=W,O-=W,O!==0&&(I=Ii(n[C+O-1],n,E,I,I-1,t),I!==0&&(O<=I?b(C,O,E,I):S(C,O,E,I)))}function b(M,C,O,E){var I=0;for(I=0;I<C;I++)f[I]=n[M+I];var W=0,H=O,Q=M;if(n[Q++]=n[H++],--E==0){for(I=0;I<C;I++)n[Q+I]=f[W+I];return}if(C===1){for(I=0;I<E;I++)n[Q+I]=n[H+I];n[Q+E]=f[W];return}for(var se=e,le,Me,xe;;){le=0,Me=0,xe=!1;do if(t(n[H],f[W])<0){if(n[Q++]=n[H++],Me++,le=0,--E==0){xe=!0;break}}else if(n[Q++]=f[W++],le++,Me=0,--C==1){xe=!0;break}while((le|Me)<se);if(xe)break;do{if(le=ma(n[H],f,W,C,0,t),le!==0){for(I=0;I<le;I++)n[Q+I]=f[W+I];if(Q+=le,W+=le,C-=le,C<=1){xe=!0;break}}if(n[Q++]=n[H++],--E==0){xe=!0;break}if(Me=Ii(f[W],n,H,E,0,t),Me!==0){for(I=0;I<Me;I++)n[Q+I]=n[H+I];if(Q+=Me,H+=Me,E-=Me,E===0){xe=!0;break}}if(n[Q++]=f[W++],--C==1){xe=!0;break}se--}while(le>=Ar||Me>=Ar);if(xe)break;se<0&&(se=0),se+=2}if(e=se,e<1&&(e=1),C===1){for(I=0;I<E;I++)n[Q+I]=n[H+I];n[Q+E]=f[W]}else{if(C===0)throw new Error;for(I=0;I<C;I++)n[Q+I]=f[W+I]}}function S(M,C,O,E){var I=0;for(I=0;I<E;I++)f[I]=n[O+I];var W=M+C-1,H=E-1,Q=O+E-1,se=0,le=0;if(n[Q--]=n[W--],--C==0){for(se=Q-(E-1),I=0;I<E;I++)n[se+I]=f[I];return}if(E===1){for(Q-=C,W-=C,le=Q+1,se=W+1,I=C-1;I>=0;I--)n[le+I]=n[se+I];n[Q]=f[H];return}for(var Me=e;;){var xe=0,Be=0,ze=!1;do if(t(f[H],n[W])<0){if(n[Q--]=n[W--],xe++,Be=0,--C==0){ze=!0;break}}else if(n[Q--]=f[H--],Be++,xe=0,--E==1){ze=!0;break}while((xe|Be)<Me);if(ze)break;do{if(xe=C-ma(f[H],n,M,C,C-1,t),xe!==0){for(Q-=xe,W-=xe,C-=xe,le=Q+1,se=W+1,I=xe-1;I>=0;I--)n[le+I]=n[se+I];if(C===0){ze=!0;break}}if(n[Q--]=f[H--],--E==1){ze=!0;break}if(Be=E-Ii(n[W],f,0,E,E-1,t),Be!==0){for(Q-=Be,H-=Be,E-=Be,le=Q+1,se=H+1,I=0;I<Be;I++)n[le+I]=f[se+I];if(E<=1){ze=!0;break}}if(n[Q--]=n[W--],--C==0){ze=!0;break}Me--}while(xe>=Ar||Be>=Ar);if(ze)break;Me<0&&(Me=0),Me+=2}if(e=Me,e<1&&(e=1),E===1){for(Q-=C,W-=C,le=Q+1,se=W+1,I=C-1;I>=0;I--)n[le+I]=n[se+I];n[Q]=f[H]}else{if(E===0)throw new Error;for(se=Q-(E-1),I=0;I<E;I++)n[se+I]=f[I]}}return{mergeRuns:h,forceMergeRuns:v,pushRun:d}}function ia(n,t,e,r){e||(e=0),r||(r=n.length);var i=r-e;if(!(i<2)){var a=0;if(i<ra){a=ua(n,e,r,t),Ai(n,e,r,e+a,t);return}var s=ya(n,t),l=ci(i);do{if(a=ua(n,e,r,t),a<l){var u=i;u>l&&(u=l),Ai(n,e,e+u,e+a,t),a=u}s.pushRun(e,a),s.mergeRuns(),i-=a,e+=a}while(i!==0);s.forceMergeRuns()}}var ba=1,pa=2,aa=4,si=!1;function Or(){si||(si=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Lr(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var pi=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Lr}return n.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(e),r},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);r.length=this._displayListLen,ia(r,Lr)},n.prototype._updateAndAddDisplayable=function(t,e,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e?e=e.slice():e=[];for(var a=i,s=t;a;)a.parent=s,a.updateTransform(),e.push(a),s=a,a=a.getClipPath()}if(t.childrenRef){for(var l=t.childrenRef(),u=0;u<l.length;u++){var f=l[u];t.__dirty&&(f.__dirty|=ba),this._updateAndAddDisplayable(f,e,r)}t.__dirty=0}else{var d=t;e&&e.length?d.__clipPaths=e:d.__clipPaths&&d.__clipPaths.length>0&&(d.__clipPaths=[]),isNaN(d.z)&&(Or(),d.z=0),isNaN(d.z2)&&(Or(),d.z2=0),isNaN(d.zlevel)&&(Or(),d.zlevel=0),this._displayList[this._displayListLen++]=d}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,e,r);var v=t.getTextGuideLine();v&&this._updateAndAddDisplayable(v,e,r);var g=t.getTextContent();g&&this._updateAndAddDisplayable(g,e,r)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,r=t.length;e<r;e++)this.delRoot(t[e]);return}var i=y.indexOf(this._roots,t);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Ui=pi,Ca;Ca=en.a.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var Ka=Ca,mo={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)))},elasticOut:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var t,e=.1,r=.4;return n===0?0:n===1?1:(!e||e<1?(e=1,t=r/4):t=r*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?-.5*(e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)):e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=1.70158*1.525;return(n*=2)<1?.5*(n*n*((t+1)*n-t)):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-mo.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?mo.bounceIn(n*2)*.5:mo.bounceOut(n*2-1)*.5+.5}},ko=mo,Aa=Math.pow,Tr=Math.sqrt,Fr=1e-8,Ya=1e-4,Pa=Tr(3),$a=1/3,ro=Ln(),io=Ln(),zs=Ln();function ns(n){return n>-Fr&&n<Fr}function To(n){return n>Fr||n<-Fr}function za(n,t,e,r,i){var a=1-i;return a*a*(a*n+3*i*t)+i*i*(i*r+3*a*e)}function Uo(n,t,e,r,i){var a=1-i;return 3*(((t-n)*a+2*(e-t)*i)*a+(r-e)*i*i)}function As(n,t,e,r,i,a){var s=r+3*(t-e)-n,l=3*(e-t*2+n),u=3*(t-n),f=n-i,d=l*l-3*s*u,h=l*u-9*s*f,v=u*u-3*l*f,g=0;if(ns(d)&&ns(h))if(ns(l))a[0]=0;else{var b=-u/l;b>=0&&b<=1&&(a[g++]=b)}else{var S=h*h-4*d*v;if(ns(S)){var M=h/d,b=-l/s+M,C=-M/2;b>=0&&b<=1&&(a[g++]=b),C>=0&&C<=1&&(a[g++]=C)}else if(S>0){var O=Tr(S),E=d*l+1.5*s*(-h+O),I=d*l+1.5*s*(-h-O);E<0?E=-Aa(-E,$a):E=Aa(E,$a),I<0?I=-Aa(-I,$a):I=Aa(I,$a);var b=(-l-(E+I))/(3*s);b>=0&&b<=1&&(a[g++]=b)}else{var W=(2*d*l-3*s*h)/(2*Tr(d*d*d)),H=Math.acos(W)/3,Q=Tr(d),se=Math.cos(H),b=(-l-2*Q*se)/(3*s),C=(-l+Q*(se+Pa*Math.sin(H)))/(3*s),le=(-l+Q*(se-Pa*Math.sin(H)))/(3*s);b>=0&&b<=1&&(a[g++]=b),C>=0&&C<=1&&(a[g++]=C),le>=0&&le<=1&&(a[g++]=le)}}return g}function qs(n,t,e,r,i){var a=6*e-12*t+6*n,s=9*t+3*r-3*n-9*e,l=3*t-3*n,u=0;if(ns(s)){if(To(a)){var f=-l/a;f>=0&&f<=1&&(i[u++]=f)}}else{var d=a*a-4*s*l;if(ns(d))i[0]=-a/(2*s);else if(d>0){var h=Tr(d),f=(-a+h)/(2*s),v=(-a-h)/(2*s);f>=0&&f<=1&&(i[u++]=f),v>=0&&v<=1&&(i[u++]=v)}}return u}function rs(n,t,e,r,i,a){var s=(t-n)*i+n,l=(e-t)*i+t,u=(r-e)*i+e,f=(l-s)*i+s,d=(u-l)*i+l,h=(d-f)*i+f;a[0]=n,a[1]=s,a[2]=f,a[3]=h,a[4]=h,a[5]=d,a[6]=u,a[7]=r}function yo(n,t,e,r,i,a,s,l,u,f,d){var h,v=.005,g=Infinity,b,S,M,C;ro[0]=u,ro[1]=f;for(var O=0;O<1;O+=.05)io[0]=za(n,e,i,s,O),io[1]=za(t,r,a,l,O),M=Wt(ro,io),M<g&&(h=O,g=M);g=Infinity;for(var E=0;E<32&&!(v<Ya);E++)b=h-v,S=h+v,io[0]=za(n,e,i,s,b),io[1]=za(t,r,a,l,b),M=Wt(io,ro),b>=0&&M<g?(h=b,g=M):(zs[0]=za(n,e,i,s,S),zs[1]=za(t,r,a,l,S),C=Wt(zs,ro),S<=1&&C<g?(h=S,g=C):v*=.5);return d&&(d[0]=za(n,e,i,s,h),d[1]=za(t,r,a,l,h)),Tr(g)}function is(n,t,e,r,i,a,s,l,u){for(var f=n,d=t,h=0,v=1/u,g=1;g<=u;g++){var b=g*v,S=za(n,e,i,s,b),M=za(t,r,a,l,b),C=S-f,O=M-d;h+=Math.sqrt(C*C+O*O),f=S,d=M}return h}function Ta(n,t,e,r){var i=1-r;return i*(i*n+2*r*t)+r*r*e}function nu(n,t,e,r){return 2*((1-r)*(t-n)+r*(e-t))}function wf(n,t,e,r,i){var a=n-2*t+e,s=2*(t-n),l=n-r,u=0;if(ns(a)){if(To(s)){var f=-l/s;f>=0&&f<=1&&(i[u++]=f)}}else{var d=s*s-4*a*l;if(ns(d)){var f=-s/(2*a);f>=0&&f<=1&&(i[u++]=f)}else if(d>0){var h=Tr(d),f=(-s+h)/(2*a),v=(-s-h)/(2*a);f>=0&&f<=1&&(i[u++]=f),v>=0&&v<=1&&(i[u++]=v)}}return u}function Ml(n,t,e){var r=n+e-2*t;return r===0?.5:(n-t)/r}function ul(n,t,e,r,i){var a=(t-n)*r+n,s=(e-t)*r+t,l=(s-a)*r+a;i[0]=n,i[1]=a,i[2]=l,i[3]=l,i[4]=s,i[5]=e}function vc(n,t,e,r,i,a,s,l,u){var f,d=.005,h=Infinity;ro[0]=s,ro[1]=l;for(var v=0;v<1;v+=.05){io[0]=Ta(n,e,i,v),io[1]=Ta(t,r,a,v);var g=Wt(ro,io);g<h&&(f=v,h=g)}h=Infinity;for(var b=0;b<32&&!(d<Ya);b++){var S=f-d,M=f+d;io[0]=Ta(n,e,i,S),io[1]=Ta(t,r,a,S);var g=Wt(io,ro);if(S>=0&&g<h)f=S,h=g;else{zs[0]=Ta(n,e,i,M),zs[1]=Ta(t,r,a,M);var C=Wt(zs,ro);M<=1&&C<h?(f=M,h=C):d*=.5}}return u&&(u[0]=Ta(n,e,i,f),u[1]=Ta(t,r,a,f)),Tr(h)}function gc(n,t,e,r,i,a,s){for(var l=n,u=t,f=0,d=1/s,h=1;h<=s;h++){var v=h*d,g=Ta(n,e,i,v),b=Ta(t,r,a,v),S=g-l,M=b-u;f+=Math.sqrt(S*S+M*M),l=g,u=b}return f}var Eu=/cubic-bezier\(([0-9,\.e ]+)\)/;function _l(n){var t=n&&Eu.exec(n);if(t){var e=t[1].split(","),r=+Object(y.trim)(e[0]),i=+Object(y.trim)(e[1]),a=+Object(y.trim)(e[2]),s=+Object(y.trim)(e[3]);if(isNaN(r+i+a+s))return;var l=[];return function(u){return u<=0?0:u>=1?1:As(0,r,a,1,u,l)&&za(0,i,s,1,l[0])}}}var Au=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||y.noop,this.ondestroy=t.ondestroy||y.noop,this.onrestart=t.onrestart||y.noop,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var r=this._life,i=t-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,l=s?s(a):a;if(this.onframe(l),a===1)if(this.loop){var u=i%r;this._startTime=t-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Object(y.isFunction)(t)?t:ko[t]||_l(t)},n}(),el=Au,oa=D("Qe9p"),Wi=D("einR"),Cl=Array.prototype.slice;function cl(n,t,e){return(t-n)*e+n}function Hl(n,t,e,r){for(var i=t.length,a=0;a<i;a++)n[a]=cl(t[a],e[a],r);return n}function Qf(n,t,e,r){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var l=0;l<a;l++)n[s][l]=cl(t[s][l],e[s][l],r)}return n}function Gl(n,t,e,r){for(var i=t.length,a=0;a<i;a++)n[a]=t[a]+e[a]*r;return n}function qf(n,t,e,r){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var l=0;l<a;l++)n[s][l]=t[s][l]+e[s][l]*r}return n}function ed(n,t){for(var e=n.length,r=t.length,i=e>r?t:n,a=Math.min(e,r),s=i[a-1]||{color:[0,0,0,0],offset:0},l=a;l<Math.max(e,r);l++)i.push({offset:s.offset,color:s.color.slice()})}function td(n,t,e){var r=n,i=t;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var l=a>s;if(l)r.length=s;else for(var u=a;u<s;u++)r.push(e===1?i[u]:Cl.call(i[u]))}for(var f=r[0]&&r[0].length,u=0;u<r.length;u++)if(e===1)isNaN(r[u])&&(r[u]=i[u]);else for(var d=0;d<f;d++)isNaN(r[u][d])&&(r[u][d]=i[u][d])}}function ru(n){if(Object(y.isArrayLike)(n)){var t=n.length;if(Object(y.isArrayLike)(n[0])){for(var e=[],r=0;r<t;r++)e.push(Cl.call(n[r]));return e}return Cl.call(n)}return n}function Tl(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function bo(n){return Object(y.isArrayLike)(n&&n[0])?2:1}var iu=0,as=1,gs=2,qr=3,Di=4,Zr=5,gi=6;function fo(n){return n===Di||n===Zr}function xo(n){return n===as||n===gs}var ao=[0,0,0,0],Vs=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,l=gi,u=e;if(Object(y.isArrayLike)(e)){var f=bo(e);l=f,(f===1&&!Object(y.isNumber)(e[0])||f===2&&!Object(y.isNumber)(e[0][0]))&&(s=!0)}else if(Object(y.isNumber)(e)&&!Object(y.eqNaN)(e))l=iu;else if(Object(y.isString)(e))if(!isNaN(+e))l=iu;else{var d=oa.parse(e);d&&(u=d,l=qr)}else if(Object(y.isGradientObject)(e)){var h=Object(y.extend)({},u);h.colorStops=Object(y.map)(e.colorStops,function(g){return{offset:g.offset,color:oa.parse(g.color)}}),Object(Wi.m)(e)?l=Di:Object(Wi.o)(e)&&(l=Zr),u=h}a===0?this.valType=l:(l!==this.valType||l===gi)&&(s=!0),this.discrete=this.discrete||s;var v={time:t,value:u,rawValue:e,percent:0};return r&&(v.easing=r,v.easingFunc=Object(y.isFunction)(r)?r:ko[r]||_l(r)),i.push(v),v},n.prototype.prepare=function(t,e){var r=this.keyframes;this._needsSort&&r.sort(function(S,M){return S.time-M.time});for(var i=this.valType,a=r.length,s=r[a-1],l=this.discrete,u=xo(i),f=fo(i),d=0;d<a;d++){var h=r[d],v=h.value,g=s.value;h.percent=h.time/t,l||(u&&d!==a-1?td(v,g,i):f&&ed(v.colorStops,g.colorStops))}if(!l&&i!==Zr&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var b=r[0].value,d=0;d<a;d++)i===iu?r[d].additiveValue=r[d].value-b:i===qr?r[d].additiveValue=Gl([],r[d].value,b,-1):xo(i)&&(r[d].additiveValue=i===as?Gl([],r[d].value,b,-1):qf([],r[d].value,b,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,l=s.length,u=this.propName,f=a===qr,d,h=this._lastFr,v=Math.min,g,b;if(l===1)g=b=s[0];else{if(e<0)d=0;else if(e<this._lastFrP){var S=v(h+1,l-1);for(d=S;d>=0&&!(s[d].percent<=e);d--);d=v(d,l-2)}else{for(d=h;d<l&&!(s[d].percent>e);d++);d=v(d-1,l-2)}b=s[d+1],g=s[d]}if(!!(g&&b)){this._lastFr=d,this._lastFrP=e;var M=b.percent-g.percent,C=M===0?1:v((e-g.percent)/M,1);b.easingFunc&&(C=b.easingFunc(C));var O=r?this._additiveValue:f?ao:t[u];if((xo(a)||f)&&!O&&(O=this._additiveValue=[]),this.discrete)t[u]=C<1?g.rawValue:b.rawValue;else if(xo(a))a===as?Hl(O,g[i],b[i],C):Qf(O,g[i],b[i],C);else if(fo(a)){var E=g[i],I=b[i],W=a===Di;t[u]={type:W?"linear":"radial",x:cl(E.x,I.x,C),y:cl(E.y,I.y,C),colorStops:Object(y.map)(E.colorStops,function(Q,se){var le=I.colorStops[se];return{offset:cl(Q.offset,le.offset,C),color:Tl(Hl([],Q.color,le.color,C))}}),global:I.global},W?(t[u].x2=cl(E.x2,I.x2,C),t[u].y2=cl(E.y2,I.y2,C)):t[u].r=cl(E.r,I.r,C)}else if(f)Hl(O,g[i],b[i],C),r||(t[u]=Tl(O));else{var H=cl(g[i],b[i],C);r?this._additiveValue=H:t[u]=H}r&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,r=this.propName,i=this._additiveValue;e===iu?t[r]=t[r]+i:e===qr?(oa.parse(t[r],ao),Gl(ao,ao,i,1),t[r]=Tl(ao)):e===as?Gl(t[r],t[r],i,1):e===gs&&qf(t[r],t[r],i,1)},n}(),tl=function(){function n(t,e,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){Object(y.logError)("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,r){return this.whenWithKeys(t,e,Object(y.keys)(e),r)},n.prototype.whenWithKeys=function(t,e,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var l=r[s],u=a[l];if(!u){u=a[l]=new Vs(l);var f=void 0,d=this._getAdditiveTrack(l);if(d){var h=d.keyframes,v=h[h.length-1];f=v&&v.value,d.valType===qr&&f&&(f=Tl(f))}else f=this._target[l];if(f==null)continue;t>0&&u.addKeyframe(0,ru(f),i),this._trackKeys.push(l)}u.addKeyframe(t,ru(e[l]),i)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,r=0;r<e;r++)t[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)t[e[r]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);a&&(e=a)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],l=this._tracks[s],u=this._getAdditiveTrack(s),f=l.keyframes,d=f.length;if(l.prepare(i,u),l.needsAnimate())if(!this._allowDiscrete&&l.discrete){var h=f[d-1];h&&(e._target[l.propName]=h.rawValue),l.setFinished()}else r.push(l)}if(r.length||this._force){var v=new el({life:i,loop:this._loop,delay:this._delay||0,onframe:function(g){e._started=2;var b=e._additiveAnimators;if(b){for(var S=!1,M=0;M<b.length;M++)if(b[M]._clip){S=!0;break}S||(e._additiveAnimators=null)}for(var M=0;M<r.length;M++)r[M].step(e._target,g);var C=e._onframeCbs;if(C)for(var M=0;M<C.length;M++)C[M](e._target,g)},ondestroy:function(){e._doneCallback()}});this._clip=v,this.animation&&this.animation.addClip(v),t&&v.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){if(!!this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return Object(y.map)(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var s=r[t[a]];s&&!s.isFinished()&&(e?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var l=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){l=!1;break}return l&&this._abortedCallback(),l},n.prototype.saveTo=function(t,e,r){if(!!t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],s=this._tracks[a];if(!(!s||s.isFinished())){var l=s.keyframes,u=l[r?0:l.length-1];u&&(t[a]=ru(u.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Object(y.keys)(t);for(var r=0;r<e.length;r++){var i=e[r],a=this._tracks[i];if(!!a){var s=a.keyframes;if(s.length>1){var l=s.pop();a.addKeyframe(l.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}(),au=tl;function Ul(){return new Date().getTime()}var Ku=function(n){An(t,n);function t(e){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,e=e||{},r.stage=e.stage||{},r}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var r=e.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(e){if(!!e.animation){var r=e.prev,i=e.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var r=e.getClip();r&&this.removeClip(r),e.animation=null},t.prototype.update=function(e){for(var r=Ul()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,l=a.step(r,i);l&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function r(){e._running&&(Ka(r),!e._paused&&e.update())}Ka(r)},t.prototype.start=function(){this._running||(this._time=Ul(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Ul(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Ul()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var r=e.next;e.prev=e.next=e.animation=null,e=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,r){r=r||{},this.start();var i=new au(e,r.loop);return this.addAnimator(i),i},t}(Je),Bd=Ku,ou=300,Pu=en.a.domSupported,nd=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=y.map(n,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:n,touch:t,pointer:r}}(),Fd={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},zd=!1;function Mf(n){var t=n.pointerType;return t==="pen"||t==="touch"}function Lu(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function rd(n){n&&(n.zrByTouch=!0)}function nv(n,t){return Go(n.dom,new Vn(n,t),!0)}function Vd(n,t){for(var e=t,r=!1;e&&e.nodeType!==9&&!(r=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return r}var Vn=function(){function n(t,e){this.stopPropagation=y.noop,this.stopImmediatePropagation=y.noop,this.preventDefault=y.noop,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return n}(),oo={mousedown:function(n){n=Go(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Go(this.dom,n);var t=this.__mayPointerCapture;t&&(n.zrX!==t[0]||n.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Go(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Go(this.dom,n);var t=n.toElement||n.relatedTarget;Vd(this,t)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){zd=!0,n=Go(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){zd||(n=Go(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Go(this.dom,n),rd(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),oo.mousemove.call(this,n),oo.mousedown.call(this,n)},touchmove:function(n){n=Go(this.dom,n),rd(n),this.handler.processGesture(n,"change"),oo.mousemove.call(this,n)},touchend:function(n){n=Go(this.dom,n),rd(n),this.handler.processGesture(n,"end"),oo.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<ou&&oo.click.call(this,n)},pointerdown:function(n){oo.mousedown.call(this,n)},pointermove:function(n){Mf(n)||oo.mousemove.call(this,n)},pointerup:function(n){oo.mouseup.call(this,n)},pointerout:function(n){Mf(n)||oo.mouseout.call(this,n)}};y.each(["click","dblclick","contextmenu"],function(n){oo[n]=function(t){t=Go(this.dom,t),this.trigger(n,t)}});var Yu={pointermove:function(n){Mf(n)||Yu.mousemove.call(this,n)},pointerup:function(n){Yu.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Hd(n,t){var e=t.domHandlers;en.a.pointerEventsSupported?y.each(nd.pointer,function(r){Xu(t,r,function(i){e[r].call(n,i)})}):(en.a.touchEventsSupported&&y.each(nd.touch,function(r){Xu(t,r,function(i){e[r].call(n,i),Lu(t)})}),y.each(nd.mouse,function(r){Xu(t,r,function(i){i=to(i),t.touching||e[r].call(n,i)})}))}function Wl(n,t){en.a.pointerEventsSupported?y.each(Fd.pointer,e):en.a.touchEventsSupported||y.each(Fd.mouse,e);function e(r){function i(a){a=to(a),Vd(n,a.target)||(a=nv(n,a),t.domHandlers[r].call(n,a))}Xu(t,r,i,{capture:!0})}}function Xu(n,t,e,r){n.mounted[t]=e,n.listenerOpts[t]=r,Es(n.domTarget,t,e,r)}function Kl(n){var t=n.mounted;for(var e in t)t.hasOwnProperty(e)&&Co(n.domTarget,e,t[e],n.listenerOpts[e]);n.mounted={}}var Du=function(){function n(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return n}(),Ru=function(n){An(t,n);function t(e,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=r,i._localHandlerScope=new Du(e,oo),Pu&&(i._globalHandlerScope=new Du(document,Yu)),Hd(i,i._localHandlerScope),i}return t.prototype.dispose=function(){Kl(this._localHandlerScope),Pu&&Kl(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Pu&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var r=this._globalHandlerScope;e?Wl(this,r):Kl(r)}},t}(Je),_f=Ru,ri=1;en.a.hasGlobalWindow&&(ri=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ca=0,Ki=ri,jo=.4,Zo="#333",Hs="#ccc",Oo="#eee";function Ze(){return[1,0,0,1,0,0]}function Zs(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function su(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function ho(n,t,e){var r=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=s,n[4]=l,n[5]=u,n}function Bo(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function fl(n,t,e){var r=t[0],i=t[2],a=t[4],s=t[1],l=t[3],u=t[5],f=Math.sin(e),d=Math.cos(e);return n[0]=r*d+s*f,n[1]=-r*f+s*d,n[2]=i*d+l*f,n[3]=-i*f+d*l,n[4]=d*a+f*u,n[5]=d*u-f*a,n}function Kc(n,t,e){var r=e[0],i=e[1];return n[0]=t[0]*r,n[1]=t[1]*i,n[2]=t[2]*r,n[3]=t[3]*i,n[4]=t[4]*r,n[5]=t[5]*i,n}function dl(n,t){var e=t[0],r=t[2],i=t[4],a=t[1],s=t[3],l=t[5],u=e*s-a*r;return u?(u=1/u,n[0]=s*u,n[1]=-a*u,n[2]=-r*u,n[3]=e*u,n[4]=(r*l-s*i)*u,n[5]=(a*i-e*l)*u,n):null}function mc(n){var t=Ze();return su(t,n),t}var yc=Zs,Zu=5e-5;function Ol(n){return n>Zu||n<-Zu}var hl=[],Iu=[],Cf=Ze(),Tf=Math.abs,bc=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return Ol(this.rotation)||Ol(this.x)||Ol(this.y)||Ol(this.scaleX-1)||Ol(this.scaleY-1)||Ol(this.skewX)||Ol(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;if(!(e||t)){r&&yc(r);return}r=r||Ze(),e?this.getLocalTransform(r):yc(r),t&&(e?ho(r,t,r):su(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(hl);var r=hl[0]<0?-1:1,i=hl[1]<0?-1:1,a=((hl[0]-r)*e+r)/hl[0]||0,s=((hl[1]-i)*e+i)/hl[1]||0;t[0]*=a,t[1]*=a,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Ze(),dl(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(!!t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(!!this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(ho(Iu,t.invTransform,e),e=Iu);var r=this.originX,i=this.originY;(r||i)&&(Cf[4]=r,Cf[5]=i,ho(Iu,e,Cf),Iu[4]-=r,Iu[5]-=i,e=Iu),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var r=[t,e],i=this.invTransform;return i&&cn(r,r,i),r},n.prototype.transformCoordToGlobal=function(t,e){var r=[t,e],i=this.transform;return i&&cn(r,r,i),r},n.prototype.getLineScale=function(){var t=this.transform;return t&&Tf(t[0]-1)>1e-10&&Tf(t[3]-1)>1e-10?Math.sqrt(Tf(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){zg(this,t)},n.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0,i=t.originY||0,a=t.scaleX,s=t.scaleY,l=t.anchorX,u=t.anchorY,f=t.rotation||0,d=t.x,h=t.y,v=t.skewX?Math.tan(t.skewX):0,g=t.skewY?Math.tan(-t.skewY):0;if(r||i||l||u){var b=r+l,S=i+u;e[4]=-b*a-v*S*s,e[5]=-S*s-g*b*a}else e[4]=e[5]=0;return e[0]=a,e[3]=s,e[1]=g*a,e[2]=v*s,f&&fl(e,e,f),e[4]+=r+d,e[5]+=i+h,e},n.initDefaultProps=function(){var t=n.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),n}(),lu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function zg(n,t){for(var e=0;e<lu.length;e++){var r=lu[e];n[r]=t[r]}}var $u=bc,rv=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(!!t){var e=this.x,r=this.y;return this.x=t[0]*e+t[2]*r+t[4],this.y=t[1]*e+t[3]*r+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,r){t.x=e,t.y=r},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,r){t.x=e.x+r.x,t.y=e.y+r.y},n.sub=function(t,e,r){t.x=e.x-r.x,t.y=e.y-r.y},n.scale=function(t,e,r){t.x=e.x*r,t.y=e.y*r},n.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i,t.y=e.y+r.y*i},n.lerp=function(t,e,r,i){var a=1-i;t.x=a*e.x+i*r.x,t.y=a*e.y+i*r.y},n}(),mi=rv,uu=Math.min,cu=Math.max,Nu=new mi,Ju=new mi,El=new mi,Qu=new mi,Yc=new mi,fu=new mi,Of=function(){function n(t,e,r,i){r<0&&(t=t+r,r=-r),i<0&&(e=e+i,i=-i),this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.union=function(t){var e=uu(t.x,this.x),r=uu(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=cu(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=cu(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=e,this.y=r},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,r=t.width/e.width,i=t.height/e.height,a=Ze();return Bo(a,a,[-e.x,-e.y]),Kc(a,a,[r,i]),Bo(a,a,[t.x,t.y]),a},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var r=this,i=r.x,a=r.x+r.width,s=r.y,l=r.y+r.height,u=t.x,f=t.x+t.width,d=t.y,h=t.y+t.height,v=!(a<u||f<i||l<d||h<s);if(e){var g=Infinity,b=0,S=Math.abs(a-u),M=Math.abs(f-i),C=Math.abs(l-d),O=Math.abs(h-s),E=Math.min(S,M),I=Math.min(C,O);a<u||f<i?E>b&&(b=E,S<M?mi.set(fu,-S,0):mi.set(fu,M,0)):E<g&&(g=E,S<M?mi.set(Yc,S,0):mi.set(Yc,-M,0)),l<d||h<s?I>b&&(b=I,C<O?mi.set(fu,0,-C):mi.set(fu,0,O)):E<g&&(g=E,C<O?mi.set(Yc,0,C):mi.set(Yc,0,-O))}return e&&mi.copy(e,v?Yc:fu),v},n.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,r){if(!r){t!==e&&n.copy(t,e);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],l=r[5];t.x=e.x*i+s,t.y=e.y*a+l,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Nu.x=El.x=e.x,Nu.y=Qu.y=e.y,Ju.x=Qu.x=e.x+e.width,Ju.y=El.y=e.y+e.height,Nu.transform(r),Qu.transform(r),Ju.transform(r),El.transform(r),t.x=uu(Nu.x,Ju.x,El.x,Qu.x),t.y=uu(Nu.y,Ju.y,El.y,Qu.y);var u=cu(Nu.x,Ju.x,El.x,Qu.x),f=cu(Nu.y,Ju.y,El.y,Qu.y);t.width=u-t.x,t.height=f-t.y},n}(),Hn=Of,xc=D("1RvN"),Eo=D("cm6r"),Vg={};function Yl(n,t){t=t||Eo.a;var e=Vg[t];e||(e=Vg[t]=new xc.a(500));var r=e.get(n);return r==null&&(r=Eo.d.measureText(n,t).width,e.put(n,r)),r}function Sc(n,t,e,r){var i=Yl(n,t),a=Gd(t),s=$s(0,i,e),l=Xc(0,a,r),u=new Hn(s,l,i,a);return u}function wc(n,t,e,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return Sc(i[0],t,e,r);for(var s=new Hn(0,0,0,0),l=0;l<i.length;l++){var u=Sc(i[l],t,e,r);l===0?s.copy(u):s.union(u)}return s}function $s(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Xc(n,t,e){return e==="middle"?n-=t/2:e==="bottom"&&(n-=t),n}function Gd(n){return Yl("\u56FD",n)}function ku(n,t){return Eo.d.measureText(n,t)}function Al(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function Ud(n,t,e){var r=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,s=e.width,l=a/2,u=e.x,f=e.y,d="left",h="top";if(r instanceof Array)u+=Al(r[0],e.width),f+=Al(r[1],e.height),d=null,h=null;else switch(r){case"left":u-=i,f+=l,d="right",h="middle";break;case"right":u+=i+s,f+=l,h="middle";break;case"top":u+=s/2,f-=i,d="center",h="bottom";break;case"bottom":u+=s/2,f+=a+i,d="center";break;case"inside":u+=s/2,f+=l,d="center",h="middle";break;case"insideLeft":u+=i,f+=l,h="middle";break;case"insideRight":u+=s-i,f+=l,d="right",h="middle";break;case"insideTop":u+=s/2,f+=i,d="center";break;case"insideBottom":u+=s/2,f+=a-i,d="center",h="bottom";break;case"insideTopLeft":u+=i,f+=i;break;case"insideTopRight":u+=s-i,f+=i,d="right";break;case"insideBottomLeft":u+=i,f+=a-i,h="bottom";break;case"insideBottomRight":u+=s-i,f+=a-i,d="right",h="bottom";break}return n=n||{},n.x=u,n.y=f,n.align=d,n.verticalAlign=h,n}var Wd="__zr_normal__",Mc=lu.concat(["ignore"]),qu=Object(y.reduce)(lu,function(n,t){return n[t]=!0,n},{ignore:!1}),_c={},Kd=new Hn(0,0,0,0),Bh=function(){function n(t){this.id=Object(y.guid)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=e.innerTransformable,s=void 0,l=void 0,u=!1;a.parent=i?this:null;var f=!1;if(a.copyTransform(e),r.position!=null){var d=Kd;r.layoutRect?d.copy(r.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(_c,r,d):Ud(_c,r,d),a.x=_c.x,a.y=_c.y,s=_c.align,l=_c.verticalAlign;var h=r.origin;if(h&&r.rotation!=null){var v=void 0,g=void 0;h==="center"?(v=d.width*.5,g=d.height*.5):(v=Al(h[0],d.width),g=Al(h[1],d.height)),f=!0,a.originX=-a.x+v+(i?0:d.x),a.originY=-a.y+g+(i?0:d.y)}}r.rotation!=null&&(a.rotation=r.rotation);var b=r.offset;b&&(a.x+=b[0],a.y+=b[1],f||(a.originX=-b[0],a.originY=-b[1]));var S=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,M=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),C=void 0,O=void 0,E=void 0;S&&this.canBeInsideText()?(C=r.insideFill,O=r.insideStroke,(C==null||C==="auto")&&(C=this.getInsideTextFill()),(O==null||O==="auto")&&(O=this.getInsideTextStroke(C),E=!0)):(C=r.outsideFill,O=r.outsideStroke,(C==null||C==="auto")&&(C=this.getOutsideFill()),(O==null||O==="auto")&&(O=this.getOutsideStroke(C),E=!0)),C=C||"#000",(C!==M.fill||O!==M.stroke||E!==M.autoStroke||s!==M.align||l!==M.verticalAlign)&&(u=!0,M.fill=C,M.stroke=O,M.autoStroke=E,M.align=s,M.verticalAlign=l,e.setDefaultTextStyle(M)),e.__dirty|=ba,u&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Hs:Zo},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),r=typeof e=="string"&&Object(oa.parse)(e);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,Object(oa.stringify)(r,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},Object(y.extend)(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Object(y.isObject)(t))for(var r=t,i=Object(y.keys)(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,t[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==Wd)){var s=i.targetName,l=s?e[s]:e;i.saveTo(l)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Mc)},n.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Wd,!1,t)},n.prototype.useState=function(t,e,r,i){var a=t===Wd,s=this.hasState();if(!(!s&&a)){var l=this.currentStates,u=this.stateTransition;if(!(Object(y.indexOf)(l,t)>=0&&(e||l.length===1))){var f;if(this.stateProxy&&!a&&(f=this.stateProxy(t)),f||(f=this.states&&this.states[t]),!f&&!a){Object(y.logError)("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(f);var d=!!(f&&f.hoverLayer||i);d&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,f,this._normalState,e,!r&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,v=this._textGuide;return h&&h.useState(t,e,r,d),v&&v.useState(t,e,r,d),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ba),f}}},n.prototype.useStates=function(t,e,r){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,s=t.length,l=s===a.length;if(l){for(var u=0;u<s;u++)if(t[u]!==a[u]){l=!1;break}}if(l)return;for(var u=0;u<s;u++){var f=t[u],d=void 0;this.stateProxy&&(d=this.stateProxy(f,t)),d||(d=this.states[f]),d&&i.push(d)}var h=i[s-1],v=!!(h&&h.hoverLayer||r);v&&this._toggleHoverLayerFlag(!0);var g=this._mergeStates(i),b=this.stateTransition;this.saveCurrentToNormalState(g),this._applyStateObj(t.join(","),g,this._normalState,!1,!e&&!this.__inHover&&b&&b.duration>0,b);var S=this._textContent,M=this._textGuide;S&&S.useStates(t,e,v),M&&M.useStates(t,e,v),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!v&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ba)}},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=Object(y.indexOf)(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},n.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice(),a=Object(y.indexOf)(i,t),s=Object(y.indexOf)(i,e)>=0;a>=0?s?i.splice(a,1):i[a]=e:r&&!s&&i.push(e),this.useStates(i)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e={},r,i=0;i<t.length;i++){var a=t[i];Object(y.extend)(e,a),a.textConfig&&(r=r||{},Object(y.extend)(r,a.textConfig))}return r&&(e.textConfig=r),e},n.prototype._applyStateObj=function(t,e,r,i,a,s){var l=!(e&&i);e&&e.textConfig?(this.textConfig=Object(y.extend)({},i?this.textConfig:r.textConfig),Object(y.extend)(this.textConfig,e.textConfig)):l&&r.textConfig&&(this.textConfig=r.textConfig);for(var u={},f=!1,d=0;d<Mc.length;d++){var h=Mc[d],v=a&&qu[h];e&&e[h]!=null?v?(f=!0,u[h]=e[h]):this[h]=e[h]:l&&r[h]!=null&&(v?(f=!0,u[h]=r[h]):this[h]=r[h])}if(!a)for(var d=0;d<this.animators.length;d++){var g=this.animators[d],b=g.targetName;g.getLoop()||g.__changeFinalValue(b?(e||r)[b]:e||r)}f&&this._transitionState(t,u,s)},n.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new $u,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Object(y.extend)(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=ba;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=t),r&&(r.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(!!this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,r){var i=t?this[t]:this,a=new au(i,e,r);return t&&(a.targetName=t),this.addAnimator(a,t),a},n.prototype.addAnimator=function(t,e){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,s=Object(y.indexOf)(a,t);s>=0&&a.splice(s,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var l=r[s];!t||t===l.scope?l.stop(e):a.push(l)}return this.animators=a,this},n.prototype.animateTo=function(t,e,r){iv(this,t,e,r)},n.prototype.animateFrom=function(t,e,r){iv(this,t,e,r,!0)},n.prototype._transitionState=function(t,e,r,i){for(var a=iv(this,e,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ba;var e={};function r(a,s,l){e[a+s+l]||(console.warn("DEPRECATED: '"+a+"' has been deprecated. use '"+s+"', '"+l+"' instead"),e[a+s+l]=!0)}function i(a,s,l,u){Object.defineProperty(t,a,{get:function(){if(!this[s]){var d=this[s]=[];f(this,d)}return this[s]},set:function(d){this[l]=d[0],this[u]=d[1],this[s]=d,f(this,d)}});function f(d,h){Object.defineProperty(h,0,{get:function(){return d[l]},set:function(v){d[l]=v}}),Object.defineProperty(h,1,{get:function(){return d[u]},set:function(v){d[u]=v}})}}Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),n}();Object(y.mixin)(Bh,Je),Object(y.mixin)(Bh,$u);function iv(n,t,e,r,i){e=e||{};var a=[];La(n,"",n,t,e,r,a,i);var s=a.length,l=!1,u=e.done,f=e.aborted,d=function(){l=!0,s--,s<=0&&(l?u&&u():f&&f())},h=function(){s--,s<=0&&(l?u&&u():f&&f())};s||u&&u(),a.length>0&&e.during&&a[0].during(function(b,S){e.during(S)});for(var v=0;v<a.length;v++){var g=a[v];d&&g.done(d),h&&g.aborted(h),e.force&&g.duration(e.duration),g.start(e.easing)}return a}function Fh(n,t,e){for(var r=0;r<e;r++)n[r]=t[r]}function Hg(n){return Object(y.isArrayLike)(n[0])}function zh(n,t,e){if(Object(y.isArrayLike)(t[e]))if(Object(y.isArrayLike)(n[e])||(n[e]=[]),Object(y.isTypedArray)(t[e])){var r=t[e].length;n[e].length!==r&&(n[e]=new t[e].constructor(r),Fh(n[e],t[e],r))}else{var i=t[e],a=n[e],s=i.length;if(Hg(i))for(var l=i[0].length,u=0;u<s;u++)a[u]?Fh(a[u],i[u],l):a[u]=Array.prototype.slice.call(i[u]);else Fh(a,i,s);a.length=i.length}else n[e]=t[e]}function wy(n,t){return n===t||Object(y.isArrayLike)(n)&&Object(y.isArrayLike)(t)&&Gg(n,t)}function Gg(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}function La(n,t,e,r,i,a,s,l){for(var u=Object(y.keys)(r),f=i.duration,d=i.delay,h=i.additive,v=i.setToFinal,g=!Object(y.isObject)(a),b=n.animators,S=[],M=0;M<u.length;M++){var C=u[M],O=r[C];if(O!=null&&e[C]!=null&&(g||a[C]))if(Object(y.isObject)(O)&&!Object(y.isArrayLike)(O)&&!Object(y.isGradientObject)(O)){if(t){l||(e[C]=O,n.updateDuringAnimation(t));continue}La(n,C,e[C],O,i,a&&a[C],s,l)}else S.push(C);else l||(e[C]=O,n.updateDuringAnimation(t),S.push(C))}var E=S.length;if(!h&&E)for(var I=0;I<b.length;I++){var W=b[I];if(W.targetName===t){var H=W.stopTracks(S);if(H){var Q=Object(y.indexOf)(b,W);b.splice(Q,1)}}}if(i.force||(S=Object(y.filter)(S,function(xe){return!wy(r[xe],e[xe])}),E=S.length),E>0||i.force&&!s.length){var se=void 0,le=void 0,Me=void 0;if(l){le={},v&&(se={});for(var I=0;I<E;I++){var C=S[I];le[C]=e[C],v?se[C]=r[C]:e[C]=r[C]}}else if(v){Me={};for(var I=0;I<E;I++){var C=S[I];Me[C]=ru(e[C]),zh(e,r,C)}}var W=new au(e,!1,!1,h?Object(y.filter)(b,function(Be){return Be.targetName===t}):null);W.targetName=t,i.scope&&(W.scope=i.scope),v&&se&&W.whenWithKeys(0,se,S),Me&&W.whenWithKeys(0,Me,S),W.whenWithKeys(f==null?500:f,l?le:r,S).delay(d||0),n.addAnimator(W,t),s.push(W)}}var du=Bh,ec=function(n){An(t,n);function t(e){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===e)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,r){if(e&&e!==this&&e.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,r){var i=y.indexOf(this._children,e);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(e,r){var i=this._children,a=i[r];if(e&&e!==this&&e.parent!==this&&e!==a){i[r]=e,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var r=this.__zr;r&&r!==e.__zr&&e.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(e){var r=this.__zr,i=this._children,a=y.indexOf(i,e);return a<0?this:(i.splice(a,1),e.parent=null,r&&e.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,r=this.__zr,i=0;i<e.length;i++){var a=e[i];r&&a.removeSelfFromZr(r),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];e.call(r,s,a)}return this},t.prototype.traverse=function(e,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=e.call(r,a);a.isGroup&&!s&&a.traverse(e,r)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var r=new Hn(0,0,0,0),i=e||this._children,a=[],s=null,l=0;l<i.length;l++){var u=i[l];if(!(u.ignore||u.invisible)){var f=u.getBoundingRect(),d=u.getLocalTransform(a);d?(Hn.applyTransform(r,f,d),s=s||r.clone(),s.union(r)):(s=s||f.clone(),s.union(f))}}return s||r},t}(du);ec.prototype.type="group";var Wr=ec;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Xl={},Zl={};function id(n){delete Zl[n]}function Ug(n){if(!n)return!1;if(typeof n=="string")return Object(oa.lum)(n,1)<jo;if(n.colorStops){for(var t=n.colorStops,e=0,r=t.length,i=0;i<r;i++)e+=Object(oa.lum)(t[i].color,1);return e/=r,e<jo}return!1}var Vh=function(){function n(t,e,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=t;var a=new Ui,s=r.renderer||"canvas";Xl[s]||(s=y.keys(Xl)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var l=new Xl[s](e,a,r,t),u=r.ssr||l.ssrOnly;this.storage=a,this.painter=l;var f=!en.a.node&&!en.a.worker&&!u?new _f(l.getViewportRoot(),l.root):null;this.handler=new Gi(a,l,f,l.root),this.animation=new Bd({stage:{update:u?null:function(){return i._flush(!0)}}}),u||this.animation.start()}return n.prototype.add=function(t){!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Ug(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,r=Ul();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=Ul();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,r){return this.handler.on(t,e,r),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Wr&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,id(this.id)},n}();function Yd(n,t){var e=new Vh(y.guid(),n,t);return Zl[e.id]=e,e}function av(n){n.dispose()}function Ms(){for(var n in Zl)Zl.hasOwnProperty(n)&&Zl[n].dispose();Zl={}}function Wg(n){return Zl[n]}function Ps(n,t){Xl[n]=t}var tc="5.3.0",Pl=1e-4,Xd=20;function Zd(n){return n.replace(/^\s+|\s+$/g,"")}function Da(n,t,e,r){var i=t[0],a=t[1],s=e[0],l=e[1],u=a-i,f=l-s;if(u===0)return f===0?s:(s+l)/2;if(r)if(u>0){if(n<=i)return s;if(n>=a)return l}else{if(n>=i)return s;if(n<=a)return l}else{if(n===i)return s;if(n===a)return l}return(n-i)/u*f+s}function Yn(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return y.isString(n)?Zd(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):n==null?NaN:+n}function nr(n,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),Xd),n=(+n).toFixed(t),e?n:+n}function ms(n){return n.sort(function(t,e){return t-e}),n}function Ra(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e}return $d(n)}function $d(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),r=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function Va(n,t){var e=Math.log,r=Math.LN10,i=Math.floor(e(n[1]-n[0])/r),a=Math.round(e(Math.abs(t[1]-t[0]))/r),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function Kg(n,t,e){if(!n[t])return 0;var r=y.reduce(n,function(b,S){return b+(isNaN(S)?0:S)},0);if(r===0)return 0;for(var i=Math.pow(10,e),a=y.map(n,function(b){return(isNaN(b)?0:b)/r*i*100}),s=i*100,l=y.map(a,function(b){return Math.floor(b)}),u=y.reduce(l,function(b,S){return b+S},0),f=y.map(a,function(b,S){return b-l[S]});u<s;){for(var d=Number.NEGATIVE_INFINITY,h=null,v=0,g=f.length;v<g;++v)f[v]>d&&(d=f[v],h=v);++l[h],f[h]=0,++u}return l[t]/i}function My(n,t){var e=Math.max(Ra(n),Ra(t)),r=n+t;return e>Xd?r:nr(r,e)}var ov=9007199254740991;function Hh(n){var t=Math.PI*2;return(n%t+t)%t}function Ef(n){return n>-Pl&&n<Pl}var _y=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function pl(n){if(n instanceof Date)return n;if(y.isString(n)){var t=_y.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function sv(n){return Math.pow(10,ei(n))}function ei(n){if(n===0)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function lv(n,t){var e=ei(n),r=Math.pow(10,e),i=n/r,a;return t?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,e>=-20?+n.toFixed(e<0?-e:0):n}function Gh(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],a=e-r;return a?i+a*(n[r]-i):i}function vl(n){n.sort(function(u,f){return l(u,f,0)?-1:1});for(var t=-Infinity,e=1,r=0;r<n.length;){for(var i=n[r].interval,a=n[r].close,s=0;s<2;s++)i[s]<=t&&(i[s]=t,a[s]=s?1:1-e),t=i[s],e=a[s];i[0]===i[1]&&a[0]*a[1]!=1?n.splice(r,1):r++}return n;function l(u,f,d){return u.interval[d]<f.interval[d]||u.interval[d]===f.interval[d]&&(u.close[d]-f.close[d]==(d?-1:1)||!d&&l(u,f,1))}}function hu(n){var t=parseFloat(n);return t==n&&(t!==0||!y.isString(n)||n.indexOf("x")<=0)?t:NaN}function Js(n){return!isNaN(hu(n))}function Ll(){return Math.round(Math.random()*9)}function Af(n,t){return t===0?n:Af(t,n%t)}function Ls(n,t){return n==null?t:t==null?n:n*t/Af(n,t)}function _i(n,t,e){return(t-n)*e+n}var Uh="series\0",Pf="\0_ec_\0";function Xa(n){return n instanceof Array?n:n==null?[]:[n]}function Dl(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var r=0,i=e.length;r<i;r++){var a=e[r];!n.emphasis[t].hasOwnProperty(a)&&n[t].hasOwnProperty(a)&&(n.emphasis[t][a]=n[t][a])}}}var Cc=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Rl(n){return Object(y.isObject)(n)&&!Object(y.isArray)(n)&&!(n instanceof Date)?n.value:n}function uv(n){return Object(y.isObject)(n)&&!(n instanceof Array)}function Wh(n,t,e){var r=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";n=n||[],t=(t||[]).slice();var s=Object(y.createHashMap)();Object(y.each)(t,function(u,f){if(!Object(y.isObject)(u)){t[f]=null;return}});var l=Kh(n,s,e);return(r||i)&&ad(l,n,s,t),r&&Yh(l,t),r||i?od(l,t,i):a&&Xh(l,t),Jd(l),l}function Kh(n,t,e){var r=[];if(e==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&t.set(a.id,i),r.push({existing:e==="replaceMerge"||ju(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function ad(n,t,e,r){Object(y.each)(r,function(i,a){if(!(!i||i.id==null)){var s=Tc(i.id),l=e.get(s);if(l!=null){var u=n[l];Object(y.assert)(!u.newOption,'Duplicated option on id "'+s+'".'),u.newOption=i,u.existing=t[l],r[a]=null}}})}function Yh(n,t){Object(y.each)(t,function(e,r){if(!(!e||e.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||e.id==null)&&!ju(e)&&!ju(a)&&Zc("name",a,e)){n[i].newOption=e,t[r]=null;return}}})}function od(n,t,e){Object(y.each)(t,function(r){if(!!r){for(var i,a=0;(i=n[a])&&(i.newOption||ju(i.existing)||i.existing&&r.id!=null&&!Zc("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=e):n.push({newOption:r,brandNew:e,existing:null,keyInfo:null}),a++}})}function Xh(n,t){Object(y.each)(t,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function Jd(n){var t=Object(y.createHashMap)();Object(y.each)(n,function(e){var r=e.existing;r&&t.set(r.id,e)}),Object(y.each)(n,function(e){var r=e.newOption;Object(y.assert)(!r||r.id==null||!t.get(r.id)||t.get(r.id)===e,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,e),!e.keyInfo&&(e.keyInfo={})}),Object(y.each)(n,function(e,r){var i=e.existing,a=e.newOption,s=e.keyInfo;if(!!Object(y.isObject)(a)){if(s.name=a.name!=null?Tc(a.name):i?i.name:Uh+r,i)s.id=Tc(i.id);else if(a.id!=null)s.id=Tc(a.id);else{var l=0;do s.id="\0"+s.name+"\0"+l++;while(t.get(s.id))}t.set(s.id,e)}})}function Zc(n,t,e){var r=Fo(t[n],null),i=Fo(e[n],null);return r!=null&&i!=null&&r===i}function Tc(n){return Fo(n,"")}function Fo(n,t){return n==null?t:Object(y.isString)(n)?n:Object(y.isNumber)(n)||Object(y.isStringSafe)(n)?n+"":t}function _s(n){}function Cy(n){return Object(y.isStringSafe)(n)||Js(n)}function pu(n){var t=n.name;return!!(t&&t.indexOf(Uh))}function ju(n){return n&&n.id!=null&&Tc(n.id).indexOf(Pf)===0}function sd(n){return Pf+n}function nl(n,t,e){Object(y.each)(n,function(r){var i=r.newOption;Object(y.isObject)(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=Yg(t,i,r.existing,e))})}function Yg(n,t,e,r){var i=t.type?t.type:e?e.subType:r.determineSubType(n,t);return i}function Ty(n,t){var e={},r={};return i(n||[],e),i(t||[],r,e),[a(e),a(r)];function i(s,l,u){for(var f=0,d=s.length;f<d;f++){var h=Fo(s[f].seriesId,null);if(h==null)return;for(var v=Xa(s[f].dataIndex),g=u&&u[h],b=0,S=v.length;b<S;b++){var M=v[b];g&&g[M]?g[M]=null:(l[h]||(l[h]={}))[M]=1}}}function a(s,l){var u=[];for(var f in s)if(s.hasOwnProperty(f)&&s[f]!=null)if(l)u.push(+f);else{var d=a(s[f],!0);d.length&&u.push({seriesId:f,dataIndex:d})}return u}}function Lf(n,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Object(y.isArray)(t.dataIndex)?Object(y.map)(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Object(y.isArray)(t.name)?Object(y.map)(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name)}function Yi(){var n="__ec_inner_"+ld++;return function(t){return t[n]||(t[n]={})}}var ld=Ll();function no(n,t,e){var r=$c(t,e),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,l=s,u=e?e.defaultMainType:null;return!i&&u&&a.set(u,{}),a.each(function(f,d){var h=Oc(n,d,f,{useDefault:u===d,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});l[d+"Models"]=h.models,l[d+"Model"]=h.models[0]}),l}function $c(n,t){var e;if(Object(y.isString)(n)){var r={};r[n+"Index"]=0,e=r}else e=n;var i=Object(y.createHashMap)(),a={},s=!1;return Object(y.each)(e,function(l,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=l;return}var f=u.match(/^(\w+)(Index|Id|Name)$/)||[],d=f[1],h=(f[2]||"").toLowerCase();if(!(!d||!h||t&&t.includeMainTypes&&Object(y.indexOf)(t.includeMainTypes,d)<0)){s=s||!!d;var v=i.get(d)||i.set(d,{});v[h]=l}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Wo={useDefault:!0,enableAll:!1,enableNone:!1},nc={useDefault:!1,enableAll:!0,enableNone:!0};function Oc(n,t,e,r){r=r||Wo;var i=e.index,a=e.id,s=e.name,l={models:null,specified:i!=null||a!=null||s!=null};if(!l.specified){var u=void 0;return l.models=r.useDefault&&(u=n.getComponent(t))?[u]:[],l}return i==="none"||i===!1?(Object(y.assert)(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(i==="all"&&(Object(y.assert)(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),l.models=n.queryComponents({mainType:t,index:i,id:a,name:s}),l)}function Zh(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function cv(n,t){return n.getAttribute?n.getAttribute(t):n[t]}function Oy(n){return n==="auto"?en.a.domSupported?"html":"richText":n||"html"}function fv(n,t){var e=Object(y.createHashMap)(),r=[];return Object(y.each)(n,function(i){var a=t(i);(e.get(a)||(r.push(a),e.set(a,[]))).push(i)}),{keys:r,buckets:e}}function vu(n,t,e,r,i){var a=t==null||t==="auto";if(r==null)return r;if(Object(y.isNumber)(r)){var s=_i(e||0,r,i);return nr(s,a?Math.max(Ra(e||0),Ra(r)):t)}else{if(Object(y.isString)(r))return i<1?e:r;for(var l=[],u=e,f=r,d=Math.max(u?u.length:0,f.length),h=0;h<d;++h){var v=n.getDimensionInfo(h);if(v&&v.type==="ordinal")l[h]=(i<1&&u?u:f)[h];else{var g=u&&u[h]?u[h]:0,b=f[h],s=_i(g,b,i);l[h]=nr(s,a?Math.max(Ra(g),Ra(b)):t)}}return l}}var ud=".",rc="___EC__COMPONENT__CONTAINER___",Qd="___EC__EXTENDED_CLASS___";function Bu(n){var t={main:"",sub:""};if(n){var e=n.split(ud);t.main=e[0]||"",t.sub=e[1]||""}return t}function Ey(n){y.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function cd(n){return!!(n&&n[Qd])}function dv(n,t){n.$constructor=n,n.extend=function(e){var r=this,i;return Ay(r)?i=function(a){ve(s,a);function s(){return a.apply(this,arguments)||this}return s}(r):(i=function(){(e.$constructor||r).apply(this,arguments)},y.inherits(i,this)),y.extend(i.prototype,e),i[Qd]=!0,i.extend=this.extend,i.superCall=Ly,i.superApply=Dy,i.superClass=r,i}}function Ay(n){return y.isFunction(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Xg(n,t){n.extend=t.extend}var hv=Math.round(Math.random()*10);function Py(n){var t=["__\0is_clz",hv++].join("_");n.prototype[t]=!0,n.isInstance=function(e){return!!(e&&e[t])}}function Ly(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return this.superClass.prototype[t].apply(n,e)}function Dy(n,t,e){return this.superClass.prototype[t].apply(n,e)}function qd(n){var t={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Ey(i),r.prototype.type=i;var a=Bu(i);if(!a.sub)t[a.main]=r;else if(a.sub!==rc){var s=e(a);s[a.sub]=r}}return r},n.getClass=function(r,i,a){var s=t[r];if(s&&s[rc]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},n.getClassesByMainType=function(r){var i=Bu(r),a=[],s=t[i.main];return s&&s[rc]?y.each(s,function(l,u){u!==rc&&a.push(l)}):a.push(s),a},n.hasClass=function(r){var i=Bu(r);return!!t[i.main]},n.getAllClassMainTypes=function(){var r=[];return y.each(t,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=Bu(r),a=t[i.main];return a&&a[rc]};function e(r){var i=t[r.main];return(!i||!i[rc])&&(i=t[r.main]={},i[rc]=!0),i}}function Df(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(r,i,a){for(var s={},l=0;l<n.length;l++){var u=n[l][1];if(!(i&&y.indexOf(i,u)>=0||a&&y.indexOf(a,u)<0)){var f=r.getShallow(u,t);f!=null&&(s[n[l][0]]=f)}}return s}}var Ry=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Iy=Df(Ry),Zg=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return Iy(this,t,e)},n}(),$h=new xc.a(50);function Ny(n){if(typeof n=="string"){var t=$h.get(n);return t&&t.image}else return n}function pv(n,t,e,r,i){if(n)if(typeof n=="string"){if(t&&t.__zrImageSrc===n||!e)return t;var a=$h.get(n),s={hostEl:e,cb:r,cbPayload:i};if(a)t=a.image,!eh(t)&&a.pending.push(s);else{var l=Eo.d.loadImage(n,Jh,Jh);l.__zrImageSrc=n,$h.put(n,l.__cachedImgObj={image:l,pending:[s]})}return t}else return n;else return t}function Jh(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],r=e.cb;r&&r(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function eh(n){return n&&n.width&&n.height}var fd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function vv(n,t,e,r,i){if(!t)return"";var a=(n+"").split(`
`);i=gv(t,e,r,i);for(var s=0,l=a.length;s<l;s++)a[s]=$g(a[s],i);return a.join(`
`)}function gv(n,t,e,r){r=r||{};var i=Object(y.extend)({},r);i.font=t,e=Object(y.retrieve2)(e,"..."),i.maxIterations=Object(y.retrieve2)(r.maxIterations,2);var a=i.minChar=Object(y.retrieve2)(r.minChar,0);i.cnCharWidth=Yl("\u56FD",t);var s=i.ascCharWidth=Yl("a",t);i.placeholder=Object(y.retrieve2)(r.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<a&&l>=s;u++)l-=s;var f=Yl(e,t);return f>l&&(e="",f=0),l=n-f,i.ellipsis=e,i.ellipsisWidth=f,i.contentWidth=l,i.containerWidth=n,i}function $g(n,t){var e=t.containerWidth,r=t.font,i=t.contentWidth;if(!e)return"";var a=Yl(n,r);if(a<=e)return n;for(var s=0;;s++){if(a<=i||s>=t.maxIterations){n+=t.ellipsis;break}var l=s===0?ky(n,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(n.length*i/a):0;n=n.substr(0,l),a=Yl(n,r)}return n===""&&(n=t.placeholder),n}function ky(n,t,e,r){for(var i=0,a=0,s=n.length;a<s&&i<t;a++){var l=n.charCodeAt(a);i+=0<=l&&l<=127?e:r}return a}function Jg(n,t){n!=null&&(n+="");var e=t.overflow,r=t.padding,i=t.font,a=e==="truncate",s=Gd(i),l=Object(y.retrieve2)(t.lineHeight,s),u=!!t.backgroundColor,f=t.lineOverflow==="truncate",d=t.width,h;d!=null&&(e==="break"||e==="breakAll")?h=n?qg(n,t.font,d,e==="breakAll",0).lines:[]:h=n?n.split(`
`):[];var v=h.length*l,g=Object(y.retrieve2)(t.height,v);if(v>g&&f){var b=Math.floor(g/l);h=h.slice(0,b)}if(n&&a&&d!=null)for(var S=gv(d,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),M=0;M<h.length;M++)h[M]=$g(h[M],S);for(var C=g,O=0,M=0;M<h.length;M++)O=Math.max(Yl(h[M],i),O);d==null&&(d=O);var E=O;return r&&(C+=r[0]+r[2],E+=r[1]+r[3],d+=r[1]+r[3]),u&&(E=d),{lines:h,height:g,outerWidth:E,outerHeight:C,lineHeight:l,calculatedLineHeight:s,contentWidth:O,contentHeight:v,width:d}}var jy=function(){function n(){}return n}(),Qg=function(){function n(t){this.tokens=[],t&&(this.tokens=t)}return n}(),By=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function mv(n,t){var e=new By;if(n!=null&&(n+=""),!n)return e;for(var r=t.width,i=t.height,a=t.overflow,s=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,l=fd.lastIndex=0,u;(u=fd.exec(n))!=null;){var f=u.index;f>l&&yv(e,n.substring(l,f),t,s),yv(e,u[2],t,s,u[1]),l=fd.lastIndex}l<n.length&&yv(e,n.substring(l,n.length),t,s);var d=[],h=0,v=0,g=t.padding,b=a==="truncate",S=t.lineOverflow==="truncate";function M(Qt,vn,Gn){Qt.width=vn,Qt.lineHeight=Gn,h+=Gn,v=Math.max(v,vn)}e:for(var C=0;C<e.lines.length;C++){for(var O=e.lines[C],E=0,I=0,W=0;W<O.tokens.length;W++){var H=O.tokens[W],Q=H.styleName&&t.rich[H.styleName]||{},se=H.textPadding=Q.padding,le=se?se[1]+se[3]:0,Me=H.font=Q.font||t.font;H.contentHeight=Gd(Me);var xe=Object(y.retrieve2)(Q.height,H.contentHeight);if(H.innerHeight=xe,se&&(xe+=se[0]+se[2]),H.height=xe,H.lineHeight=Object(y.retrieve3)(Q.lineHeight,t.lineHeight,xe),H.align=Q&&Q.align||t.align,H.verticalAlign=Q&&Q.verticalAlign||"middle",S&&i!=null&&h+H.lineHeight>i){W>0?(O.tokens=O.tokens.slice(0,W),M(O,I,E),e.lines=e.lines.slice(0,C+1)):e.lines=e.lines.slice(0,C);break e}var Be=Q.width,ze=Be==null||Be==="auto";if(typeof Be=="string"&&Be.charAt(Be.length-1)==="%")H.percentWidth=Be,d.push(H),H.contentWidth=Yl(H.text,Me);else{if(ze){var it=Q.backgroundColor,pt=it&&it.image;pt&&(pt=Ny(pt),eh(pt)&&(H.width=Math.max(H.width,pt.width*xe/pt.height)))}var At=b&&r!=null?r-I:null;At!=null&&At<H.width?!ze||At<le?(H.text="",H.width=H.contentWidth=0):(H.text=vv(H.text,At-le,Me,t.ellipsis,{minChar:t.truncateMinChar}),H.width=H.contentWidth=Yl(H.text,Me)):H.contentWidth=Yl(H.text,Me)}H.width+=le,I+=H.width,Q&&(E=Math.max(E,H.lineHeight))}M(O,I,E)}e.outerWidth=e.width=Object(y.retrieve2)(r,v),e.outerHeight=e.height=Object(y.retrieve2)(i,h),e.contentHeight=h,e.contentWidth=v,g&&(e.outerWidth+=g[1]+g[3],e.outerHeight+=g[0]+g[2]);for(var C=0;C<d.length;C++){var H=d[C],ln=H.percentWidth;H.width=parseInt(ln,10)/100*e.width}return e}function yv(n,t,e,r,i){var a=t==="",s=i&&e.rich[i]||{},l=n.lines,u=s.font||e.font,f=!1,d,h;if(r){var v=s.padding,g=v?v[1]+v[3]:0;if(s.width!=null&&s.width!=="auto"){var b=Al(s.width,r.width)+g;l.length>0&&b+r.accumWidth>r.width&&(d=t.split(`
`),f=!0),r.accumWidth=b}else{var S=qg(t,u,r.width,r.breakAll,r.accumWidth);r.accumWidth=S.accumWidth+g,h=S.linesWidths,d=S.lines}}else d=t.split(`
`);for(var M=0;M<d.length;M++){var C=d[M],O=new jy;if(O.styleName=i,O.text=C,O.isLineHolder=!C&&!a,typeof s.width=="number"?O.width=s.width:O.width=h?h[M]:Yl(C,u),!M&&!f){var E=(l[l.length-1]||(l[0]=new Qg)).tokens,I=E.length;I===1&&E[0].isLineHolder?E[0]=O:(C||!I||a)&&E.push(O)}else l.push(new Qg([O]))}}function Fy(n){var t=n.charCodeAt(0);return t>=33&&t<=383}var zy=Object(y.reduce)(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function Vy(n){return Fy(n)?!!zy[n]:!0}function qg(n,t,e,r,i){for(var a=[],s=[],l="",u="",f=0,d=0,h=0;h<n.length;h++){var v=n.charAt(h);if(v===`
`){u&&(l+=u,d+=f),a.push(l),s.push(d),l="",u="",f=0,d=0;continue}var g=Yl(v,t),b=r?!1:!Vy(v);if(a.length?d+g>e:i+d+g>e){d?(l||u)&&(b?(l||(l=u,u="",f=0,d=f),a.push(l),s.push(d-f),u+=v,f+=g,l="",d=f):(u&&(l+=u,u="",f=0),a.push(l),s.push(d),l=v,d=g)):b?(a.push(u),s.push(f),u=v,f=g):(a.push(v),s.push(g));continue}d+=g,b?(u+=v,f+=g):(u&&(l+=u,u="",f=0),l+=v)}return!a.length&&!l&&(l=n,u="",f=0),u&&(l+=u),l&&(a.push(l),s.push(d)),a.length===1&&(d+=i),{accumWidth:d,lines:a,linesWidths:s}}var bv="__zr_style_"+Math.round(Math.random()*10),Rf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Qh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Rf[bv]=!0;var em=["z","z2","invisible"],Hy=["invisible"],Gy=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype._init=function(e){for(var r=Object(y.keys)(e),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(e[a]):n.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&lx(this,e,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(e,r){return this.rectContain(e,r)},t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.rectContain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Hn(0,0,0,0)),r?Hn.applyTransform(e,i,r):e.copy(i),(s||l||u)&&(e.width+=s*2+Math.abs(l),e.height+=s*2+Math.abs(u),e.x=Math.min(e.x,e.x+l-s),e.y=Math.min(e.y,e.y+u-s));var f=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-f),e.y=Math.floor(e.y-f),e.width=Math.ceil(e.width+1+f*2),e.height=Math.ceil(e.height+1+f*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Hn(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,r){e!=="style"?n.prototype.attrKV.call(this,e,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(e,r){return typeof e=="string"?this.style[e]=r:Object(y.extend)(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=pa,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&pa)},t.prototype.styleUpdated=function(){this.__dirty&=~pa},t.prototype.createStyle=function(e){return Object(y.createObject)(Rf,e)},t.prototype.useStyle=function(e){e[bv]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[bv]},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,r,em)},t.prototype._applyStateObj=function(e,r,i,a,s,l){n.prototype._applyStateObj.call(this,e,r,i,a,s,l);var u=!(r&&a),f;if(r&&r.style?s?a?f=r.style:(f=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(f,r.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(f,r.style)):u&&(f=i.style),f)if(s){var d=this.style;if(this.style=this.createStyle(u?{}:d),u)for(var h=Object(y.keys)(d),v=0;v<h.length;v++){var g=h[v];g in f&&(f[g]=f[g],this.style[g]=d[g])}for(var b=Object(y.keys)(f),v=0;v<b.length;v++){var g=b[v];this.style[g]=this.style[g]}this._transitionState(e,{style:f},l,this.getAnimationStyleProps())}else this.useStyle(f);for(var S=this.__inHover?Hy:em,v=0;v<S.length;v++){var g=S[v];r&&r[g]!=null?this[g]=r[g]:u&&i[g]!=null&&(this[g]=i[g])}},t.prototype._mergeStates=function(e){for(var r=n.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var s=e[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},t.prototype._mergeStyle=function(e,r){return Object(y.extend)(e,r),e},t.prototype.getAnimationStyleProps=function(){return Qh},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=ba|pa}(),t}(du),gu=new Hn(0,0,0,0),xv=new Hn(0,0,0,0);function lx(n,t,e){return gu.copy(n.getBoundingRect()),n.transform&&gu.applyTransform(n.transform),xv.width=t,xv.height=e,!gu.intersect(xv)}var N=Gy,$=Math.min,ae=Math.max,R=Math.sin,j=Math.cos,ye=Math.PI*2,pe=Ln(),ee=Ln(),fe=Ln();function _e(n,t,e){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],s=r[1],l=r[1],u=1;u<n.length;u++)r=n[u],i=$(i,r[0]),a=ae(a,r[0]),s=$(s,r[1]),l=ae(l,r[1]);t[0]=i,t[1]=s,e[0]=a,e[1]=l}}function Ge(n,t,e,r,i,a){i[0]=$(n,e),i[1]=$(t,r),a[0]=ae(n,e),a[1]=ae(t,r)}var ke=[],rt=[];function St(n,t,e,r,i,a,s,l,u,f){var d=qs,h=za,v=d(n,e,i,s,ke);u[0]=Infinity,u[1]=Infinity,f[0]=-Infinity,f[1]=-Infinity;for(var g=0;g<v;g++){var b=h(n,e,i,s,ke[g]);u[0]=$(b,u[0]),f[0]=ae(b,f[0])}v=d(t,r,a,l,rt);for(var g=0;g<v;g++){var S=h(t,r,a,l,rt[g]);u[1]=$(S,u[1]),f[1]=ae(S,f[1])}u[0]=$(n,u[0]),f[0]=ae(n,f[0]),u[0]=$(s,u[0]),f[0]=ae(s,f[0]),u[1]=$(t,u[1]),f[1]=ae(t,f[1]),u[1]=$(l,u[1]),f[1]=ae(l,f[1])}function Et(n,t,e,r,i,a,s,l){var u=Ml,f=Ta,d=ae($(u(n,e,i),1),0),h=ae($(u(t,r,a),1),0),v=f(n,e,i,d),g=f(t,r,a,h);s[0]=$(n,i,v),s[1]=$(t,a,g),l[0]=ae(n,i,v),l[1]=ae(t,a,g)}function Dt(n,t,e,r,i,a,s,l,u){var f=gn,d=tn,h=Math.abs(i-a);if(h%ye<1e-4&&h>1e-4){l[0]=n-e,l[1]=t-r,u[0]=n+e,u[1]=t+r;return}if(pe[0]=j(i)*e+n,pe[1]=R(i)*r+t,ee[0]=j(a)*e+n,ee[1]=R(a)*r+t,f(l,pe,ee),d(u,pe,ee),i=i%ye,i<0&&(i=i+ye),a=a%ye,a<0&&(a=a+ye),i>a&&!s?a+=ye:i<a&&s&&(i+=ye),s){var v=a;a=i,i=v}for(var g=0;g<a;g+=Math.PI/2)g>i&&(fe[0]=j(g)*e+n,fe[1]=R(g)*r+t,f(l,fe,l),d(u,fe,u))}var wt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Nt=[],jt=[],Zt=[],rn=[],sn=[],kn=[],rr=Math.min,Un=Math.max,Dn=Math.cos,ar=Math.sin,Xn=Math.abs,xr=Math.PI,Pn=xr*2,Qn=typeof Float32Array!="undefined",Dr=[];function vr(n){var t=Math.round(n/xr*1e8)/1e8;return t%2*xr}function dr(n,t){var e=vr(n[0]);e<0&&(e+=Pn);var r=e-n[0],i=n[1];i+=r,!t&&i-e>=Pn?i=e+Pn:t&&e-i>=Pn?i=e-Pn:!t&&e>i?i=e+(Pn-vr(e-i)):t&&e<i&&(i=e-(Pn-vr(i-e))),n[0]=e,n[1]=i}var Zn=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,r){r=r||0,r>0&&(this._ux=Xn(r/Ki/t)||0,this._uy=Xn(r/Ki/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(wt.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var r=Xn(t-this._xi),i=Xn(e-this._yi),a=r>this._ux||i>this._uy;if(this.addData(wt.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(t,e,r,i,a,s){return this._drawPendingPt(),this.addData(wt.C,t,e,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(t,e,r,i,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(t,e,r,i){return this._drawPendingPt(),this.addData(wt.Q,t,e,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(t,e,r,i,a,s){this._drawPendingPt(),Dr[0]=i,Dr[1]=a,dr(Dr,s),i=Dr[0],a=Dr[1];var l=a-i;return this.addData(wt.A,t,e,r,r,i,l,0,s?0:1),this._ctx&&this._ctx.arc(t,e,r,i,a,s),this._xi=Dn(a)*r+t,this._yi=ar(a)*r+e,this},n.prototype.arcTo=function(t,e,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,r,i,a),this},n.prototype.rect=function(t,e,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,r,i),this.addData(wt.R,t,e,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(wt.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&t.closePath(),this._xi=e,this._yi=r,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&Qn&&(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,i=this._len,a=0;a<e;a++)r+=t[a].len();Qn&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<e;a++)for(var s=t[a].data,l=0;l<s.length;l++)this.data[i++]=s[l];this._len=i},n.prototype.addData=function(t,e,r,i,a,s,l,u,f){if(!!this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var h=0;h<arguments.length;h++)d[this._len++]=arguments[h]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Qn&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){Zt[0]=Zt[1]=sn[0]=sn[1]=Number.MAX_VALUE,rn[0]=rn[1]=kn[0]=kn[1]=-Number.MAX_VALUE;var t=this.data,e=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var l=t[s++],u=s===1;switch(u&&(e=t[s],r=t[s+1],i=e,a=r),l){case wt.M:e=i=t[s++],r=a=t[s++],sn[0]=i,sn[1]=a,kn[0]=i,kn[1]=a;break;case wt.L:Ge(e,r,t[s],t[s+1],sn,kn),e=t[s++],r=t[s++];break;case wt.C:St(e,r,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],sn,kn),e=t[s++],r=t[s++];break;case wt.Q:Et(e,r,t[s++],t[s++],t[s],t[s+1],sn,kn),e=t[s++],r=t[s++];break;case wt.A:var f=t[s++],d=t[s++],h=t[s++],v=t[s++],g=t[s++],b=t[s++]+g;s+=1;var S=!t[s++];u&&(i=Dn(g)*h+f,a=ar(g)*v+d),Dt(f,d,h,v,g,b,S,sn,kn),e=Dn(b)*h+f,r=ar(b)*v+d;break;case wt.R:i=e=t[s++],a=r=t[s++];var M=t[s++],C=t[s++];Ge(i,a,i+M,a+C,sn,kn);break;case wt.Z:e=i,r=a;break}gn(Zt,Zt,sn),tn(rn,rn,kn)}return s===0&&(Zt[0]=Zt[1]=rn[0]=rn[1]=0),new Hn(Zt[0],Zt[1],rn[0]-Zt[0],rn[1]-Zt[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,r=this._ux,i=this._uy,a=0,s=0,l=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,d=0,h=0,v=0;v<e;){var g=t[v++],b=v===1;b&&(a=t[v],s=t[v+1],l=a,u=s);var S=-1;switch(g){case wt.M:a=l=t[v++],s=u=t[v++];break;case wt.L:{var M=t[v++],C=t[v++],O=M-a,E=C-s;(Xn(O)>r||Xn(E)>i||v===e-1)&&(S=Math.sqrt(O*O+E*E),a=M,s=C);break}case wt.C:{var I=t[v++],W=t[v++],M=t[v++],C=t[v++],H=t[v++],Q=t[v++];S=is(a,s,I,W,M,C,H,Q,10),a=H,s=Q;break}case wt.Q:{var I=t[v++],W=t[v++],M=t[v++],C=t[v++];S=gc(a,s,I,W,M,C,10),a=M,s=C;break}case wt.A:var se=t[v++],le=t[v++],Me=t[v++],xe=t[v++],Be=t[v++],ze=t[v++],it=ze+Be;v+=1;var pt=!t[v++];b&&(l=Dn(Be)*Me+se,u=ar(Be)*xe+le),S=Un(Me,xe)*rr(Pn,Math.abs(ze)),a=Dn(it)*Me+se,s=ar(it)*xe+le;break;case wt.R:{l=a=t[v++],u=s=t[v++];var At=t[v++],ln=t[v++];S=At*2+ln*2;break}case wt.Z:{var O=l-a,E=u-s;S=Math.sqrt(O*O+E*E),a=l,s=u;break}}S>=0&&(f[h++]=S,d+=S)}return this._pathLen=d,d},n.prototype.rebuildPath=function(t,e){var r=this.data,i=this._ux,a=this._uy,s=this._len,l,u,f,d,h,v,g=e<1,b,S,M=0,C=0,O,E=0,I,W;if(g&&(this._pathSegLen||this._calculateLength(),b=this._pathSegLen,S=this._pathLen,O=e*S,!O))return;e:for(var H=0;H<s;){var Q=r[H++],se=H===1;switch(se&&(f=r[H],d=r[H+1],l=f,u=d),Q!==wt.L&&E>0&&(t.lineTo(I,W),E=0),Q){case wt.M:l=f=r[H++],u=d=r[H++],t.moveTo(f,d);break;case wt.L:{h=r[H++],v=r[H++];var le=Xn(h-f),Me=Xn(v-d);if(le>i||Me>a){if(g){var xe=b[C++];if(M+xe>O){var Be=(O-M)/xe;t.lineTo(f*(1-Be)+h*Be,d*(1-Be)+v*Be);break e}M+=xe}t.lineTo(h,v),f=h,d=v,E=0}else{var ze=le*le+Me*Me;ze>E&&(I=h,W=v,E=ze)}break}case wt.C:{var it=r[H++],pt=r[H++],At=r[H++],ln=r[H++],Qt=r[H++],vn=r[H++];if(g){var xe=b[C++];if(M+xe>O){var Be=(O-M)/xe;rs(f,it,At,Qt,Be,Nt),rs(d,pt,ln,vn,Be,jt),t.bezierCurveTo(Nt[1],jt[1],Nt[2],jt[2],Nt[3],jt[3]);break e}M+=xe}t.bezierCurveTo(it,pt,At,ln,Qt,vn),f=Qt,d=vn;break}case wt.Q:{var it=r[H++],pt=r[H++],At=r[H++],ln=r[H++];if(g){var xe=b[C++];if(M+xe>O){var Be=(O-M)/xe;ul(f,it,At,Be,Nt),ul(d,pt,ln,Be,jt),t.quadraticCurveTo(Nt[1],jt[1],Nt[2],jt[2]);break e}M+=xe}t.quadraticCurveTo(it,pt,At,ln),f=At,d=ln;break}case wt.A:var Gn=r[H++],fr=r[H++],Er=r[H++],li=r[H++],na=r[H++],go=r[H++],co=r[H++],ha=!r[H++],ui=Er>li?Er:li,ga=Xn(Er-li)>.001,Zi=na+go,kr=!1;if(g){var xe=b[C++];M+xe>O&&(Zi=na+go*(O-M)/xe,kr=!0),M+=xe}if(ga&&t.ellipse?t.ellipse(Gn,fr,Er,li,co,na,Zi,ha):t.arc(Gn,fr,ui,na,Zi,ha),kr)break e;se&&(l=Dn(na)*Er+Gn,u=ar(na)*li+fr),f=Dn(Zi)*Er+Gn,d=ar(Zi)*li+fr;break;case wt.R:l=f=r[H],u=d=r[H+1],h=r[H++],v=r[H++];var Hi=r[H++],vs=r[H++];if(g){var xe=b[C++];if(M+xe>O){var Fa=O-M;t.moveTo(h,v),t.lineTo(h+rr(Fa,Hi),v),Fa-=Hi,Fa>0&&t.lineTo(h+Hi,v+rr(Fa,vs)),Fa-=vs,Fa>0&&t.lineTo(h+Un(Hi-Fa,0),v+vs),Fa-=Hi,Fa>0&&t.lineTo(h,v+Un(vs-Fa,0));break e}M+=xe}t.rect(h,v,Hi,vs);break;case wt.Z:if(g){var xe=b[C++];if(M+xe>O){var Be=(O-M)/xe;t.lineTo(f*(1-Be)+l*Be,d*(1-Be)+u*Be);break e}M+=xe}t.closePath(),f=l,d=u}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=wt,n.initDefaultProps=function(){var t=n.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),n}(),Jn=Zn;function Rr(n,t,e,r,i,a,s){if(i===0)return!1;var l=i,u=0,f=n;if(s>t+l&&s>r+l||s<t-l&&s<r-l||a>n+l&&a>e+l||a<n-l&&a<e-l)return!1;if(n!==e)u=(t-r)/(n-e),f=(n*r-e*t)/(n-e);else return Math.abs(a-n)<=l/2;var d=u*a-s+f,h=d*d/(u*u+1);return h<=l/2*l/2}function fi(n,t,e,r,i,a,s,l,u,f,d){if(u===0)return!1;var h=u;if(d>t+h&&d>r+h&&d>a+h&&d>l+h||d<t-h&&d<r-h&&d<a-h&&d<l-h||f>n+h&&f>e+h&&f>i+h&&f>s+h||f<n-h&&f<e-h&&f<i-h&&f<s-h)return!1;var v=yo(n,t,e,r,i,a,s,l,f,d,null);return v<=h/2}function Ni(n,t,e,r,i,a,s,l,u){if(s===0)return!1;var f=s;if(u>t+f&&u>r+f&&u>a+f||u<t-f&&u<r-f&&u<a-f||l>n+f&&l>e+f&&l>i+f||l<n-f&&l<e-f&&l<i-f)return!1;var d=vc(n,t,e,r,i,a,l,u,null);return d<=f/2}var yi=Math.PI*2;function Ri(n){return n%=yi,n<0&&(n+=yi),n}var Ji=Math.PI*2;function Oa(n,t,e,r,i,a,s,l,u){if(s===0)return!1;var f=s;l-=n,u-=t;var d=Math.sqrt(l*l+u*u);if(d-f>e||d+f<e)return!1;if(Math.abs(r-i)%Ji<1e-4)return!0;if(a){var h=r;r=Ri(i),i=Ri(h)}else r=Ri(r),i=Ri(i);r>i&&(i+=Ji);var v=Math.atan2(u,l);return v<0&&(v+=Ji),v>=r&&v<=i||v+Ji>=r&&v+Ji<=i}function Xi(n,t,e,r,i,a){if(a>t&&a>r||a<t&&a<r||r===t)return 0;var s=(a-t)/(r-t),l=r<t?1:-1;(s===1||s===0)&&(l=r<t?.5:-.5);var u=s*(e-n)+n;return u===i?Infinity:u>i?l:0}var ii=Jn.CMD,Qr=Math.PI*2,bi=1e-4;function So(n,t){return Math.abs(n-t)<bi}var ki=[-1,-1,-1],Ja=[-1,-1];function so(){var n=Ja[0];Ja[0]=Ja[1],Ja[1]=n}function Qa(n,t,e,r,i,a,s,l,u,f){if(f>t&&f>r&&f>a&&f>l||f<t&&f<r&&f<a&&f<l)return 0;var d=As(t,r,a,l,f,ki);if(d===0)return 0;for(var h=0,v=-1,g=void 0,b=void 0,S=0;S<d;S++){var M=ki[S],C=M===0||M===1?.5:1,O=za(n,e,i,s,M);O<u||(v<0&&(v=qs(t,r,a,l,Ja),Ja[1]<Ja[0]&&v>1&&so(),g=za(t,r,a,l,Ja[0]),v>1&&(b=za(t,r,a,l,Ja[1]))),v===2?M<Ja[0]?h+=g<t?C:-C:M<Ja[1]?h+=b<g?C:-C:h+=l<b?C:-C:M<Ja[0]?h+=g<t?C:-C:h+=l<g?C:-C)}return h}function zo(n,t,e,r,i,a,s,l){if(l>t&&l>r&&l>a||l<t&&l<r&&l<a)return 0;var u=wf(t,r,a,l,ki);if(u===0)return 0;var f=Ml(t,r,a);if(f>=0&&f<=1){for(var d=0,h=Ta(t,r,a,f),v=0;v<u;v++){var g=ki[v]===0||ki[v]===1?.5:1,b=Ta(n,e,i,ki[v]);b<s||(ki[v]<f?d+=h<t?g:-g:d+=a<h?g:-g)}return d}else{var g=ki[0]===0||ki[0]===1?.5:1,b=Ta(n,e,i,ki[0]);return b<s?0:a<t?g:-g}}function Ko(n,t,e,r,i,a,s,l){if(l-=t,l>e||l<-e)return 0;var u=Math.sqrt(e*e-l*l);ki[0]=-u,ki[1]=u;var f=Math.abs(r-i);if(f<1e-4)return 0;if(f>=Qr-1e-4){r=0,i=Qr;var d=a?1:-1;return s>=ki[0]+n&&s<=ki[1]+n?d:0}if(r>i){var h=r;r=i,i=h}r<0&&(r+=Qr,i+=Qr);for(var v=0,g=0;g<2;g++){var b=ki[g];if(b+n>s){var S=Math.atan2(l,b),d=a?1:-1;S<0&&(S=Qr+S),(S>=r&&S<=i||S+Qr>=r&&S+Qr<=i)&&(S>Math.PI/2&&S<Math.PI*1.5&&(d=-d),v+=d)}}return v}function lo(n,t,e,r,i){for(var a=n.data,s=n.len(),l=0,u=0,f=0,d=0,h=0,v,g,b=0;b<s;){var S=a[b++],M=b===1;switch(S===ii.M&&b>1&&(e||(l+=Xi(u,f,d,h,r,i))),M&&(u=a[b],f=a[b+1],d=u,h=f),S){case ii.M:d=a[b++],h=a[b++],u=d,f=h;break;case ii.L:if(e){if(Rr(u,f,a[b],a[b+1],t,r,i))return!0}else l+=Xi(u,f,a[b],a[b+1],r,i)||0;u=a[b++],f=a[b++];break;case ii.C:if(e){if(fi(u,f,a[b++],a[b++],a[b++],a[b++],a[b],a[b+1],t,r,i))return!0}else l+=Qa(u,f,a[b++],a[b++],a[b++],a[b++],a[b],a[b+1],r,i)||0;u=a[b++],f=a[b++];break;case ii.Q:if(e){if(Ni(u,f,a[b++],a[b++],a[b],a[b+1],t,r,i))return!0}else l+=zo(u,f,a[b++],a[b++],a[b],a[b+1],r,i)||0;u=a[b++],f=a[b++];break;case ii.A:var C=a[b++],O=a[b++],E=a[b++],I=a[b++],W=a[b++],H=a[b++];b+=1;var Q=!!(1-a[b++]);v=Math.cos(W)*E+C,g=Math.sin(W)*I+O,M?(d=v,h=g):l+=Xi(u,f,v,g,r,i);var se=(r-C)*I/E+C;if(e){if(Oa(C,O,I,W,W+H,Q,t,se,i))return!0}else l+=Ko(C,O,I,W,W+H,Q,se,i);u=Math.cos(W+H)*E+C,f=Math.sin(W+H)*I+O;break;case ii.R:d=u=a[b++],h=f=a[b++];var le=a[b++],Me=a[b++];if(v=d+le,g=h+Me,e){if(Rr(d,h,v,h,t,r,i)||Rr(v,h,v,g,t,r,i)||Rr(v,g,d,g,t,r,i)||Rr(d,g,d,h,t,r,i))return!0}else l+=Xi(v,h,v,g,r,i),l+=Xi(d,g,d,h,r,i);break;case ii.Z:if(e){if(Rr(u,f,d,h,t,r,i))return!0}else l+=Xi(u,f,d,h,r,i);u=d,f=h;break}}return!e&&!So(f,h)&&(l+=Xi(u,f,d,h,r,i)||0),l!==0}function Qi(n,t,e){return lo(n,0,!1,t,e)}function sa(n,t,e,r){return lo(n,t,!0,e,r)}var xi=Object(y.defaults)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Rf),Kr={style:Object(y.defaults)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Qh.style)},Gr=lu.concat(["invisible","culling","z","z2","zlevel","parent"]),wa=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(){var e=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(u){e.buildPath(u,e.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<Gr.length;++l)i[Gr[l]]=this[Gr[l]];i.__dirty|=ba}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var r=Object(y.keys)(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],l=e[s];s==="style"?this.style?Object(y.extend)(this.style,l):this.useStyle(l):s==="shape"?Object(y.extend)(this.shape,l):n.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(Object(y.isString)(e)){var r=Object(oa.lum)(e,0);return r>.5?Zo:r>.2?Oo:Hs}else if(e)return Hs}return Zo},t.prototype.getInsideTextStroke=function(e){var r=this.style.fill;if(Object(y.isString)(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=Object(oa.lum)(e,0)<jo;if(a===s)return r}},t.prototype.buildPath=function(e,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=~aa},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Jn(!1)},t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return!(r==null||r==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,r=e.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,r=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&aa)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),e=s.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){l.copy(e);var u=r.strokeNoScale?this.getLineScale():1,f=r.lineWidth;if(!this.hasFill()){var d=this.strokeContainThreshold;f=Math.max(f,d==null?4:d)}u>1e-10&&(l.width+=f/u,l.height+=f/u,l.x-=f/u/2,l.y-=f/u/2)}return l}return e},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect(),s=this.style;if(e=i[0],r=i[1],a.contain(e,r)){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,f=s.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),sa(l,u/f,e,r)))return!0}if(this.hasFill())return Qi(l,e,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=aa,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,r){e==="shape"?this.setShape(r):n.prototype.attrKV.call(this,e,r)},t.prototype.setShape=function(e,r){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=r:Object(y.extend)(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&aa)},t.prototype.createStyle=function(e){return Object(y.createObject)(xi,e)},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.shape&&!r.shape&&(r.shape=Object(y.extend)({},this.shape))},t.prototype._applyStateObj=function(e,r,i,a,s,l){n.prototype._applyStateObj.call(this,e,r,i,a,s,l);var u=!(r&&a),f;if(r&&r.shape?s?a?f=r.shape:(f=Object(y.extend)({},i.shape),Object(y.extend)(f,r.shape)):(f=Object(y.extend)({},a?this.shape:i.shape),Object(y.extend)(f,r.shape)):u&&(f=i.shape),f)if(s){this.shape=Object(y.extend)({},this.shape);for(var d={},h=Object(y.keys)(f),v=0;v<h.length;v++){var g=h[v];typeof f[g]=="object"?this.shape[g]=f[g]:d[g]=f[g]}this._transitionState(e,{shape:d},l)}else this.shape=f,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var r=n.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var s=e[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return Kr},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var r=function(a){An(s,a);function s(l){var u=a.call(this,l)||this;return e.init&&e.init.call(u,l),u}return s.prototype.getDefaultStyle=function(){return Object(y.clone)(e.style)},s.prototype.getDefaultShape=function(){return Object(y.clone)(e.shape)},s}(t);for(var i in e)typeof e[i]=="function"&&(r.prototype[i]=e[i]);return r},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=ba|pa|aa}(),t}(N),ir=wa,Ha=Object(y.defaults)({strokeFirst:!0,font:Eo.a,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},xi),Na=function(n){An(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return r!=null&&r!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,r=e.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(e){return Object(y.createObject)(Ha,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var r=e.text;r!=null?r+="":r="";var i=wc(r,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(N);Na.prototype.type="tspan";var Ds=Na,mu=Object(y.defaults)({x:0,y:0},Rf),Qs={style:Object(y.defaults)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Qh.style)};function yu(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Ec=function(n){An(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return Object(y.createObject)(mu,e)},t.prototype._getSize=function(e){var r=this.style,i=r[e];if(i!=null)return i;var a=yu(r.image)?r.image:this.__image;if(!a)return 0;var s=e==="width"?"height":"width",l=r[s];return l==null?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Qs},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Hn(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(N);Ec.prototype.type="image";var cs=Ec;function If(n,t){var e=t.x,r=t.y,i=t.width,a=t.height,s=t.r,l,u,f,d;i<0&&(e=e+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?l=u=f=d=s:s instanceof Array?s.length===1?l=u=f=d=s[0]:s.length===2?(l=f=s[0],u=d=s[1]):s.length===3?(l=s[0],u=d=s[1],f=s[2]):(l=s[0],u=s[1],f=s[2],d=s[3]):l=u=f=d=0;var h;l+u>i&&(h=l+u,l*=i/h,u*=i/h),f+d>i&&(h=f+d,f*=i/h,d*=i/h),u+f>a&&(h=u+f,u*=a/h,f*=a/h),l+d>a&&(h=l+d,l*=a/h,d*=a/h),n.moveTo(e+l,r),n.lineTo(e+i-u,r),u!==0&&n.arc(e+i-u,r+u,u,-Math.PI/2,0),n.lineTo(e+i,r+a-f),f!==0&&n.arc(e+i-f,r+a-f,f,0,Math.PI/2),n.lineTo(e+d,r+a),d!==0&&n.arc(e+d,r+a-d,d,Math.PI/2,Math.PI),n.lineTo(e,r+l),l!==0&&n.arc(e+l,r+l,l,Math.PI,Math.PI*1.5)}var Gs=Math.round;function Nf(n,t,e){if(!!t){var r=t.x1,i=t.x2,a=t.y1,s=t.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=s;var l=e&&e.lineWidth;return l&&(Gs(r*2)===Gs(i*2)&&(n.x1=n.x2=Fu(r,l,!0)),Gs(a*2)===Gs(s*2)&&(n.y1=n.y2=Fu(a,l,!0))),n}}function dd(n,t,e){if(!!t){var r=t.x,i=t.y,a=t.width,s=t.height;n.x=r,n.y=i,n.width=a,n.height=s;var l=e&&e.lineWidth;return l&&(n.x=Fu(r,l,!0),n.y=Fu(i,l,!0),n.width=Math.max(Fu(r+a,l,!1)-n.x,a===0?0:1),n.height=Math.max(Fu(i+s,l,!1)-n.y,s===0?0:1)),n}}function Fu(n,t,e){if(!t)return n;var r=Gs(n*2);return(r+Gs(t))%2==0?r/2:(r+(e?1:-1))/2}var qh=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),hd={},bu=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new qh},t.prototype.buildPath=function(e,r){var i,a,s,l;if(this.subPixelOptimize){var u=dd(hd,r,this.style);i=u.x,a=u.y,s=u.width,l=u.height,u.r=r.r,r=u}else i=r.x,a=r.y,s=r.width,l=r.height;r.r?If(e,r):e.rect(i,a,s,l)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(ir);bu.prototype.type="rect";var Bi=bu,Ao={fill:"#000"},ic=2,fa={style:Object(y.defaults)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Qh.style)},Ga=function(n){An(t,n);function t(e){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Ao,r.attr(e),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,$l(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Hn(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var l=r[s],u=l.getBoundingRect(),f=l.getLocalTransform(i);f?(e.copy(u),e.applyTransform(f),a=a||e.clone(),a.union(e)):(a=a||u.clone(),a.union(u))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Ao},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,r){if(!r)return e;var i=r.rich,a=e.rich||i&&{};return Object(y.extend)(e,r),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,r){for(var i=Object(y.keys)(r),a=0;a<i.length;a++){var s=i[a];e[s]=e[s]||{},Object(y.extend)(e[s],r[s])}},t.prototype.getAnimationStyleProps=function(){return fa},t.prototype._getOrCreateChild=function(e){var r=this._children[this._childCursor];return(!r||!(r instanceof e))&&(r=new e),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var e=this.style,r=e.font||Eo.a,i=e.padding,a=yr(e),s=Jg(a,e),l=ts(e),u=!!e.backgroundColor,f=s.outerHeight,d=s.outerWidth,h=s.contentWidth,v=s.lines,g=s.lineHeight,b=this._defaultStyle,S=e.x||0,M=e.y||0,C=e.align||b.align||"left",O=e.verticalAlign||b.verticalAlign||"top",E=S,I=Xc(M,s.contentHeight,O);if(l||i){var W=$s(S,d,C),H=Xc(M,f,O);l&&this._renderBackground(e,e,W,H,d,f)}I+=g/2,i&&(E=ji(S,C,i),O==="top"?I+=i[0]:O==="bottom"&&(I-=i[2]));for(var Q=0,se=!1,le=il("fill"in e?e.fill:(se=!0,b.fill)),Me=Jc("stroke"in e?e.stroke:!u&&(!b.autoStroke||se)?(Q=ic,b.stroke):null),xe=e.textShadowBlur>0,Be=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),ze=s.calculatedLineHeight,it=0;it<v.length;it++){var pt=this._getOrCreateChild(Ds),At=pt.createStyle();pt.useStyle(At),At.text=v[it],At.x=E,At.y=I,C&&(At.textAlign=C),At.textBaseline="middle",At.opacity=e.opacity,At.strokeFirst=!0,xe&&(At.shadowBlur=e.textShadowBlur||0,At.shadowColor=e.textShadowColor||"transparent",At.shadowOffsetX=e.textShadowOffsetX||0,At.shadowOffsetY=e.textShadowOffsetY||0),At.stroke=Me,At.fill=le,Me&&(At.lineWidth=e.lineWidth||Q,At.lineDash=e.lineDash,At.lineDashOffset=e.lineDashOffset||0),At.font=r,rl(At,e),I+=g,Be&&pt.setBoundingRect(new Hn($s(At.x,e.width,At.textAlign),Xc(At.y,ze,At.textBaseline),h,ze))}},t.prototype._updateRichTexts=function(){var e=this.style,r=yr(e),i=mv(r,e),a=i.width,s=i.outerWidth,l=i.outerHeight,u=e.padding,f=e.x||0,d=e.y||0,h=this._defaultStyle,v=e.align||h.align,g=e.verticalAlign||h.verticalAlign,b=$s(f,s,v),S=Xc(d,l,g),M=b,C=S;u&&(M+=u[3],C+=u[0]);var O=M+a;ts(e)&&this._renderBackground(e,e,b,S,s,l);for(var E=!!e.backgroundColor,I=0;I<i.lines.length;I++){for(var W=i.lines[I],H=W.tokens,Q=H.length,se=W.lineHeight,le=W.width,Me=0,xe=M,Be=O,ze=Q-1,it=void 0;Me<Q&&(it=H[Me],!it.align||it.align==="left");)this._placeToken(it,e,se,C,xe,"left",E),le-=it.width,xe+=it.width,Me++;for(;ze>=0&&(it=H[ze],it.align==="right");)this._placeToken(it,e,se,C,Be,"right",E),le-=it.width,Be-=it.width,ze--;for(xe+=(a-(xe-M)-(O-Be)-le)/2;Me<=ze;)it=H[Me],this._placeToken(it,e,se,C,xe+it.width/2,"center",E),xe+=it.width,Me++;C+=se}},t.prototype._placeToken=function(e,r,i,a,s,l,u){var f=r.rich[e.styleName]||{};f.text=e.text;var d=e.verticalAlign,h=a+i/2;d==="top"?h=a+e.height/2:d==="bottom"&&(h=a+i-e.height/2);var v=!e.isLineHolder&&ts(f);v&&this._renderBackground(f,r,l==="right"?s-e.width:l==="center"?s-e.width/2:s,h-e.height/2,e.width,e.height);var g=!!f.backgroundColor,b=e.textPadding;b&&(s=ji(s,l,b),h-=e.height/2-b[0]-e.innerHeight/2);var S=this._getOrCreateChild(Ds),M=S.createStyle();S.useStyle(M);var C=this._defaultStyle,O=!1,E=0,I=il("fill"in f?f.fill:"fill"in r?r.fill:(O=!0,C.fill)),W=Jc("stroke"in f?f.stroke:"stroke"in r?r.stroke:!g&&!u&&(!C.autoStroke||O)?(E=ic,C.stroke):null),H=f.textShadowBlur>0||r.textShadowBlur>0;M.text=e.text,M.x=s,M.y=h,H&&(M.shadowBlur=f.textShadowBlur||r.textShadowBlur||0,M.shadowColor=f.textShadowColor||r.textShadowColor||"transparent",M.shadowOffsetX=f.textShadowOffsetX||r.textShadowOffsetX||0,M.shadowOffsetY=f.textShadowOffsetY||r.textShadowOffsetY||0),M.textAlign=l,M.textBaseline="middle",M.font=e.font||Eo.a,M.opacity=Object(y.retrieve3)(f.opacity,r.opacity,1),rl(M,f),W&&(M.lineWidth=Object(y.retrieve3)(f.lineWidth,r.lineWidth,E),M.lineDash=Object(y.retrieve2)(f.lineDash,r.lineDash),M.lineDashOffset=r.lineDashOffset||0,M.stroke=W),I&&(M.fill=I);var Q=e.contentWidth,se=e.contentHeight;S.setBoundingRect(new Hn($s(M.x,Q,M.textAlign),Xc(M.y,se,M.textBaseline),Q,se))},t.prototype._renderBackground=function(e,r,i,a,s,l){var u=e.backgroundColor,f=e.borderWidth,d=e.borderColor,h=u&&u.image,v=u&&!h,g=e.borderRadius,b=this,S,M;if(v||e.lineHeight||f&&d){S=this._getOrCreateChild(Bi),S.useStyle(S.createStyle()),S.style.fill=null;var C=S.shape;C.x=i,C.y=a,C.width=s,C.height=l,C.r=g,S.dirtyShape()}if(v){var O=S.style;O.fill=u||null,O.fillOpacity=Object(y.retrieve2)(e.fillOpacity,1)}else if(h){M=this._getOrCreateChild(cs),M.onload=function(){b.dirtyStyle()};var E=M.style;E.image=u.image,E.x=i,E.y=a,E.width=s,E.height=l}if(f&&d){var O=S.style;O.lineWidth=f,O.stroke=d,O.strokeOpacity=Object(y.retrieve2)(e.strokeOpacity,1),O.lineDash=e.borderDash,O.lineDashOffset=e.borderDashOffset||0,S.strokeContainThreshold=0,S.hasFill()&&S.hasStroke()&&(O.strokeFirst=!0,O.lineWidth*=2)}var I=(S||M).style;I.shadowBlur=e.shadowBlur||0,I.shadowColor=e.shadowColor||"transparent",I.shadowOffsetX=e.shadowOffsetX||0,I.shadowOffsetY=e.shadowOffsetY||0,I.opacity=Object(y.retrieve3)(e.opacity,r.opacity,1)},t.makeFont=function(e){var r="";return zu(e)&&(r=[e.fontStyle,e.fontWeight,Po(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),r&&Object(y.trim)(r)||e.textFont||e.font},t}(N),fs={left:!0,right:1,center:1},Yo={top:1,bottom:1,middle:1},$o=["fontStyle","fontWeight","fontSize","fontFamily"];function Po(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Eo.c+"px":n+"px"}function rl(n,t){for(var e=0;e<$o.length;e++){var r=$o[e],i=t[r];i!=null&&(n[r]=i)}}function zu(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function $l(n){return Ac(n),Object(y.each)(n.rich,Ac),n}function Ac(n){if(n){n.font=Ga.makeFont(n);var t=n.align;t==="middle"&&(t="center"),n.align=t==null||fs[t]?t:"left";var e=n.verticalAlign;e==="center"&&(e="middle"),n.verticalAlign=e==null||Yo[e]?e:"top";var r=n.padding;r&&(n.padding=Object(y.normalizeCssArray)(n.padding))}}function Jc(n,t){return n==null||t<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function il(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function ji(n,t,e){return t==="right"?n-e[1]:t==="center"?n+e[3]/2-e[1]/2:n+e[3]}function yr(n){var t=n.text;return t!=null&&(t+=""),t}function ts(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Fi=Ga,Yr=Yi(),Qc=function(n,t,e,r){if(r){var i=Yr(r);i.dataIndex=e,i.dataType=t,i.seriesIndex=n,r.type==="group"&&r.traverse(function(a){var s=Yr(a);s.seriesIndex=n,s.dataIndex=e,s.dataType=t})}},wo=1,ka={},ds=Yi(),Rs=Yi(),qa=0,gl=1,Jl=2,Do=["emphasis","blur","select"],Pc=["normal","emphasis","blur","select"],hs=10,xu=9,Il="highlight",pd="downplay",ac="select",th="unselect",qc="toggleSelect";function ef(n){return n!=null&&n!=="none"}var kf=new xc.a(100);function oc(n){if(Object(y.isString)(n)){var t=kf.get(n);return t||(t=oa.lift(n,-.1),kf.put(n,t)),t}else if(Object(y.isGradientObject)(n)){var e=Object(y.extend)({},n);return e.colorStops=Object(y.map)(n.colorStops,function(r){return{offset:r.offset,color:oa.lift(r.color,-.1)}}),e}return n}function Vu(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function Sv(n){Vu(n,"emphasis",Jl)}function wv(n){n.hoverState===Jl&&Vu(n,"normal",qa)}function ep(n){Vu(n,"blur",gl)}function Mv(n){n.hoverState===gl&&Vu(n,"normal",qa)}function tp(n){n.selected=!0}function nh(n){n.selected=!1}function tm(n,t,e){t(n,e)}function Su(n,t,e){tm(n,t,e),n.isGroup&&n.traverse(function(r){tm(r,t,e)})}function rh(n,t){switch(t){case"emphasis":n.hoverState=Jl;break;case"normal":n.hoverState=qa;break;case"blur":n.hoverState=gl;break;case"select":n.selected=!0}}function nm(n){n.isGroup?n.traverse(function(t){t.clearStates()}):n.clearStates()}function _v(n,t,e,r){for(var i=n.style,a={},s=0;s<t.length;s++){var l=t[s],u=i[l];a[l]=u==null?r&&r[l]:u}for(var s=0;s<n.animators.length;s++){var f=n.animators[s];f.__fromStateTransition&&f.__fromStateTransition.indexOf(e)<0&&f.targetName==="style"&&f.saveTo(a,t)}return a}function Uy(n,t,e,r){var i=e&&Object(y.indexOf)(e,"select")>=0,a=!1;if(n instanceof ir){var s=ds(n),l=i&&s.selectFill||s.normalFill,u=i&&s.selectStroke||s.normalStroke;if(ef(l)||ef(u)){r=r||{};var f=r.style||{};f.fill==="inherit"?(a=!0,r=Object(y.extend)({},r),f=Object(y.extend)({},f),f.fill=l):!ef(f.fill)&&ef(l)?(a=!0,r=Object(y.extend)({},r),f=Object(y.extend)({},f),f.fill=oc(l)):!ef(f.stroke)&&ef(u)&&(a||(r=Object(y.extend)({},r),f=Object(y.extend)({},f)),f.stroke=oc(u)),r.style=f}}if(r&&r.z2==null){a||(r=Object(y.extend)({},r));var d=n.z2EmphasisLift;r.z2=n.z2+(d!=null?d:hs)}return r}function Ia(n,t,e){if(e&&e.z2==null){e=Object(y.extend)({},e);var r=n.z2SelectLift;e.z2=n.z2+(r!=null?r:xu)}return e}function uo(n,t,e){var r=Object(y.indexOf)(n.currentStates,t)>=0,i=n.style.opacity,a=r?null:_v(n,["opacity"],t,{opacity:1});e=e||{};var s=e.style||{};return s.opacity==null&&(e=Object(y.extend)({},e),s=Object(y.extend)({opacity:r?i:a.opacity*.1},s),e.style=s),e}function ps(n,t){var e=this.states[n];if(this.style){if(n==="emphasis")return Uy(this,n,t,e);if(n==="blur")return uo(this,n,e);if(n==="select")return Ia(this,n,e)}return e}function Us(n){n.stateProxy=ps;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=ps),e&&(e.stateProxy=ps)}function np(n,t){!ux(n,t)&&!n.__highByOuter&&Su(n,Sv)}function Lc(n,t){!ux(n,t)&&!n.__highByOuter&&Su(n,wv)}function Hu(n,t){n.__highByOuter|=1<<(t||0),Su(n,Sv)}function Ql(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&Su(n,wv)}function Cv(n){Su(n,ep)}function Tv(n){Su(n,Mv)}function Wy(n){Su(n,tp)}function Ky(n){Su(n,nh)}function ux(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function cx(n){var t=n.getModel();t.eachComponent(function(e,r){var i=Rs(r);if(i.isBlured){var a=e==="series"?n.getViewOfSeriesModel(r):n.getViewOfComponentModel(r);a.group.traverse(function(s){Mv(s)})}i.isBlured=!1})}function rm(n,t,e,r){var i=r.getModel();e=e||"coordinateSystem";function a(f,d){for(var h=0;h<d.length;h++){var v=f.getItemGraphicEl(d[h]);v&&Tv(v)}}if(n!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(n),l=s.coordinateSystem;l&&l.master&&(l=l.master);var u=[];i.eachSeries(function(f){var d=s===f,h=f.coordinateSystem;h&&h.master&&(h=h.master);var v=h&&l?h===l:d;if(!(e==="series"&&!d||e==="coordinateSystem"&&!v||t==="series"&&d)){var g=r.getViewOfSeriesModel(f);if(g.group.traverse(function(M){ep(M)}),Object(y.isArrayLike)(t))a(f.getData(),t);else if(Object(y.isObject)(t))for(var b=Object(y.keys)(t),S=0;S<b.length;S++)a(f.getData(b[S]),t[b[S]]);u.push(f),Rs(f).isBlured=!0}}),i.eachComponent(function(f,d){if(f!=="series"){var h=r.getViewOfComponentModel(d);h&&h.blurSeries&&h.blurSeries(u,i)}})}}function im(n,t,e){if(!(n==null||t==null)){var r=e.getModel().getComponent(n,t);if(!!r){Rs(r).isBlured=!0;var i=e.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){ep(a)})}}}function fx(n,t,e){var r=n.seriesIndex,i=n.getData(t.dataType);if(!!i){var a=Lf(i,t);a=(Object(y.isArray)(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var l=i.count(),u=0;!s&&u<l;)s=i.getItemGraphicEl(u++);if(s){var f=Yr(s);rm(r,f.focus,f.blurScope,e)}else{var d=n.get(["emphasis","focus"]),h=n.get(["emphasis","blurScope"]);d!=null&&rm(r,d,h,e)}}}function am(n,t,e,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||t==null||e==null)return i;var a=r.getModel().getComponent(n,t);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var l=s.findHighDownDispatchers(e),u,f=0;f<l.length;f++)if(Yr(l[f]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:l}}function dx(n,t,e){var r=Yr(n),i=am(r.componentMainType,r.componentIndex,r.componentHighDownName,e),a=i.dispatchers,s=i.focusSelf;a?(s&&im(r.componentMainType,r.componentIndex,e),Object(y.each)(a,function(l){return np(l,t)})):(rm(r.seriesIndex,r.focus,r.blurScope,e),r.focus==="self"&&im(r.componentMainType,r.componentIndex,e),np(n,t))}function hx(n,t,e){cx(e);var r=Yr(n),i=am(r.componentMainType,r.componentIndex,r.componentHighDownName,e).dispatchers;i?Object(y.each)(i,function(a){return Lc(a,t)}):Lc(n,t)}function rp(n,t,e){if(!!Xy(t)){var r=t.dataType,i=n.getData(r),a=Lf(i,t);Object(y.isArray)(a)||(a=[a]),n[t.type===qc?"toggleSelect":t.type===ac?"select":"unselect"](a,r)}}function Nl(n){var t=n.getAllData();Object(y.each)(t,function(e){var r=e.data,i=e.type;r.eachItemGraphicEl(function(a,s){n.isSelected(s,i)?Wy(a):Ky(a)})})}function kl(n){var t=[];return n.eachSeries(function(e){var r=e.getAllData();Object(y.each)(r,function(i){var a=i.data,s=i.type,l=e.getSelectedDataIndices();if(l.length>0){var u={dataIndex:l,seriesIndex:e.seriesIndex};s!=null&&(u.dataType=s),t.push(u)}})}),t}function jf(n,t,e){ih(n,!0),Su(n,Us),Yy(n,t,e)}function ww(n){ih(n,!1)}function ys(n,t,e,r){r?ww(n):jf(n,t,e)}function Yy(n,t,e){var r=Yr(n);t!=null?(r.focus=t,r.blurScope=e):r.focus&&(r.focus=null)}var px=["emphasis","blur","select"],Mw={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ml(n,t,e,r){e=e||"itemStyle";for(var i=0;i<px.length;i++){var a=px[i],s=t.getModel([a,e]),l=n.ensureState(a);l.style=r?r(s):s[Mw[e]]()}}function ih(n,t){var e=t===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!e)}function Ov(n){return!!(n&&n.__highDownDispatcher)}function _w(n,t,e){var r=Yr(n);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=e}function Cw(n){var t=ka[n];return t==null&&wo<=32&&(t=ka[n]=wo++),t}function Xy(n){var t=n.type;return t===ac||t===th||t===qc}function vx(n){var t=n.type;return t===Il||t===pd}function Tw(n){var t=ds(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var e=n.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var gx=Yi();function ip(n,t,e,r,i){var a;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();a=s&&s.animation}var l=t&&t.isAnimationEnabled(),u=n==="update";if(l){var f=void 0,d=void 0,h=void 0;r?(f=Object(y.retrieve2)(r.duration,200),d=Object(y.retrieve2)(r.easing,"cubicOut"),h=0):(f=t.getShallow(u?"animationDurationUpdate":"animationDuration"),d=t.getShallow(u?"animationEasingUpdate":"animationEasing"),h=t.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(f=a.duration),a.easing!=null&&(d=a.easing),a.delay!=null&&(h=a.delay)),Object(y.isFunction)(h)&&(h=h(e,i)),Object(y.isFunction)(f)&&(f=f(e));var v={duration:f||0,delay:h,easing:d};return v}else return null}function Zy(n,t,e,r,i,a,s){var l=!1,u;Object(y.isFunction)(i)?(s=a,a=i,i=null):Object(y.isObject)(i)&&(a=i.cb,s=i.during,l=i.isFrom,u=i.removeOpt,i=i.dataIndex);var f=n==="leave";f||t.stopAnimation("leave");var d=ip(n,r,i,f?u||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(d&&d.duration>0){var h=d.duration,v=d.delay,g=d.easing,b={duration:h,delay:v||0,easing:g,done:a,force:!!a||!!s,setToFinal:!f,scope:n,during:s};l?t.animateFrom(e,b):t.animateTo(e,b)}else t.stopAnimation(),!l&&t.attr(e),s&&s(1),a&&a()}function Ea(n,t,e,r,i,a){Zy("update",n,t,e,r,i,a)}function Jo(n,t,e,r,i,a){Zy("enter",n,t,e,r,i,a)}function ap(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++){var e=n.animators[t];if(e.scope==="leave")return!0}return!1}function vd(n,t,e,r,i,a){ap(n)||Zy("leave",n,t,e,r,i,a)}function mx(n,t,e,r){n.removeTextContent(),n.removeTextGuideLine(),vd(n,{style:{opacity:0}},t,e,r)}function Ev(n,t,e){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||mx(i,t,e,r)}):mx(n,t,e,r)}function Dc(n){gx(n).oldStyle=n.style}function Ow(n){return gx(n).oldStyle}var om={};function yx(n,t){for(var e=0;e<Do.length;e++){var r=Do[e],i=t[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(s,!0)}function $y(n,t,e){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,s=t.normal,l;r&&(l=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),e!=null?{interpolatedValue:e}:null)),l==null&&(l=Object(y.isFunction)(n.defaultText)?n.defaultText(i,n,e):n.defaultText);for(var u={normal:l},f=0;f<Do.length;f++){var d=Do[f],h=t[d];u[d]=Object(y.retrieve2)(r?r.getFormattedLabel(i,d,null,a,h&&h.get("formatter")):null,l)}return u}function jl(n,t,e,r){e=e||om;for(var i=n instanceof Fi,a=!1,s=0;s<Pc.length;s++){var l=t[Pc[s]];if(l&&l.getShallow("show")){a=!0;break}}var u=i?n:n.getTextContent();if(a){i||(u||(u=new Fi,n.setTextContent(u)),n.stateProxy&&(u.stateProxy=n.stateProxy));var f=$y(e,t),d=t.normal,h=!!d.getShallow("show"),v=bs(d,r&&r.normal,e,!1,!i);v.text=f.normal,i||n.setTextConfig(sm(d,e,!1));for(var s=0;s<Do.length;s++){var g=Do[s],l=t[g];if(l){var b=u.ensureState(g),S=!!Object(y.retrieve2)(l.getShallow("show"),h);if(S!==h&&(b.ignore=!S),b.style=bs(l,r&&r[g],e,!0,!i),b.style.text=f[g],!i){var M=n.ensureState(g);M.textConfig=sm(l,e,!0)}}}u.silent=!!d.getShallow("silent"),u.style.x!=null&&(v.x=u.style.x),u.style.y!=null&&(v.y=u.style.y),u.ignore=!h,u.useStyle(v),u.dirty(),e.enableTextSetter&&(op(u).setLabelText=function(C){var O=$y(e,t,C);yx(u,O)})}else u&&(u.ignore=!0);n.dirty()}function al(n,t){t=t||"label";for(var e={normal:n.getModel(t)},r=0;r<Do.length;r++){var i=Do[r];e[i]=n.getModel([i,t])}return e}function bs(n,t,e,r,i){var a={};return Ew(a,n,e,r,i),t&&Object(y.extend)(a,t),a}function sm(n,t,e){t=t||{};var r={},i,a=n.getShallow("rotate"),s=Object(y.retrieve2)(n.getShallow("distance"),e?null:5),l=n.getShallow("offset");return i=n.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(r.position=i),l!=null&&(r.offset=l),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=n.get("color")==="inherit"?t.inheritColor||null:"auto",r}function Ew(n,t,e,r,i){e=e||om;var a=t.ecModel,s=a&&a.option.textStyle,l=Aw(t),u;if(l){u={};for(var f in l)if(l.hasOwnProperty(f)){var d=t.getModel(["rich",f]);Mx(u[f]={},d,s,e,r,i,!1,!0)}}u&&(n.rich=u);var h=t.get("overflow");h&&(n.overflow=h);var v=t.get("minMargin");v!=null&&(n.margin=v),Mx(n,t,s,e,r,i,!0,!1)}function Aw(n){for(var t;n&&n!==n.ecModel;){var e=(n.option||om).rich;if(e){t=t||{};for(var r=Object(y.keys)(e),i=0;i<r.length;i++){var a=r[i];t[a]=1}}n=n.parentModel}return t}var bx=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],xx=["align","lineHeight","width","height","tag","verticalAlign"],Sx=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Mx(n,t,e,r,i,a,s,l){e=!i&&e||om;var u=r&&r.inheritColor,f=t.getShallow("color"),d=t.getShallow("textBorderColor"),h=Object(y.retrieve2)(t.getShallow("opacity"),e.opacity);(f==="inherit"||f==="auto")&&(u?f=u:f=null),(d==="inherit"||d==="auto")&&(u?d=u:d=null),a||(f=f||e.color,d=d||e.textBorderColor),f!=null&&(n.fill=f),d!=null&&(n.stroke=d);var v=Object(y.retrieve2)(t.getShallow("textBorderWidth"),e.textBorderWidth);v!=null&&(n.lineWidth=v);var g=Object(y.retrieve2)(t.getShallow("textBorderType"),e.textBorderType);g!=null&&(n.lineDash=g);var b=Object(y.retrieve2)(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);b!=null&&(n.lineDashOffset=b),!i&&h==null&&!l&&(h=r&&r.defaultOpacity),h!=null&&(n.opacity=h),!i&&!a&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var S=0;S<bx.length;S++){var M=bx[S],C=Object(y.retrieve2)(t.getShallow(M),e[M]);C!=null&&(n[M]=C)}for(var S=0;S<xx.length;S++){var M=xx[S],C=t.getShallow(M);C!=null&&(n[M]=C)}if(n.verticalAlign==null){var O=t.getShallow("baseline");O!=null&&(n.verticalAlign=O)}if(!s||!r.disableBox){for(var S=0;S<Sx.length;S++){var M=Sx[S],C=t.getShallow(M);C!=null&&(n[M]=C)}var E=t.getShallow("borderType");E!=null&&(n.borderDash=E),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&u&&(n.backgroundColor=u),(n.borderColor==="auto"||n.borderColor==="inherit")&&u&&(n.borderColor=u)}}function _x(n,t){var e=t&&t.getModel("textStyle");return Object(y.trim)([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var op=Yi();function Jy(n,t,e,r){if(!!n){var i=op(n);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function Qy(n,t,e,r,i){var a=op(n);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,l=Object(y.retrieve2)(a.interpolatedValue,a.prevValue),u=a.value;function f(d){var h=vu(e,a.precision,l,u,d);a.interpolatedValue=d===1?null:h;var v=$y({labelDataIndex:t,labelFetcher:i,defaultText:s?s(h):h+""},a.statesModels,h);yx(n,v)}n.percent=0,(a.prevValue==null?Jo:Ea)(n,{percent:1},r,t,null,f)}var qy=["textStyle","color"],lm=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],e0=new Fi,gd=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(qy):null)},n.prototype.getFont=function(){return _x({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<lm.length;r++)e[lm[r]]=this.getShallow(lm[r]);return e0.useStyle(e),e0.update(),e0.getBoundingRect()},n}(),Cx=gd,Tx=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Pw=Df(Tx),Ox=function(){function n(){}return n.prototype.getLineStyle=function(t){return Pw(this,t)},n}(),t0=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],ah=Df(t0),Lw=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return ah(this,t,e)},n}(),oh=function(){function n(t,e,r){this.parentModel=e,this.ecModel=r,this.option=t}return n.prototype.init=function(t,e,r){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a]},n.prototype.mergeOption=function(t,e){Object(y.merge)(this.option,t,!0)},n.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var r=this.option,i=r==null?r:r[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},n.prototype.getModel=function(t,e){var r=t!=null,i=r?this.parsePath(t):null,a=r?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,e,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var t=this.constructor;return new t(Object(y.clone)(this.option))},n.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!en.a.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&!(!!t[i]&&(r=r&&typeof r=="object"?r[t[i]]:null,r==null));i++);return r==null&&e&&(r=e._doGet(this.resolveParentPath(t),e.parentModel)),r},n}();dv(oh),Py(oh),Object(y.mixin)(oh,Ox),Object(y.mixin)(oh,Lw),Object(y.mixin)(oh,Zg),Object(y.mixin)(oh,Cx);var Mo=oh,Dw=Math.round(Math.random()*10);function sp(n){return[n||"",Dw++].join("_")}function Av(n){var t={};n.registerSubTypeDefaulter=function(e,r){var i=Bu(e);t[i.main]=r},n.determineSubType=function(e,r){var i=r.type;if(!i){var a=Bu(e).main;n.hasSubTypes(e)&&t[a]&&(i=t[a](r))}return i}}function Ex(n,t){n.topologicalTravel=function(a,s,l,u){if(!a.length)return;var f=e(s),d=f.graph,h=f.noEntryList,v={};for(y.each(a,function(O){v[O]=!0});h.length;){var g=h.pop(),b=d[g],S=!!v[g];S&&(l.call(u,g,b.originalDeps.slice()),delete v[g]),y.each(b.successor,S?C:M)}y.each(v,function(){var O="";throw new Error(O)});function M(O){d[O].entryCount--,d[O].entryCount===0&&h.push(O)}function C(O){v[O]=!0,M(O)}};function e(a){var s={},l=[];return y.each(a,function(u){var f=r(s,u),d=f.originalDeps=t(u),h=i(d,a);f.entryCount=h.length,f.entryCount===0&&l.push(u),y.each(h,function(v){y.indexOf(f.predecessor,v)<0&&f.predecessor.push(v);var g=r(s,v);y.indexOf(g.successor,v)<0&&g.successor.push(u)})}),{graph:s,noEntryList:l}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var l=[];return y.each(a,function(u){y.indexOf(s,u)>=0&&l.push(u)}),l}}function Bf(n,t){return y.merge(y.merge({},n,!0),t,!0)}var Rw={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},n0={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},um="ZH",r0="EN",Pv=r0,Lv={},i0={},a0=en.a.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(um)>-1?um:Pv}():Pv;function cm(n,t){n=n.toUpperCase(),i0[n]=new Mo(t),Lv[n]=t}function Iw(n){if(Object(y.isString)(n)){var t=Lv[n.toUpperCase()]||{};return n===um||n===r0?Object(y.clone)(t):Object(y.merge)(Object(y.clone)(t),Object(y.clone)(Lv[Pv]),!1)}else return Object(y.merge)(Object(y.clone)(n),Object(y.clone)(Lv[Pv]),!1)}function o0(n){return i0[n]}function Nw(){return i0[Pv]}cm(r0,Rw),cm(um,n0);var s0=1e3,l0=s0*60,Dv=l0*60,sc=Dv*24,Ax=sc*365,lp={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Rv="{yyyy}-{MM}-{dd}",Px={year:"{yyyy}",month:"{yyyy}-{MM}",day:Rv,hour:Rv+" "+lp.hour,minute:Rv+" "+lp.minute,second:Rv+" "+lp.second,millisecond:lp.none},u0=["year","month","day","hour","minute","second","millisecond"],Lx=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Gu(n,t){return n+="","0000".substr(0,t-n.length)+n}function up(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function kw(n){return n===up(n)}function Dx(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Iv(n,t,e,r){var i=pl(n),a=i[f0(e)](),s=i[sh(e)]()+1,l=Math.floor((s-1)/4)+1,u=i[dm(e)](),f=i["get"+(e?"UTC":"")+"Day"](),d=i[Nv(e)](),h=(d-1)%12+1,v=i[hm(e)](),g=i[kv(e)](),b=i[tf(e)](),S=r instanceof Mo?r:o0(r||a0)||Nw(),M=S.getModel("time"),C=M.get("month"),O=M.get("monthAbbr"),E=M.get("dayOfWeek"),I=M.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,a%100+"").replace(/{Q}/g,l+"").replace(/{MMMM}/g,C[s-1]).replace(/{MMM}/g,O[s-1]).replace(/{MM}/g,Gu(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Gu(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,E[f]).replace(/{ee}/g,I[f]).replace(/{e}/g,f+"").replace(/{HH}/g,Gu(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,Gu(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Gu(v,2)).replace(/{m}/g,v+"").replace(/{ss}/g,Gu(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,Gu(b,3)).replace(/{S}/g,b+"")}function c0(n,t,e,r,i){var a=null;if(y.isString(e))a=e;else if(y.isFunction(e))a=e(n.value,t,{level:n.level});else{var s=y.extend({},lp);if(n.level>0)for(var l=0;l<u0.length;++l)s[u0[l]]="{primary|"+s[u0[l]]+"}";var u=e?e.inherit===!1?e:y.defaults(e,s):s,f=fm(n.value,i);if(u[f])a=u[f];else if(u.inherit){for(var d=Lx.indexOf(f),l=d-1;l>=0;--l)if(u[f]){a=u[f];break}a=a||s.none}if(y.isArray(a)){var h=n.level==null?0:n.level>=0?n.level:a.length+n.level;h=Math.min(h,a.length-1),a=a[h]}}return Iv(new Date(n.value),a,i,r)}function fm(n,t){var e=pl(n),r=e[sh(t)]()+1,i=e[dm(t)](),a=e[Nv(t)](),s=e[hm(t)](),l=e[kv(t)](),u=e[tf(t)](),f=u===0,d=f&&l===0,h=d&&s===0,v=h&&a===0,g=v&&i===1,b=g&&r===1;return b?"year":g?"month":v?"day":h?"hour":d?"minute":f?"second":"millisecond"}function Rx(n,t,e){var r=y.isNumber(n)?pl(n):n;switch(t=t||fm(n,e),t){case"year":return r[f0(e)]();case"half-year":return r[sh(e)]()>=6?1:0;case"quarter":return Math.floor((r[sh(e)]()+1)/4);case"month":return r[sh(e)]();case"day":return r[dm(e)]();case"half-day":return r[Nv(e)]()/24;case"hour":return r[Nv(e)]();case"minute":return r[hm(e)]();case"second":return r[kv(e)]();case"millisecond":return r[tf(e)]()}}function f0(n){return n?"getUTCFullYear":"getFullYear"}function sh(n){return n?"getUTCMonth":"getMonth"}function dm(n){return n?"getUTCDate":"getDate"}function Nv(n){return n?"getUTCHours":"getHours"}function hm(n){return n?"getUTCMinutes":"getMinutes"}function kv(n){return n?"getUTCSeconds":"getSeconds"}function tf(n){return n?"getUTCMilliseconds":"getMilliseconds"}function jw(n){return n?"setUTCFullYear":"setFullYear"}function pm(n){return n?"setUTCMonth":"setMonth"}function Ix(n){return n?"setUTCDate":"setDate"}function Nx(n){return n?"setUTCHours":"setHours"}function kx(n){return n?"setUTCMinutes":"setMinutes"}function Ro(n){return n?"setUTCSeconds":"setSeconds"}function jx(n){return n?"setUTCMilliseconds":"setMilliseconds"}function cp(n){if(!Js(n))return y.isString(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function fp(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var nf=y.normalizeCssArray,lh=/([&<>"'])/g,Is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ns(n){return n==null?"":(n+"").replace(lh,function(t,e){return Is[e]})}function jv(n,t,e){var r="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function i(d){return d&&y.trim(d)?d:"-"}function a(d){return!!(d!=null&&!isNaN(d)&&isFinite(d))}var s=t==="time",l=n instanceof Date;if(s||l){var u=s?pl(n):n;if(isNaN(+u)){if(l)return"-"}else return Iv(u,r,e)}if(t==="ordinal")return y.isStringSafe(n)?i(n):y.isNumber(n)&&a(n)?n+"":"-";var f=hu(n);return a(f)?cp(f):y.isStringSafe(n)?i(n):typeof n=="boolean"?n+"":"-"}var uh=["a","b","c","d","e","f","g"],ch=function(n,t){return"{"+n+(t==null?"":t)+"}"};function md(n,t,e){y.isArray(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var s=uh[a];n=n.replace(ch(s),ch(s,0))}for(var l=0;l<r;l++)for(var u=0;u<i.length;u++){var f=t[l][i[u]];n=n.replace(ch(uh[u],l),e?Ns(f):f)}return n}function dp(n,t,e){return y.each(t,function(r,i){n=n.replace("{"+i+"}",e?Ns(r):r)}),n}function fh(n,t){var e=y.isString(n)?{color:n,extraCssText:t}:n||{},r=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ns(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ns(r)+";"+(t||"")+'"></span>';var s=e.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function Bv(n,t,e){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=pl(t),i=e?"getUTC":"get",a=r[i+"FullYear"](),s=r[i+"Month"]()+1,l=r[i+"Date"](),u=r[i+"Hours"](),f=r[i+"Minutes"](),d=r[i+"Seconds"](),h=r[i+"Milliseconds"]();return n=n.replace("MM",Gu(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100+"").replace("dd",Gu(l,2)).replace("d",l).replace("hh",Gu(u,2)).replace("h",u).replace("mm",Gu(f,2)).replace("m",f).replace("ss",Gu(d,2)).replace("s",d).replace("SSS",Gu(h,3)),n}function Bx(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function rf(n,t){return t=t||"transparent",y.isString(n)?n:y.isObject(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function yd(n,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var dh=y.each,d0=["left","right","top","bottom","width","height"],Ff=[["width","left","right"],["height","top","bottom"]];function vm(n,t,e,r,i){var a=0,s=0;r==null&&(r=Infinity),i==null&&(i=Infinity);var l=0;t.eachChild(function(u,f){var d=u.getBoundingRect(),h=t.childAt(f+1),v=h&&h.getBoundingRect(),g,b;if(n==="horizontal"){var S=d.width+(v?-v.x+d.x:0);g=a+S,g>r||u.newline?(a=0,g=S,s+=l+e,l=d.height):l=Math.max(l,d.height)}else{var M=d.height+(v?-v.y+d.y:0);b=s+M,b>i||u.newline?(a+=l+e,s=0,b=M,l=d.width):l=Math.max(l,d.width)}u.newline||(u.x=a,u.y=s,u.markRedraw(),n==="horizontal"?a=g+e:s=b+e)})}var zf=vm,h0=y.curry(vm,"vertical"),p0=y.curry(vm,"horizontal");function Fx(n,t,e){var r=t.width,i=t.height,a=Yn(n.left,r),s=Yn(n.top,i),l=Yn(n.right,r),u=Yn(n.bottom,i);return(isNaN(a)||isNaN(parseFloat(n.left)))&&(a=0),(isNaN(l)||isNaN(parseFloat(n.right)))&&(l=r),(isNaN(s)||isNaN(parseFloat(n.top)))&&(s=0),(isNaN(u)||isNaN(parseFloat(n.bottom)))&&(u=i),e=nf(e||0),{width:Math.max(l-a-e[1]-e[3],0),height:Math.max(u-s-e[0]-e[2],0)}}function ks(n,t,e){e=nf(e||0);var r=t.width,i=t.height,a=Yn(n.left,r),s=Yn(n.top,i),l=Yn(n.right,r),u=Yn(n.bottom,i),f=Yn(n.width,r),d=Yn(n.height,i),h=e[2]+e[0],v=e[1]+e[3],g=n.aspect;switch(isNaN(f)&&(f=r-l-v-a),isNaN(d)&&(d=i-u-h-s),g!=null&&(isNaN(f)&&isNaN(d)&&(g>r/i?f=r*.8:d=i*.8),isNaN(f)&&(f=g*d),isNaN(d)&&(d=f/g)),isNaN(a)&&(a=r-l-f-v),isNaN(s)&&(s=i-u-d-h),n.left||n.right){case"center":a=r/2-f/2-e[3];break;case"right":a=r-f-v;break}switch(n.top||n.bottom){case"middle":case"center":s=i/2-d/2-e[0];break;case"bottom":s=i-d-h;break}a=a||0,s=s||0,isNaN(f)&&(f=r-v-a-(l||0)),isNaN(d)&&(d=i-h-s-(u||0));var b=new Hn(a+e[3],s+e[0],f,d);return b.margin=e,b}function Fv(n,t,e,r,i,a){var s=!i||!i.hv||i.hv[0],l=!i||!i.hv||i.hv[1],u=i&&i.boundingMode||"all";if(a=a||n,a.x=n.x,a.y=n.y,!s&&!l)return!1;var f;if(u==="raw")f=n.type==="group"?new Hn(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(f=n.getBoundingRect(),n.needLocalTransform()){var d=n.getLocalTransform();f=f.clone(),f.applyTransform(d)}var h=ks(y.defaults({width:f.width,height:f.height},t),e,r),v=s?h.x-f.x:0,g=l?h.y-f.y:0;return u==="raw"?(a.x=v,a.y=g):(a.x+=v,a.y+=g),a===n&&n.markRedraw(),!0}function zx(n,t){return n[Ff[t][0]]!=null||n[Ff[t][1]]!=null&&n[Ff[t][2]]!=null}function hp(n){var t=n.layoutMode||n.constructor.layoutMode;return y.isObject(t)?t:t?{type:t}:null}function bd(n,t,e){var r=e&&e.ignoreSize;!y.isArray(r)&&(r=[r,r]);var i=s(Ff[0],0),a=s(Ff[1],1);f(Ff[0],n,i),f(Ff[1],n,a);function s(d,h){var v={},g=0,b={},S=0,M=2;if(dh(d,function(E){b[E]=n[E]}),dh(d,function(E){l(t,E)&&(v[E]=b[E]=t[E]),u(v,E)&&g++,u(b,E)&&S++}),r[h])return u(t,d[1])?b[d[2]]=null:u(t,d[2])&&(b[d[1]]=null),b;if(S===M||!g)return b;if(g>=M)return v;for(var C=0;C<d.length;C++){var O=d[C];if(!l(v,O)&&l(n,O)){v[O]=n[O];break}}return v}function l(d,h){return d.hasOwnProperty(h)}function u(d,h){return d[h]!=null&&d[h]!=="auto"}function f(d,h,v){dh(d,function(g){h[g]=v[g]})}}function hh(n){return zv({},n)}function zv(n,t){return t&&n&&dh(d0,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}var gm=Yi(),Rc=function(n){ve(t,n);function t(e,r,i){var a=n.call(this,e,r,i)||this;return a.uid=sp("ec_cpt_model"),a}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=hp(this),a=i?hh(e):{},s=r.getTheme();y.merge(e,s.get(this.mainType)),y.merge(e,this.getDefaultOption()),i&&bd(e,a,i)},t.prototype.mergeOption=function(e,r){y.merge(this.option,e,!0);var i=hp(this);i&&bd(this.option,e,i)},t.prototype.optionUpdated=function(e,r){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!cd(e))return e.defaultOption;var r=gm(this);if(!r.defaultOption){for(var i=[],a=e;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var l={},u=i.length-1;u>=0;u--)l=y.merge(l,i[u],!0);r.defaultOption=l}return r.defaultOption},t.prototype.getReferringComponents=function(e,r){var i=e+"Index",a=e+"Id";return Oc(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},r)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(Mo);Xg(Rc,Mo),qd(Rc),Av(Rc),Ex(Rc,Vx);function Vx(n){var t=[];return y.each(Rc.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=y.map(t,function(e){return Bu(e).main}),n!=="dataset"&&y.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}var xa=Rc,Vv="";typeof navigator!="undefined"&&(Vv=navigator.platform||"");var Ic="rgba(0, 0, 0, 0.2)",Hx={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Ic,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ic,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ic,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ic,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ic,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ic,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Vv.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},v0=Object(y.createHashMap)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),yl="original",Ws="arrayRows",wu="objectRows",Qo="keyedColumns",af="typedArray",g0="unknown",Nc="column",xd="row",Ks={Must:1,Might:2,Not:3},of=Yi();function Gx(n){of(n).datasetMap=Object(y.createHashMap)()}function m0(n,t,e){var r={},i=Hv(t);if(!i||!n)return r;var a=[],s=[],l=t.ecModel,u=of(l).datasetMap,f=i.uid+"_"+e.seriesLayoutBy,d,h;n=n.slice(),Object(y.each)(n,function(S,M){var C=Object(y.isObject)(S)?S:n[M]={name:S};C.type==="ordinal"&&d==null&&(d=M,h=b(C)),r[C.name]=[]});var v=u.get(f)||u.set(f,{categoryWayDim:h,valueWayDim:0});Object(y.each)(n,function(S,M){var C=S.name,O=b(S);if(d==null){var E=v.valueWayDim;g(r[C],E,O),g(s,E,O),v.valueWayDim+=O}else if(d===M)g(r[C],0,O),g(a,0,O);else{var E=v.categoryWayDim;g(r[C],E,O),g(s,E,O),v.categoryWayDim+=O}});function g(S,M,C){for(var O=0;O<C;O++)S.push(M+O)}function b(S){var M=S.dimsDef;return M?M.length:1}return a.length&&(r.itemName=a),s.length&&(r.seriesName=s),r}function Bl(n,t,e){var r={},i=Hv(n);if(!i)return r;var a=t.sourceFormat,s=t.dimensionsDefine,l;(a===wu||a===Qo)&&Object(y.each)(s,function(d,h){(Object(y.isObject)(d)?d.name:d)==="name"&&(l=h)});var u=function(){for(var d={},h={},v=[],g=0,b=Math.min(5,e);g<b;g++){var S=mm(t.data,a,t.seriesLayoutBy,s,t.startIndex,g);v.push(S);var M=S===Ks.Not;if(M&&d.v==null&&g!==l&&(d.v=g),(d.n==null||d.n===d.v||!M&&v[d.n]===Ks.Not)&&(d.n=g),C(d)&&v[d.n]!==Ks.Not)return d;M||(S===Ks.Might&&h.v==null&&g!==l&&(h.v=g),(h.n==null||h.n===h.v)&&(h.n=g))}function C(O){return O.v!=null&&O.n!=null}return C(d)?d:C(h)?h:null}();if(u){r.value=[u.v];var f=l!=null?l:u.n;r.itemName=[f],r.seriesName=[f]}return r}function Hv(n){var t=n.get("data",!0);if(!t)return Oc(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Wo).models[0]}function ph(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:Oc(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Wo).models}function y0(n,t){return mm(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function mm(n,t,e,r,i,a){var s,l=5;if(Object(y.isTypedArray)(n))return Ks.Not;var u,f;if(r){var d=r[a];Object(y.isObject)(d)?(u=d.name,f=d.type):Object(y.isString)(d)&&(u=d)}if(f!=null)return f==="ordinal"?Ks.Must:Ks.Not;if(t===Ws){var h=n;if(e===xd){for(var v=h[a],g=0;g<(v||[]).length&&g<l;g++)if((s=I(v[i+g]))!=null)return s}else for(var g=0;g<h.length&&g<l;g++){var b=h[i+g];if(b&&(s=I(b[a]))!=null)return s}}else if(t===wu){var S=n;if(!u)return Ks.Not;for(var g=0;g<S.length&&g<l;g++){var M=S[g];if(M&&(s=I(M[u]))!=null)return s}}else if(t===Qo){var C=n;if(!u)return Ks.Not;var v=C[u];if(!v||Object(y.isTypedArray)(v))return Ks.Not;for(var g=0;g<v.length&&g<l;g++)if((s=I(v[g]))!=null)return s}else if(t===yl)for(var O=n,g=0;g<O.length&&g<l;g++){var M=O[g],E=Rl(M);if(!Object(y.isArray)(E))return Ks.Not;if((s=I(E[a]))!=null)return s}function I(W){var H=Object(y.isString)(W);if(W!=null&&isFinite(W)&&W!=="")return H?Ks.Might:Ks.Not;if(H&&W!=="-")return Ks.Must}return Ks.Not}var pp=Object(y.createHashMap)();function ym(n,t){Object(y.assert)(pp.get(n)==null&&t),pp.set(n,t)}function Gv(n,t,e){var r=pp.get(t);if(!r)return e;var i=r(n);if(!i)return e;if(!1)var a;return e.concat(i)}var b0=Yi(),Bw=Yi(),bm=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,r){var i=Xa(this.get("color",!0)),a=this.get("colorLayer",!0);return vp(this,b0,i,a,t,e,r)},n.prototype.clearColorPalette=function(){gp(this,b0)},n}();function x0(n,t,e,r){var i=Xa(n.get(["aria","decal","decals"]));return vp(n,Bw,i,null,t,e,r)}function Fw(n,t){for(var e=n.length,r=0;r<e;r++)if(n[r].length>t)return n[r];return n[e-1]}function vp(n,t,e,r,i,a,s){a=a||n;var l=t(a),u=l.paletteIdx||0,f=l.paletteNameMap=l.paletteNameMap||{};if(f.hasOwnProperty(i))return f[i];var d=s==null||!r?e:Fw(r,s);if(d=d||e,!(!d||!d.length)){var h=d[u];return i&&(f[i]=h),l.paletteIdx=(u+1)%d.length,h}}function gp(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}var xm="[ECharts] ",Vf={},Sm=typeof console!="undefined"&&console.warn&&console.log;function mp(n,t,e){if(Sm){if(e){if(Vf[t])return;Vf[t]=!0}console[n](xm+t)}}function S0(n,t){mp("log",n,t)}function w0(n,t){mp("warn",n,t)}function wm(n,t){mp("error",n,t)}function M0(n){}function kc(n,t,e){}function _0(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e="";if(!1)var r;return e}function Za(n){throw new Error(n)}var yp,Sd,Mm,_m="\0_ec_inner",C0=1,Ux={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},zw={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},Wx={};function hO(n){Object(y.each)(n,function(t,e){if(!xa.hasClass(e)){var r=Ux[e];r&&!Wx[r]&&(wm("Component "+e+` is used but not imported.
import { `+r+` } from 'echarts/components';
echarts.use([`+r+"]);"),Wx[r]=!0)}})}var Kx=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,r,i,a,s,l){a=a||{},this.option=null,this._theme=new Mo(a),this._locale=new Mo(s),this._optionManager=l},t.prototype.setOption=function(e,r,i){var a=Zx(r);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,r){return this._resetOption(e,Zx(r))},t.prototype._resetOption=function(e,r){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var s=a.mountOption(e==="recreate");!this.option||e==="recreate"?Mm(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var l=a.getTimelineOption(this);l&&(i=!0,this._mergeOption(l,r))}if(!e||e==="recreate"||e==="media"){var u=a.getMediaOption(this);u.length&&Object(y.each)(u,function(f){i=!0,this._mergeOption(f,r)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,l=[],u=Object(y.createHashMap)(),f=r&&r.replaceMergeMainTypeMap;Gx(this),Object(y.each)(e,function(h,v){h!=null&&(xa.hasClass(v)?v&&(l.push(v),u.set(v,!0)):i[v]=i[v]==null?Object(y.clone)(h):Object(y.merge)(i[v],h,!0))}),f&&f.each(function(h,v){xa.hasClass(v)&&!u.get(v)&&(l.push(v),u.set(v,!0))}),xa.topologicalTravel(l,xa.getAllClassMainTypes(),d,this);function d(h){var v=Gv(this,h,Xa(e[h])),g=a.get(h),b=g?f&&f.get(h)?"replaceMerge":"normalMerge":"replaceAll",S=Wh(g,v,b);nl(S,h,xa),i[h]=null,a.set(h,null),s.set(h,0);var M=[],C=[],O=0,E,I;Object(y.each)(S,function(W,H){var Q=W.existing,se=W.newOption;if(!se)Q&&(Q.mergeOption({},this),Q.optionUpdated({},!1));else{var le=h==="series",Me=xa.getClass(h,W.keyInfo.subType,!le);if(!Me){if(!1)var xe,Be;return}if(h==="tooltip"){if(E)return;E=!0}if(Q&&Q.constructor===Me)Q.name=W.keyInfo.name,Q.mergeOption(se,this),Q.optionUpdated(se,!1);else{var ze=Object(y.extend)({componentIndex:H},W.keyInfo);Q=new Me(se,this,this,ze),Object(y.extend)(Q,ze),W.brandNew&&(Q.__requireNewView=!0),Q.init(se,this,this),Q.optionUpdated(null,!0)}}Q?(M.push(Q.option),C.push(Q),O++):(M.push(void 0),C.push(void 0))},this),i[h]=M,a.set(h,C),s.set(h,O),h==="series"&&yp(this)}this._seriesIndices||yp(this)},t.prototype.getOption=function(){var e=Object(y.clone)(this.option);return Object(y.each)(e,function(r,i){if(xa.hasClass(i)){for(var a=Xa(r),s=a.length,l=!1,u=s-1;u>=0;u--)a[u]&&!ju(a[u])?l=!0:(a[u]=null,!l&&s--);a.length=s,e[i]=a}}),delete e[_m],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,r){var i=this._componentsMap.get(e);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(e){var r=e.mainType;if(!r)return[];var i=e.index,a=e.id,s=e.name,l=this._componentsMap.get(r);if(!l||!l.length)return[];var u;return i!=null?(u=[],Object(y.each)(Xa(i),function(f){l[f]&&u.push(l[f])})):a!=null?u=Yx("id",a,l):s!=null?u=Yx("name",s,l):u=Object(y.filter)(l,function(f){return!!f}),Xx(u,e)},t.prototype.findComponents=function(e){var r=e.query,i=e.mainType,a=l(r),s=a?this.queryComponents(a):Object(y.filter)(this._componentsMap.get(i),function(f){return!!f});return u(Xx(s,e));function l(f){var d=i+"Index",h=i+"Id",v=i+"Name";return f&&(f[d]!=null||f[h]!=null||f[v]!=null)?{mainType:i,index:f[d],id:f[h],name:f[v]}:null}function u(f){return e.filter?Object(y.filter)(f,e.filter):f}},t.prototype.eachComponent=function(e,r,i){var a=this._componentsMap;if(Object(y.isFunction)(e)){var s=r,l=e;a.each(function(h,v){for(var g=0;h&&g<h.length;g++){var b=h[g];b&&l.call(s,v,b,b.componentIndex)}})}else for(var u=Object(y.isString)(e)?a.get(e):Object(y.isObject)(e)?this.findComponents(e):null,f=0;u&&f<u.length;f++){var d=u[f];d&&r.call(i,d,d.componentIndex)}},t.prototype.getSeriesByName=function(e){var r=Fo(e,null);return Object(y.filter)(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Object(y.filter)(this._componentsMap.get("series"),function(r){return!!r&&r.subType===e})},t.prototype.getSeries=function(){return Object(y.filter)(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,r){Sd(this),Object(y.each)(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(r,a,i)},this)},t.prototype.eachRawSeries=function(e,r){Object(y.each)(this._componentsMap.get("series"),function(i){i&&e.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,r,i){Sd(this),Object(y.each)(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===e&&r.call(i,s,a)},this)},t.prototype.eachRawSeriesByType=function(e,r,i){return Object(y.each)(this.getSeriesByType(e),r,i)},t.prototype.isSeriesFiltered=function(e){return Sd(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,r){Sd(this);var i=[];Object(y.each)(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];e.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Object(y.createHashMap)(i)},t.prototype.restoreData=function(e){yp(this);var r=this._componentsMap,i=[];r.each(function(a,s){xa.hasClass(s)&&i.push(s)}),xa.topologicalTravel(i,xa.getAllClassMainTypes(),function(a){Object(y.each)(r.get(a),function(s){s&&(a!=="series"||!Uv(s,e))&&s.restoreData()})})},t.internalField=function(){yp=function(e){var r=e._seriesIndices=[];Object(y.each)(e._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),e._seriesIndicesMap=Object(y.createHashMap)(r)},Sd=function(e){},Mm=function(e,r){e.option={},e.option[_m]=C0,e._componentsMap=Object(y.createHashMap)({series:[]}),e._componentsCount=Object(y.createHashMap)();var i=r.aria;Object(y.isObject)(i)&&i.enabled==null&&(i.enabled=!0),Vw(r,e._theme.option),Object(y.merge)(r,Hx,!1),e._mergeOption(r,null)}}(),t}(Mo);function Uv(n,t){if(t){var e=t.seriesIndex,r=t.seriesId,i=t.seriesName;return e!=null&&n.componentIndex!==e||r!=null&&n.id!==r||i!=null&&n.name!==i}}function Vw(n,t){var e=n.color&&!n.colorLayer;Object(y.each)(t,function(r,i){i==="colorLayer"&&e||xa.hasClass(i)||(typeof r=="object"?n[i]=n[i]?Object(y.merge)(n[i],r,!1):Object(y.clone)(r):n[i]==null&&(n[i]=r))})}function Yx(n,t,e){if(Object(y.isArray)(t)){var r=Object(y.createHashMap)();return Object(y.each)(t,function(a){if(a!=null){var s=Fo(a,null);s!=null&&r.set(a,!0)}}),Object(y.filter)(e,function(a){return a&&r.get(a[n])})}else{var i=Fo(t,null);return Object(y.filter)(e,function(a){return a&&i!=null&&a[n]===i})}}function Xx(n,t){return t.hasOwnProperty("subType")?Object(y.filter)(n,function(e){return e&&e.subType===t.subType}):n}function Zx(n){var t=Object(y.createHashMap)();return n&&Object(y.each)(Xa(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Object(y.mixin)(Kx,bm);var bp=Kx,T0=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],$x=function(){function n(t){y.each(T0,function(e){this[e]=y.bind(t[e],t)},this)}return n}(),Wv=$x,O0={},E0=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var r=[];y.each(O0,function(i,a){var s=i.create(t,e);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(t,e){y.each(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){O0[t]=e},n.get=function(t){return O0[t]},n}(),wd=E0,A0=/^(min|max)?(.+)$/,P0=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,r){t&&(Object(y.each)(Xa(t.series),function(s){s&&s.data&&Object(y.isTypedArray)(s.data)&&Object(y.setAsPrimitive)(s.data)}),Object(y.each)(Xa(t.dataset),function(s){s&&s.source&&Object(y.isTypedArray)(s.source)&&Object(y.setAsPrimitive)(s.source)})),t=Object(y.clone)(t);var i=this._optionBackup,a=Hw(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Object(y.clone)(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(e=Object(y.clone)(r[i.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var e=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!i.length&&!a)return l;for(var u=0,f=i.length;u<f;u++)Cm(i[u].query,e,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&!Gw(s,this._currentMediaIndices)&&(l=Object(y.map)(s,function(d){return Object(y.clone)(d===-1?a.option:i[d].option)})),this._currentMediaIndices=s,l},n}();function Hw(n,t,e){var r=[],i,a,s=n.baseOption,l=n.timeline,u=n.options,f=n.media,d=!!n.media,h=!!(u||l||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=l)):((h||d)&&(n.options=n.media=null),a=n),d&&Object(y.isArray)(f)&&Object(y.each)(f,function(g){g&&g.option&&(g.query?r.push(g):i||(i=g))}),v(a),Object(y.each)(u,function(g){return v(g)}),Object(y.each)(r,function(g){return v(g.option)});function v(g){Object(y.each)(t,function(b){b(g,e)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:i,mediaList:r}}function Cm(n,t,e){var r={width:t,height:e,aspectratio:t/e},i=!0;return Object(y.each)(n,function(a,s){var l=s.match(A0);if(!(!l||!l[1]||!l[2])){var u=l[1],f=l[2].toLowerCase();Hf(r[f],a,u)||(i=!1)}}),i}function Hf(n,t,e){return e==="min"?n>=t:e==="max"?n<=t:n===t}function Gw(n,t){return n.join(",")===t.join(",")}var Jx=P0,ol=y.each,Gf=y.isObject,Qx=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function L0(n){var t=n&&n.itemStyle;if(!!t)for(var e=0,r=Qx.length;e<r;e++){var i=Qx[e],a=t.normal,s=t.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?y.merge(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),s&&s[i]&&(n[i]=n[i]||{},n[i].emphasis?y.merge(n[i].emphasis,s[i]):n[i].emphasis=s[i],s[i]=null)}}function Fl(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,i=n[t].emphasis;r&&(e?(n[t].normal=n[t].emphasis=null,y.defaults(n[t],r)):n[t]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[t]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function Kv(n){Fl(n,"itemStyle"),Fl(n,"lineStyle"),Fl(n,"areaStyle"),Fl(n,"label"),Fl(n,"labelLine"),Fl(n,"upperLabel"),Fl(n,"edgeLabel")}function js(n,t){var e=Gf(n)&&n[t],r=Gf(e)&&e.textStyle;if(r)for(var i=0,a=Cc.length;i<a;i++){var s=Cc[i];r.hasOwnProperty(s)&&(e[s]=r[s])}}function lc(n){n&&(Kv(n),js(n,"label"),n.emphasis&&js(n.emphasis,"label"))}function Uw(n){if(!!Gf(n)){L0(n),Kv(n),js(n,"label"),js(n,"upperLabel"),js(n,"edgeLabel"),n.emphasis&&(js(n.emphasis,"label"),js(n.emphasis,"upperLabel"),js(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(L0(t),lc(t));var e=n.markLine;e&&(L0(e),lc(e));var r=n.markArea;r&&lc(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!y.isTypedArray(a))for(var s=0;s<a.length;s++)lc(a[s]);y.each(n.categories,function(f){Kv(f)})}if(i&&!y.isTypedArray(i))for(var s=0;s<i.length;s++)lc(i[s]);if(t=n.markPoint,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)lc(l[s]);if(e=n.markLine,e&&e.data)for(var u=e.data,s=0;s<u.length;s++)y.isArray(u[s])?(lc(u[s][0]),lc(u[s][1])):lc(u[s]);n.type==="gauge"?(js(n,"axisLabel"),js(n,"title"),js(n,"detail")):n.type==="treemap"?(Fl(n.breadcrumb,"itemStyle"),y.each(n.levels,function(f){Kv(f)})):n.type==="tree"&&Kv(n.leaves)}}function Uf(n){return y.isArray(n)?n:n?[n]:[]}function qx(n){return(y.isArray(n)?n[0]:n)||{}}function Ww(n,t){ol(Uf(n.series),function(r){Gf(r)&&Uw(r)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),ol(e,function(r){ol(Uf(n[r]),function(i){i&&(js(i,"axisLabel"),js(i.axisPointer,"label"))})}),ol(Uf(n.parallel),function(r){var i=r&&r.parallelAxisDefault;js(i,"axisLabel"),js(i&&i.axisPointer,"label")}),ol(Uf(n.calendar),function(r){Fl(r,"itemStyle"),js(r,"dayLabel"),js(r,"monthLabel"),js(r,"yearLabel")}),ol(Uf(n.radar),function(r){js(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),ol(Uf(n.geo),function(r){Gf(r)&&(lc(r),ol(Uf(r.regions),function(i){lc(i)}))}),ol(Uf(n.timeline),function(r){lc(r),Fl(r,"label"),Fl(r,"itemStyle"),Fl(r,"controlStyle",!0);var i=r.data;y.isArray(i)&&y.each(i,function(a){y.isObject(a)&&(Fl(a,"label"),Fl(a,"itemStyle"))})}),ol(Uf(n.toolbox),function(r){Fl(r,"iconStyle"),ol(r.feature,function(i){Fl(i,"iconStyle")})}),js(qx(n.axisPointer),"label"),js(qx(n.tooltip).axisPointer,"label")}function Kw(n,t){for(var e=t.split(","),r=n,i=0;i<e.length&&(r=r&&r[e[i]],r!=null);i++);return r}function D0(n,t,e,r){for(var i=t.split(","),a=n,s,l=0;l<i.length-1;l++)s=i[l],a[s]==null&&(a[s]={}),a=a[s];(r||a[i[l]]==null)&&(a[i[l]]=e)}function e1(n){n&&Object(y.each)(xp,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var xp=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Yw=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],os=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Md(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<os.length;e++){var r=os[e][1],i=os[e][0];t[r]!=null&&(t[i]=t[r])}}function R0(n){!n||n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function Yv(n){!n||n.downplay&&!n.blur&&(n.blur=n.downplay)}function Tm(n){!n||n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function t1(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&t1(n[e].children,t)}function Sp(n,t){Ww(n,t),n.series=Xa(n.series),Object(y.each)(n.series,function(e){if(!!Object(y.isObject)(e)){var r=e.type;if(r==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(r==="pie"||r==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),R0(e.label);var i=e.data;if(i&&!Object(y.isTypedArray)(i))for(var a=0;a<i.length;a++)R0(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(r==="gauge"){var s=Kw(e,"pointer.color");s!=null&&D0(e,"itemStyle.color",s)}else if(r==="bar"){Md(e),Md(e.backgroundStyle),Md(e.emphasis);var i=e.data;if(i&&!Object(y.isTypedArray)(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Md(i[a]),Md(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var l=e.highlightPolicy;l&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=l)),Yv(e),t1(e.data,Yv)}else r==="graph"||r==="sankey"?Tm(e):r==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Object(y.defaults)(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),e1(e)}}),n.dataRange&&(n.visualMap=n.dataRange),Object(y.each)(Yw,function(e){var r=n[e];r&&(Object(y.isArray)(r)||(r=[r]),Object(y.each)(r,function(i){e1(i)}))})}function Xw(n){var t=Object(y.createHashMap)();n.eachSeries(function(e){var r=e.get("stack");if(r){var i=t.get(r)||t.set(r,[]),a=e.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(n1)}function n1(n){Object(y.each)(n,function(t,e){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],s=t.data,l=t.isStackedByIndex;s.modify(a,function(u,f,d){var h=s.get(t.stackedDimension,d);if(isNaN(h))return i;var v,g;l?g=s.getRawIndex(d):v=s.get(t.stackedByDimension,d);for(var b=NaN,S=e-1;S>=0;S--){var M=n[S];if(l||(g=M.data.rawIndexOf(M.stackedByDimension,v)),g>=0){var C=M.data.getByRawIndex(M.stackResultDimension,g);if(h>=0&&C>0||h<=0&&C<0){h=My(h,C),b=C;break}}}return r[0]=h,r[1]=b,r})})}var Xv=function(){function n(t){this.data=t.data||(t.sourceFormat===Qo?{}:[]),this.sourceFormat=t.sourceFormat||g0,this.seriesLayoutBy=t.seriesLayoutBy||Nc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var r=0;r<e.length;r++){var i=e[r];i.type==null&&y0(this,r)===Ks.Must&&(i.type="ordinal")}}return n}();function vh(n){return n instanceof Xv}function Zv(n,t,e){e=e||N0(n);var r=t.seriesLayoutBy,i=r1(n,e,r,t.sourceHeader,t.dimensions),a=new Xv({data:n,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Object(y.clone)(t)});return a}function I0(n){return new Xv({data:n,sourceFormat:Object(y.isTypedArray)(n)?af:yl})}function Wf(n){return new Xv({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Object(y.clone)(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function N0(n){var t=g0;if(Object(y.isTypedArray)(n))t=af;else if(Object(y.isArray)(n)){n.length===0&&(t=Ws);for(var e=0,r=n.length;e<r;e++){var i=n[e];if(i!=null){if(Object(y.isArray)(i)){t=Ws;break}else if(Object(y.isObject)(i)){t=wu;break}}}}else if(Object(y.isObject)(n)){for(var a in n)if(Object(y.hasOwn)(n,a)&&Object(y.isArrayLike)(n[a])){t=Qo;break}}return t}function r1(n,t,e,r,i){var a,s;if(!n)return{dimensionsDefine:i1(i),startIndex:s,dimensionsDetectedCount:a};if(t===Ws){var l=n;r==="auto"||r==null?a1(function(f){f!=null&&f!=="-"&&(Object(y.isString)(f)?s==null&&(s=1):s=0)},e,l,10):s=Object(y.isNumber)(r)?r:r?1:0,!i&&s===1&&(i=[],a1(function(f,d){i[d]=f!=null?f+"":""},e,l,Infinity)),a=i?i.length:e===xd?l.length:l[0]?l[0].length:null}else if(t===wu)i||(i=_d(n));else if(t===Qo)i||(i=[],Object(y.each)(n,function(f,d){i.push(d)}));else if(t===yl){var u=Rl(n[0]);a=Object(y.isArray)(u)&&u.length||1}return{startIndex:s,dimensionsDefine:i1(i),dimensionsDetectedCount:a}}function _d(n){for(var t=0,e;t<n.length&&!(e=n[t++]););if(e){var r=[];return Object(y.each)(e,function(i,a){r.push(a)}),r}}function i1(n){if(!!n){var t=Object(y.createHashMap)();return Object(y.map)(n,function(e,r){e=Object(y.isObject)(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function a1(n,t,e,r){if(t===xd)for(var i=0;i<e.length&&i<r;i++)n(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function $v(n){var t=n.sourceFormat;return t===wu||t===Qo}var sf,jc,lf,wp,o1,Mp=function(){function n(t,e){var r=vh(t)?t:I0(t);this._source=r;var i=this._data=r.data;r.sourceFormat===af&&(this._offset=0,this._dimSize=e,this._data=i),o1(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;o1=function(s,l,u){var f=u.sourceFormat,d=u.seriesLayoutBy,h=u.startIndex,v=u.dimensionsDefine,g=wp[tg(f,d)];if(Object(y.extend)(s,g),f===af)s.getItem=e,s.count=i,s.fillStorage=r;else{var b=Qv(f,d);s.getItem=Object(y.bind)(b,null,l,h,v);var S=k0(f,d);s.count=Object(y.bind)(S,null,l,h,v)}};var e=function(s,l){s=s-this._offset,l=l||[];for(var u=this._data,f=this._dimSize,d=f*s,h=0;h<f;h++)l[h]=u[d+h];return l},r=function(s,l,u,f){for(var d=this._data,h=this._dimSize,v=0;v<h;v++){for(var g=f[v],b=g[0]==null?Infinity:g[0],S=g[1]==null?-Infinity:g[1],M=l-s,C=u[v],O=0;O<M;O++){var E=d[O*h+v];C[s+O]=E,E<b&&(b=E),E>S&&(S=E)}g[0]=b,g[1]=S}},i=function(){return this._data?this._data.length/this._dimSize:0};wp=(t={},t[Ws+"_"+Nc]={pure:!0,appendData:a},t[Ws+"_"+xd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[wu]={pure:!0,appendData:a},t[Qo]={pure:!0,appendData:function(s){var l=this._data;Object(y.each)(s,function(u,f){for(var d=l[f]||(l[f]=[]),h=0;h<(u||[]).length;h++)d.push(u[h])})}},t[yl]={appendData:a},t[af]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(s){for(var l=0;l<s.length;l++)this._data.push(s[l])}}(),n}(),Jv=function(n,t,e,r){return n[r]},Om=(sf={},sf[Ws+"_"+Nc]=function(n,t,e,r){return n[r+t]},sf[Ws+"_"+xd]=function(n,t,e,r,i){r+=t;for(var a=i||[],s=n,l=0;l<s.length;l++){var u=s[l];a[l]=u?u[r]:null}return a},sf[wu]=Jv,sf[Qo]=function(n,t,e,r,i){for(var a=i||[],s=0;s<e.length;s++){var l=e[s].name,u=n[l];a[s]=u?u[r]:null}return a},sf[yl]=Jv,sf);function Qv(n,t){var e=Om[tg(n,t)];return e}var qv=function(n,t,e){return n.length},s1=(jc={},jc[Ws+"_"+Nc]=function(n,t,e){return Math.max(0,n.length-t)},jc[Ws+"_"+xd]=function(n,t,e){var r=n[0];return r?Math.max(0,r.length-t):0},jc[wu]=qv,jc[Qo]=function(n,t,e){var r=e[0].name,i=n[r];return i?i.length:0},jc[yl]=qv,jc);function k0(n,t){var e=s1[tg(n,t)];return e}var Em=function(n,t,e){return n[t]},l1=(lf={},lf[Ws]=Em,lf[wu]=function(n,t,e){return n[e]},lf[Qo]=Em,lf[yl]=function(n,t,e){var r=Rl(n);return r instanceof Array?r[t]:r},lf[af]=Em,lf);function eg(n){var t=l1[n];return t}function tg(n,t){return n===Ws?n+"_"+t:n}function Cd(n,t,e){if(!!n){var r=n.getRawDataItem(t);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(e!=null){var s=n.getDimensionIndex(e),l=i.getDimensionProperty(s);return eg(a)(r,s,l)}else{var u=r;return a===yl&&(u=Rl(r)),u}}}}function Zw(n,t,e){if(!!n){var r=n.getStore().getSource().sourceFormat;if(!(r!==yl&&r!==wu)){var i=n.getRawDataItem(t);if(r===yl&&!Object(y.isObject)(i)&&(i=null),i)return i[e]}}}var u1=/\{@(.+?)\}/g,Am=function(){function n(){}return n.prototype.getDataParams=function(t,e){var r=this.getData(e),i=this.getRawValue(t,e),a=r.getRawIndex(t),s=r.getName(t),l=r.getRawDataItem(t),u=r.getItemVisual(t,"style"),f=u&&u[r.getItemVisual(t,"drawType")||"fill"],d=u&&u.stroke,h=this.mainType,v=h==="series",g=r.userOutput&&r.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:s,dataIndex:a,data:l,dataType:e,value:i,color:f,borderColor:d,dimensionNames:g?g.fullDimensions:null,encode:g?g.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,r,i,a,s){e=e||"normal";var l=this.getData(r),u=this.getDataParams(t,r);if(s&&(u.value=s.interpolatedValue),i!=null&&y.isArray(u.value)&&(u.value=u.value[i]),!a){var f=l.getItemModel(t);a=f.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(y.isFunction(a))return u.status=e,u.dimensionIndex=i,a(u);if(y.isString(a)){var d=md(a,u);return d.replace(u1,function(h,v){var g=v.length,b=v;b.charAt(0)==="["&&b.charAt(g-1)==="]"&&(b=+b.slice(1,g-1));var S=Cd(l,t,b);if(s&&y.isArray(s.interpolatedValue)){var M=l.getDimensionIndex(b);M>=0&&(S=s.interpolatedValue[M])}return S!=null?S+"":""})}},n.prototype.getRawValue=function(t,e){return Cd(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,r){},n}();function j0(n){var t,e;return y.isObject(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function _p(n){return new $w(n)}var $w=function(){function n(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e=this._upstream,r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=d(this._modBy),l=this._modDataCount||0,u=d(t&&t.modBy),f=t&&t.modDataCount||0;(s!==u||l!==f)&&(a="reset");function d(O){return!(O>=1)&&(O=1),O}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(r)),this._modBy=u,this._modDataCount=f;var v=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):Infinity,this._progress){var g=this._dueIndex,b=Math.min(v!=null?this._dueIndex+v:Infinity,this._dueEnd);if(!r&&(h||g<b)){var S=this._progress;if(Object(y.isArray)(S))for(var M=0;M<S.length;M++)this._doProgress(S[M],g,b,u,f);else this._doProgress(S,g,b,u,f)}this._dueIndex=b;var C=this._settedOutputEnd!=null?this._settedOutputEnd:b;this._outputDueEnd=C}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,r,i,a){ss.reset(e,r,i,a),this._callingProgress=t,this._callingProgress({start:e,end:r,count:r-e,next:ss.next},this.context)},n.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,r;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(r=e.forceFirstProgress,e=e.progress),Object(y.isArray)(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),ss=function(){var n,t,e,r,i,a={reset:function(u,f,d,h){t=u,n=f,e=d,r=h,i=Math.ceil(r/e),a.next=e>1&&r>0?l:s}};return a;function s(){return t<n?t++:null}function l(){var u=t%i*e+Math.ceil(t/i),f=t>=n?null:u<r?u:t;return t++,f}}();function zl(n,t){var e=t&&t.type;return e==="ordinal"?n:(e==="time"&&!Object(y.isNumber)(n)&&n!=null&&n!=="-"&&(n=+pl(n)),n==null||n===""?NaN:+n)}var Jw=Object(y.createHashMap)({number:function(n){return parseFloat(n)},time:function(n){return+pl(n)},trim:function(n){return Object(y.isString)(n)?Object(y.trim)(n):n}});function B0(n){return Jw.get(n)}var c1={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},uf=function(){function n(t,e){if(!Object(y.isNumber)(e)){var r="";Za(r)}this._opFn=c1[t],this._rvalFloat=hu(e)}return n.prototype.evaluate=function(t){return Object(y.isNumber)(t)?this._opFn(t,this._rvalFloat):this._opFn(hu(t),this._rvalFloat)},n}(),gh=function(){function n(t,e){var r=t==="desc";this._resultLT=r?1:-1,e==null&&(e=r?"min":"max"),this._incomparable=e==="min"?-Infinity:Infinity}return n.prototype.evaluate=function(t,e){var r=Object(y.isNumber)(t)?t:hu(t),i=Object(y.isNumber)(e)?e:hu(e),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var l=Object(y.isString)(t),u=Object(y.isString)(e);l&&(r=u?t:0),u&&(i=l?e:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),f1=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=hu(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(e=hu(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function ng(n,t){return n==="eq"||n==="ne"?new f1(n==="eq",t):Object(y.hasOwn)(c1,n)?new uf(n,t):null}var Qw=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return zl(t,e)},n}();function Cp(n,t){var e=new Qw,r=n.data,i=e.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==Nc&&Za(s);var l=[],u={},f=n.dimensionsDefine;if(f)Object(y.each)(f,function(S,M){var C=S.name,O={index:M,name:C,displayName:S.displayName};if(l.push(O),C!=null){var E="";Object(y.hasOwn)(u,C)&&Za(E),u[C]=O}});else for(var d=0;d<n.dimensionsDetectedCount;d++)l.push({index:d});var h=Qv(i,Nc);t.__isBuiltIn&&(e.getRawDataItem=function(S){return h(r,a,l,S)},e.getRawData=Object(y.bind)(Tp,null,n)),e.cloneRawData=Object(y.bind)(rg,null,n);var v=k0(i,Nc);e.count=Object(y.bind)(v,null,r,a,l);var g=eg(i);e.retrieveValue=function(S,M){var C=h(r,a,l,S);return b(C,M)};var b=e.retrieveValueFromItem=function(S,M){if(S!=null){var C=l[M];if(C)return g(S,M,C.name)}};return e.getDimensionInfo=Object(y.bind)(ig,null,l,u),e.cloneAllDimensionInfo=Object(y.bind)(qw,null,l),e}function Tp(n){var t=n.sourceFormat;if(!bl(t)){var e="";Za(e)}return n.data}function rg(n){var t=n.sourceFormat,e=n.data;if(!bl(t)){var r="";Za(r)}if(t===Ws){for(var i=[],a=0,s=e.length;a<s;a++)i.push(e[a].slice());return i}else if(t===wu){for(var i=[],a=0,s=e.length;a<s;a++)i.push(Object(y.extend)({},e[a]));return i}}function ig(n,t,e){if(e!=null){if(Object(y.isNumber)(e)||!isNaN(e)&&!Object(y.hasOwn)(t,e))return n[e];if(Object(y.hasOwn)(t,e))return t[e]}}function qw(n){return Object(y.clone)(n)}var d1=Object(y.createHashMap)();function Op(n){n=Object(y.clone)(n);var t=n.type,e="";t||Za(e);var r=t.split(":");r.length!==2&&Za(e);var i=!1;r[0]==="echarts"&&(t=r[1],i=!0),n.__isBuiltIn=i,d1.set(t,n)}function h1(n,t,e){var r=Xa(n),i=r.length,a="";i||Za(a);for(var s=0,l=i;s<l;s++){var u=r[s];t=eM(u,t,e,i===1?null:s),s!==l-1&&(t.length=Math.max(t.length,1))}return t}function eM(n,t,e,r){var i="";t.length||Za(i),Object(y.isObject)(n)||Za(i);var a=n.type,s=d1.get(a);s||Za(i);var l=Object(y.map)(t,function(d){return Cp(d,s)}),u=Xa(s.transform({upstream:l[0],upstreamList:l,config:Object(y.clone)(n.config)}));if(!1)var f;return Object(y.map)(u,function(d,h){var v="";Object(y.isObject)(d)||Za(v),d.data||Za(v);var g=N0(d.data);bl(g)||Za(v);var b,S=t[0];if(S&&h===0&&!d.dimensions){var M=S.startIndex;M&&(d.data=S.data.slice(0,M).concat(d.data)),b={seriesLayoutBy:Nc,sourceHeader:M,dimensions:S.metaRawOption.dimensions}}else b={seriesLayoutBy:Nc,sourceHeader:0,dimensions:d.dimensions};return Zv(d.data,b,null)})}function bl(n){return n===Ws||n===wu}var uc="undefined",cf=typeof Uint32Array===uc?Array:Uint32Array,pO=typeof Uint16Array===uc?Array:Uint16Array,tM=typeof Int32Array===uc?Array:Int32Array,ag=typeof Float64Array===uc?Array:Float64Array,p1={float:ag,int:tM,ordinal:Array,number:Array,time:ag},F0;function Ep(n){return n>65535?cf:pO}function ql(){return[Infinity,-Infinity]}function v1(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function z0(n,t,e,r,i){var a=p1[e||"float"];if(i){var s=n[t],l=s&&s.length;if(l!==r){for(var u=new a(r),f=0;f<l;f++)u[f]=s[f];n[t]=u}}else n[t]=new a(r)}var g1=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Object(y.createHashMap)()}return n.prototype.initData=function(t,e,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=F0[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[];var s=$v(i);this._dimensions=Object(y.map)(e,function(l){return{type:l.type,property:l.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},r.set(t,a),this._chunks[a]=new p1[e||"float"](this._rawCount),this._rawExtent[a]=ql(),a},n.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,s=i.ordinalOffset||0,l=r.length;s===0&&(a[t]=ql());for(var u=a[t],f=s;f<l;f++){var d=r[f]=e.parseAndCollect(r[f]);u[0]=Math.min(d,u[0]),u[1]=Math.max(d,u[1])}i.ordinalMeta=e,i.ordinalOffset=l,i.type="ordinal"},n.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],r=e.ordinalMeta;return r},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,r=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(t,e){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,l=this.count(),u=l+Math.max(t.length,e||0),f=0;f<a;f++){var d=i[f];z0(r,f,d.type,u,!0)}for(var h=[],v=l;v<u;v++)for(var g=v-l,b=0;b<a;b++){var d=i[b],S=F0.arrayRows.call(this,t[g]||h,d.property,g,b);r[b][v]=S;var M=s[b];S<M[0]&&(M[0]=S),S>M[1]&&(M[1]=S)}return this._rawCount=this._count=u,{start:l,end:u}},n.prototype._initDataFromProvider=function(t,e,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,f=Object(y.map)(s,function(O){return O.property}),d=0;d<l;d++){var h=s[d];u[d]||(u[d]=ql()),z0(a,d,h.type,e,r)}if(i.fillStorage)i.fillStorage(t,e,a,u);else for(var v=[],g=t;g<e;g++){v=i.getItem(g,v);for(var b=0;b<l;b++){var S=a[b],M=this._dimValueGetter(v,f[b],g,b);S[g]=M;var C=u[b];M<C[0]&&(C[0]=M),M>C[1]&&(C[1]=M)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var r=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],e));return r},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._chunks[t];return r?r[e]:NaN},n.prototype.getSum=function(t){var e=this._chunks[t],r=0;if(e)for(var i=0,a=this.count();i<a;i++){var s=this.get(t,i);isNaN(s)||(r+=s)}return r},n.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var r=e.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,r=e[t];if(r!=null&&r<this._count&&r===t)return t;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(e[s]<t)i=s+1;else if(e[s]>t)a=s-1;else return s}return-1},n.prototype.indicesOfNearest=function(t,e,r){var i=this._chunks,a=i[t],s=[];if(!a)return s;r==null&&(r=Infinity);for(var l=Infinity,u=-1,f=0,d=0,h=this.count();d<h;d++){var v=this.getRawIndex(d),g=e-a[v],b=Math.abs(g);b<=r&&((b<l||b===l&&g>=0&&u<0)&&(l=b,u=g,f=0),g===u&&(s[f++]=d))}return s.length=f,s},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var r=e.constructor,i=this._count;if(r===Array){t=new r(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new r(e.buffer,0,i)}else{var r=Ep(this._rawCount);t=new r(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=Ep(r._rawCount),s=new a(i),l=[],u=t.length,f=0,d=t[0],h=r._chunks,v=0;v<i;v++){var g=void 0,b=r.getRawIndex(v);if(u===0)g=e(v);else if(u===1){var S=h[d][b];g=e(S,v)}else{for(var M=0;M<u;M++)l[M]=h[t[M]][b];l[M]=v,g=e.apply(null,l)}g&&(s[f++]=b)}return f<i&&(r._indices=s),r._count=f,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(t){var e=this.clone(),r=e._count;if(!r)return this;var i=Object(y.keys)(t),a=i.length;if(!a)return this;var s=e.count(),l=Ep(e._rawCount),u=new l(s),f=0,d=i[0],h=t[d][0],v=t[d][1],g=e._chunks,b=!1;if(!e._indices){var S=0;if(a===1){for(var M=g[i[0]],C=0;C<r;C++){var O=M[C];(O>=h&&O<=v||isNaN(O))&&(u[f++]=S),S++}b=!0}else if(a===2){for(var M=g[i[0]],E=g[i[1]],I=t[i[1]][0],W=t[i[1]][1],C=0;C<r;C++){var O=M[C],H=E[C];(O>=h&&O<=v||isNaN(O))&&(H>=I&&H<=W||isNaN(H))&&(u[f++]=S),S++}b=!0}}if(!b)if(a===1)for(var C=0;C<s;C++){var Q=e.getRawIndex(C),O=g[i[0]][Q];(O>=h&&O<=v||isNaN(O))&&(u[f++]=Q)}else for(var C=0;C<s;C++){for(var se=!0,Q=e.getRawIndex(C),le=0;le<a;le++){var Me=i[le],O=g[Me][Q];(O<t[Me][0]||O>t[Me][1])&&(se=!1)}se&&(u[f++]=e.getRawIndex(C))}return f<s&&(e._indices=u),e._count=f,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var r=this.clone(t);return this._updateDims(r,t,e),r},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,r){for(var i=t._chunks,a=[],s=e.length,l=t.count(),u=[],f=t._rawExtent,d=0;d<e.length;d++)f[e[d]]=ql();for(var h=0;h<l;h++){for(var v=t.getRawIndex(h),g=0;g<s;g++)u[g]=i[e[g]][v];u[s]=h;var b=r&&r.apply(null,u);if(b!=null){typeof b!="object"&&(a[0]=b,b=a);for(var d=0;d<b.length;d++){var S=e[d],M=b[d],C=f[S],O=i[S];O&&(O[v]=M),M<C[0]&&(C[0]=M),M>C[1]&&(C[1]=M)}}}},n.prototype.lttbDownSample=function(t,e){var r=this.clone([t],!0),i=r._chunks,a=i[t],s=this.count(),l=0,u=Math.floor(1/e),f=this.getRawIndex(0),d,h,v,g=new(Ep(this._rawCount))(Math.ceil(s/u)+2);g[l++]=f;for(var b=1;b<s-1;b+=u){for(var S=Math.min(b+u,s-1),M=Math.min(b+u*2,s),C=(M+S)/2,O=0,E=S;E<M;E++){var I=this.getRawIndex(E),W=a[I];isNaN(W)||(O+=W)}O/=M-S;var H=b,Q=Math.min(b+u,s),se=b-1,le=a[f];d=-1,v=H;for(var E=H;E<Q;E++){var I=this.getRawIndex(E),W=a[I];isNaN(W)||(h=Math.abs((se-C)*(W-le)-(se-E)*(O-le)),h>d&&(d=h,v=I))}g[l++]=v,f=v}return g[l++]=this.getRawIndex(s-1),r._count=l,r._indices=g,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(t,e,r,i){for(var a=this.clone([t],!0),s=a._chunks,l=[],u=Math.floor(1/e),f=s[t],d=this.count(),h=a._rawExtent[t]=ql(),v=new(Ep(this._rawCount))(Math.ceil(d/u)),g=0,b=0;b<d;b+=u){u>d-b&&(u=d-b,l.length=u);for(var S=0;S<u;S++){var M=this.getRawIndex(b+S);l[S]=f[M]}var C=r(l),O=this.getRawIndex(Math.min(b+i(l,C)||0,d-1));f[O]=C,C<h[0]&&(h[0]=C),C>h[1]&&(h[1]=C),v[g++]=O}return a._count=g,a._indices=v,a._updateGetRawIdx(),a},n.prototype.each=function(t,e){if(!!this._count)for(var r=t.length,i=this._chunks,a=0,s=this.count();a<s;a++){var l=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(i[t[0]][l],a);break;case 2:e(i[t[0]][l],i[t[1]][l],a);break;default:for(var u=0,f=[];u<r;u++)f[u]=i[t[u]][l];f[u]=a,e.apply(null,f)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],r=ql();if(!e)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=r;for(var l=s[0],u=s[1],f=0;f<i;f++){var d=this.getRawIndex(f),h=e[d];h<l&&(l=h),h>u&&(u=h)}return s=[l,u],this._extent[t]=s,s},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][e]);return r},n.prototype.clone=function(t,e){var r=new n,i=this._chunks,a=t&&Object(y.reduce)(t,function(l,u){return l[u]=!0,l},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?v1(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),e||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Object(y.clone)(this._extent),t._rawExtent=Object(y.clone)(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,r,i,a){return zl(e[a],this._dimensions[a])}F0={arrayRows:t,objectRows:function(e,r,i,a){return zl(e[r],this._dimensions[a])},keyedColumns:t,original:function(e,r,i,a){var s=e&&(e.value==null?e:e.value);return zl(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(e,r,i,a){return e[a]}}}(),n}(),Pm=g1,Lm=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),r=!!e.length,i,a;if(Ap(t)){var s=t,l=void 0,u=void 0,f=void 0;if(r){var d=e[0];d.prepareSource(),f=d.getSource(),l=f.data,u=f.sourceFormat,a=[d._getVersionSign()]}else l=s.get("data",!0),u=Object(y.isTypedArray)(l)?af:yl,a=[];var h=this._getSourceMetaRawOption()||{},v=f&&f.metaRawOption||{},g=Object(y.retrieve2)(h.seriesLayoutBy,v.seriesLayoutBy)||null,b=Object(y.retrieve2)(h.sourceHeader,v.sourceHeader),S=Object(y.retrieve2)(h.dimensions,v.dimensions),M=g!==v.seriesLayoutBy||!!b!=!!v.sourceHeader||S;i=M?[Zv(l,{seriesLayoutBy:g,sourceHeader:b,dimensions:S},u)]:[]}else{var C=t;if(r){var O=this._applyTransform(e);i=O.sourceList,a=O.upstreamSignList}else{var E=C.get("source",!0);i=[Zv(E,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(t){var e=this._sourceHost,r=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&H0(a)}var s,l=[],u=[];return Object(y.each)(t,function(f){f.prepareSource();var d=f.getSource(i||0),h="";i!=null&&!d&&H0(h),l.push(d),u.push(f._getVersionSign())}),r?s=h1(r,l,{datasetIndex:e.componentIndex}):i!=null&&(s=[Wf(l[0])]),{sourceList:s,upstreamSignList:u}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign())return!0}},n.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var l=s[r];if(!l){var u=this._getUpstreamSourceManagers()[0];Ap(this._sourceHost)&&u?l=u._innerGetDataStore(t,e,r):(l=new Pm,l.initData(new Mp(e,t.length),t)),s[r]=l}return l},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Ap(t)){var e=Hv(t);return e?[e.getSourceManager()]:[]}else return Object(y.map)(ph(t),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,r,i;if(Ap(t))e=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}},n}();function V0(n){var t=n.option.transform;t&&Object(y.setAsPrimitive)(n.option.transform)}function Ap(n){return n.mainType==="series"}function H0(n){throw new Error(n)}var Pp="line-height:1";function Dm(n,t){var e=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",s=n.fontSize||14,l=n.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Ns(r+"")+"px;color:"+Ns(e)+";font-weight:"+Ns(i+""),valueStyle:"font-size:"+Ns(s+"")+"px;color:"+Ns(a)+";font-weight:"+Ns(l+"")}:{nameStyle:{fontSize:r,fill:e,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:l}}}var m1=[0,10,20,30],G0=["",`
`,`

`,`


`];function Ys(n,t){return t.type=n,t}function og(n){return n.type==="section"}function Rm(n){return og(n)?y1:Im}function U0(n){if(og(n)){var t=0,e=n.blocks.length,r=e>1||e>0&&!n.noHeader;return Object(y.each)(n.blocks,function(i){var a=U0(i);a>=t&&(t=a+ +(r&&(!a||og(i)&&!i.noHeader)))}),t}return 0}function y1(n,t,e,r){var i=t.noHeader,a=Nm(U0(t)),s=[],l=t.blocks||[];Object(y.assert)(!l||Object(y.isArray)(l)),l=l||[];var u=n.orderMode;if(t.sortBlocks&&u){l=l.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(Object(y.hasOwn)(f,u)){var d=new gh(f[u],null);l.sort(function(b,S){return d.evaluate(b.sortParam,S.sortParam)})}else u==="seriesDesc"&&l.reverse()}Object(y.each)(l,function(b,S){var M=t.valueFormatter,C=Rm(b)(M?Object(y.extend)(Object(y.extend)({},n),{valueFormatter:M}):n,b,S>0?a.html:0,r);C!=null&&s.push(C)});var h=n.renderMode==="richText"?s.join(a.richText):km(s.join(""),i?e:a.html);if(i)return h;var v=jv(t.header,"ordinal",n.useUTC),g=Dm(r,n.renderMode).nameStyle;return n.renderMode==="richText"?x1(n,v,g)+a.richText+h:km('<div style="'+g+";"+Pp+';">'+Ns(v)+"</div>"+h,e)}function Im(n,t,e,r){var i=n.renderMode,a=t.noName,s=t.noValue,l=!t.markerType,u=t.name,f=n.useUTC,d=t.valueFormatter||n.valueFormatter||function(I){return I=Object(y.isArray)(I)?I:[I],Object(y.map)(I,function(W,H){return jv(W,Object(y.isArray)(g)?g[H]:g,f)})};if(!(a&&s)){var h=l?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),v=a?"":jv(u,"ordinal",f),g=t.valueType,b=s?[]:d(t.value),S=!l||!a,M=!l&&a,C=Dm(r,i),O=C.nameStyle,E=C.valueStyle;return i==="richText"?(l?"":h)+(a?"":x1(n,v,O))+(s?"":S1(n,b,S,M,E)):km((l?"":h)+(a?"":nM(v,!l,O))+(s?"":vO(b,S,M,E)),e)}}function b1(n,t,e,r,i,a){if(!!n){var s=Rm(n),l={useUTC:i,renderMode:e,orderMode:r,markupStyleCreator:t,valueFormatter:n.valueFormatter};return s(l,n,0,a)}}function Nm(n){return{html:m1[n],richText:G0[n]}}function km(n,t){var e='<div style="clear:both"></div>',r="margin: "+t+"px 0 0";return'<div style="'+r+";"+Pp+';">'+n+e+"</div>"}function nM(n,t,e){var r=t?"margin-left:2px":"";return'<span style="'+e+";"+r+'">'+Ns(n)+"</span>"}function vO(n,t,e,r){var i=e?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return n=Object(y.isArray)(n)?n:[n],'<span style="'+a+";"+r+'">'+Object(y.map)(n,function(s){return Ns(s)}).join("&nbsp;&nbsp;")+"</span>"}function x1(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function S1(n,t,e,r,i){var a=[i],s=r?10:20;return e&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Object(y.isArray)(t)?t.join("  "):t,a)}function W0(n,t){var e=n.getData().getItemVisual(t,"style"),r=e[n.visualDrawType];return rf(r)}function K0(n,t){var e=n.get("padding");return e!=null?e:t==="richText"?[8,10]:10}var Lp=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Ll()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,r){var i=r==="richText"?this._generateStyleName():null,a=fh({color:e,type:t,renderMode:r,markerId:i});return Object(y.isString)(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(t,e){var r={};Object(y.isArray)(e)?Object(y.each)(e,function(a){return Object(y.extend)(r,a)}):Object(y.extend)(r,e);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},n}();function Y0(n){var t=n.series,e=n.dataIndex,r=n.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,l=t.getRawValue(e),u=Object(y.isArray)(l),f=W0(t,e),d,h,v,g;if(s>1||u&&!s){var b=rM(l,t,e,a,f);d=b.inlineValues,h=b.inlineValueTypes,v=b.blocks,g=b.inlineValues[0]}else if(s){var S=i.getDimensionInfo(a[0]);g=d=Cd(i,e,a[0]),h=S.type}else g=d=u?l[0]:l;var M=pu(t),C=M&&t.name||"",O=i.getName(e),E=r?C:O;return Ys("section",{header:C,noHeader:r||!M,sortParam:g,blocks:[Ys("nameValue",{markerType:"item",markerColor:f,name:E,noName:!Object(y.trim)(E),value:d,valueType:h})].concat(v||[])})}function rM(n,t,e,r,i){var a=t.getData(),s=Object(y.reduce)(n,function(h,v,g){var b=a.getDimensionInfo(g);return h=h||b&&b.tooltip!==!1&&b.displayName!=null},!1),l=[],u=[],f=[];r.length?Object(y.each)(r,function(h){d(Cd(a,e,h),h)}):Object(y.each)(n,d);function d(h,v){var g=a.getDimensionInfo(v);!g||g.otherDims.tooltip===!1||(s?f.push(Ys("nameValue",{markerType:"subItem",markerColor:i,name:g.displayName,value:h,valueType:g.type})):(l.push(h),u.push(g.type)))}return{inlineValues:l,inlineValueTypes:u,blocks:f}}var Td=Yi();function jm(n,t){return n.getName(t)||n.getId(t)}var sg="__universalTransitionEnabled",lg=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,r,i){this.seriesIndex=this.componentIndex,this.dataTask=_p({count:M1,reset:mh}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=Td(this).sourceManager=new Lm(this);a.prepareSource();var s=this.getInitialData(e,i);C1(s,this),this.dataTask.context.data=s,Td(this).dataBeforeProcessed=s,iM(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=hp(this),a=i?hh(e):{},s=this.subType;xa.hasClass(s)&&(s+="Series"),y.merge(e,r.getTheme().get(this.subType)),y.merge(e,this.getDefaultOption()),Dl(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&bd(e,a,i)},t.prototype.mergeOption=function(e,r){e=y.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var i=hp(this);i&&bd(this.option,e,i);var a=Td(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(e,r);C1(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Td(this).dataBeforeProcessed=s,iM(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(e){if(e&&!y.isTypedArray(e))for(var r=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&Dl(e[i],"label",r)},t.prototype.getInitialData=function(e,r){},t.prototype.appendData=function(e){var r=this.getRawData();r.appendData(e.data)},t.prototype.getData=function(e){var r=T1(this);if(r){var i=r.context.data;return e==null?i:i.getLinkedData(e)}else return Td(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var r=T1(this);if(r){var i=r.context;i.outputData=e,r!==this.dataTask&&(i.data=e)}Td(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return y.createHashMap(e)},t.prototype.getSourceManager=function(){return Td(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Td(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,r,i){return Y0({series:this,dataIndex:e,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(en.a.node&&!(e&&e.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,r,i){var a=this.ecModel,s=bm.prototype.getColorFromPalette.call(this,e,r,i);return s||(s=a.getColorFromPalette(e,r,i)),s},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,r){this._innerSelect(this.getData(r),e)},t.prototype.unselect=function(e,r){var i=this.option.selectedMap;if(!!i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var l=0;l<e.length;l++){var u=e[l],f=jm(s,u);i[f]=!1,this._selectedDataIndicesMap[f]=-1}}},t.prototype.toggleSelect=function(e,r){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,r=y.keys(e),i=[],a=0;a<r.length;a++){var s=e[r[a]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(e,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[jm(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[sg])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,r){var i,a,s=this.option,l=s.selectedMode,u=r.length;if(!(!l||!u)){if(l==="series")s.selectedMap="all";else if(l==="multiple"){y.isObject(s.selectedMap)||(s.selectedMap={});for(var f=s.selectedMap,d=0;d<u;d++){var h=r[d],v=jm(e,h);f[v]=!0,this._selectedDataIndicesMap[v]=e.getRawIndex(h)}}else if(l==="single"||l===!0){var g=r[u-1],v=jm(e,g);s.selectedMap=(i={},i[v]=!0,i),this._selectedDataIndicesMap=(a={},a[v]=e.getRawIndex(g),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var r=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(e,r)}},t.registerClass=function(e){return xa.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(xa);y.mixin(lg,Am),y.mixin(lg,bm),Xg(lg,xa);function iM(n){var t=n.name;pu(n)||(n.name=w1(n)||t)}function w1(n){var t=n.getRawData(),e=t.mapDimensionsAll("seriesName"),r=[];return y.each(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function M1(n){return n.model.getRawData().count()}function mh(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),_1}function _1(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function C1(n,t){y.each(y.concatArray(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,y.curry(yh,t))})}function yh(n,t){var e=T1(n);return e&&e.setOutputEnd((t||this).count()),t}function T1(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var r=e.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}var Io=lg,Kf=function(){function n(){this.group=new Wr,this.uid=sp("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){},n.prototype.updateLayout=function(t,e,r,i){},n.prototype.updateVisual=function(t,e,r,i){},n.prototype.blurSeries=function(t,e){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();dv(Kf),qd(Kf);var Xo=Kf;function Dp(){var n=Yi();return function(t){var e=n(t),r=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,s=e.large=!!(r&&r.large),l=e.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==l)&&"reset"}}var cc=Jn.CMD,gO=[[],[],[]],O1=Math.sqrt,aM=Math.atan2;function Bm(n,t){if(!!t){var e=n.data,r=n.len(),i,a,s,l,u,f,d=cc.M,h=cc.C,v=cc.L,g=cc.R,b=cc.A,S=cc.Q;for(s=0,l=0;s<r;){switch(i=e[s++],l=s,a=0,i){case d:a=1;break;case v:a=1;break;case h:a=3;break;case S:a=2;break;case b:var M=t[4],C=t[5],O=O1(t[0]*t[0]+t[1]*t[1]),E=O1(t[2]*t[2]+t[3]*t[3]),I=aM(-t[1]/E,t[0]/O);e[s]*=O,e[s++]+=M,e[s]*=E,e[s++]+=C,e[s++]*=O,e[s++]*=E,e[s++]+=I,e[s++]+=I,s+=2,l=s;break;case g:f[0]=e[s++],f[1]=e[s++],cn(f,f,t),e[l++]=f[0],e[l++]=f[1],f[0]+=e[s++],f[1]+=e[s++],cn(f,f,t),e[l++]=f[0],e[l++]=f[1]}for(u=0;u<a;u++){var W=gO[u];W[0]=e[s++],W[1]=e[s++],cn(W,W,t),e[l++]=W[0],e[l++]=W[1]}}n.increaseVersion()}}var X0=Math.sqrt,Rp=Math.sin,Fm=Math.cos,ug=Math.PI;function E1(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Z0(n,t){return(n[0]*t[0]+n[1]*t[1])/(E1(n)*E1(t))}function A1(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Z0(n,t))}function P1(n,t,e,r,i,a,s,l,u,f,d){var h=u*(ug/180),v=Fm(h)*(n-e)/2+Rp(h)*(t-r)/2,g=-1*Rp(h)*(n-e)/2+Fm(h)*(t-r)/2,b=v*v/(s*s)+g*g/(l*l);b>1&&(s*=X0(b),l*=X0(b));var S=(i===a?-1:1)*X0((s*s*(l*l)-s*s*(g*g)-l*l*(v*v))/(s*s*(g*g)+l*l*(v*v)))||0,M=S*s*g/l,C=S*-l*v/s,O=(n+e)/2+Fm(h)*M-Rp(h)*C,E=(t+r)/2+Rp(h)*M+Fm(h)*C,I=A1([1,0],[(v-M)/s,(g-C)/l]),W=[(v-M)/s,(g-C)/l],H=[(-1*v-M)/s,(-1*g-C)/l],Q=A1(W,H);if(Z0(W,H)<=-1&&(Q=ug),Z0(W,H)>=1&&(Q=0),Q<0){var se=Math.round(Q/ug*1e6)/1e6;Q=ug*2+se%2*ug}d.addData(f,O,E,s,l,I,Q,h,a)}var oM=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,sM=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function po(n){var t=new Jn;if(!n)return t;var e=0,r=0,i=e,a=r,s,l=Jn.CMD,u=n.match(oM);if(!u)return t;for(var f=0;f<u.length;f++){for(var d=u[f],h=d.charAt(0),v=void 0,g=d.match(sM)||[],b=g.length,S=0;S<b;S++)g[S]=parseFloat(g[S]);for(var M=0;M<b;){var C=void 0,O=void 0,E=void 0,I=void 0,W=void 0,H=void 0,Q=void 0,se=e,le=r,Me=void 0,xe=void 0;switch(h){case"l":e+=g[M++],r+=g[M++],v=l.L,t.addData(v,e,r);break;case"L":e=g[M++],r=g[M++],v=l.L,t.addData(v,e,r);break;case"m":e+=g[M++],r+=g[M++],v=l.M,t.addData(v,e,r),i=e,a=r,h="l";break;case"M":e=g[M++],r=g[M++],v=l.M,t.addData(v,e,r),i=e,a=r,h="L";break;case"h":e+=g[M++],v=l.L,t.addData(v,e,r);break;case"H":e=g[M++],v=l.L,t.addData(v,e,r);break;case"v":r+=g[M++],v=l.L,t.addData(v,e,r);break;case"V":r=g[M++],v=l.L,t.addData(v,e,r);break;case"C":v=l.C,t.addData(v,g[M++],g[M++],g[M++],g[M++],g[M++],g[M++]),e=g[M-2],r=g[M-1];break;case"c":v=l.C,t.addData(v,g[M++]+e,g[M++]+r,g[M++]+e,g[M++]+r,g[M++]+e,g[M++]+r),e+=g[M-2],r+=g[M-1];break;case"S":C=e,O=r,Me=t.len(),xe=t.data,s===l.C&&(C+=e-xe[Me-4],O+=r-xe[Me-3]),v=l.C,se=g[M++],le=g[M++],e=g[M++],r=g[M++],t.addData(v,C,O,se,le,e,r);break;case"s":C=e,O=r,Me=t.len(),xe=t.data,s===l.C&&(C+=e-xe[Me-4],O+=r-xe[Me-3]),v=l.C,se=e+g[M++],le=r+g[M++],e+=g[M++],r+=g[M++],t.addData(v,C,O,se,le,e,r);break;case"Q":se=g[M++],le=g[M++],e=g[M++],r=g[M++],v=l.Q,t.addData(v,se,le,e,r);break;case"q":se=g[M++]+e,le=g[M++]+r,e+=g[M++],r+=g[M++],v=l.Q,t.addData(v,se,le,e,r);break;case"T":C=e,O=r,Me=t.len(),xe=t.data,s===l.Q&&(C+=e-xe[Me-4],O+=r-xe[Me-3]),e=g[M++],r=g[M++],v=l.Q,t.addData(v,C,O,e,r);break;case"t":C=e,O=r,Me=t.len(),xe=t.data,s===l.Q&&(C+=e-xe[Me-4],O+=r-xe[Me-3]),e+=g[M++],r+=g[M++],v=l.Q,t.addData(v,C,O,e,r);break;case"A":E=g[M++],I=g[M++],W=g[M++],H=g[M++],Q=g[M++],se=e,le=r,e=g[M++],r=g[M++],v=l.A,P1(se,le,e,r,H,Q,E,I,W,v,t);break;case"a":E=g[M++],I=g[M++],W=g[M++],H=g[M++],Q=g[M++],se=e,le=r,e+=g[M++],r+=g[M++],v=l.A,P1(se,le,e,r,H,Q,E,I,W,v,t);break}}(h==="z"||h==="Z")&&(v=l.Z,t.addData(v),e=i,r=a),s=v}return t.toStatic(),t}var L1=function(n){An(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t}(ir);function D1(n){return n.setData!=null}function $0(n,t){var e=po(n),r=Object(y.extend)({},t);return r.buildPath=function(i){if(D1(i)){i.setData(e.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;e.rebuildPath(a,1)}},r.applyTransform=function(i){Bm(e,i),this.dirtyShape()},r}function zm(n,t){return new L1($0(n,t))}function lM(n,t){var e=$0(n,t),r=function(i){An(a,i);function a(s){var l=i.call(this,s)||this;return l.applyTransform=e.applyTransform,l.buildPath=e.buildPath,l}return a}(L1);return r}function uM(n,t){for(var e=[],r=n.length,i=0;i<r;i++){var a=n[i];e.push(a.getUpdatedPathProxy(!0))}var s=new ir(t);return s.createPathProxy(),s.buildPath=function(l){if(D1(l)){l.appendPath(e);var u=l.getContext();u&&l.rebuildPath(u,1)}},s}function R1(n,t){t=t||{};var e=new ir;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?Bm(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var I1=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Vm=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new I1},t.prototype.buildPath=function(e,r){e.moveTo(r.cx+r.r,r.cy),e.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(ir);Vm.prototype.type="circle";var Bc=Vm,mO=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),J0=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new mO},t.prototype.buildPath=function(e,r){var i=.5522848,a=r.cx,s=r.cy,l=r.rx,u=r.ry,f=l*i,d=u*i;e.moveTo(a-l,s),e.bezierCurveTo(a-l,s-d,a-f,s-u,a,s-u),e.bezierCurveTo(a+f,s-u,a+l,s-d,a+l,s),e.bezierCurveTo(a+l,s+d,a+f,s+u,a,s+u),e.bezierCurveTo(a-f,s+u,a-l,s+d,a-l,s),e.closePath()},t}(ir);J0.prototype.type="ellipse";var Od=J0,Q0=Math.PI,Ip=Q0*2,bh=Math.sin,xh=Math.cos,yO=Math.acos,xs=Math.atan2,cg=Math.abs,Sh=Math.sqrt,fg=Math.max,Fc=Math.min,ff=1e-4;function cM(n,t,e,r,i,a,s,l){var u=e-n,f=r-t,d=s-i,h=l-a,v=h*u-d*f;if(!(v*v<ff))return v=(d*(t-a)-h*(n-i))/v,[n+v*u,t+v*f]}function dg(n,t,e,r,i,a,s){var l=n-e,u=t-r,f=(s?a:-a)/Sh(l*l+u*u),d=f*u,h=-f*l,v=n+d,g=t+h,b=e+d,S=r+h,M=(v+b)/2,C=(g+S)/2,O=b-v,E=S-g,I=O*O+E*E,W=i-a,H=v*S-b*g,Q=(E<0?-1:1)*Sh(fg(0,W*W*I-H*H)),se=(H*E-O*Q)/I,le=(-H*O-E*Q)/I,Me=(H*E+O*Q)/I,xe=(-H*O+E*Q)/I,Be=se-M,ze=le-C,it=Me-M,pt=xe-C;return Be*Be+ze*ze>it*it+pt*pt&&(se=Me,le=xe),{cx:se,cy:le,x0:-d,y0:-h,x1:se*(i/W-1),y1:le*(i/W-1)}}function N1(n){var t;if(Object(y.isArray)(n)){var e=n.length;if(!e)return n;e===1?t=[n[0],n[0],0,0]:e===2?t=[n[0],n[0],n[1],n[1]]:e===3?t=n.concat(n[2]):t=n}else t=[n,n,n,n];return t}function bO(n,t){var e,r=fg(t.r,0),i=fg(t.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var l=r;r=i,i=l}var u=t.startAngle,f=t.endAngle;if(!(isNaN(u)||isNaN(f))){var d=t.cx,h=t.cy,v=!!t.clockwise,g=cg(f-u),b=g>Ip&&g%Ip;if(b>ff&&(g=b),!(r>ff))n.moveTo(d,h);else if(g>Ip-ff)n.moveTo(d+r*xh(u),h+r*bh(u)),n.arc(d,h,r,u,f,!v),i>ff&&(n.moveTo(d+i*xh(f),h+i*bh(f)),n.arc(d,h,i,f,u,v));else{var S=void 0,M=void 0,C=void 0,O=void 0,E=void 0,I=void 0,W=void 0,H=void 0,Q=void 0,se=void 0,le=void 0,Me=void 0,xe=void 0,Be=void 0,ze=void 0,it=void 0,pt=r*xh(u),At=r*bh(u),ln=i*xh(f),Qt=i*bh(f),vn=g>ff;if(vn){var Gn=t.cornerRadius;Gn&&(e=N1(Gn),S=e[0],M=e[1],C=e[2],O=e[3]);var fr=cg(r-i)/2;if(E=Fc(fr,C),I=Fc(fr,O),W=Fc(fr,S),H=Fc(fr,M),le=Q=fg(E,I),Me=se=fg(W,H),(Q>ff||se>ff)&&(xe=r*xh(f),Be=r*bh(f),ze=i*xh(u),it=i*bh(u),g<Q0)){var Er=cM(pt,At,ze,it,xe,Be,ln,Qt);if(Er){var li=pt-Er[0],na=At-Er[1],go=xe-Er[0],co=Be-Er[1],ha=1/bh(yO((li*go+na*co)/(Sh(li*li+na*na)*Sh(go*go+co*co)))/2),ui=Sh(Er[0]*Er[0]+Er[1]*Er[1]);le=Fc(Q,(r-ui)/(ha+1)),Me=Fc(se,(i-ui)/(ha-1))}}}if(!vn)n.moveTo(d+pt,h+At);else if(le>ff){var ga=Fc(C,le),Zi=Fc(O,le),kr=dg(ze,it,pt,At,r,ga,v),Hi=dg(xe,Be,ln,Qt,r,Zi,v);n.moveTo(d+kr.cx+kr.x0,h+kr.cy+kr.y0),le<Q&&ga===Zi?n.arc(d+kr.cx,h+kr.cy,le,xs(kr.y0,kr.x0),xs(Hi.y0,Hi.x0),!v):(ga>0&&n.arc(d+kr.cx,h+kr.cy,ga,xs(kr.y0,kr.x0),xs(kr.y1,kr.x1),!v),n.arc(d,h,r,xs(kr.cy+kr.y1,kr.cx+kr.x1),xs(Hi.cy+Hi.y1,Hi.cx+Hi.x1),!v),Zi>0&&n.arc(d+Hi.cx,h+Hi.cy,Zi,xs(Hi.y1,Hi.x1),xs(Hi.y0,Hi.x0),!v))}else n.moveTo(d+pt,h+At),n.arc(d,h,r,u,f,!v);if(!(i>ff)||!vn)n.lineTo(d+ln,h+Qt);else if(Me>ff){var ga=Fc(S,Me),Zi=Fc(M,Me),kr=dg(ln,Qt,xe,Be,i,-Zi,v),Hi=dg(pt,At,ze,it,i,-ga,v);n.lineTo(d+kr.cx+kr.x0,h+kr.cy+kr.y0),Me<se&&ga===Zi?n.arc(d+kr.cx,h+kr.cy,Me,xs(kr.y0,kr.x0),xs(Hi.y0,Hi.x0),!v):(Zi>0&&n.arc(d+kr.cx,h+kr.cy,Zi,xs(kr.y0,kr.x0),xs(kr.y1,kr.x1),!v),n.arc(d,h,i,xs(kr.cy+kr.y1,kr.cx+kr.x1),xs(Hi.cy+Hi.y1,Hi.cx+Hi.x1),v),ga>0&&n.arc(d+Hi.cx,h+Hi.cy,ga,xs(Hi.y1,Hi.x1),xs(Hi.y0,Hi.x0),!v))}else n.lineTo(d+ln,h+Qt),n.arc(d,h,i,f,u,v)}n.closePath()}}}var fM=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),dM=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new fM},t.prototype.buildPath=function(e,r){bO(e,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(ir);dM.prototype.type="sector";var Vl=dM,Hm=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),q0=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Hm},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,s=Math.PI*2;e.moveTo(i+r.r,a),e.arc(i,a,r.r,0,s,!1),e.moveTo(i+r.r0,a),e.arc(i,a,r.r0,0,s,!0)},t}(ir);q0.prototype.type="ring";var Gm=q0;function Um(n,t,e,r){var i=[],a=[],s=[],l=[],u,f,d,h;if(r){d=[Infinity,Infinity],h=[-Infinity,-Infinity];for(var v=0,g=n.length;v<g;v++)gn(d,d,n[v]),tn(h,h,n[v]);gn(d,d,r[0]),tn(h,h,r[1])}for(var v=0,g=n.length;v<g;v++){var b=n[v];if(e)u=n[v?v-1:g-1],f=n[(v+1)%g];else if(v===0||v===g-1){i.push(Ee(n[v]));continue}else u=n[v-1],f=n[v+1];Ke(a,f,u),Ce(a,a,t);var S=we(b,u),M=we(b,f),C=S+M;C!==0&&(S/=C,M/=C),Ce(s,a,-S),Ce(l,a,M);var O=Ie([],b,s),E=Ie([],b,l);r&&(tn(O,O,d),gn(O,O,h),tn(E,E,d),gn(E,E,h)),i.push(O),i.push(E)}return e&&i.push(i.shift()),i}function Ss(n,t,e){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var a=Um(i,r,e,t.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var s=i.length,l=0;l<(e?s:s-1);l++){var u=a[l*2],f=a[l*2+1],d=i[(l+1)%s];n.bezierCurveTo(u[0],u[1],f[0],f[1],d[0],d[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var l=1,h=i.length;l<h;l++)n.lineTo(i[l][0],i[l][1])}e&&n.closePath()}}var xO=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Cs=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new xO},t.prototype.buildPath=function(e,r){Ss(e,r,!0)},t}(ir);Cs.prototype.type="polygon";var sl=Cs,hM=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),pM=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hM},t.prototype.buildPath=function(e,r){Ss(e,r,!1)},t}(ir);pM.prototype.type="polyline";var Mu=pM,k1={},Wm=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Km=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Wm},t.prototype.buildPath=function(e,r){var i,a,s,l;if(this.subPixelOptimize){var u=Nf(k1,r,this.style);i=u.x1,a=u.y1,s=u.x2,l=u.y2}else i=r.x1,a=r.y1,s=r.x2,l=r.y2;var f=r.percent;f!==0&&(e.moveTo(i,a),f<1&&(s=i*(1-f)+s*f,l=a*(1-f)+l*f),e.lineTo(s,l))},t.prototype.pointAt=function(e){var r=this.shape;return[r.x1*(1-e)+r.x2*e,r.y1*(1-e)+r.y2*e]},t}(ir);Km.prototype.type="line";var ll=Km,eu=[],SO=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function eb(n,t,e){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(e?Uo:za)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Uo:za)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?nu:Ta)(n.x1,n.cpx1,n.x2,t),(e?nu:Ta)(n.y1,n.cpy1,n.y2,t)]}var j1=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new SO},t.prototype.buildPath=function(e,r){var i=r.x1,a=r.y1,s=r.x2,l=r.y2,u=r.cpx1,f=r.cpy1,d=r.cpx2,h=r.cpy2,v=r.percent;v!==0&&(e.moveTo(i,a),d==null||h==null?(v<1&&(ul(i,u,s,v,eu),u=eu[1],s=eu[2],ul(a,f,l,v,eu),f=eu[1],l=eu[2]),e.quadraticCurveTo(u,f,s,l)):(v<1&&(rs(i,u,d,s,v,eu),u=eu[1],d=eu[2],s=eu[3],rs(a,f,h,l,v,eu),f=eu[1],h=eu[2],l=eu[3]),e.bezierCurveTo(u,f,d,h,s,l)))},t.prototype.pointAt=function(e){return eb(this.shape,e,!1)},t.prototype.tangentAt=function(e){var r=eb(this.shape,e,!0);return ge(r,r)},t}(ir);j1.prototype.type="bezier-curve";var Ym=j1,wO=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),vM=function(n){An(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wO},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),l=r.startAngle,u=r.endAngle,f=r.clockwise,d=Math.cos(l),h=Math.sin(l);e.moveTo(d*s+i,h*s+a),e.arc(i,a,s,l,u,!f)},t}(ir);vM.prototype.type="arc";var tb=vM,MO=function(n){An(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,r=this.shapeChanged(),i=0;i<e.length;i++)r=r||e[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(r[0],r[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],r=0;r<e.length;r++)e[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ir.prototype.getBoundingRect.call(this)},t}(ir),nb=MO,_O=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),gM=_O,CO=function(n){An(t,n);function t(e,r,i,a,s,l){var u=n.call(this,s)||this;return u.x=e==null?0:e,u.y=r==null?0:r,u.x2=i==null?1:i,u.y2=a==null?0:a,u.type="linear",u.global=l||!1,u}return t}(gM),hg=CO,TO=function(n){An(t,n);function t(e,r,i,a,s){var l=n.call(this,a)||this;return l.x=e==null?.5:e,l.y=r==null?.5:r,l.r=i==null?.5:i,l.type="radial",l.global=s||!1,l}return t}(gM),B1=TO,Np=[0,0],kp=[0,0],rb=new mi,ib=new mi,OO=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new mi;for(var r=0;r<2;r++)this._axes[r]=new mi;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var r=this._corners,i=this._axes,a=t.x,s=t.y,l=a+t.width,u=s+t.height;if(r[0].set(a,s),r[1].set(l,s),r[2].set(l,u),r[3].set(a,u),e)for(var f=0;f<4;f++)r[f].transform(e);mi.sub(i[0],r[1],r[0]),mi.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var f=0;f<2;f++)this._origin[f]=i[f].dot(r[0])},n.prototype.intersect=function(t,e){var r=!0,i=!e;return rb.set(Infinity,Infinity),ib.set(0,0),!this._intersectCheckOneSide(this,t,rb,ib,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,rb,ib,i,-1)&&(r=!1,i)||i||mi.copy(e,r?rb:ib),r},n.prototype._intersectCheckOneSide=function(t,e,r,i,a,s){for(var l=!0,u=0;u<2;u++){var f=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,Np),this._getProjMinMaxOnAxis(u,e._corners,kp),Np[1]<kp[0]||Np[0]>kp[1]){if(l=!1,a)return l;var d=Math.abs(kp[0]-Np[1]),h=Math.abs(Np[0]-kp[1]);Math.min(d,h)>i.len()&&(d<h?mi.scale(i,f,-d*s):mi.scale(i,f,h*s))}else if(r){var d=Math.abs(kp[0]-Np[1]),h=Math.abs(Np[0]-kp[1]);Math.min(d,h)<r.len()&&(d<h?mi.scale(r,f,d*s):mi.scale(r,f,-h*s))}}return l},n.prototype._getProjMinMaxOnAxis=function(t,e,r){for(var i=this._axes[t],a=this._origin,s=e[0].dot(i)+a[t],l=s,u=s,f=1;f<e.length;f++){var d=e[f].dot(i)+a[t];l=Math.min(d,l),u=Math.max(d,u)}r[0]=l,r[1]=u},n}(),ab=OO,EO=[],AO=function(n){An(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,r){r?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,r){r=r||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var r=this._cursor;r<this._displayables.length;r++)e&&e(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)e&&e(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var r=this._displayables[e];r.parent=this,r.update(),r.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var r=this._temporaryDisplayables[e];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Hn(Infinity,Infinity,-Infinity,-Infinity),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(EO)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var l=this._displayables[s];if(l.contain(e,r))return!0}return!1},t}(N),mM=AO,ob=Math.max,sb=Math.min,F1={};function yM(n){return ir.extend(n)}var PO=lM;function bM(n,t){return PO(n,t)}function zc(n,t){F1[n]=t}function lb(n){if(F1.hasOwnProperty(n))return F1[n]}function Xm(n,t,e,r){var i=zm(n,t);return e&&(r==="center"&&(e=xM(e,i.getBoundingRect())),V1(i,e)),i}function z1(n,t,e){var r=new cs({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};r.setStyle(xM(t,a))}}});return r}function xM(n,t){var e=t.width/t.height,r=n.height*e,i;r<=n.width?i=n.height:(r=n.width,i=r/e);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var fc=uM;function V1(n,t){if(!!n.applyTransform){var e=n.getBoundingRect(),r=e.calculateTransform(t);n.applyTransform(r)}}function LO(n){return Nf(n.shape,n.shape,n.style),n}function DO(n){return dd(n.shape,n.shape,n.style),n}var ub=Fu;function wh(n,t){for(var e=Zs([]);n&&n!==t;)ho(e,n.getLocalTransform(),e),n=n.parent;return e}function df(n,t,e){return t&&!Object(y.isArrayLike)(t)&&(t=$u.getLocalTransform(t)),e&&(t=dl([],t)),cn([],n,t)}function cb(n,t,e){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=df(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function SM(n){return!n.isGroup}function w(n){return n.shape!=null}function o(n,t,e){if(!n||!t)return;function r(s){var l={};return s.traverse(function(u){SM(u)&&u.anid&&(l[u.anid]=u)}),l}function i(s){var l={x:s.x,y:s.y,rotation:s.rotation};return w(s)&&(l.shape=Object(y.extend)({},s.shape)),l}var a=r(n);t.traverse(function(s){if(SM(s)&&s.anid){var l=a[s.anid];if(l){var u=i(s);s.attr(i(l)),Ea(s,u,e,Yr(s).dataIndex)}}})}function c(n,t){return Object(y.map)(n,function(e){var r=e[0];r=ob(r,t.x),r=sb(r,t.x+t.width);var i=e[1];return i=ob(i,t.y),i=sb(i,t.y+t.height),[r,i]})}function p(n,t){var e=ob(n.x,t.x),r=sb(n.x+n.width,t.x+t.width),i=ob(n.y,t.y),a=sb(n.y+n.height,t.y+t.height);if(r>=e&&a>=i)return{x:e,y:i,width:r-e,height:a-i}}function m(n,t,e){var r=Object(y.extend)({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),Object(y.defaults)(i,e),new cs(r)):Xm(n.replace("path://",""),r,e,"center")}function x(n,t,e,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var l=i[a];if(_(n,t,e,r,l[0],l[1],s[0],s[1]))return!0;s=l}}function _(n,t,e,r,i,a,s,l){var u=e-n,f=r-t,d=s-i,h=l-a,v=T(d,h,u,f);if(A(v))return!1;var g=n-i,b=t-a,S=T(g,b,u,f)/v;if(S<0||S>1)return!1;var M=T(g,b,d,h)/v;return!(M<0||M>1)}function T(n,t,e,r){return n*r-e*t}function A(n){return n<=1e-6&&n>=-1e-6}function L(n){var t=n.itemTooltipOption,e=n.componentModel,r=n.itemName,i=Object(y.isString)(t)?{formatter:t}:t,a=e.mainType,s=e.componentIndex,l={componentType:a,name:r,$vars:["name"]};l[a+"Index"]=s;var u=n.formatterParamsExtra;u&&Object(y.each)(Object(y.keys)(u),function(d){Object(y.hasOwn)(l,d)||(l[d]=u[d],l.$vars.push(d))});var f=Yr(n.el);f.componentMainType=a,f.componentIndex=s,f.tooltipConfig={name:r,option:Object(y.defaults)({content:r,formatterParams:l},i)}}function z(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function U(n,t){if(n)if(Object(y.isArray)(n))for(var e=0;e<n.length;e++)z(n[e],t);else z(n,t)}zc("circle",Bc),zc("ellipse",Od),zc("sector",Vl),zc("ring",Gm),zc("polygon",sl),zc("polyline",Mu),zc("rect",Bi),zc("line",ll),zc("bezierCurve",Ym),zc("arc",tb);var G=Yi(),K=Dp(),te=function(){function n(){this.group=new Wr,this.uid=sp("viewChart"),this.renderTask=_p({plan:ne,reset:q}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.highlight=function(t,e,r,i){var a=t.getData(i&&i.dataType);!a||Le(a,i,"emphasis")},n.prototype.downplay=function(t,e,r,i){var a=t.getData(i&&i.dataType);!a||Le(a,i,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.eachRendered=function(t){U(this.group,t)},n.markUpdateMethod=function(t,e){G(t).updateMethod=e},n.protoInitialize=function(){var t=n.prototype;t.type="chart"}(),n}();function ce(n,t,e){n&&Ov(n)&&(t==="emphasis"?Hu:Ql)(n,e)}function Le(n,t,e){var r=Lf(n,t),i=t&&t.highlightKey!=null?Cw(t.highlightKey):null;r!=null?Object(y.each)(Xa(r),function(a){ce(n.getItemGraphicEl(a),e,i)}):n.eachItemGraphicEl(function(a){ce(a,e,i)})}dv(te,["dispose"]),qd(te);function ne(n){return K(n.model)}function q(n){var t=n.model,e=n.ecModel,r=n.api,i=n.payload,a=t.pipelineContext.progressiveRender,s=n.view,l=i&&G(i).updateMethod,u=a?"incrementalPrepareRender":l&&s[l]?l:"render";return u!=="render"&&s[u](t,e,r,i),Fe[u]}var Fe={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Te=te,lt="\0__throttleOriginMethod",Ot="\0__throttleRate",He="\0__throttleType";function Bt(n,t,e){var r,i=0,a=0,s=null,l,u,f,d;t=t||0;function h(){a=new Date().getTime(),s=null,n.apply(u,f||[])}var v=function(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];r=new Date().getTime(),u=this,f=g;var S=d||t,M=d||e;d=null,l=r-(M?i:a)-S,clearTimeout(s),M?s=setTimeout(h,S):l>=0?h():s=setTimeout(h,-l),i=r};return v.clear=function(){s&&(clearTimeout(s),s=null)},v.debounceNextCall=function(g){d=g},v}function dn(n,t,e,r){var i=n[t];if(!!i){var a=i[lt]||i,s=i[He],l=i[Ot];if(l!==e||s!==r){if(e==null||!r)return n[t]=a;i=n[t]=Bt(a,e,r==="debounce"),i[lt]=a,i[He]=r,i[Ot]=e}return i}}function qt(n,t){var e=n[t];e&&e[lt]&&(e.clear&&e.clear(),n[t]=e[lt])}var Ht=Yi(),qn={itemStyle:Df(t0,!0),lineStyle:Df(Tx,!0)},xn={lineStyle:"stroke",itemStyle:"fill"};function mn(n,t){var e=n.visualStyleMapper||qn[t];return e||(console.warn("Unkown style type '"+t+"'."),qn.itemStyle)}function En(n,t){var e=n.visualDrawType||xn[t];return e||(console.warn("Unkown style type '"+t+"'."),"fill")}var Mn={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=mn(n,r),s=a(i),l=i.getShallow("decal");l&&(e.setVisual("decal",l),l.dirty=!0);var u=En(n,r),f=s[u],d=Object(y.isFunction)(f)?f:null,h=s.fill==="auto"||s.stroke==="auto";if(!s[u]||d||h){var v=n.getColorFromPalette(n.name,null,t.getSeriesCount());s[u]||(s[u]=v,e.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Object(y.isFunction)(s.fill)?v:s.fill,s.stroke=s.stroke==="auto"||Object(y.isFunction)(s.stroke)?v:s.stroke}if(e.setVisual("style",s),e.setVisual("drawType",u),!t.isSeriesFiltered(n)&&d)return e.setVisual("colorFromPalette",!1),{dataEach:function(g,b){var S=n.getDataParams(b),M=Object(y.extend)({},s);M[u]=d(S),g.setItemVisual(b,"style",M)}}}},On=new Mo,_r={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!(n.ignoreStyleOnData||t.isSeriesFiltered(n))){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=mn(n,r),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(s,l){var u=s.getRawDataItem(l);if(u&&u[r]){On.option=u[r];var f=i(On),d=s.ensureUniqueItemVisual(l,"style");Object(y.extend)(d,f),On.option.decal&&(s.setItemVisual(l,"decal",On.option.decal),On.option.decal.dirty=!0),a in f&&s.setItemVisual(l,"colorFromPalette",!1)}}:null}}}},di={performRawSeries:!0,overallReset:function(n){var t=Object(y.createHashMap)();n.eachSeries(function(e){var r=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+r,a=t.get(i);a||(a={},t.set(i,a)),Ht(e).scope=a}}),n.eachSeries(function(e){if(!(e.isColorBySeries()||n.isSeriesFiltered(e))){var r=e.getRawData(),i={},a=e.getData(),s=Ht(e).scope,l=e.visualStyleAccessPath||"itemStyle",u=En(e,l);a.each(function(f){var d=a.getRawIndex(f);i[d]=f}),r.each(function(f){var d=i[f],h=a.getItemVisual(d,"colorFromPalette");if(h){var v=a.ensureUniqueItemVisual(d,"style"),g=r.getName(f)||f+"",b=r.count();v[u]=e.getColorFromPalette(g,s,b)}})}})}},Ci=Math.PI;function $r(n,t){t=t||{},y.defaults(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Wr,r=new Bi({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(r);var i=new Fi({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Bi({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var s;return t.showSpinner&&(s=new tb({shape:{startAngle:-Ci/2,endAngle:-Ci/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:Ci*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:Ci*3/2}).delay(300).start("circularInOut"),e.add(s)),e.resize=function(){var l=i.getBoundingRect().width,u=t.showSpinner?t.spinnerRadius:0,f=(n.getWidth()-u*2-(t.showSpinner&&l?10:0)-l)/2-(t.showSpinner&&l?0:5+l/2)+(t.showSpinner?0:l/2)+(l?0:u),d=n.getHeight()/2;t.showSpinner&&s.setShape({cx:f,cy:d}),a.setShape({x:f-u,y:d-u,width:u*2,height:u*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}var Sa=function(){function n(t,e,r,i){this._stageTaskMap=Object(y.createHashMap)(),this.ecInstance=t,this.api=e,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(t,e){if(!!t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,a=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex,s=a?r.step:null,l=i&&i.modDataCount,u=l!=null?Math.ceil(l/s):null;return{step:s,modBy:u,modDataCount:l}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),s=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold,l=t.get("large")&&a>=t.get("largeThreshold"),u=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=r.context={progressiveRender:s,modDataCount:u,large:l}},n.prototype.restorePipelines=function(t){var e=this,r=e._pipelineMap=Object(y.createHashMap)();t.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),r=this.api;Object(y.each)(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),s="";Object(y.assert)(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,e,r),i.overallReset&&this._createOverallStageTask(i,a,e,r)},this)},n.prototype.prepareView=function(t,e,r,i){var a=t.renderTask,s=a.context;s.model=e,s.ecModel=r,s.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)},n.prototype._performStageTasks=function(t,e,r,i){i=i||{};var a=!1,s=this;Object(y.each)(t,function(u,f){if(!(i.visualType&&i.visualType!==u.visualType)){var d=s._stageTaskMap.get(u.uid),h=d.seriesTaskMap,v=d.overallTask;if(v){var g,b=v.agentStubMap;b.each(function(M){l(i,M)&&(M.dirty(),g=!0)}),g&&v.dirty(),s.updatePayload(v,r);var S=s.getPerformArgs(v,i.block);b.each(function(M){M.perform(S)}),v.perform(S)&&(a=!0)}else h&&h.each(function(M,C){l(i,M)&&M.dirty();var O=s.getPerformArgs(M,i.block);O.skip=!u.performRawSeries&&e.isSeriesFiltered(M.context.model),s.updatePayload(M,r),M.perform(O)&&(a=!0)})}});function l(u,f){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(f.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(r){e=r.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,r,i){var a=this,s=e.seriesTaskMap,l=e.seriesTaskMap=Object(y.createHashMap)(),u=t.seriesType,f=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(d):u?r.eachRawSeriesByType(u,d):f&&f(r,i).each(d);function d(h){var v=h.uid,g=l.set(v,s&&s.get(v)||_p({plan:zi,reset:da,count:_a}));g.context={model:h,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(h,g)}},n.prototype._createOverallStageTask=function(t,e,r,i){var a=this,s=e.overallTask=e.overallTask||_p({reset:sr});s.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var l=s.agentStubMap,u=s.agentStubMap=Object(y.createHashMap)(),f=t.seriesType,d=t.getTargetSeries,h=!0,v=!1,g="";Object(y.assert)(!t.createOnAllSeries,g),f?r.eachRawSeriesByType(f,b):d?d(r,i).each(b):(h=!1,Object(y.each)(r.getSeries(),b));function b(S){var M=S.uid,C=u.set(M,l&&l.get(M)||(v=!0,_p({reset:wr,onDirty:jn})));C.context={model:S,overallProgress:h},C.agent=s,C.__block=h,a._pipe(S,C)}v&&s.dirty()},n.prototype._pipe=function(t,e){var r=t.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},n.wrapStageHandler=function(t,e){return Object(y.isFunction)(t)&&(t={overallReset:t,seriesType:Bn(t)}),t.uid=sp("stageHandler"),e&&(t.visualType=e),t},n}();function sr(n){n.overallReset(n.ecModel,n.api,n.payload)}function wr(n){return n.overallProgress&&wi}function wi(){this.agent.dirty(),this.getDownstream().dirty()}function jn(){this.agent&&this.agent.dirty()}function zi(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function da(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=Xa(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?Object(y.map)(t,function(e,r){return Si(r)}):oi}var oi=Si(0);function Si(n){return function(t,e){var r=e.data,i=e.resetDefines[n];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function _a(n){return n.data.count()}function Bn(n){vi=null;try{n(lr,Mr)}catch(t){}return vi}var lr={},Mr={},vi;zr(lr,bp),zr(Mr,Wv),lr.eachSeriesByType=lr.eachRawSeriesByType=function(n){vi=n},lr.eachComponent=function(n){n.mainType==="series"&&n.subType&&(vi=n.subType)};function zr(n,t){for(var e in t.prototype)n[e]=y.noop}var _t=Sa,ft=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],In={color:ft,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ft]},er="#B9B8CE",gr="#100C2A",ti=function(){return{axisLine:{lineStyle:{color:er}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ta=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Pi={darkMode:!0,color:ta,backgroundColor:gr,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:er}},textStyle:{color:er},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:er}},dataZoom:{borderColor:"#71708A",textStyle:{color:er},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:er}},timeline:{lineStyle:{color:er},label:{color:er},controlStyle:{color:er,borderColor:er}},calendar:{itemStyle:{color:gr},dayLabel:{color:er},monthLabel:{color:er},yearLabel:{color:er}},timeAxis:ti(),logAxis:ti(),valueAxis:ti(),categoryAxis:ti(),line:{symbol:"circle"},graph:{color:ta},gauge:{title:{color:er},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:er},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Pi.categoryAxis.splitLine.show=!1;var va=Pi,Ti=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},r={},i={};if(y.isString(t)){var a=Bu(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var s=["Index","Name","Id"],l={name:1,dataIndex:1,dataType:1};y.each(t,function(u,f){for(var d=!1,h=0;h<s.length;h++){var v=s[h],g=f.lastIndexOf(v);if(g>0&&g===f.length-v.length){var b=f.slice(0,g);b!=="data"&&(e.mainType=b,e[v.toLowerCase()]=u,d=!0)}}l.hasOwnProperty(f)&&(r[f]=u,d=!0),d||(i[f]=u)})}return{cptQuery:e,dataQuery:r,otherQuery:i}},n.prototype.filter=function(t,e){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,l=r.view;if(!s||!l)return!0;var u=e.cptQuery,f=e.dataQuery;return d(u,s,"mainType")&&d(u,s,"subType")&&d(u,s,"index","componentIndex")&&d(u,s,"name")&&d(u,s,"id")&&d(f,a,"name")&&d(f,a,"dataIndex")&&d(f,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,i,a));function d(h,v,g,b){return h[g]==null||v[b||g]===h[g]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Xt=["symbol","symbolSize","symbolRotate","symbolOffset"],Vr=Xt.concat(["symbolKeepAspect"]),$n={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<Xt.length;s++){var l=Xt[s],u=n.get(l);Object(y.isFunction)(u)?(a=!0,i[l]=u):r[l]=u}if(r.symbol=r.symbol||n.defaultSymbol,e.setVisual(Object(y.extend)({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),t.isSeriesFiltered(n))return;var f=Object(y.keys)(i);function d(h,v){for(var g=n.getRawValue(v),b=n.getDataParams(v),S=0;S<f.length;S++){var M=f[S];h.setItemVisual(v,M,i[M](g,b))}}return{dataEach:a?d:null}}},Oi={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.hasSymbolVisual||t.isSeriesFiltered(n))return;var e=n.getData();function r(i,a){for(var s=i.getItemModel(a),l=0;l<Vr.length;l++){var u=Vr[l],f=s.getShallow(u,!0);f!=null&&i.setItemVisual(a,u,f)}}return{dataEach:e.hasItemOption?r:null}}};function hi(n,t,e){switch(e){case"color":var r=n.getItemVisual(t,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e);default:}}function ja(n,t){switch(t){case"color":var e=n.getVisual("style");return e[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t);default:}}function xl(n,t,e,r){switch(e){case"color":var i=n.ensureUniqueItemVisual(t,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,r);break;default:}}function Sl(n,t){function e(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(s){a.push(s.seriesIndex)}),a}Object(y.each)([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){t(r[0],function(i,a,s){i=Object(y.extend)({},i),s.dispatchAction(Object(y.extend)(i,{type:r[1],seriesIndex:e(a,i)}))})})}function Uu(n,t,e,r,i){var a=n+t;e.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var l=s.seriesIndex,u=s.option.selectedMap,f=i.selected,d=0;d<f.length;d++)if(f[d].seriesIndex===l){var h=s.getData(),v=Lf(h,i.fromActionPayload);e.trigger(a,{type:a,seriesId:s.id,name:Object(y.isArray)(v)?h.getName(v[0]):h.getName(v),selected:Object(y.isString)(u)?u:Object(y.extend)({},u)})}})}function Bs(n,t,e){n.on("selectchanged",function(r){var i=e.getModel();r.isFromClick?(Uu("map","selectchanged",t,i,r),Uu("pie","selectchanged",t,i,r)):r.fromAction==="select"?(Uu("map","selected",t,i,r),Uu("pie","selected",t,i,r)):r.fromAction==="unselect"&&(Uu("map","unselected",t,i,r),Uu("pie","unselected",t,i,r))})}function _u(n,t,e){for(var r;n&&!(t(n)&&(r=n,e));)n=n.__hostTarget||n.parent;return r}var Vc=Math.round(Math.random()*9),wM=typeof Object.defineProperty=="function",H1=function(){function n(){this._id="__ec_inner_"+Vc++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var r=this._guard(t);return wM?Object.defineProperty(r,this._id,{value:e,enumerable:!1,configurable:!0}):r[this._id]=e,this},n.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),G1=H1,Mh=ir.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,r-a),n.lineTo(e+i,r+a),n.lineTo(e-i,r+a),n.closePath()}}),U1=ir.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,a=t.height/2;n.moveTo(e,r-a),n.lineTo(e+i,r),n.lineTo(e,r+a),n.lineTo(e-i,r),n.closePath()}}),W1=ir.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),s=i/2,l=s*s/(a-s),u=r-a+s+l,f=Math.asin(l/s),d=Math.cos(f)*s,h=Math.sin(f),v=Math.cos(f),g=s*.6,b=s*.7;n.moveTo(e-d,u+l),n.arc(e,u,s,Math.PI-f,Math.PI*2+f),n.bezierCurveTo(e+d-h*g,u+l+v*g,e,r-b,e,r),n.bezierCurveTo(e,r-b,e-d+h*g,u+l+v*g,e-d,u+l),n.closePath()}}),MM=ir.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,r=t.width,i=t.x,a=t.y,s=r/3*2;n.moveTo(i,a),n.lineTo(i+s,a+e),n.lineTo(i,a+e/4*3),n.lineTo(i-s,a+e),n.lineTo(i,a),n.closePath()}}),Zm={line:ll,rect:Bi,roundRect:Bi,square:Bi,circle:Bc,diamond:U1,pin:W1,arrow:MM,triangle:Mh},_M={line:function(n,t,e,r,i){i.x1=n,i.y1=t+r/2,i.x2=n+e,i.y2=t+r/2},rect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r},roundRect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r,i.r=Math.min(e,r)/4},square:function(n,t,e,r,i){var a=Math.min(e,r);i.x=n,i.y=t,i.width=a,i.height=a},circle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.r=Math.min(e,r)/2},diamond:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r},pin:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},arrow:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},triangle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r}},jp={};Object(y.each)(Zm,function(n,t){jp[t]=new n});var K1=ir.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var r=Ud(n,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(r.y=e.y+e.height*.4),r},buildPath:function(n,t,e){var r=t.symbolType;if(r!=="none"){var i=jp[r];i||(r="rect",i=jp[r]),_M[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(n,i.shape,e)}}});function CM(n,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=n:e.fill=n,this.markRedraw()}}function Ts(n,t,e,r,i,a,s){var l=n.indexOf("empty")===0;l&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var u;return n.indexOf("image://")===0?u=z1(n.slice(8),new Hn(t,e,r,i),s?"center":"cover"):n.indexOf("path://")===0?u=Xm(n.slice(7),{},new Hn(t,e,r,i),s?"center":"cover"):u=new K1({shape:{symbolType:n,x:t,y:e,width:r,height:i}}),u.__isEmptyBrush=l,u.setColor=CM,a&&u.setColor(a),u}function pg(n){return Object(y.isArray)(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function gt(n,t){if(n!=null)return Object(y.isArray)(n)||(n=[n,n]),[Yn(n[0],t[0])||0,Yn(Object(y.retrieve2)(n[1],n[0]),t[1])||0]}function yn(n,t,e){var r=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(r=r*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,s=s*e.height+e.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,a=isNaN(a)?0:a,s=isNaN(s)?0:s;var l=n.createLinearGradient(r,a,i,s);return l}function Rn(n,t,e){var r=e.width,i=e.height,a=Math.min(r,i),s=t.x==null?.5:t.x,l=t.y==null?.5:t.y,u=t.r==null?.5:t.r;t.global||(s=s*r+e.x,l=l*i+e.y,u=u*a);var f=n.createRadialGradient(s,l,0,s,l,u);return f}function Cn(n,t,e){for(var r=t.type==="radial"?Rn(n,t,e):yn(n,t,e),i=t.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function Kn(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}function la(n){return parseInt(n,10)}function Vi(n,t,e){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(e[r]!=null&&e[r]!=="auto")return parseFloat(e[r]);var l=document.defaultView.getComputedStyle(n);return(n[i]||la(l[r])||la(n.style[r]))-(la(l[a])||0)-(la(l[s])||0)|0}function qi(n,t){return!n||n==="solid"||!(t>0)?null:n==="dashed"?[4*t,2*t]:n==="dotted"?[t]:Object(y.isNumber)(n)?[n]:Object(y.isArray)(n)?n:null}function Ba(n){var t=n.style,e=t.lineDash&&t.lineWidth>0&&qi(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(e){var i=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(e=Object(y.map)(e,function(a){return a/i}),r/=i)}return[e,r]}var Vo=new Jn(!0);function Ua(n){var t=n.stroke;return!(t==null||t==="none"||!(n.lineWidth>0))}function vo(n){return typeof n=="string"&&n!=="none"}function ls(n){var t=n.fill;return t!=null&&t!=="none"}function Ed(n,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function _o(n,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function _h(n,t,e){var r=pv(t.image,t.__image,e);if(eh(r)){var i=n.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*y.RADIAN_TO_DEGREE),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function us(n,t,e,r){var i,a=Ua(e),s=ls(e),l=e.strokePercent,u=l<1,f=!t.path;(!t.silent||u)&&f&&t.createPathProxy();var d=t.path||Vo,h=t.__dirty;if(!r){var v=e.fill,g=e.stroke,b=s&&!!v.colorStops,S=a&&!!g.colorStops,M=s&&!!v.image,C=a&&!!g.image,O=void 0,E=void 0,I=void 0,W=void 0,H=void 0;(b||S)&&(H=t.getBoundingRect()),b&&(O=h?Cn(n,v,H):t.__canvasFillGradient,t.__canvasFillGradient=O),S&&(E=h?Cn(n,g,H):t.__canvasStrokeGradient,t.__canvasStrokeGradient=E),M&&(I=h||!t.__canvasFillPattern?_h(n,v,t):t.__canvasFillPattern,t.__canvasFillPattern=I),C&&(W=h||!t.__canvasStrokePattern?_h(n,g,t):t.__canvasStrokePattern,t.__canvasStrokePattern=I),b?n.fillStyle=O:M&&(I?n.fillStyle=I:s=!1),S?n.strokeStyle=E:C&&(W?n.strokeStyle=W:a=!1)}var Q=t.getGlobalScale();d.setScale(Q[0],Q[1],t.segmentIgnoreThreshold);var se,le;n.setLineDash&&e.lineDash&&(i=Ba(t),se=i[0],le=i[1]);var Me=!0;(f||h&aa)&&(d.setDPR(n.dpr),u?d.setContext(null):(d.setContext(n),Me=!1),d.reset(),t.buildPath(d,t.shape,r),d.toStatic(),t.pathUpdated()),Me&&d.rebuildPath(n,u?l:1),se&&(n.setLineDash(se),n.lineDashOffset=le),r||(e.strokeFirst?(a&&_o(n,e),s&&Ed(n,e)):(s&&Ed(n,e),a&&_o(n,e))),se&&n.setLineDash([])}function Ch(n,t,e){var r=t.__image=pv(e.image,t.__image,t,t.onload);if(!(!r||!eh(r))){var i=e.x||0,a=e.y||0,s=t.getWidth(),l=t.getHeight(),u=r.width/r.height;if(s==null&&l!=null?s=l*u:l==null&&s!=null?l=s/u:s==null&&l==null&&(s=r.width,l=r.height),e.sWidth&&e.sHeight){var f=e.sx||0,d=e.sy||0;n.drawImage(r,f,d,e.sWidth,e.sHeight,i,a,s,l)}else if(e.sx&&e.sy){var f=e.sx,d=e.sy,h=s-f,v=l-d;n.drawImage(r,f,d,h,v,i,a,s,l)}else n.drawImage(r,i,a,s,l)}}function Th(n,t,e){var r,i=e.text;if(i!=null&&(i+=""),i){n.font=e.font||Eo.a,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var a=void 0,s=void 0;n.setLineDash&&e.lineDash&&(r=Ba(t),a=r[0],s=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),e.strokeFirst?(Ua(e)&&n.strokeText(i,e.x,e.y),ls(e)&&n.fillText(i,e.x,e.y)):(ls(e)&&n.fillText(i,e.x,e.y),Ua(e)&&n.strokeText(i,e.x,e.y)),a&&n.setLineDash([])}}var Ad=["shadowBlur","shadowOffsetX","shadowOffsetY"],Yf=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ws(n,t,e,r,i){var a=!1;if(!r&&(e=e||{},t===e))return!1;if(r||t.opacity!==e.opacity){dc(n,i),a=!0;var s=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(s)?Rf.opacity:s}(r||t.blend!==e.blend)&&(a||(dc(n,i),a=!0),n.globalCompositeOperation=t.blend||Rf.blend);for(var l=0;l<Ad.length;l++){var u=Ad[l];(r||t[u]!==e[u])&&(a||(dc(n,i),a=!0),n[u]=n.dpr*(t[u]||0))}return(r||t.shadowColor!==e.shadowColor)&&(a||(dc(n,i),a=!0),n.shadowColor=t.shadowColor||Rf.shadowColor),a}function Bp(n,t,e,r,i){var a=fb(t,i.inHover),s=r?null:e&&fb(e,i.inHover)||{};if(a===s)return!1;var l=ws(n,a,s,r,i);if((r||a.fill!==s.fill)&&(l||(dc(n,i),l=!0),vo(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(l||(dc(n,i),l=!0),vo(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(l||(dc(n,i),l=!0),n.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var u=a.lineWidth,f=u/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==f&&(l||(dc(n,i),l=!0),n.lineWidth=f)}for(var d=0;d<Yf.length;d++){var h=Yf[d],v=h[0];(r||a[v]!==s[v])&&(l||(dc(n,i),l=!0),n[v]=a[v]||h[1])}return l}function Hc(n,t,e,r,i){return ws(n,fb(t,i.inHover),e&&fb(e,i.inHover),r,i)}function RO(n,t){var e=t.transform,r=n.dpr||1;e?n.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):n.setTransform(r,0,0,r,0,0)}function D3(n,t,e){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),RO(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=r}function R3(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}var IO=1,NO=2,kO=3,jO=4;function I3(n){var t=ls(n),e=Ua(n);return!(n.lineDash||!(+t^+e)||t&&typeof n.fill!="string"||e&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function dc(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function fb(n,t){return t&&n.__hoverStyle||n.style}function TM(n,t){vg(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function vg(n,t,e,r){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~ba,t.__isRendered=!1;return}var a=t.__clipPaths,s=e.prevElClipPaths,l=!1,u=!1;if((!s||Kn(a,s))&&(s&&s.length&&(dc(n,e),n.restore(),u=l=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(dc(n,e),n.save(),D3(a,n,e),l=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var f=e.prevEl;f||(u=l=!0);var d=t instanceof ir&&t.autoBatch&&I3(t.style);l||R3(i,f.transform)?(dc(n,e),RO(n,t)):d||dc(n,e);var h=fb(t,e.inHover);t instanceof ir?(e.lastDrawType!==IO&&(u=!0,e.lastDrawType=IO),Bp(n,t,f,u,e),(!d||!e.batchFill&&!e.batchStroke)&&n.beginPath(),us(n,t,h,d),d&&(e.batchFill=h.fill||"",e.batchStroke=h.stroke||"")):t instanceof Ds?(e.lastDrawType!==kO&&(u=!0,e.lastDrawType=kO),Bp(n,t,f,u,e),Th(n,t,h)):t instanceof cs?(e.lastDrawType!==NO&&(u=!0,e.lastDrawType=NO),Hc(n,t,f,u,e),Ch(n,t,h)):t.getTemporalDisplayables&&(e.lastDrawType!==jO&&(u=!0,e.lastDrawType=jO),N3(n,t,e)),d&&r&&dc(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function N3(n,t,e){var r=t.getDisplayables(),i=t.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},s,l;for(s=t.getCursor(),l=r.length;s<l;s++){var u=r[s];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),vg(n,u,a,s===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var f=0,d=i.length;f<d;f++){var u=i[f];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),vg(n,u,a,f===d-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}var OM=new G1,BO=new xc.a(100),FO=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function db(n,t){if(n==="none")return null;var e=t.getDevicePixelRatio(),r=t.getZr(),i=r.painter.type==="svg";n.dirty&&OM.delete(n);var a=OM.get(n);if(a)return a;var s=Object(y.defaults)(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var l={repeat:"repeat"};return u(l),l.rotation=s.rotation,l.scaleX=l.scaleY=i?1:1/e,OM.set(n,l),n.dirty=!1,l;function u(f){for(var d=[e],h=!0,v=0;v<FO.length;++v){var g=s[FO[v]];if(g!=null&&!Object(y.isArray)(g)&&!Object(y.isString)(g)&&!Object(y.isNumber)(g)&&typeof g!="boolean"){h=!1;break}d.push(g)}var b;if(h){b=d.join(",")+(i?"-svg":"");var S=BO.get(b);S&&(i?f.svgElement=S:f.image=S)}var M=VO(s.dashArrayX),C=k3(s.dashArrayY),O=zO(s.symbol),E=j3(M),I=HO(C),W=!i&&Eo.d.createCanvas(),H=i&&{tag:"g",attrs:{},key:"dcl",children:[]},Q=le(),se;W&&(W.width=Q.width*e,W.height=Q.height*e,se=W.getContext("2d")),Me(),h&&BO.put(b,W||H),f.image=W,f.svgElement=H,f.svgWidth=Q.width,f.svgHeight=Q.height;function le(){for(var xe=1,Be=0,ze=E.length;Be<ze;++Be)xe=Ls(xe,E[Be]);for(var it=1,Be=0,ze=O.length;Be<ze;++Be)it=Ls(it,O[Be].length);xe*=it;var pt=I*E.length*O.length;if(!1)var At;return{width:Math.max(1,Math.min(xe,s.maxTileWidth)),height:Math.max(1,Math.min(pt,s.maxTileHeight))}}function Me(){se&&(se.clearRect(0,0,W.width,W.height),s.backgroundColor&&(se.fillStyle=s.backgroundColor,se.fillRect(0,0,W.width,W.height)));for(var xe=0,Be=0;Be<C.length;++Be)xe+=C[Be];if(xe<=0)return;for(var ze=-I,it=0,pt=0,At=0;ze<Q.height;){if(it%2==0){for(var ln=pt/2%O.length,Qt=0,vn=0,Gn=0;Qt<Q.width*2;){for(var fr=0,Be=0;Be<M[At].length;++Be)fr+=M[At][Be];if(fr<=0)break;if(vn%2==0){var Er=(1-s.symbolSize)*.5,li=Qt+M[At][vn]*Er,na=ze+C[it]*Er,go=M[At][vn]*s.symbolSize,co=C[it]*s.symbolSize,ha=Gn/2%O[ln].length;ui(li,na,go,co,O[ln][ha])}Qt+=M[At][vn],++Gn,++vn,vn===M[At].length&&(vn=0)}++At,At===M.length&&(At=0)}ze+=C[it],++pt,++it,it===C.length&&(it=0)}function ui(ga,Zi,kr,Hi,vs){var Fa=i?1:e,Fs=Ts(vs,ga*Fa,Zi*Fa,kr*Fa,Hi*Fa,s.color,s.symbolKeepAspect);if(i){var Os=r.painter.renderOneToVNode(Fs);Os&&H.children.push(Os)}else TM(se,Fs)}}}}function zO(n){if(!n||n.length===0)return[["rect"]];if(Object(y.isString)(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!Object(y.isString)(n[e])){t=!1;break}if(t)return zO([n]);for(var r=[],e=0;e<n.length;++e)Object(y.isString)(n[e])?r.push([n[e]]):r.push(n[e]);return r}function VO(n){if(!n||n.length===0)return[[0,0]];if(Object(y.isNumber)(n)){var t=Math.ceil(n);return[[t,t]]}for(var e=!0,r=0;r<n.length;++r)if(!Object(y.isNumber)(n[r])){e=!1;break}if(e)return VO([n]);for(var i=[],r=0;r<n.length;++r)if(Object(y.isNumber)(n[r])){var t=Math.ceil(n[r]);i.push([t,t])}else{var t=Object(y.map)(n[r],function(l){return Math.ceil(l)});t.length%2==1?i.push(t.concat(t)):i.push(t)}return i}function k3(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Object(y.isNumber)(n)){var t=Math.ceil(n);return[t,t]}var e=Object(y.map)(n,function(r){return Math.ceil(r)});return n.length%2?e.concat(e):e}function j3(n){return Object(y.map)(n,function(t){return HO(t)})}function HO(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?t*2:t}function B3(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var r=e.getData();r.hasItemVisual()&&r.each(function(s){var l=r.getItemVisual(s,"decal");if(l){var u=r.ensureUniqueItemVisual(s,"style");u.decal=db(l,t)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=db(i,t)}}})}var F3=new Je,Xf=F3,GO={};function z3(n,t){GO[n]=t}function UO(n){return GO[n]}var V3=typeof window!="undefined",H3="5.3.0",G3={zrender:"5.3.0"},U3=1,W3=800,K3=900,Y3=1e3,X3=2e3,Z3=5e3,WO=1e3,$3=1100,EM=2e3,KO=3e3,J3=4e3,Y1=4500,Q3=4600,q3=5e3,eN=6e3,YO=7e3,XO={PROCESSOR:{FILTER:Y3,SERIES_FILTER:W3,STATISTIC:Z3},VISUAL:{LAYOUT:WO,PROGRESSIVE_LAYOUT:$3,GLOBAL:EM,CHART:KO,POST_CHART_LAYOUT:Q3,COMPONENT:J3,BRUSH:q3,CHART_ITEM:Y1,ARIA:eN,DECAL:YO}},Cu="__flagInMainProcess",hc="__pendingUpdate",AM="__needsUpdateStatus",ZO=/^[a-zA-Z0-9_]+$/,PM="__connectUpdateStatus",$O=0,tN=1,nN=2;function JO(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){Gc(this.id);return}return qO(this,n,t)}}function QO(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qO(this,n,t)}}function qO(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Je.prototype[t].apply(n,e)}var eE=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(Je),tE=eE.prototype;tE.on=QO("on"),tE.off=QO("off");var $m,LM,X1,Fp,DM,RM,IM,hb,pb,nE,rE,NM,iE,Z1,aE,oE,hf,sE,$1=function(n){ve(t,n);function t(e,r,i){var a=n.call(this,new Ti)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Object(y.isString)(r)&&(r=lE[r]),a._dom=e;var s="canvas",l=!1;if(!1)var u,f;var d=a._zr=Yd(e,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:i.useDirtyRect==null?l:i.useDirtyRect});a._ssr=i.ssr,a._throttledZrFlush=Bt(Object(y.bind)(d.flush,d),17),r=Object(y.clone)(r),r&&Sp(r,!0),a._theme=r,a._locale=Iw(i.locale||a0),a._coordSysMgr=new wd;var h=a._api=aE(a);function v(g,b){return g.__prio-b.__prio}return ia(Q1,v),ia(jM,v),a._scheduler=new _t(a,h,jM,Q1),a._messageCenter=new eE,a._initEvents(),a.resize=Object(y.bind)(a.resize,a),d.animation.on("frame",a._onframe,a),nE(d,a),rE(d,a),Object(y.setAsPrimitive)(a),a}return t.prototype._onframe=function(){if(!this._disposed){sE(this);var e=this._scheduler;if(this[hc]){var r=this[hc].silent;this[Cu]=!0;try{$m(this),Fp.update.call(this,null,this[hc].updateParams)}catch(u){throw this[Cu]=!1,this[hc]=null,u}this._zr.flush(),this[Cu]=!1,this[hc]=null,hb.call(this,r),pb.call(this,r)}else if(e.unfinished){var i=U3,a=this._model,s=this._api;e.unfinished=!1;do{var l=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),RM(this,a),e.performVisualTasks(a),Z1(this,this._model,s,"remain",{}),i-=+new Date-l}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,r,i){if(!this[Cu]){if(this._disposed){Gc(this.id);return}var a,s,l;if(Object(y.isObject)(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,l=r.transition,r=r.notMerge),this[Cu]=!0,!this._model||r){var u=new Jx(this._api),f=this._theme,d=this._model=new bp;d.scheduler=this._scheduler,d.ssr=this._ssr,d.init(null,null,null,f,this._locale,u)}this._model.setOption(e,{replaceMerge:s},BM);var h={seriesTransition:l,optionChanged:!0};if(i)this[hc]={silent:a,updateParams:h},this[Cu]=!1,this.getZr().wakeUp();else{try{$m(this),Fp.update.call(this,null,h)}catch(v){throw this[hc]=null,this[Cu]=!1,v}this._ssr||this._zr.flush(),this[hc]=null,this[Cu]=!1,hb.call(this,a),pb.call(this,a)}}},t.prototype.setTheme=function(){M0("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||V3&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var r=this._zr.painter;return r.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if(!!en.a.svgSupported){var e=this._zr,r=e.storage.getDisplayList();return Object(y.each)(r,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){Gc(this.id);return}e=e||{};var r=e.excludeComponents,i=this._model,a=[],s=this;Object(y.each)(r,function(u){i.eachComponent({mainType:u},function(f){var d=s._componentsMap[f.__viewId];d.group.ignore||(a.push(d),d.group.ignore=!0)})});var l=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return Object(y.each)(a,function(u){u.group.ignore=!1}),l},t.prototype.getConnectedDataURL=function(e){if(this._disposed){Gc(this.id);return}var r=e.type==="svg",i=this.group,a=Math.min,s=Math.max,l=Infinity;if(q1[i]){var u=l,f=l,d=-l,h=-l,v=[],g=e&&e.pixelRatio||this.getDevicePixelRatio();Object(y.each)(gg,function(E,I){if(E.group===i){var W=r?E.getZr().painter.getSvgDom().innerHTML:E.renderToCanvas(Object(y.clone)(e)),H=E.getDom().getBoundingClientRect();u=a(H.left,u),f=a(H.top,f),d=s(H.right,d),h=s(H.bottom,h),v.push({dom:W,left:H.left,top:H.top})}}),u*=g,f*=g,d*=g,h*=g;var b=d-u,S=h-f,M=Eo.d.createCanvas(),C=Yd(M,{renderer:r?"svg":"canvas"});if(C.resize({width:b,height:S}),r){var O="";return Object(y.each)(v,function(E){var I=E.left-u,W=E.top-f;O+='<g transform="translate('+I+","+W+')">'+E.dom+"</g>"}),C.painter.getSvgRoot().innerHTML=O,e.connectedBackgroundColor&&C.painter.setBackgroundColor(e.connectedBackgroundColor),C.refreshImmediately(),C.painter.toDataURL()}else return e.connectedBackgroundColor&&C.add(new Bi({shape:{x:0,y:0,width:b,height:S},style:{fill:e.connectedBackgroundColor}})),Object(y.each)(v,function(E){var I=new cs({style:{x:E.left*g-u,y:E.top*g-f,image:E.dom}});C.add(I)}),C.refreshImmediately(),M.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,r){return DM(this,"convertToPixel",e,r)},t.prototype.convertFromPixel=function(e,r){return DM(this,"convertFromPixel",e,r)},t.prototype.containPixel=function(e,r){if(this._disposed){Gc(this.id);return}var i=this._model,a,s=no(i,e);return Object(y.each)(s,function(l,u){u.indexOf("Models")>=0&&Object(y.each)(l,function(f){var d=f.coordinateSystem;if(d&&d.containPoint)a=a||!!d.containPoint(r);else if(u==="seriesModels"){var h=this._chartsMap[f.__viewId];h&&h.containPoint&&(a=a||h.containPoint(r,f))}},this)},this),!!a},t.prototype.getVisual=function(e,r){var i=this._model,a=no(i,e,{defaultMainType:"series"}),s=a.seriesModel,l=s.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?l.indexOfRawIndex(a.dataIndex):null;return u!=null?hi(l,u,r):ja(l,r)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;Object(y.each)(rN,function(r){var i=function(a){var s=e.getModel(),l=a.target,u,f=r==="globalout";if(f?u={}:l&&_u(l,function(b){var S=Yr(b);if(S&&S.dataIndex!=null){var M=S.dataModel||s.getSeriesByIndex(S.seriesIndex);return u=M&&M.getDataParams(S.dataIndex,S.dataType)||{},!0}else if(S.eventData)return u=Object(y.extend)({},S.eventData),!0},!0),u){var d=u.componentType,h=u.componentIndex;(d==="markLine"||d==="markPoint"||d==="markArea")&&(d="series",h=u.seriesIndex);var v=d&&h!=null&&s.getComponent(d,h),g=v&&e[v.mainType==="series"?"_chartsMap":"_componentsMap"][v.__viewId];u.event=a,u.type=r,e._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:v,view:g},e.trigger(r,u)}};i.zrEventfulCallAtLast=!0,e._zr.on(r,i,e)}),Object(y.each)(vb,function(r,i){e._messageCenter.on(i,function(a){this.trigger(i,a)},e)}),Object(y.each)(["selectchanged"],function(r){e._messageCenter.on(r,function(i){this.trigger(r,i)},e)}),Bs(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){Gc(this.id);return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){Gc(this.id);return}this._disposed=!0;var e=this.getDom();e&&Zh(this.getDom(),zM,"");var r=this,i=r._api,a=r._model;Object(y.each)(r._componentsViews,function(s){s.dispose(a,i)}),Object(y.each)(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete gg[r.id]},t.prototype.resize=function(e){if(!this[Cu]){if(this._disposed){Gc(this.id);return}this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=e&&e.silent;this[hc]&&(a==null&&(a=this[hc].silent),i=!0,this[hc]=null),this[Cu]=!0;try{i&&$m(this),Fp.update.call(this,{type:"resize",animation:Object(y.extend)({duration:0},e&&e.animation)})}catch(s){throw this[Cu]=!1,s}this[Cu]=!1,hb.call(this,a),pb.call(this,a)}}},t.prototype.showLoading=function(e,r){if(this._disposed){Gc(this.id);return}if(Object(y.isObject)(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),!!FM[e]){var i=FM[e](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){Gc(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var r=Object(y.extend)({},e);return r.type=vb[e.type],r},t.prototype.dispatchAction=function(e,r){if(this._disposed){Gc(this.id);return}if(Object(y.isObject)(r)||(r={silent:!!r}),!!J1[e.type]&&!!this._model){if(this[Cu]){this._pendingActions.push(e);return}var i=r.silent;IM.call(this,e,i);var a=r.flush;a?this._zr.flush():a!==!1&&en.a.browser.weChat&&this._throttledZrFlush(),hb.call(this,i),pb.call(this,i)}},t.prototype.updateLabelLayout=function(){Xf.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){Gc(this.id);return}var r=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){$m=function(h){var v=h._scheduler;v.restorePipelines(h._model),v.prepareStageTasks(),LM(h,!0),LM(h,!1),v.plan()},LM=function(h,v){for(var g=h._model,b=h._scheduler,S=v?h._componentsViews:h._chartsViews,M=v?h._componentsMap:h._chartsMap,C=h._zr,O=h._api,E=0;E<S.length;E++)S[E].__alive=!1;v?g.eachComponent(function(H,Q){H!=="series"&&I(Q)}):g.eachSeries(I);function I(H){var Q=H.__requireNewView;H.__requireNewView=!1;var se="_ec_"+H.id+"_"+H.type,le=!Q&&M[se];if(!le){var Me=Bu(H.type),xe=v?Xo.getClass(Me.main,Me.sub):Te.getClass(Me.sub);le=new xe,le.init(g,O),M[se]=le,S.push(le),C.add(le.group)}H.__viewId=le.__id=se,le.__alive=!0,le.__model=H,le.group.__ecComponentInfo={mainType:H.mainType,index:H.componentIndex},!v&&b.prepareView(le,H,g,O)}for(var E=0;E<S.length;){var W=S[E];W.__alive?E++:(!v&&W.renderTask.dispose(),C.remove(W.group),W.dispose(g,O),S.splice(E,1),M[W.__id]===W&&delete M[W.__id],W.__id=W.group.__ecComponentInfo=null)}},X1=function(h,v,g,b,S){var M=h._model;if(M.setUpdatePayload(g),!b){Object(y.each)([].concat(h._componentsViews).concat(h._chartsViews),W);return}var C={};C[b+"Id"]=g[b+"Id"],C[b+"Index"]=g[b+"Index"],C[b+"Name"]=g[b+"Name"];var O={mainType:b,query:C};S&&(O.subType=S);var E=g.excludeSeriesId,I;E!=null&&(I=Object(y.createHashMap)(),Object(y.each)(Xa(E),function(H){var Q=Fo(H,null);Q!=null&&I.set(Q,!0)})),M&&M.eachComponent(O,function(H){var Q=I&&I.get(H.id)!==null;if(!Q)if(vx(g))if(H instanceof Io)g.type===Il&&!g.notBlur&&!H.get(["emphasis","disabled"])&&fx(H,g,h._api);else{var se=am(H.mainType,H.componentIndex,g.name,h._api),le=se.focusSelf,Me=se.dispatchers;g.type===Il&&le&&!g.notBlur&&im(H.mainType,H.componentIndex,h._api),Me&&Object(y.each)(Me,function(xe){g.type===Il?Hu(xe):Ql(xe)})}else Xy(g)&&H instanceof Io&&(rp(H,g,h._api),Nl(H),hf(h))},h),M&&M.eachComponent(O,function(H){var Q=I&&I.get(H.id)!==null;Q||W(h[b==="series"?"_chartsMap":"_componentsMap"][H.__viewId])},h);function W(H){H&&H.__alive&&H[v]&&H[v](H.__model,M,h._api,g)}},Fp={prepareAndUpdate:function(h){$m(this),Fp.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,v){var g=this._model,b=this._api,S=this._zr,M=this._coordSysMgr,C=this._scheduler;if(!!g){g.setUpdatePayload(h),C.restoreData(g,h),C.performSeriesTasks(g),M.create(g,b),C.performDataProcessorTasks(g,h),RM(this,g),M.update(g,b),e(g),C.performVisualTasks(g,h),NM(this,g,b,h,v);var O=g.get("backgroundColor")||"transparent",E=g.get("darkMode");S.setBackgroundColor(O),E!=null&&E!=="auto"&&S.setDarkMode(E),Xf.trigger("afterupdate",g,b)}},updateTransform:function(h){var v=this,g=this._model,b=this._api;if(!!g){g.setUpdatePayload(h);var S=[];g.eachComponent(function(C,O){if(C!=="series"){var E=v.getViewOfComponentModel(O);if(E&&E.__alive)if(E.updateTransform){var I=E.updateTransform(O,g,b,h);I&&I.update&&S.push(E)}else S.push(E)}});var M=Object(y.createHashMap)();g.eachSeries(function(C){var O=v._chartsMap[C.__viewId];if(O.updateTransform){var E=O.updateTransform(C,g,b,h);E&&E.update&&M.set(C.uid,1)}else M.set(C.uid,1)}),e(g),this._scheduler.performVisualTasks(g,h,{setDirty:!0,dirtyMap:M}),Z1(this,g,b,h,{},M),Xf.trigger("afterupdate",g,b)}},updateView:function(h){var v=this._model;!v||(v.setUpdatePayload(h),Te.markUpdateMethod(h,"updateView"),e(v),this._scheduler.performVisualTasks(v,h,{setDirty:!0}),NM(this,v,this._api,h,{}),Xf.trigger("afterupdate",v,this._api))},updateVisual:function(h){var v=this,g=this._model;!g||(g.setUpdatePayload(h),g.eachSeries(function(b){b.getData().clearAllVisual()}),Te.markUpdateMethod(h,"updateVisual"),e(g),this._scheduler.performVisualTasks(g,h,{visualType:"visual",setDirty:!0}),g.eachComponent(function(b,S){if(b!=="series"){var M=v.getViewOfComponentModel(S);M&&M.__alive&&M.updateVisual(S,g,v._api,h)}}),g.eachSeries(function(b){var S=v._chartsMap[b.__viewId];S.updateVisual(b,g,v._api,h)}),Xf.trigger("afterupdate",g,this._api))},updateLayout:function(h){Fp.update.call(this,h)}},DM=function(h,v,g,b){if(h._disposed){Gc(h.id);return}for(var S=h._model,M=h._coordSysMgr.getCoordinateSystems(),C,O=no(S,g),E=0;E<M.length;E++){var I=M[E];if(I[v]&&(C=I[v](S,O,b))!=null)return C}},RM=function(h,v){var g=h._chartsMap,b=h._scheduler;v.eachSeries(function(S){b.updateStreamModes(S,g[S.__viewId])})},IM=function(h,v){var g=this,b=this.getModel(),S=h.type,M=h.escapeConnect,C=J1[S],O=C.actionInfo,E=(O.update||"update").split(":"),I=E.pop(),W=E[0]!=null&&Bu(E[0]);this[Cu]=!0;var H=[h],Q=!1;h.batch&&(Q=!0,H=Object(y.map)(h.batch,function(it){return it=Object(y.defaults)(Object(y.extend)({},it),h),it.batch=null,it}));var se=[],le,Me=Xy(h),xe=vx(h);if(xe&&cx(this._api),Object(y.each)(H,function(it){if(le=C.action(it,g._model,g._api),le=le||Object(y.extend)({},it),le.type=O.event||le.type,se.push(le),xe){var pt=$c(h),At=pt.queryOptionMap,ln=pt.mainTypeSpecified,Qt=ln?At.keys()[0]:"series";X1(g,I,it,Qt),hf(g)}else Me?(X1(g,I,it,"series"),hf(g)):W&&X1(g,I,it,W.main,W.sub)}),I!=="none"&&!xe&&!Me&&!W)try{this[hc]?($m(this),Fp.update.call(this,h),this[hc]=null):Fp[I].call(this,h)}catch(it){throw this[Cu]=!1,it}if(Q?le={type:O.event||S,escapeConnect:M,batch:se}:le=se[0],this[Cu]=!1,!v){var Be=this._messageCenter;if(Be.trigger(le.type,le),Me){var ze={type:"selectchanged",escapeConnect:M,selected:kl(b),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};Be.trigger(ze.type,ze)}}},hb=function(h){for(var v=this._pendingActions;v.length;){var g=v.shift();IM.call(this,g,h)}},pb=function(h){!h&&this.trigger("updated")},nE=function(h,v){h.on("rendered",function(g){v.trigger("rendered",g),h.animation.isFinished()&&!v[hc]&&!v._scheduler.unfinished&&!v._pendingActions.length&&v.trigger("finished")})},rE=function(h,v){h.on("mouseover",function(g){var b=g.target,S=_u(b,Ov);S&&(dx(S,g,v._api),hf(v))}).on("mouseout",function(g){var b=g.target,S=_u(b,Ov);S&&(hx(S,g,v._api),hf(v))}).on("click",function(g){var b=g.target,S=_u(b,function(O){return Yr(O).dataIndex!=null},!0);if(S){var M=S.selected?"unselect":"select",C=Yr(S);v._api.dispatchAction({type:M,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})};function e(h){h.clearColorPalette(),h.eachSeries(function(v){v.clearColorPalette()})}function r(h){var v=[],g=[],b=!1;if(h.eachComponent(function(O,E){var I=E.get("zlevel")||0,W=E.get("z")||0,H=E.getZLevelKey();b=b||!!H,(O==="series"?g:v).push({zlevel:I,z:W,idx:E.componentIndex,type:O,key:H})}),b){var S=v.concat(g),M,C;ia(S,function(O,E){return O.zlevel===E.zlevel?O.z-E.z:O.zlevel-E.zlevel}),Object(y.each)(S,function(O){var E=h.getComponent(O.type,O.idx),I=O.zlevel,W=O.key;M!=null&&(I=Math.max(M,I)),W?(I===M&&W!==C&&I++,C=W):C&&(I===M&&I++,C=""),M=I,E.setZLevel(I)})}}NM=function(h,v,g,b,S){r(v),iE(h,v,g,b,S),Object(y.each)(h._chartsViews,function(M){M.__alive=!1}),Z1(h,v,g,b,S),Object(y.each)(h._chartsViews,function(M){M.__alive||M.remove(v,g)})},iE=function(h,v,g,b,S,M){Object(y.each)(M||h._componentsViews,function(C){var O=C.__model;f(O,C),C.render(O,v,g,b),l(O,C),d(O,C)})},Z1=function(h,v,g,b,S,M){var C=h._scheduler;S=Object(y.extend)(S||{},{updatedSeries:v.getSeries()}),Xf.trigger("series:beforeupdate",v,g,S);var O=!1;v.eachSeries(function(E){var I=h._chartsMap[E.__viewId];I.__alive=!0;var W=I.renderTask;C.updatePayload(W,b),f(E,I),M&&M.get(E.uid)&&W.dirty(),W.perform(C.getPerformArgs(W))&&(O=!0),I.group.silent=!!E.get("silent"),s(E,I),Nl(E)}),C.unfinished=O||C.unfinished,Xf.trigger("series:layoutlabels",v,g,S),Xf.trigger("series:transition",v,g,S),v.eachSeries(function(E){var I=h._chartsMap[E.__viewId];l(E,I),d(E,I)}),a(h,v),Xf.trigger("series:afterupdate",v,g,S)},hf=function(h){h[AM]=!0,h.getZr().wakeUp()},sE=function(h){!h[AM]||(h.getZr().storage.traverse(function(v){ap(v)||i(v)}),h[AM]=!1)};function i(h){for(var v=[],g=h.currentStates,b=0;b<g.length;b++){var S=g[b];S==="emphasis"||S==="blur"||S==="select"||v.push(S)}h.selected&&h.states.select&&v.push("select"),h.hoverState===Jl&&h.states.emphasis?v.push("emphasis"):h.hoverState===gl&&h.states.blur&&v.push("blur"),h.useStates(v)}function a(h,v){var g=h._zr,b=g.storage,S=0;b.traverse(function(M){M.isGroup||S++}),S>v.get("hoverLayerThreshold")&&!en.a.node&&!en.a.worker&&v.eachSeries(function(M){if(!M.preventUsingHoverLayer){var C=h._chartsMap[M.__viewId];C.__alive&&C.eachRendered(function(O){O.states.emphasis&&(O.states.emphasis.hoverLayer=!0)})}})}function s(h,v){var g=h.get("blendMode")||null;v.eachRendered(function(b){b.isGroup||(b.style.blend=g)})}function l(h,v){if(!h.preventAutoZ){var g=h.get("z")||0,b=h.get("zlevel")||0;v.eachRendered(function(S){return u(S,g,b,-Infinity),!0})}}function u(h,v,g,b){var S=h.getTextContent(),M=h.getTextGuideLine(),C=h.isGroup;if(C)for(var O=h.childrenRef(),E=0;E<O.length;E++)b=Math.max(u(O[E],v,g,b),b);else h.z=v,h.zlevel=g,b=Math.max(h.z2,b);if(S&&(S.z=v,S.zlevel=g,isFinite(b)&&(S.z2=b+2)),M){var I=h.textGuideLineConfig;M.z=v,M.zlevel=g,isFinite(b)&&(M.z2=b+(I&&I.showAbove?1:-1))}return b}function f(h,v){v.eachRendered(function(g){if(!ap(g)){var b=g.getTextContent(),S=g.getTextGuideLine();g.stateTransition&&(g.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),g.hasState()?(g.prevStates=g.currentStates,g.clearStates()):g.prevStates&&(g.prevStates=null)}})}function d(h,v){var g=h.getModel("stateAnimation"),b=h.isAnimationEnabled(),S=g.get("duration"),M=S>0?{duration:S,delay:g.get("delay"),easing:g.get("easing")}:null;v.eachRendered(function(C){if(C.states&&C.states.emphasis){if(ap(C))return;if(C instanceof ir&&Tw(C),C.__dirty){var O=C.prevStates;O&&C.useStates(O)}if(b){C.stateTransition=M;var E=C.getTextContent(),I=C.getTextGuideLine();E&&(E.stateTransition=M),I&&(I.stateTransition=M)}C.__dirty&&i(C)}})}aE=function(h){return new(function(v){ve(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},g.prototype.getComponentByElement=function(b){for(;b;){var S=b.__ecComponentInfo;if(S!=null)return h._model.getComponent(S.mainType,S.index);b=b.parent}},g.prototype.enterEmphasis=function(b,S){Hu(b,S),hf(h)},g.prototype.leaveEmphasis=function(b,S){Ql(b,S),hf(h)},g.prototype.enterBlur=function(b){Cv(b),hf(h)},g.prototype.leaveBlur=function(b){Tv(b),hf(h)},g.prototype.enterSelect=function(b){Wy(b),hf(h)},g.prototype.leaveSelect=function(b){Ky(b),hf(h)},g.prototype.getModel=function(){return h.getModel()},g.prototype.getViewOfComponentModel=function(b){return h.getViewOfComponentModel(b)},g.prototype.getViewOfSeriesModel=function(b){return h.getViewOfSeriesModel(b)},g}(Wv))(h)},oE=function(h){function v(g,b){for(var S=0;S<g.length;S++){var M=g[S];M[PM]=b}}Object(y.each)(vb,function(g,b){h._messageCenter.on(b,function(S){if(q1[h.group]&&h[PM]!==$O){if(S&&S.escapeConnect)return;var M=h.makeActionFromEvent(S),C=[];Object(y.each)(gg,function(O){O!==h&&O.group===h.group&&C.push(O)}),v(C,$O),Object(y.each)(C,function(O){O[PM]!==tN&&O.dispatchAction(M)}),v(C,nN)}})})}}(),t}(Je),kM=$1.prototype;kM.on=JO("on"),kM.off=JO("off"),kM.one=function(n,t,e){var r=this;M0("ECharts#one is deprecated.");function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];t&&t.apply&&t.apply(this,a),r.off(n,i)}this.on.call(this,n,i,e)};var rN=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Gc(n){}var J1={},vb={},jM=[],BM=[],Q1=[],lE={},FM={},gg={},q1={},iN=+new Date-0,aN=+new Date-0,zM="_echarts_instance_";function oN(n,t,e){var r=!(e&&e.ssr);if(r){var i=VM(n);if(i)return i}var a=new $1(n,t,e);return a.id="ec_"+iN++,gg[a.id]=a,r&&Zh(n,zM,a.id),oE(a),Xf.trigger("afterinit",a),a}function sN(n){if(Object(y.isArray)(n)){var t=n;n=null,Object(y.each)(t,function(e){e.group!=null&&(n=e.group)}),n=n||"g_"+aN++,Object(y.each)(t,function(e){e.group=n})}return q1[n]=!0,n}function uE(n){q1[n]=!1}var lN=uE;function uN(n){Object(y.isString)(n)?n=gg[n]:n instanceof $1||(n=VM(n)),n instanceof $1&&!n.isDisposed()&&n.dispose()}function VM(n){return gg[cv(n,zM)]}function cN(n){return gg[n]}function HM(n,t){lE[n]=t}function GM(n){Object(y.indexOf)(BM,n)<0&&BM.push(n)}function UM(n,t){WM(jM,n,t,X3)}function cE(n){eS("afterinit",n)}function fE(n){eS("afterupdate",n)}function eS(n,t){Xf.on(n,t)}function Zf(n,t,e){Object(y.isFunction)(t)&&(e=t,t="");var r=Object(y.isObject)(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase(),t=n.event,!vb[t]&&(Object(y.assert)(ZO.test(r)&&ZO.test(t)),J1[r]||(J1[r]={action:e,actionInfo:n}),vb[t]=r)}function dE(n,t){wd.register(n,t)}function fN(n){var t=wd.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function hE(n,t){WM(Q1,n,t,WO,"layout")}function zp(n,t){WM(Q1,n,t,KO,"visual")}var pE=[];function WM(n,t,e,r,i){if((Object(y.isFunction)(t)||Object(y.isObject)(t))&&(e=t,t=r),!(Object(y.indexOf)(pE,e)>=0)){pE.push(e);var a=_t.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,n.push(a)}}function KM(n,t){FM[n]=t}function dN(n){Object(Eo.e)({createCanvas:n})}function vE(n,t,e){var r=UO("registerMap");r&&r(n,t,e)}function hN(n){var t=UO("getMap");return t&&t(n)}var gE=Op;zp(EM,Mn),zp(Y1,_r),zp(Y1,di),zp(EM,$n),zp(Y1,Oi),zp(YO,B3),GM(Sp),UM(K3,Xw),KM("default",$r),Zf({type:Il,event:Il,update:Il},y.noop),Zf({type:pd,event:pd,update:pd},y.noop),Zf({type:ac,event:ac,update:ac},y.noop),Zf({type:th,event:th,update:th},y.noop),Zf({type:qc,event:qc,update:qc},y.noop),HM("light",In),HM("dark",va);var pN={},mE=[],vN={registerPreprocessor:GM,registerProcessor:UM,registerPostInit:cE,registerPostUpdate:fE,registerUpdateLifecycle:eS,registerAction:Zf,registerCoordinateSystem:dE,registerLayout:hE,registerVisual:zp,registerTransform:gE,registerLoading:KM,registerMap:vE,registerImpl:z3,PRIORITY:XO,ComponentModel:xa,ComponentView:Xo,SeriesModel:Io,ChartView:Te,registerComponentModel:function(n){xa.registerClass(n)},registerComponentView:function(n){Xo.registerClass(n)},registerSeriesModel:function(n){Io.registerClass(n)},registerChartView:function(n){Te.registerClass(n)},registerSubTypeDefaulter:function(n,t){xa.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){Ps(n,t)}};function ea(n){if(Object(y.isArray)(n)){Object(y.each)(n,function(t){ea(t)});return}Object(y.indexOf)(mE,n)>=0||(mE.push(n),Object(y.isFunction)(n)&&(n={install:n}),n.install(vN))}function gb(n){return n==null?0:n.length||1}function yE(n){return n}var gN=function(){function n(t,e,r,i,a,s){this._old=t,this._new=e,this._oldKeyGetter=r||yE,this._newKeyGetter=i||yE,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<t.length;s++){var l=i[s],u=r[l],f=gb(u);if(f>1){var d=u.shift();u.length===1&&(r[l]=u[0]),this._update&&this._update(d,s)}else f===1?(r[l]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var t=this._old,e=this._new,r={},i={},a=[],s=[];this._initIndexMap(t,r,a,"_oldKeyGetter"),this._initIndexMap(e,i,s,"_newKeyGetter");for(var l=0;l<a.length;l++){var u=a[l],f=r[u],d=i[u],h=gb(f),v=gb(d);if(h>1&&v===1)this._updateManyToOne&&this._updateManyToOne(d,f),i[u]=null;else if(h===1&&v>1)this._updateOneToMany&&this._updateOneToMany(d,f),i[u]=null;else if(h===1&&v===1)this._update&&this._update(d,f),i[u]=null;else if(h>1&&v>1)this._updateManyToMany&&this._updateManyToMany(d,f),i[u]=null;else if(h>1)for(var g=0;g<h;g++)this._remove&&this._remove(f[g]);else this._remove&&this._remove(f)}this._performRestAdd(s,i)},n.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],a=e[i],s=gb(a);if(s>1)for(var l=0;l<s;l++)this._add&&this._add(a[l]);else s===1&&this._add&&this._add(a);e[i]=null}},n.prototype._initIndexMap=function(t,e,r,i){for(var a=this._diffModeMultiple,s=0;s<t.length;s++){var l="_ec_"+this[i](t[s],s);if(a||(r[s]=l),!!e){var u=e[l],f=gb(u);f===0?(e[l]=s,a&&r.push(l)):f===1?e[l]=[u,s]:u.push(s)}}},n}(),Oh=gN,mN=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function yN(n,t){var e={},r=e.encode={},i=Object(y.createHashMap)(),a=[],s=[],l={};Object(y.each)(n.dimensions,function(v){var g=n.getDimensionInfo(v),b=g.coordDim;if(b){var S=g.coordDimIndex;YM(r,b)[S]=v,g.isExtraCoord||(i.set(b,1),bN(g.type)&&(a[0]=v),YM(l,b)[S]=n.getDimensionIndex(g.name)),g.defaultTooltip&&s.push(v)}v0.each(function(M,C){var O=YM(r,C),E=g.otherDims[C];E!=null&&E!==!1&&(O[E]=g.name)})});var u=[],f={};i.each(function(v,g){var b=r[g];f[g]=b[0],u=u.concat(b)}),e.dataDimsOnCoord=u,e.dataDimIndicesOnCoord=Object(y.map)(u,function(v){return n.getDimensionInfo(v).storeDimIndex}),e.encodeFirstDimNotExtra=f;var d=r.label;d&&d.length&&(a=d.slice());var h=r.tooltip;return h&&h.length?s=h.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,e.userOutput=new mN(l,t),e}function YM(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function tS(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function bN(n){return!(n==="ordinal"||n==="time")}var xN=function(){function n(t){this.otherDims={},t!=null&&y.extend(this,t)}return n}(),nS=xN,SN=Yi(),wN={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},bE=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,!!t&&(this._dimNameMap||(this._dimNameMap=wE(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return Object(y.retrieve2)(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=$v(this.source),r=!ME(t),i="",a=[],s=0,l=0;s<t;s++){var u=void 0,f=void 0,d=void 0,h=this.dimensions[l];if(h&&h.storeDimIndex===s)u=e?h.name:null,f=h.type,d=h.ordinalMeta,l++;else{var v=this.getSourceDimension(s);v&&(u=e?v.name:null,f=v.type)}a.push({property:u,type:f,ordinalMeta:d}),e&&u!=null&&(!h||!h.isCalculationCoord)&&(i+=r?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),i+="$",i+=wN[f]||"f",d&&(i+=d.uid),i+="$"}var g=this.source,b=[g.seriesLayoutBy,g.startIndex,i].join("$$");return{dimensions:a,hash:b}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,r=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(e);s&&(i=s.name)}t.push(i)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function xE(n){return n instanceof bE}function SE(n){for(var t=Object(y.createHashMap)(),e=0;e<(n||[]).length;e++){var r=n[e],i=Object(y.isObject)(r)?r.name:r;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function wE(n){var t=SN(n);return t.dimNameMap||(t.dimNameMap=SE(n.dimensionsDefine))}function ME(n){return n>30}var mb=y.isObject,Vp=y.map,MN=typeof Int32Array=="undefined"?Array:Int32Array,_N="e\0\0",_E=-1,CN=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],TN=["_approximateExtent"],CE,rS,yb,bb,XM,iS,ZM,ON=function(){function n(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;xE(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var a={},s=[],l={},u=!1,f={},d=0;d<r.length;d++){var h=r[d],v=y.isString(h)?new nS({name:h}):h instanceof nS?h:new nS(h),g=v.name;v.type=v.type||"float",v.coordDim||(v.coordDim=g,v.coordDimIndex=0);var b=v.otherDims=v.otherDims||{};s.push(g),a[g]=v,f[g]!=null&&(u=!0),v.createInvertedIndices&&(l[g]=[]),b.itemName===0&&(this._nameDimIdx=d),b.itemId===0&&(this._idDimIdx=d),i&&(v.storeDimIndex=d)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=e,this._invertedIndicesMap=l,this._dimOmitted){var S=this._dimIdxToName=y.createHashMap();y.each(s,function(M){S.set(a[M].storeDimIndex,M)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(r!=null)return r;var i=this._schema.getSourceDimension(e);if(i)return i.name},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(y.isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(e==null)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[e]:null},n.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,r=e.encode[t];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,r){var i=this,a;if(t instanceof Pm&&(a=t),!a){var s=this.dimensions,l=vh(t)||y.isArrayLike(t)?new Mp(t,s.length):t;a=new Pm;var u=Vp(s,function(f){return{type:i._dimInfos[f].type,property:f}});a.initData(l,u,r)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=yN(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var l=i;l<a;l++){var u=l-i;this._nameList[l]=e[u],s&&ZM(this,l)}},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,r=0;r<e.length;r++){var i=this._dimInfos[e[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==af&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,l=i.getSource().sourceFormat,u=l===yl;if(u&&!i.pure)for(var f=[],d=t;d<e;d++){var h=i.getItem(d,f);if(!this.hasItemOption&&uv(h)&&(this.hasItemOption=!0),h){var v=h.name;a[d]==null&&v!=null&&(a[d]=Fo(v,null));var g=h.id;s[d]==null&&g!=null&&(s[d]=Fo(g,null))}}if(this._shouldMakeIdFromName())for(var d=t;d<e;d++)ZM(this,d);CE(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){mb(t)?y.extend(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),r=this._nameList[e];return r==null&&this._nameDimIdx!=null&&(r=yb(this,this._nameDimIdx,e)),r==null&&(r=""),r},n.prototype._getCategory=function(t,e){var r=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},n.prototype.getId=function(t){return rS(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var r=this._store,i=this._dimInfos[t];if(i)return r.get(i.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var r=this._store,i=this._dimInfos[t];if(i)return r.getByRawIndex(i.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var r=this,i=this._store;return y.isArray(t)?i.getValues(Vp(t,function(a){return r._getStoreDimIndex(a)}),e):i.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,i=e.length;r<i;r++)if(isNaN(this._store.get(e[r],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t],i=r[e];return i==null||isNaN(i)?_E:i},n.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)},n.prototype.each=function(t,e,r){"use strict";y.isFunction(t)&&(r=e,e=t,t=[]);var i=r||this,a=Vp(bb(t),this._getStoreDimIndex,this);this._store.each(a,i?y.bind(e,i):e)},n.prototype.filterSelf=function(t,e,r){"use strict";y.isFunction(t)&&(r=e,e=t,t=[]);var i=r||this,a=Vp(bb(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?y.bind(e,i):e),this},n.prototype.selectRange=function(t){"use strict";var e=this,r={},i=y.keys(t),a=[];return y.each(i,function(s){var l=e._getStoreDimIndex(s);r[l]=t[s],a.push(l)}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(t,e,r){"use strict";y.isFunction(t)&&(r=e,e=t,t=[]),r=r||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},r),i},n.prototype.map=function(t,e,r,i){"use strict";var a=r||i||this,s=Vp(bb(t),this._getStoreDimIndex,this),l=iS(this);return l._store=this._store.map(s,a?y.bind(e,a):e),l},n.prototype.modify=function(t,e,r,i){var a=this,s=r||i||this,l=Vp(bb(t),this._getStoreDimIndex,this);this._store.modify(l,s?y.bind(e,s):e)},n.prototype.downSample=function(t,e,r,i){var a=iS(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i),a},n.prototype.lttbDownSample=function(t,e){var r=iS(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),r},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,r=this.getRawDataItem(t);return new Mo(r,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new Oh(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return rS(t,r)},function(r){return rS(e,r)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},mb(t)?y.extend(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t],i=r&&r[e];return i==null?this.getVisual(e):i},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),y.isArray(a)?a=a.slice():mb(a)&&(a=y.extend({},a)),i[e]=a),a},n.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,mb(e)?y.extend(i,e):i[e]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){mb(t)?y.extend(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?y.extend(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){var r=this.hostModel&&this.hostModel.seriesIndex;Qc(r,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){y.each(this._graphicEls,function(r,i){r&&t&&t.call(e,r,i)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:Vp(this.dimensions,this._getDimInfo,this),this.hostModel)),XM(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var r=this[t];!y.isFunction(r)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return e.apply(this,[i].concat(y.slice(arguments)))})},n.internalField=function(){CE=function(t){var e=t._invertedIndicesMap;y.each(e,function(r,i){var a=t._dimInfos[i],s=a.ordinalMeta,l=t._store;if(s){r=e[i]=new MN(s.categories.length);for(var u=0;u<r.length;u++)r[u]=_E;for(var u=0;u<l.count();u++)r[l.get(a.storeDimIndex,u)]=u}})},yb=function(t,e,r){return Fo(t._getCategory(e,r),null)},rS=function(t,e){var r=t._idList[e];return r==null&&t._idDimIdx!=null&&(r=yb(t,t._idDimIdx,e)),r==null&&(r=_N+e),r},bb=function(t){return y.isArray(t)||(t=t!=null?[t]:[]),t},iS=function(t){var e=new n(t._schema?t._schema:Vp(t.dimensions,t._getDimInfo,t),t.hostModel);return XM(e,t),e},XM=function(t,e){y.each(CN.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,y.each(TN,function(r){t[r]=y.clone(e[r])}),t._calculationInfo=y.extend({},e._calculationInfo)},ZM=function(t,e){var r=t._nameList,i=t._idList,a=t._nameDimIdx,s=t._idDimIdx,l=r[e],u=i[e];if(l==null&&a!=null&&(r[e]=l=yb(t,a,e)),u==null&&s!=null&&(i[e]=u=yb(t,s,e)),u==null&&l!=null){var f=t._nameRepeatCount,d=f[l]=(f[l]||0)+1;u=l,d>1&&(u+="__ec__"+d),i[e]=u}}}(),n}(),Tu=ON;function EN(n,t){return Jm(n,t).dimensions}function Jm(n,t){vh(n)||(n=I0(n)),t=t||{};var e=t.coordDimensions||[],r=t.dimensionsDefine||n.dimensionsDefine||[],i=Object(y.createHashMap)(),a=[],s=PN(n,e,r,t.dimensionsCount),l=t.canOmitUnusedDimensions&&ME(s),u=r===n.dimensionsDefine,f=u?wE(n):SE(r),d=t.encodeDefine;!d&&t.encodeDefaulter&&(d=t.encodeDefaulter(n,s));for(var h=Object(y.createHashMap)(d),v=new tM(s),g=0;g<v.length;g++)v[g]=-1;function b(le){var Me=v[le];if(Me<0){var xe=r[le],Be=Object(y.isObject)(xe)?xe:{name:xe},ze=new nS,it=Be.name;it!=null&&f.get(it)!=null&&(ze.name=ze.displayName=it),Be.type!=null&&(ze.type=Be.type),Be.displayName!=null&&(ze.displayName=Be.displayName);var pt=a.length;return v[le]=pt,ze.storeDimIndex=le,a.push(ze),ze}return a[Me]}if(!l)for(var g=0;g<s;g++)b(g);h.each(function(le,Me){var xe=Xa(le).slice();if(xe.length===1&&!Object(y.isString)(xe[0])&&xe[0]<0){h.set(Me,!1);return}var Be=h.set(Me,[]);Object(y.each)(xe,function(ze,it){var pt=Object(y.isString)(ze)?f.get(ze):ze;pt!=null&&pt<s&&(Be[it]=pt,M(b(pt),Me,it))})});var S=0;Object(y.each)(e,function(le){var Me,xe,Be,ze;if(Object(y.isString)(le))Me=le,ze={};else{ze=le,Me=ze.name;var it=ze.ordinalMeta;ze.ordinalMeta=null,ze=Object(y.extend)({},ze),ze.ordinalMeta=it,xe=ze.dimsDef,Be=ze.otherDims,ze.name=ze.coordDim=ze.coordDimIndex=ze.dimsDef=ze.otherDims=null}var pt=h.get(Me);if(pt!==!1){if(pt=Xa(pt),!pt.length)for(var At=0;At<(xe&&xe.length||1);At++){for(;S<s&&b(S).coordDim!=null;)S++;S<s&&pt.push(S++)}Object(y.each)(pt,function(ln,Qt){var vn=b(ln);if(u&&ze.type!=null&&(vn.type=ze.type),M(Object(y.defaults)(vn,ze),Me,Qt),vn.name==null&&xe){var Gn=xe[Qt];!Object(y.isObject)(Gn)&&(Gn={name:Gn}),vn.name=vn.displayName=Gn.name,vn.defaultTooltip=Gn.defaultTooltip}Be&&Object(y.defaults)(vn.otherDims,Be)})}});function M(le,Me,xe){v0.get(Me)!=null?le.otherDims[Me]=xe:(le.coordDim=Me,le.coordDimIndex=xe,i.set(Me,!0))}var C=t.generateCoord,O=t.generateCoordCount,E=O!=null;O=C?O||1:0;var I=C||"value";function W(le){le.name==null&&(le.name=le.coordDim)}if(l)Object(y.each)(a,function(le){W(le)}),a.sort(function(le,Me){return le.storeDimIndex-Me.storeDimIndex});else for(var H=0;H<s;H++){var Q=b(H),se=Q.coordDim;se==null&&(Q.coordDim=LN(I,i,E),Q.coordDimIndex=0,(!C||O<=0)&&(Q.isExtraCoord=!0),O--),W(Q),Q.type==null&&(y0(n,H)===Ks.Must||Q.isExtraCoord&&(Q.otherDims.itemName!=null||Q.otherDims.seriesName!=null))&&(Q.type="ordinal")}return AN(a),new bE({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:l})}function AN(n){for(var t=Object(y.createHashMap)(),e=0;e<n.length;e++){var r=n[e],i=r.name,a=t.get(i)||0;a>0&&(r.name=i+(a-1)),a++,t.set(i,a)}}function PN(n,t,e,r){var i=Math.max(n.dimensionsDetectedCount||1,t.length,e.length,r||0);return Object(y.each)(t,function(a){var s;Object(y.isObject)(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function LN(n,t,e){var r=t.data;if(e||r.hasOwnProperty(n)){for(var i=0;r.hasOwnProperty(n+i);)i++;n+=i}return t.set(n,!0),n}var DN=function(){function n(t){this.coordSysDims=[],this.axisMap=Object(y.createHashMap)(),this.categoryAxisMap=Object(y.createHashMap)(),this.coordSysName=t}return n}();function RN(n){var t=n.get("coordinateSystem"),e=new DN(t),r=IN[t];if(r)return r(n,e,e.axisMap,e.categoryAxisMap),e}var IN={cartesian2d:function(n,t,e,r){var i=n.getReferringComponents("xAxis",Wo).models[0],a=n.getReferringComponents("yAxis",Wo).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),Qm(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),Qm(a)&&(r.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,r){var i=n.getReferringComponents("singleAxis",Wo).models[0];t.coordSysDims=["single"],e.set("single",i),Qm(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(n,t,e,r){var i=n.getReferringComponents("polar",Wo).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",s),Qm(a)&&(r.set("radius",a),t.firstCategoryDimIndex=0),Qm(s)&&(r.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();Object(y.each)(a.parallelAxisIndex,function(l,u){var f=i.getComponent("parallelAxis",l),d=s[u];e.set(d,f),Qm(f)&&(r.set(d,f),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function Qm(n){return n.get("type")==="category"}function TE(n,t,e){e=e||{};var r=e.byIndex,i=e.stackedCoordDimension,a,s,l;NN(t)?a=t:(s=t.schema,a=s.dimensions,l=t.store);var u=!!(n&&n.get("stack")),f,d,h,v;if(Object(y.each)(a,function(O,E){Object(y.isString)(O)&&(a[E]=O={name:O}),u&&!O.isExtraCoord&&(!r&&!f&&O.ordinalMeta&&(f=O),!d&&O.type!=="ordinal"&&O.type!=="time"&&(!i||i===O.coordDim)&&(d=O))}),d&&!r&&!f&&(r=!0),d){h="__\0ecstackresult_"+n.id,v="__\0ecstackedover_"+n.id,f&&(f.createInvertedIndices=!0);var g=d.coordDim,b=d.type,S=0;Object(y.each)(a,function(O){O.coordDim===g&&S++});var M={name:h,coordDim:g,coordDimIndex:S,type:b,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},C={name:v,coordDim:v,coordDimIndex:S+1,type:b,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(l&&(M.storeDimIndex=l.ensureCalculationDimension(v,b),C.storeDimIndex=l.ensureCalculationDimension(h,b)),s.appendCalculationDimension(M),s.appendCalculationDimension(C)):(a.push(M),a.push(C))}return{stackedDimension:d&&d.name,stackedByDimension:f&&f.name,isStackedByIndex:r,stackedOverDimension:v,stackResultDimension:h}}function NN(n){return!xE(n.schema)}function Eh(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function $M(n,t){return Eh(n,t)?n.getCalculationInfo("stackResultDimension"):t}function kN(n,t){var e=n.get("coordinateSystem"),r=wd.get(e),i;return t&&t.coordSysDims&&(i=y.map(t.coordSysDims,function(a){var s={name:a},l=t.axisMap.get(a);if(l){var u=l.get("type");s.type=tS(u)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function jN(n,t,e){var r,i;return e&&y.each(n,function(a,s){var l=a.coordDim,u=e.categoryAxisMap.get(l);u&&(r==null&&(r=s),a.ordinalMeta=u.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function BN(n,t,e){e=e||{};var r=t.getSourceManager(),i,a=!1;n?(a=!0,i=I0(n)):(i=r.getSource(),a=i.sourceFormat===yl);var s=RN(t),l=kN(t,s),u=e.useEncodeDefaulter,f=y.isFunction(u)?u:u?y.curry(m0,l,t):null,d={coordDimensions:l,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!a},h=Jm(i,d),v=jN(h.dimensions,e.createInvertedIndices,s),g=a?null:r.getSharedDataStore(h),b=TE(t,{schema:h,store:g}),S=new Tu(h,t);S.setCalculationInfo(b);var M=v!=null&&FN(i)?function(C,O,E,I){return I===v?E:this.defaultDimValueGetter(C,O,E,I)}:null;return S.hasItemOption=!1,S.initData(a?i:g,null,M),S}function FN(n){if(n.sourceFormat===yl){var t=zN(n.data||[]);return!y.isArray(Rl(t))}}function zN(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}var Pd=BN,OE=function(){function n(t){this._setting=t||{},this._extent=[Infinity,-Infinity]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(e)||(r[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();qd(OE);var Ah=OE,VN=0,HN=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++VN}return n.createByAxisModel=function(t){var e=t.option,r=e.data,i=r&&Object(y.map)(r,GN);return new n({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,r=this._needCollect;if(!Object(y.isString)(t)&&!r)return t;if(r&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(r?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(y.createHashMap)(this.categories))},n}();function GN(n){return Object(y.isObject)(n)&&n.value!=null?n.value:n+""}var JM=HN;function EY(n){var t=Math.pow(10,ei(Math.abs(n))),e=Math.abs(n/t);return e===0||e===1||e===2||e===3||e===5}function QM(n){return n.type==="interval"||n.type==="log"}function UN(n,t,e,r){var i={},a=n[1]-n[0],s=i.interval=lv(a/t,!0);e!=null&&s<e&&(s=i.interval=e),r!=null&&s>r&&(s=i.interval=r);var l=i.intervalPrecision=EE(s),u=i.niceTickExtent=[nr(Math.ceil(n[0]/s)*s,l),nr(Math.floor(n[1]/s)*s,l)];return WN(u,n),i}function qM(n){var t=Math.pow(10,ei(n)),e=n/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,nr(e*t)}function EE(n){return Ra(n)+2}function AE(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function WN(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),AE(n,0,t),AE(n,1,t),n[0]>n[1]&&(n[0]=n[1])}function aS(n,t){return n>=t[0]&&n<=t[1]}function oS(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function sS(n,t){return n*(t[1]-t[0])+t[0]}var PE=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new JM({})),Object(y.isArray)(i)&&(i=new JM({categories:Object(y.map)(i,function(a){return Object(y.isObject)(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return t.prototype.parse=function(e){return Object(y.isString)(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),aS(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),oS(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(sS(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],r=this._extent,i=r[0];i<=r[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,l=this._ordinalMeta.categories.length,u=Math.min(l,r.length);s<u;++s){var f=r[s];i[s]=f,a[f]=s}for(var d=0;s<l;++s){for(;a[d]!=null;)d++;i.push(d),a[d]=s}},t.prototype._getTickNumber=function(e){var r=this._ticksByOrdinalNumber;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getRawOrdinalNumber=function(e){var r=this._ordinalNumbersByTick;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var r=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Ah);Ah.registerClass(PE);var e_=PE,mg=nr,LE=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return aS(e,this._extent)},t.prototype.normalize=function(e){return oS(e,this._extent)},t.prototype.scale=function(e){return sS(e,this._extent)},t.prototype.setExtent=function(e,r){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=EE(e)},t.prototype.getTicks=function(e){var r=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,l=[];if(!r)return l;var u=1e4;i[0]<a[0]&&(e?l.push({value:mg(a[0]-r,s)}):l.push({value:i[0]}));for(var f=a[0];f<=a[1]&&(l.push({value:f}),f=mg(f+r,s),f!==l[l.length-1].value);)if(l.length>u)return[];var d=l.length?l[l.length-1].value:a[1];return i[1]>d&&(e?l.push({value:mg(d+r,s)}):l.push({value:i[1]})),l},t.prototype.getMinorTicks=function(e){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<r.length;s++){for(var l=r[s],u=r[s-1],f=0,d=[],h=l.value-u.value,v=h/e;f<e-1;){var g=mg(u.value+(f+1)*v);g>a[0]&&g<a[1]&&d.push(g),f++}i.push(d)}return i},t.prototype.getLabel=function(e,r){if(e==null)return"";var i=r&&r.precision;i==null?i=Ra(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=mg(e.value,i,!0);return cp(a)},t.prototype.calcNiceTicks=function(e,r,i){e=e||5;var a=this._extent,s=a[1]-a[0];if(!!isFinite(s)){s<0&&(s=-s,a.reverse());var l=UN(a,e,r,i);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=r[0];e.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var s=this._interval;e.fixMin||(r[0]=mg(Math.floor(r[0]/s)*s)),e.fixMax||(r[1]=mg(Math.ceil(r[1]/s)*s))},t.prototype.setNiceExtent=function(e,r){this._niceExtent=[e,r]},t.type="interval",t}(Ah);Ah.registerClass(LE);var Hp=LE,DE=typeof Float32Array!="undefined",KN=DE?Float32Array:Array;function Ld(n){return Object(y.isArray)(n)?DE?new Float32Array(n):n:new KN(n)}var t_="__ec_stack_";function n_(n){return n.get("stack")||t_+n.seriesIndex}function r_(n){return n.dim+n.index}function YN(n){var t=[],e=n.axis,r="axis0";if(e.type==="category"){for(var i=e.getBandWidth(),a=0;a<n.count;a++)t.push(Object(y.defaults)({bandWidth:i,axisKey:r,stackId:t_+a},n));for(var s=NE(t),l=[],a=0;a<n.count;a++){var u=s[r][t_+a];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}function RE(n,t){var e=[];return t.eachSeriesByType(n,function(r){BE(r)&&e.push(r)}),e}function XN(n){var t={};Object(y.each)(n,function(u){var f=u.coordinateSystem,d=f.getBaseAxis();if(!(d.type!=="time"&&d.type!=="value"))for(var h=u.getData(),v=d.dim+"_"+d.index,g=h.getDimensionIndex(h.mapDimension(d.dim)),b=h.getStore(),S=0,M=b.count();S<M;++S){var C=b.get(g,S);t[v]?t[v].push(C):t[v]=[C]}});var e={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(u,f){return u-f});for(var a=null,s=1;s<i.length;++s){var l=i[s]-i[s-1];l>0&&(a=a===null?l:Math.min(a,l))}e[r]=a}}return e}function IE(n){var t=XN(n),e=[];return Object(y.each)(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),l;if(a.type==="category")l=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,f=t[u],d=Math.abs(s[1]-s[0]),h=a.scale.getExtent(),v=Math.abs(h[1]-h[0]);l=f?d/v*f:d}else{var g=r.getData();l=Math.abs(s[1]-s[0])/g.count()}var b=Yn(r.get("barWidth"),l),S=Yn(r.get("barMaxWidth"),l),M=Yn(r.get("barMinWidth")||(FE(r)?.5:1),l),C=r.get("barGap"),O=r.get("barCategoryGap");e.push({bandWidth:l,barWidth:b,barMaxWidth:S,barMinWidth:M,barGap:C,barCategoryGap:O,axisKey:r_(a),stackId:n_(r)})}),NE(e)}function NE(n){var t={};Object(y.each)(n,function(r,i){var a=r.axisKey,s=r.bandWidth,l=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=l.stacks;t[a]=l;var f=r.stackId;u[f]||l.autoWidthCount++,u[f]=u[f]||{width:0,maxWidth:0};var d=r.barWidth;d&&!u[f].width&&(u[f].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var h=r.barMaxWidth;h&&(u[f].maxWidth=h);var v=r.barMinWidth;v&&(u[f].minWidth=v);var g=r.barGap;g!=null&&(l.gap=g);var b=r.barCategoryGap;b!=null&&(l.categoryGap=b)});var e={};return Object(y.each)(t,function(r,i){e[i]={};var a=r.stacks,s=r.bandWidth,l=r.categoryGap;if(l==null){var u=Object(y.keys)(a).length;l=Math.max(35-u*4,15)+"%"}var f=Yn(l,s),d=Yn(r.gap,1),h=r.remainedWidth,v=r.autoWidthCount,g=(h-f)/(v+(v-1)*d);g=Math.max(g,0),Object(y.each)(a,function(C){var O=C.maxWidth,E=C.minWidth;if(C.width){var I=C.width;O&&(I=Math.min(I,O)),E&&(I=Math.max(I,E)),C.width=I,h-=I+d*I,v--}else{var I=g;O&&O<I&&(I=Math.min(O,h)),E&&E>I&&(I=E),I!==g&&(C.width=I,h-=I+d*I,v--)}}),g=(h-f)/(v+(v-1)*d),g=Math.max(g,0);var b=0,S;Object(y.each)(a,function(C,O){C.width||(C.width=g),S=C,b+=C.width*(1+d)}),S&&(b-=S.width*d);var M=-b/2;Object(y.each)(a,function(C,O){e[i][O]=e[i][O]||{bandWidth:s,offset:M,width:C.width},M+=C.width*(1+d)})}),e}function ZN(n,t,e){if(n&&t){var r=n[r_(t)];return r!=null&&e!=null?r[n_(e)]:r}}function kE(n,t){var e=RE(n,t),r=IE(e);Object(y.each)(e,function(i){var a=i.getData(),s=i.coordinateSystem,l=s.getBaseAxis(),u=n_(i),f=r[r_(l)][u],d=f.offset,h=f.width;a.setLayout({bandWidth:f.bandWidth,offset:d,size:h})})}function jE(n){return{seriesType:n,plan:Dp(),reset:function(t){if(!!BE(t)){var e=t.getData(),r=t.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),s=e.getDimensionIndex(e.mapDimension(a.dim)),l=e.getDimensionIndex(e.mapDimension(i.dim)),u=t.get("showBackground",!0),f=e.mapDimension(a.dim),d=e.getCalculationInfo("stackResultDimension"),h=Eh(e,f)&&!!e.getCalculationInfo("stackedOnSeries"),v=a.isHorizontal(),g=$N(i,a),b=FE(t),S=t.get("barMinHeight")||0,M=d&&e.getDimensionIndex(d),C=e.getLayout("size"),O=e.getLayout("offset");return{progress:function(E,I){for(var W=E.count,H=b&&Ld(W*3),Q=b&&u&&Ld(W*3),se=b&&Ld(W),le=r.master.getRect(),Me=v?le.width:le.height,xe,Be=I.getStore(),ze=0;(xe=E.next())!=null;){var it=Be.get(h?M:s,xe),pt=Be.get(l,xe),At=g,ln=void 0;h&&(ln=+it-Be.get(s,xe));var Qt=void 0,vn=void 0,Gn=void 0,fr=void 0;if(v){var Er=r.dataToPoint([it,pt]);if(h){var li=r.dataToPoint([ln,pt]);At=li[0]}Qt=At,vn=Er[1]+O,Gn=Er[0]-At,fr=C,Math.abs(Gn)<S&&(Gn=(Gn<0?-1:1)*S)}else{var Er=r.dataToPoint([pt,it]);if(h){var li=r.dataToPoint([pt,ln]);At=li[1]}Qt=Er[0]+O,vn=At,Gn=C,fr=Er[1]-At,Math.abs(fr)<S&&(fr=(fr<=0?-1:1)*S)}b?(H[ze]=Qt,H[ze+1]=vn,H[ze+2]=v?Gn:fr,Q&&(Q[ze]=v?le.x:Qt,Q[ze+1]=v?vn:le.y,Q[ze+2]=Me),se[xe]=xe):I.setItemLayout(xe,{x:Qt,y:vn,width:Gn,height:fr}),ze+=3}b&&I.setLayout({largePoints:H,largeDataIndices:se,largeBackgroundPoints:Q,valueAxisHorizontal:v})}}}}}}function BE(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function FE(n){return n.pipelineContext&&n.pipelineContext.large}function $N(n,t){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var JN=function(n,t,e,r){for(;e<r;){var i=e+r>>>1;n[i][1]<t?e=i+1:r=i}return e},zE=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="time",r}return t.prototype.getLabel=function(e){var r=this.getSetting("useUTC");return Iv(e.value,Px[Dx(up(this._minLevelUnit))]||Px.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,r,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return c0(e,r,i,s,a)},t.prototype.getTicks=function(){var e=this._interval,r=this._extent,i=[];if(!e)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=ik(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1]&&(r[0]-=sc,r[1]+=sc),r[1]===-Infinity&&r[0]===Infinity){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-sc}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,r,i){e=e||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/e,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var l=lS.length,u=Math.min(JN(lS,this._approxInterval,0,l),l-1);this._interval=lS[u][1],this._minLevelUnit=lS[Math.max(u-1,0)][0]},t.prototype.parse=function(e){return Object(y.isNumber)(e)?e:+pl(e)},t.prototype.contain=function(e){return aS(this.parse(e),this._extent)},t.prototype.normalize=function(e){return oS(this.parse(e),this._extent)},t.prototype.scale=function(e){return sS(e,this._extent)},t.type="time",t}(Hp),lS=[["second",s0],["minute",l0],["hour",Dv],["quarter-day",Dv*6],["half-day",Dv*12],["day",sc*1.2],["half-week",sc*3.5],["week",sc*7],["month",sc*31],["quarter",sc*95],["half-year",Ax/2],["year",Ax]];function QN(n,t,e,r){var i=pl(t),a=pl(e),s=function(b){return Rx(i,b,r)===Rx(a,b,r)},l=function(){return s("year")},u=function(){return l()&&s("month")},f=function(){return u()&&s("day")},d=function(){return f()&&s("hour")},h=function(){return d()&&s("minute")},v=function(){return h()&&s("second")},g=function(){return v()&&s("millisecond")};switch(n){case"year":return l();case"month":return u();case"day":return f();case"hour":return d();case"minute":return h();case"second":return v();case"millisecond":return g()}}function qN(n,t){return n/=sc,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function ek(n){var t=30*sc;return n/=t,n>6?6:n>3?3:n>2?2:1}function tk(n){return n/=Dv,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function VE(n,t){return n/=t?l0:s0,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function nk(n){return lv(n,!0)}function rk(n,t,e){var r=new Date(n);switch(up(t)){case"year":case"month":r[pm(e)](0);case"day":r[Ix(e)](1);case"hour":r[Nx(e)](0);case"minute":r[kx(e)](0);case"second":r[Ro(e)](0),r[jx(e)](0)}return r.getTime()}function ik(n,t,e,r){var i=1e4,a=Lx,s=0;function l(Me,xe,Be,ze,it,pt,At){for(var ln=new Date(xe),Qt=xe,vn=ln[ze]();Qt<Be&&Qt<=r[1];)At.push({value:Qt}),vn+=Me,ln[it](vn),Qt=ln.getTime();At.push({value:Qt,notAdd:!0})}function u(Me,xe,Be){var ze=[],it=!xe.length;if(!QN(up(Me),r[0],r[1],e)){it&&(xe=[{value:rk(new Date(r[0]),Me,e)},{value:r[1]}]);for(var pt=0;pt<xe.length-1;pt++){var At=xe[pt].value,ln=xe[pt+1].value;if(At!==ln){var Qt=void 0,vn=void 0,Gn=void 0,fr=!1;switch(Me){case"year":Qt=Math.max(1,Math.round(t/sc/365)),vn=f0(e),Gn=jw(e);break;case"half-year":case"quarter":case"month":Qt=ek(t),vn=sh(e),Gn=pm(e);break;case"week":case"half-week":case"day":Qt=qN(t,31),vn=dm(e),Gn=Ix(e),fr=!0;break;case"half-day":case"quarter-day":case"hour":Qt=tk(t),vn=Nv(e),Gn=Nx(e);break;case"minute":Qt=VE(t,!0),vn=hm(e),Gn=kx(e);break;case"second":Qt=VE(t,!1),vn=kv(e),Gn=Ro(e);break;case"millisecond":Qt=nk(t),vn=tf(e),Gn=jx(e);break}l(Qt,At,ln,vn,Gn,fr,ze),Me==="year"&&Be.length>1&&pt===0&&Be.unshift({value:Be[0].value-Qt})}}for(var pt=0;pt<ze.length;pt++)Be.push(ze[pt]);return ze}}for(var f=[],d=[],h=0,v=0,g=0;g<a.length&&s++<i;++g){var b=up(a[g]);if(!!kw(a[g])){u(a[g],f[f.length-1]||[],d);var S=a[g+1]?up(a[g+1]):null;if(b!==S){if(d.length){v=h,d.sort(function(Me,xe){return Me.value-xe.value});for(var M=[],C=0;C<d.length;++C){var O=d[C].value;(C===0||d[C-1].value!==O)&&(M.push(d[C]),O>=r[0]&&O<=r[1]&&h++)}var E=(r[1]-r[0])/t;if(h>E*1.5&&v>E/1.5||(f.push(M),h>E||n===a[g]))break}d=[]}}}for(var I=Object(y.filter)(Object(y.map)(f,function(Me){return Object(y.filter)(Me,function(xe){return xe.value>=r[0]&&xe.value<=r[1]&&!xe.notAdd})}),function(Me){return Me.length>0}),W=[],H=I.length-1,g=0;g<I.length;++g)for(var Q=I[g],se=0;se<Q.length;++se)W.push({value:Q[se].value,level:H-g});W.sort(function(Me,xe){return Me.value-xe.value});for(var le=[],g=0;g<W.length;++g)(g===0||W[g].value!==W[g-1].value)&&le.push(W[g]);return le}Ah.registerClass(zE);var HE=zE,GE=Ah.prototype,xb=Hp.prototype,ak=nr,ok=Math.floor,sk=Math.ceil,uS=Math.pow,pf=Math.log,i_=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Hp,e._interval=0,e}return t.prototype.getTicks=function(e){var r=this._originalScale,i=this._extent,a=r.getExtent(),s=xb.getTicks.call(this,e);return y.map(s,function(l){var u=l.value,f=nr(uS(this.base,u));return f=u===i[0]&&this._fixMin?cS(f,a[0]):f,f=u===i[1]&&this._fixMax?cS(f,a[1]):f,{value:f}},this)},t.prototype.setExtent=function(e,r){var i=this.base;e=pf(e)/pf(i),r=pf(r)/pf(i),xb.setExtent.call(this,e,r)},t.prototype.getExtent=function(){var e=this.base,r=GE.getExtent.call(this);r[0]=uS(e,r[0]),r[1]=uS(e,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=cS(r[0],a[0])),this._fixMax&&(r[1]=cS(r[1],a[1])),r},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var r=this.base;e[0]=pf(e[0])/pf(r),e[1]=pf(e[1])/pf(r),GE.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(e){e=e||10;var r=this._extent,i=r[1]-r[0];if(!(i===Infinity||i<=0)){var a=sv(i),s=e/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var l=[nr(sk(r[0]/a)*a),nr(ok(r[1]/a)*a)];this._interval=a,this._niceExtent=l}},t.prototype.calcNiceExtent=function(e){xb.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=pf(e)/pf(this.base),aS(e,this._extent)},t.prototype.normalize=function(e){return e=pf(e)/pf(this.base),oS(e,this._extent)},t.prototype.scale=function(e){return e=sS(e,this._extent),uS(this.base,e)},t.type="log",t}(Ah),UE=i_.prototype;UE.getMinorTicks=xb.getMinorTicks,UE.getLabel=xb.getLabel;function cS(n,t){return ak(n,Ra(t))}Ah.registerClass(i_);var lk=i_,uk=function(){function n(t,e,r){this._prepareParams(t,e,r)}return n.prototype._prepareParams=function(t,e,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);Object(y.isFunction)(a)?this._modelMinNum=fS(t,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=fS(t,a));var s=this._modelMaxRaw=e.get("max",!0);if(Object(y.isFunction)(s)?this._modelMaxNum=fS(t,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=fS(t,s)),i)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=Object(y.isArray)(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Al(u[0],1),Al(u[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=t?null:r-e||Math.abs(e),l=this._modelMinRaw==="dataMin"?e:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,f=l!=null,d=u!=null;l==null&&(l=t?i?0:NaN:e-a[0]*s),u==null&&(u=t?i?i-1:NaN:r+a[1]*s),(l==null||!isFinite(l))&&(l=NaN),(u==null||!isFinite(u))&&(u=NaN);var h=Object(y.eqNaN)(l)||Object(y.eqNaN)(u)||t&&!i;this._needCrossZero&&(l>0&&u>0&&!f&&(l=0),l<0&&u<0&&!d&&(u=0));var v=this._determinedMin,g=this._determinedMax;return v!=null&&(l=v,f=!0),g!=null&&(u=g,d=!0),{min:l,max:u,minFixed:f,maxFixed:d,isBlank:h}},n.prototype.modifyDataMinMax=function(t,e){this[fk[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){var r=ck[t];this[r]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),ck={min:"_determinedMin",max:"_determinedMax"},fk={min:"_dataMin",max:"_dataMax"};function WE(n,t,e){var r=n.rawExtentInfo;return r||(r=new uk(n,t,e),n.rawExtentInfo=r,r)}function fS(n,t){return t==null?null:Object(y.eqNaN)(t)?NaN:n.parse(t)}function KE(n,t){var e=n.type,r=WE(n,t,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,s=t.ecModel;if(s&&e==="time"){var l=RE("bar",s),u=!1;if(y.each(l,function(h){u=u||h.getBaseAxis()===t.axis}),u){var f=IE(l),d=dk(i,a,t,f);i=d.min,a=d.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function dk(n,t,e,r){var i=e.axis.getExtent(),a=i[1]-i[0],s=ZN(r,e.axis);if(s===void 0)return{min:n,max:t};var l=Infinity;y.each(s,function(g){l=Math.min(g.offset,l)});var u=-Infinity;y.each(s,function(g){u=Math.max(g.offset+g.width,u)}),l=Math.abs(l),u=Math.abs(u);var f=l+u,d=t-n,h=1-(l+u)/a,v=d/h-d;return t+=v*(u/f),n-=v*(l/f),{min:n,max:t}}function yg(n,t){var e=t,r=KE(n,e),i=r.extent,a=e.get("splitNumber");n instanceof lk&&(n.base=e.get("logBase"));var s=n.type,l=e.get("interval"),u=s==="interval"||s==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:u?e.get("minInterval"):null,maxInterval:u?e.get("maxInterval"):null}),l!=null&&n.setInterval&&n.setInterval(l)}function Sb(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new e_({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[Infinity,-Infinity]});case"time":return new HE({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Ah.getClass(t)||Hp)}}function hk(n){var t=n.scale.getExtent(),e=t[0],r=t[1];return!(e>0&&r>0||e<0&&r<0)}function wb(n){var t=n.getLabelModel().get("formatter"),e=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,a){return n.scale.getFormattedLabel(i,a,r)}}(t):y.isString(t)?function(r){return function(i){var a=n.scale.getLabel(i),s=r.replace("{value}",a!=null?a:"");return s}}(t):y.isFunction(t)?function(r){return function(i,a){return e!=null&&(a=i.value-e),r(a_(n,i),a,i.level!=null?{level:i.level}:null)}}(t):function(r){return n.scale.getLabel(r)}}function a_(n,t){return n.type==="category"?n.scale.getLabel(t):t.value}function pk(n){var t=n.model,e=n.scale;if(!(!t.get(["axisLabel","show"])||e.isBlank())){var r,i,a=e.getExtent();e instanceof e_?i=e.count():(r=e.getTicks(),i=r.length);var s=n.getLabelModel(),l=wb(n),u,f=1;i>40&&(f=Math.ceil(i/40));for(var d=0;d<i;d+=f){var h=r?r[d]:{value:a[0]+d},v=l(h,d),g=s.getTextRect(v),b=vk(g,s.get("rotate")||0);u?u.union(b):u=b}return u}}function vk(n,t){var e=t*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(e))+Math.abs(i*Math.sin(e)),s=r*Math.abs(Math.sin(e))+Math.abs(i*Math.cos(e)),l=new Hn(n.x,n.y,a,s);return l}function o_(n){var t=n.get("interval");return t==null?"auto":t}function YE(n){return n.type==="category"&&o_(n.getLabelModel())===0}function dS(n,t){var e={};return y.each(n.mapDimensionsAll(t),function(r){e[$M(n,r)]=!0}),y.keys(e)}function gk(n,t,e){t&&y.each(dS(t,e),function(r){var i=t.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}var qm=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},n.prototype.getCoordSysModel=function(){},n}();function mk(n){return Pd(null,n)}var yk={isDimensionStacked:Eh,enableDataStack:TE,getStackedDimension:$M};function bk(n,t){var e=t;t instanceof Mo||(e=new Mo(t));var r=Sb(e);return r.setExtent(n[0],n[1]),yg(r,e),r}function xk(n){y.mixin(n,qm)}function Sk(n,t){return t=t||{},bs(n,null,null,t.state!=="normal")}var wk=1e-8;function XE(n,t){return Math.abs(n-t)<wk}function bg(n,t,e){var r=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var s=n[a];r+=Xi(i[0],i[1],s[0],s[1],t,e),i=s}var l=n[0];return(!XE(i[0],l[0])||!XE(i[1],l[1]))&&(r+=Xi(i[0],i[1],l[0],l[1],t,e)),r!==0}var Mk=[];function s_(n,t){for(var e=0;e<n.length;e++)cn(n[e],n[e],t)}function ZE(n,t,e,r){for(var i=0;i<n.length;i++){var a=n[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(gn(t,t,a),tn(e,e,a))}}function _k(n){for(var t=0,e=0,r=0,i=n.length,a=n[i-1][0],s=n[i-1][1],l=0;l<i;l++){var u=n[l][0],f=n[l][1],d=a*f-u*s;t+=d,e+=(a+u)*d,r+=(s+f)*d,a=u,s=f}return t?[e/t/3,r/t/3,t]:[n[0][0]||0,n[0][1]||0]}var $E=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),JE=function(){function n(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return n}(),QE=function(){function n(t){this.type="linestring",this.points=t}return n}(),qE=function(n){ve(t,n);function t(e,r,i){var a=n.call(this,e)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,r,i=0,a=0;a<e.length;a++){var s=e[a],l=s.exterior,u=l&&l.length;u>i&&(r=s,i=u)}if(r)return _k(r.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var i=[Infinity,Infinity],a=[-Infinity,-Infinity],s=this.geometries;return Object(y.each)(s,function(l){l.type==="polygon"?ZE(l.exterior,i,a,e):Object(y.each)(l.points,function(u){ZE(u,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new Hn(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var l=i[a];if(l.type==="polygon"){var u=l.exterior,f=l.interiors;if(bg(u,e[0],e[1])){for(var d=0;d<(f?f.length:0);d++)if(bg(f[d],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,i,a){var s=this.getBoundingRect(),l=s.width/s.height;i?a||(a=i/l):i=l*a;for(var u=new Hn(e,r,i,a),f=s.calculateTransform(u),d=this.geometries,h=0;h<d.length;h++){var v=d[h];v.type==="polygon"?(s_(v.exterior,f),Object(y.each)(v.interiors,function(g){s_(g,f)})):Object(y.each)(v.points,function(g){s_(g,f)})}s=this._rect,s.copy(u),this._center=[s.x+s.width/2,s.y+s.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}($E),Ck=function(n){ve(t,n);function t(e,r){var i=n.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=Zs(Mk),s=e;s&&!s.isGeoSVGGraphicRoot;)ho(a,s.getLocalTransform(),a),s=s.parent;return dl(a,a),cn(i,i,a),i},t}($E);function Tk(n){if(!n.UTF8Encoding)return n;var t=n,e=t.UTF8Scale;e==null&&(e=1024);var r=t.features;return y.each(r,function(i){var a=i.geometry,s=a.encodeOffsets,l=a.coordinates;if(!!s)switch(a.type){case"LineString":a.coordinates=e2(l,s,e);break;case"Polygon":l_(l,s,e);break;case"MultiLineString":l_(l,s,e);break;case"MultiPolygon":y.each(l,function(u,f){return l_(u,s[f],e)})}}),t.UTF8Encoding=!1,t}function l_(n,t,e){for(var r=0;r<n.length;r++)n[r]=e2(n[r],t[r],e)}function e2(n,t,e){for(var r=[],i=t[0],a=t[1],s=0;s<n.length;s+=2){var l=n.charCodeAt(s)-64,u=n.charCodeAt(s+1)-64;l=l>>1^-(l&1),u=u>>1^-(u&1),l+=i,u+=a,i=l,a=u,r.push([l/e,u/e])}return r}function u_(n,t){return n=Tk(n),y.map(y.filter(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new JE(s[0],s.slice(1)));break;case"MultiPolygon":y.each(i.coordinates,function(u){u[0]&&a.push(new JE(u[0],u.slice(1)))});break;case"LineString":a.push(new QE([i.coordinates]));break;case"MultiLineString":a.push(new QE(i.coordinates))}var l=new qE(r[t||"name"],a,r.cp);return l.properties=r,l})}function Ok(n,t,e,r,i,a,s,l){var u=new Fi({style:{text:n,font:t,align:e,verticalAlign:r,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:l}});return u.getBoundingRect()}var Mb=Yi();function Ek(n){return n.type==="category"?Pk(n):Dk(n)}function Ak(n,t){return n.type==="category"?Lk(n,t):{ticks:y.map(n.scale.getTicks(),function(e){return e.value})}}function Pk(n){var t=n.getLabelModel(),e=t2(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function t2(n,t){var e=n2(n,"labels"),r=o_(t),i=r2(e,r);if(i)return i;var a,s;return y.isFunction(r)?a=o2(n,r):(s=r==="auto"?Rk(n):r,a=a2(n,s)),i2(e,r,{labels:a,labelCategoryInterval:s})}function Lk(n,t){var e=n2(n,"ticks"),r=o_(t),i=r2(e,r);if(i)return i;var a,s;if((!t.get("show")||n.scale.isBlank())&&(a=[]),y.isFunction(r))a=o2(n,r,!0);else if(r==="auto"){var l=t2(n,n.getLabelModel());s=l.labelCategoryInterval,a=y.map(l.labels,function(u){return u.tickValue})}else s=r,a=a2(n,s,!0);return i2(e,r,{ticks:a,tickCategoryInterval:s})}function Dk(n){var t=n.scale.getTicks(),e=wb(n);return{labels:y.map(t,function(r,i){return{level:r.level,formattedLabel:e(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function n2(n,t){return Mb(n)[t]||(Mb(n)[t]=[])}function r2(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function i2(n,t,e){return n.push({key:t,value:e}),e}function Rk(n){var t=Mb(n).autoInterval;return t!=null?t:Mb(n).autoInterval=n.calculateCategoryInterval()}function Ik(n){var t=Nk(n),e=wb(n),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],f=n.dataToCoord(u+1)-n.dataToCoord(u),d=Math.abs(f*Math.cos(r)),h=Math.abs(f*Math.sin(r)),v=0,g=0;u<=a[1];u+=l){var b=0,S=0,M=wc(e({value:u}),t.font,"center","top");b=M.width*1.3,S=M.height*1.3,v=Math.max(v,b,7),g=Math.max(g,S,7)}var C=v/d,O=g/h;isNaN(C)&&(C=Infinity),isNaN(O)&&(O=Infinity);var E=Math.max(0,Math.floor(Math.min(C,O))),I=Mb(n.model),W=n.getExtent(),H=I.lastAutoInterval,Q=I.lastTickCount;return H!=null&&Q!=null&&Math.abs(H-E)<=1&&Math.abs(Q-s)<=1&&H>E&&I.axisExtent0===W[0]&&I.axisExtent1===W[1]?E=H:(I.lastTickCount=s,I.lastAutoInterval=E,I.axisExtent0=W[0],I.axisExtent1=W[1]),E}function Nk(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function a2(n,t,e){var r=wb(n),i=n.scale,a=i.getExtent(),s=n.getLabelModel(),l=[],u=Math.max((t||0)+1,1),f=a[0],d=i.count();f!==0&&u>1&&d/u>2&&(f=Math.round(Math.ceil(f/u)*u));var h=YE(n),v=s.get("showMinLabel")||h,g=s.get("showMaxLabel")||h;v&&f!==a[0]&&S(a[0]);for(var b=f;b<=a[1];b+=u)S(b);g&&b-u!==a[1]&&S(a[1]);function S(M){var C={value:M};l.push(e?M:{formattedLabel:r(C),rawLabel:i.getLabel(C),tickValue:M})}return l}function o2(n,t,e){var r=n.scale,i=wb(n),a=[];return y.each(r.getTicks(),function(s){var l=r.getLabel(s),u=s.value;t(s.value,l)&&a.push(e?u:{formattedLabel:i(s),rawLabel:l,tickValue:u})}),a}var s2=[0,1],kk=function(){function n(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return n.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=r&&t<=i},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Va(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},n.prototype.dataToCoord=function(t,e){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(r=r.slice(),l2(r,i.count())),Da(t,s2,r,e)},n.prototype.coordToData=function(t,e){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),l2(r,i.count()));var a=Da(t,r,s2,e);return this.scale.scale(a)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),r=Ak(this,e),i=r.ticks,a=Object(y.map)(i,function(l){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(l):l),tickValue:l}},this),s=e.get("alignWithLabel");return jk(this,a,s,t.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var r=this.scale.getMinorTicks(e),i=Object(y.map)(r,function(a){return Object(y.map)(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},n.prototype.getViewLabels=function(){return Ek(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return Ik(this)},n}();function l2(n,t){var e=n[1]-n[0],r=t,i=e/r/2;n[0]+=i,n[1]-=i}function jk(n,t,e,r){var i=t.length;if(!n.onBand||e||!i)return;var a=n.getExtent(),s,l;if(i===1)t[0].coord=a[0],s=t[1]={coord:a[0]};else{var u=t[i-1].tickValue-t[0].tickValue,f=(t[i-1].coord-t[0].coord)/u;Object(y.each)(t,function(g){g.coord-=f/2});var d=n.scale.getExtent();l=1+d[1]-t[i-1].tickValue,s={coord:t[i-1].coord+f*l},t.push(s)}var h=a[0]>a[1];v(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&v(a[0],t[0].coord)&&t.unshift({coord:a[0]}),v(a[1],s.coord)&&(r?s.coord=a[1]:t.pop()),r&&v(s.coord,a[1])&&t.push({coord:a[1]});function v(g,b){return g=nr(g),b=nr(b),h?g>b:g<b}}var vf=kk;function Bk(n){var t=xa.extend(n);return xa.registerClass(t),t}function Fk(n){var t=Xo.extend(n);return Xo.registerClass(t),t}function zk(n){var t=Io.extend(n);return Io.registerClass(t),t}function Vk(n){var t=Te.extend(n);return Te.registerClass(t),t}var _b=Math.PI*2,xg=Jn.CMD,Hk=["top","right","bottom","left"];function Gk(n,t,e,r,i){var a=e.width,s=e.height;switch(n){case"top":r.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":r.set(e.x+a/2,e.y+s+t),i.set(0,1);break;case"left":r.set(e.x-t,e.y+s/2),i.set(-1,0);break;case"right":r.set(e.x+a+t,e.y+s/2),i.set(1,0);break}}function Uk(n,t,e,r,i,a,s,l,u){s-=n,l-=t;var f=Math.sqrt(s*s+l*l);s/=f,l/=f;var d=s*e+n,h=l*e+t;if(Math.abs(r-i)%_b<1e-4)return u[0]=d,u[1]=h,f-e;if(a){var v=r;r=Ri(i),i=Ri(v)}else r=Ri(r),i=Ri(i);r>i&&(i+=_b);var g=Math.atan2(l,s);if(g<0&&(g+=_b),g>=r&&g<=i||g+_b>=r&&g+_b<=i)return u[0]=d,u[1]=h,f-e;var b=e*Math.cos(r)+n,S=e*Math.sin(r)+t,M=e*Math.cos(i)+n,C=e*Math.sin(i)+t,O=(b-s)*(b-s)+(S-l)*(S-l),E=(M-s)*(M-s)+(C-l)*(C-l);return O<E?(u[0]=b,u[1]=S,Math.sqrt(O)):(u[0]=M,u[1]=C,Math.sqrt(E))}function hS(n,t,e,r,i,a,s,l){var u=i-n,f=a-t,d=e-n,h=r-t,v=Math.sqrt(d*d+h*h);d/=v,h/=v;var g=u*d+f*h,b=g/v;l&&(b=Math.min(Math.max(b,0),1)),b*=v;var S=s[0]=n+b*d,M=s[1]=t+b*h;return Math.sqrt((S-i)*(S-i)+(M-a)*(M-a))}function u2(n,t,e,r,i,a,s){e<0&&(n=n+e,e=-e),r<0&&(t=t+r,r=-r);var l=n+e,u=t+r,f=s[0]=Math.min(Math.max(i,n),l),d=s[1]=Math.min(Math.max(a,t),u);return Math.sqrt((f-i)*(f-i)+(d-a)*(d-a))}var $f=[];function Wk(n,t,e){var r=u2(t.x,t.y,t.width,t.height,n.x,n.y,$f);return e.set($f[0],$f[1]),r}function Kk(n,t,e){for(var r=0,i=0,a=0,s=0,l,u,f=Infinity,d=t.data,h=n.x,v=n.y,g=0;g<d.length;){var b=d[g++];g===1&&(r=d[g],i=d[g+1],a=r,s=i);var S=f;switch(b){case xg.M:a=d[g++],s=d[g++],r=a,i=s;break;case xg.L:S=hS(r,i,d[g],d[g+1],h,v,$f,!0),r=d[g++],i=d[g++];break;case xg.C:S=yo(r,i,d[g++],d[g++],d[g++],d[g++],d[g],d[g+1],h,v,$f),r=d[g++],i=d[g++];break;case xg.Q:S=vc(r,i,d[g++],d[g++],d[g],d[g+1],h,v,$f),r=d[g++],i=d[g++];break;case xg.A:var M=d[g++],C=d[g++],O=d[g++],E=d[g++],I=d[g++],W=d[g++];g+=1;var H=!!(1-d[g++]);l=Math.cos(I)*O+M,u=Math.sin(I)*E+C,g<=1&&(a=l,s=u);var Q=(h-M)*E/O+M;S=Uk(M,C,E,I,I+W,H,Q,v,$f),r=Math.cos(I+W)*O+M,i=Math.sin(I+W)*E+C;break;case xg.R:a=r=d[g++],s=i=d[g++];var se=d[g++],le=d[g++];S=u2(a,s,se,le,h,v,$f);break;case xg.Z:S=hS(r,i,a,s,h,v,$f,!0),r=a,i=s;break}S<f&&(f=S,e.set($f[0],$f[1]))}return f}var Jf=new mi,qo=new mi,Xs=new mi,Dd=new mi,Rd=new mi;function c2(n,t){if(!!n){var e=n.getTextGuideLine(),r=n.getTextContent();if(!!(r&&e)){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||Hk,l=r.getBoundingRect().clone();l.applyTransform(r.getComputedTransform());var u=Infinity,f=i.anchor,d=n.getComputedTransform(),h=d&&dl([],d),v=t.get("length2")||0;f&&Xs.copy(f);for(var g=0;g<s.length;g++){var b=s[g];Gk(b,0,l,Jf,Dd),mi.scaleAndAdd(qo,Jf,Dd,v),qo.transform(h);var S=n.getBoundingRect(),M=f?f.distance(qo):n instanceof ir?Kk(qo,n.path,Xs):Wk(qo,S,Xs);M<u&&(u=M,qo.transform(d),Xs.transform(d),Xs.toArray(a[0]),qo.toArray(a[1]),Jf.toArray(a[2]))}f2(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var pS=[],Wu=new mi;function f2(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Jf.fromArray(n[0]),qo.fromArray(n[1]),Xs.fromArray(n[2]),mi.sub(Dd,Jf,qo),mi.sub(Rd,Xs,qo);var e=Dd.len(),r=Rd.len();if(!(e<.001||r<.001)){Dd.scale(1/e),Rd.scale(1/r);var i=Dd.dot(Rd),a=Math.cos(t);if(a<i){var s=hS(qo.x,qo.y,Xs.x,Xs.y,Jf.x,Jf.y,pS,!1);Wu.fromArray(pS),Wu.scaleAndAdd(Rd,s/Math.tan(Math.PI-t));var l=Xs.x!==qo.x?(Wu.x-qo.x)/(Xs.x-qo.x):(Wu.y-qo.y)/(Xs.y-qo.y);if(isNaN(l))return;l<0?mi.copy(Wu,qo):l>1&&mi.copy(Wu,Xs),Wu.toArray(n[1])}}}}function Yk(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Jf.fromArray(n[0]),qo.fromArray(n[1]),Xs.fromArray(n[2]),mi.sub(Dd,qo,Jf),mi.sub(Rd,Xs,qo);var r=Dd.len(),i=Rd.len();if(!(r<.001||i<.001)){Dd.scale(1/r),Rd.scale(1/i);var a=Dd.dot(t),s=Math.cos(e);if(a<s){var l=hS(qo.x,qo.y,Xs.x,Xs.y,Jf.x,Jf.y,pS,!1);Wu.fromArray(pS);var u=Math.PI/2,f=Math.acos(Rd.dot(t)),d=u+f-e;if(d>=u)mi.copy(Wu,Xs);else{Wu.scaleAndAdd(Rd,l/Math.tan(Math.PI/2-d));var h=Xs.x!==qo.x?(Wu.x-qo.x)/(Xs.x-qo.x):(Wu.y-qo.y)/(Xs.y-qo.y);if(isNaN(h))return;h<0?mi.copy(Wu,qo):h>1&&mi.copy(Wu,Xs)}Wu.toArray(n[1])}}}}function d2(n,t,e,r){var i=e==="normal",a=i?n:n.ensureState(e);a.ignore=t;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var l=r.getModel("lineStyle").getLineStyle();i?n.useStyle(l):a.style=l}function Xk(n,t){var e=t.smooth,r=t.points;if(!!r)if(n.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var i=ct(r[0],r[1]),a=ct(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*e,l=nn([],r[1],r[0],s/i),u=nn([],r[1],r[2],s/a),f=nn([],l,u,.5);n.bezierCurveTo(l[0],l[1],l[0],l[1],f[0],f[1]),n.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else for(var d=1;d<r.length;d++)n.lineTo(r[d][0],r[d][1])}function c_(n,t,e){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=t.normal,s=a.get("show"),l=i.ignore,u=0;u<Pc.length;u++){var f=Pc[u],d=t[f],h=f==="normal";if(d){var v=d.get("show"),g=h?l:Object(y.retrieve2)(i.states[f]&&i.states[f].ignore,l);if(g||!Object(y.retrieve2)(v,s)){var b=h?r:r&&r.states.normal;b&&(b.ignore=!0);continue}r||(r=new Mu,n.setTextGuideLine(r),!h&&(l||!s)&&d2(r,!0,"normal",t.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),d2(r,!1,f,d)}}if(r){Object(y.defaults)(r.style,e),r.style.fill=null;var S=a.get("showAbove"),M=n.textGuideLineConfig=n.textGuideLineConfig||{};M.showAbove=S||!1,r.buildPath=Xk}}function f_(n,t){t=t||"labelLine";for(var e={normal:n.getModel(t)},r=0;r<Do.length;r++){var i=Do[r];e[i]=n.getModel([i,t])}return e}function h2(n){for(var t=[],e=0;e<n.length;e++){var r=n[e];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),s=i.getBoundingRect(),l=!a||a[1]<1e-5&&a[2]<1e-5,u=i.style.margin||0,f=s.clone();f.applyTransform(a),f.x-=u/2,f.y-=u/2,f.width+=u,f.height+=u;var d=l?new ab(s,a):null;t.push({label:i,labelLine:r.labelLine,rect:f,localRect:s,obb:d,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:l,transform:a})}}return t}function p2(n,t,e,r,i,a){var s=n.length;if(s<2)return;n.sort(function(le,Me){return le.rect[t]-Me.rect[t]});for(var l=0,u,f=!1,d=[],h=0,v=0;v<s;v++){var g=n[v],b=g.rect;u=b[t]-l,u<0&&(b[t]-=u,g.label[t]-=u,f=!0);var S=Math.max(-u,0);d.push(S),h+=S,l=b[t]+b[e]}h>0&&a&&H(-h/s,0,s);var M=n[0],C=n[s-1],O,E;I(),O<0&&Q(-O,.8),E<0&&Q(E,.8),I(),W(O,E,1),W(E,O,-1),I(),O<0&&se(-O),E<0&&se(E);function I(){O=M.rect[t]-r,E=i-C.rect[t]-C.rect[e]}function W(le,Me,xe){if(le<0){var Be=Math.min(Me,-le);if(Be>0){H(Be*xe,0,s);var ze=Be+le;ze<0&&Q(-ze*xe,1)}else Q(-le*xe,1)}}function H(le,Me,xe){le!==0&&(f=!0);for(var Be=Me;Be<xe;Be++){var ze=n[Be],it=ze.rect;it[t]+=le,ze.label[t]+=le}}function Q(le,Me){for(var xe=[],Be=0,ze=1;ze<s;ze++){var it=n[ze-1].rect,pt=Math.max(n[ze].rect[t]-it[t]-it[e],0);xe.push(pt),Be+=pt}if(!!Be){var At=Math.min(Math.abs(le)/Be,Me);if(le>0)for(var ze=0;ze<s-1;ze++){var ln=xe[ze]*At;H(ln,0,ze+1)}else for(var ze=s-1;ze>0;ze--){var ln=xe[ze-1]*At;H(-ln,ze,s)}}}function se(le){var Me=le<0?-1:1;le=Math.abs(le);for(var xe=Math.ceil(le/(s-1)),Be=0;Be<s-1;Be++)if(Me>0?H(xe,0,Be+1):H(-xe,s-Be-1,s),le-=xe,le<=0)return}return f}function Zk(n,t,e,r){return p2(n,"x","width",t,e,r)}function v2(n,t,e,r){return p2(n,"y","height",t,e,r)}function g2(n){var t=[];n.sort(function(S,M){return M.priority-S.priority});var e=new Hn(0,0,0,0);function r(S){if(!S.ignore){var M=S.ensureState("emphasis");M.ignore==null&&(M.ignore=!1)}S.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],s=a.axisAligned,l=a.localRect,u=a.transform,f=a.label,d=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var h=a.obb,v=!1,g=0;g<t.length;g++){var b=t[g];if(!!e.intersect(b.rect)){if(s&&b.axisAligned){v=!0;break}if(b.obb||(b.obb=new ab(b.localRect,b.transform)),h||(h=new ab(l,u)),h.intersect(b.obb)){v=!0;break}}}v?(r(f),d&&r(d)):(f.attr("ignore",a.defaultAttr.ignore),d&&d.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function $k(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function Jk(n,t){var e=n.label,r=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:$k(r&&r.shape.points)}}var m2=["align","verticalAlign","width","height","fontSize"],Uc=new $u,d_=Yi(),Qk=Yi();function vS(n,t,e){for(var r=0;r<e.length;r++){var i=e[r];t[i]!=null&&(n[i]=t[i])}}var gS=["x","y","rotation"],qk=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,r,i,a){var s=i.style,l=i.__hostTarget,u=l.textConfig||{},f=i.getComputedTransform(),d=i.getBoundingRect().plain();Hn.applyTransform(d,d,f),f?Uc.setLocalTransform(f):(Uc.x=Uc.y=Uc.rotation=Uc.originX=Uc.originY=0,Uc.scaleX=Uc.scaleY=1);var h=i.__hostTarget,v;if(h){v=h.getBoundingRect().plain();var g=h.getComputedTransform();Hn.applyTransform(v,v,g)}var b=v&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:b,seriesModel:r,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:d,hostRect:v,priority:v?v.width*v.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:b&&b.ignore,x:Uc.x,y:Uc.y,scaleX:Uc.scaleX,scaleY:Uc.scaleY,rotation:Uc.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:u.position,attachedRot:u.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model,i=r.get("labelLayout");!(Object(y.isFunction)(i)||Object(y.keys)(i).length)||t.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),l=Yr(a);s&&!s.disableLabelLayout&&e._addLabel(l.dataIndex,l.dataType,r,s,i)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),r=t.getHeight();function i(E,I){return function(){c2(E,I)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],l=s.label,u=l.__hostTarget,f=s.defaultAttr,d=void 0;Object(y.isFunction)(s.layoutOption)?d=s.layoutOption(Jk(s,u)):d=s.layoutOption,d=d||{},s.computedLayoutOption=d;var h=Math.PI/180;u&&u.setTextConfig({local:!1,position:d.x!=null||d.y!=null?null:f.attachedPos,rotation:d.rotate!=null?d.rotate*h:f.attachedRot,offset:[d.dx||0,d.dy||0]});var v=!1;if(d.x!=null?(l.x=Yn(d.x,e),l.setStyle("x",0),v=!0):(l.x=f.x,l.setStyle("x",f.style.x)),d.y!=null?(l.y=Yn(d.y,r),l.setStyle("y",0),v=!0):(l.y=f.y,l.setStyle("y",f.style.y)),d.labelLinePoints){var g=u.getTextGuideLine();g&&(g.setShape({points:d.labelLinePoints}),v=!1)}var b=d_(l);b.needsUpdateLabelLine=v,l.rotation=d.rotate!=null?d.rotate*h:f.rotation,l.scaleX=f.scaleX,l.scaleY=f.scaleY;for(var S=0;S<m2.length;S++){var M=m2[S];l.setStyle(M,d[M]!=null?d[M]:f.style[M])}if(d.draggable){if(l.draggable=!0,l.cursor="move",u){var C=s.seriesModel;if(s.dataIndex!=null){var O=s.seriesModel.getData(s.dataType);C=O.getItemModel(s.dataIndex)}l.on("drag",i(u,C.getModel("labelLine")))}}else l.off("drag"),l.cursor=f.cursor}},n.prototype.layout=function(t){var e=t.getWidth(),r=t.getHeight(),i=h2(this._labelList),a=Object(y.filter)(i,function(u){return u.layoutOption.moveOverlap==="shiftX"}),s=Object(y.filter)(i,function(u){return u.layoutOption.moveOverlap==="shiftY"});Zk(a,0,e),v2(s,0,r);var l=Object(y.filter)(i,function(u){return u.layoutOption.hideOverlap});g2(l)},n.prototype.processLabelsOverall=function(){var t=this;Object(y.each)(this._chartViewList,function(e){var r=e.__model,i=e.ignoreLabelLineUpdate,a=r.isAnimationEnabled();e.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var l=!i,u=s.getTextContent();!l&&u&&(l=d_(u).needsUpdateLabelLine),l&&t._updateLabelLine(s,r),a&&t._animateLabels(s,r)})})},n.prototype._updateLabelLine=function(t,e){var r=t.getTextContent(),i=Yr(t),a=i.dataIndex;if(r&&a!=null){var s=e.getData(i.dataType),l=s.getItemModel(a),u={},f=s.getItemVisual(a,"style"),d=s.getVisual("drawType");u.stroke=f[d];var h=l.getModel("labelLine");c_(t,f_(l),u),c2(t,h)}},n.prototype._animateLabels=function(t,e){var r=t.getTextContent(),i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!ap(t))){var a=d_(r),s=a.oldLayout,l=Yr(t),u=l.dataIndex,f={x:r.x,y:r.y,rotation:r.rotation},d=e.getData(l.dataType);if(s){r.attr(s);var v=t.prevStates;v&&(Object(y.indexOf)(v,"select")>=0&&r.attr(a.oldLayoutSelect),Object(y.indexOf)(v,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Ea(r,f,e,u)}else if(r.attr(f),!op(r).valueAnimation){var h=Object(y.retrieve2)(r.style.opacity,1);r.style.opacity=0,Jo(r,{style:{opacity:h}},e,u)}if(a.oldLayout=f,r.states.select){var g=a.oldLayoutSelect={};vS(g,f,gS),vS(g,r.states.select,gS)}if(r.states.emphasis){var b=a.oldLayoutEmphasis={};vS(b,f,gS),vS(b,r.states.emphasis,gS)}Qy(r,u,d,e,e)}if(i&&!i.ignore&&!i.invisible){var a=Qk(i),s=a.oldLayout,S={points:i.shape.points};s?(i.attr({shape:s}),Ea(i,{shape:S},e)):(i.setShape(S),i.style.strokePercent=0,Jo(i,{style:{strokePercent:1}},e)),a.oldLayout=S}},n}(),ej=qk,h_=Yi();function y2(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var i=h_(e).labelManager;i||(i=h_(e).labelManager=new ej),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var i=h_(e).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}ea(y2);function b2(n,t,e){var r=Eo.d.createCanvas(),i=t.getWidth(),a=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*e,r.height=a*e,r}var tj=function(n){An(t,n);function t(e,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||Ki,typeof e=="string"?s=b2(e,r,i):y.isObject(e)&&(s=e,e=s.id),a.id=e,a.dom=s;var l=s.style;return l&&(y.disableUserSelect(s),s.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),a.painter=r,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=b2("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],l=this.maxRepaintRectCount,u=!1,f=new Hn(0,0,0,0);function d(O){if(!(!O.isFinite()||O.isZero()))if(s.length===0){var E=new Hn(0,0,0,0);E.copy(O),s.push(E)}else{for(var I=!1,W=Infinity,H=0,Q=0;Q<s.length;++Q){var se=s[Q];if(se.intersect(O)){var le=new Hn(0,0,0,0);le.copy(se),le.union(O),s[Q]=le,I=!0;break}else if(u){f.copy(O),f.union(se);var Me=O.width*O.height,xe=se.width*se.height,Be=f.width*f.height,ze=Be-Me-xe;ze<W&&(W=ze,H=Q)}}if(u&&(s[H].union(O),I=!0),!I){var E=new Hn(0,0,0,0);E.copy(O),s.push(E)}u||(u=s.length>=l)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var v=e[h];if(v){var g=v.shouldBePainted(i,a,!0,!0),b=v.__isRendered&&(v.__dirty&ba||!g)?v.getPrevPaintRect():null;b&&d(b);var S=g&&(v.__dirty&ba||!v.__isRendered)?v.getPaintRect():null;S&&d(S)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var v=r[h],g=v.shouldBePainted(i,a,!0,!0);if(v&&(!g||!v.__zr)&&v.__isRendered){var b=v.getPrevPaintRect();b&&d(b)}}var M;do{M=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var C=h+1;C<s.length;)s[h].intersect(s[C])?(M=!0,s[h].union(s[C]),s.splice(C,1)):C++;h++}}while(M);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,r){var i=this.dpr,a=this.dom,s=a.style,l=this.domBack;s&&(s.width=e+"px",s.height=r+"px"),a.width=e*i,a.height=r*i,l&&(l.width=e*i,l.height=r*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,r,i){var a=this.dom,s=this.ctx,l=a.width,u=a.height;r=r||this.clearColor;var f=this.motionBlur&&!e,d=this.lastFrameAlpha,h=this.dpr,v=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,l/h,u/h));var g=this.domBack;function b(S,M,C,O){if(s.clearRect(S,M,C,O),r&&r!=="transparent"){var E=void 0;y.isGradientObject(r)?(E=r.__canvasGradient||Cn(s,r,{x:0,y:0,width:C,height:O}),r.__canvasGradient=E):y.isImagePatternObject(r)&&(E=_h(s,r,{dirty:function(){v.setUnpainted(),v.__painter.refresh()}})),s.save(),s.fillStyle=E||r,s.fillRect(S,M,C,O),s.restore()}f&&(s.save(),s.globalAlpha=d,s.drawImage(g,S,M,C,O),s.restore())}!i||f?b(0,0,l,u):i.length&&y.each(i,function(S){b(S.x*h,S.y*h,S.width*h,S.height*h)})},t}(Je),p_=tj,x2=1e5,Sg=314159,mS=.01,nj=.001;function rj(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function ij(n,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var aj=function(){function n(t,e,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=y.extend({},r||{}),this.dpr=r.devicePixelRatio||Ki,this._singleCanvas=a,this.root=t;var s=t.style;s&&(y.disableUserSelect(t),t.innerHTML=""),this.storage=e;var l=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var d=t,h=d.width,v=d.height;r.width!=null&&(h=r.width),r.height!=null&&(v=r.height),this.dpr=r.devicePixelRatio||1,d.width=h*this.dpr,d.height=v*this.dpr,this._width=h,this._height=v;var g=new p_(d,this,this.dpr);g.__builtin__=!0,g.initContext(),u[Sg]=g,g.zlevel=Sg,l.push(Sg),this._domRoot=t}else{this._width=Vi(t,0,r),this._height=Vi(t,1,r);var f=this._domRoot=ij(this._width,this._height);t.appendChild(f)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],l=this._layers[s];if(!l.__builtin__&&l.refresh){var u=a===0?this._backgroundColor:null;l.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<e;s++){var l=t[s];l.__inHover&&(r||(r=this._hoverlayer=this.getLayer(x2)),a||(a=r.ctx,a.save()),vg(a,l,i,s===e-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(x2)},n.prototype.paintOne=function(t,e){TM(t,e)},n.prototype._paintList=function(t,e,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,r),s=a.finished,l=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(t),s)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var u=this;Ka(function(){u._paintList(t,e,r,i)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(Sg).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,r)})},n.prototype._doPaintList=function(t,e,r){for(var i=this,a=[],s=this._opts.useDirtyRect,l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l],f=this._layers[u];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||r)&&a.push(f)}for(var d=!0,h=!1,v=function(S){var M=a[S],C=M.ctx,O=s&&M.createRepaintRects(t,e,g._width,g._height),E=r?M.__startIndex:M.__drawIndex,I=!r&&M.incremental&&Date.now,W=I&&Date.now(),H=M.zlevel===g._zlevelList[0]?g._backgroundColor:null;if(M.__startIndex===M.__endIndex)M.clear(!1,H,O);else if(E===M.__startIndex){var Q=t[E];(!Q.incremental||!Q.notClear||r)&&M.clear(!1,H,O)}E===-1&&(console.error("For some unknown reason. drawIndex is -1"),E=M.__startIndex);var se,le=function(ze){var it={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(se=E;se<M.__endIndex;se++){var pt=t[se];if(pt.__inHover&&(h=!0),i._doPaintEl(pt,M,s,ze,it,se===M.__endIndex-1),I){var At=Date.now()-W;if(At>15)break}}it.prevElClipPaths&&C.restore()};if(O)if(O.length===0)se=M.__endIndex;else for(var Me=g.dpr,xe=0;xe<O.length;++xe){var Be=O[xe];C.save(),C.beginPath(),C.rect(Be.x*Me,Be.y*Me,Be.width*Me,Be.height*Me),C.clip(),le(Be),C.restore()}else C.save(),le(),C.restore();M.__drawIndex=se,M.__drawIndex<M.__endIndex&&(d=!1)},g=this,b=0;b<a.length;b++)v(b);return en.a.wxa&&y.each(this._layers,function(S){S&&S.ctx&&S.ctx.draw&&S.ctx.draw()}),{finished:d,needsRefreshHover:h}},n.prototype._doPaintEl=function(t,e,r,i,a,s){var l=e.ctx;if(r){var u=t.getPaintRect();(!i||u&&u.intersect(i))&&(vg(l,t,a,s),t.setPrevPaintRect(u))}else vg(l,t,a,s)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Sg);var r=this._layers[t];return r||(r=new p_("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?y.merge(r,this._layerConfig[t],!0):this._layerConfig[t-mS]&&y.merge(r,this._layerConfig[t-mS],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},n.prototype.insertLayer=function(t,e){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,l=null,u=-1;if(!r[t]&&!!rj(e)){if(a>0&&t>i[0]){for(u=0;u<a-1&&!(i[u]<t&&i[u+1]>t);u++);l=r[i[u]]}if(i.splice(u+1,0,t),r[t]=e,!e.virtual)if(l){var f=l.dom;f.nextSibling?s.insertBefore(e.dom,f.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];t.call(e,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&t.call(e,s,a)}},n.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||t.call(e,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(h,v){h.__dirty=h.__used=!1});function e(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,l,u;for(u=0;u<t.length;u++){var i=t[u],f=i.zlevel,d=void 0;l!==f&&(l=f,s=0),i.incremental?(d=this.getLayer(f+nj,this._needsManuallyCompositing),d.incremental=!0,s=1):d=this.getLayer(f+(s>0?mS:0),this._needsManuallyCompositing),d.__builtin__||y.logError("ZLevel "+f+" has been used by unkown layer "+d.id),d!==a&&(d.__used=!0,d.__startIndex!==u&&(d.__dirty=!0),d.__startIndex=u,d.incremental?d.__drawIndex=-1:d.__drawIndex=u,e(u),a=d),i.__dirty&ba&&!i.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=u))}e(u),this.eachBuiltinLayer(function(h,v){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,y.each(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?y.merge(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+mS){var s=this._layers[a];y.merge(s,r[t],!0)}}}},n.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,i=e[t];!i||(i.dom.parentNode.removeChild(i.dom),delete e[t],r.splice(y.indexOf(r,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=Vi(a,0,i),e=Vi(a,1,i),r.style.display="",this._width!==t||e!==this._height){r.style.width=t+"px",r.style.height=e+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(Sg).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Sg].dom;var e=new p_("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(h){h.__builtin__?r.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(r.save(),h.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),u=0,f=l.length;u<f;u++){var d=l[u];vg(r,d,s,u===f-1)}return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),oj=aj;function sj(n){n.registerPainter("canvas",oj)}var v_=Math.sin,g_=Math.cos,S2=Math.PI,wg=Math.PI*2,lj=180/S2,uj=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,r,i,a,s){this._add("C",t,e,r,i,a,s)},n.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)},n.prototype.arc=function(t,e,r,i,a,s){this.ellipse(t,e,r,r,0,i,a,s)},n.prototype.ellipse=function(t,e,r,i,a,s,l,u){var f=l-s,d=!u,h=Math.abs(f),v=Object(Wi.j)(h-wg)||(d?f>=wg:-f>=wg),g=f>0?f%wg:f%wg+wg,b=!1;v?b=!0:Object(Wi.j)(h)?b=!1:b=g>=S2==!!d;var S=t+r*g_(s),M=e+i*v_(s);this._start&&this._add("M",S,M);var C=Math.round(a*lj);if(v){var O=1/this._p,E=(d?1:-1)*(wg-O);this._add("A",r,i,C,1,+d,t+r*g_(s+E),e+i*v_(s+E)),O>.01&&this._add("A",r,i,C,0,+d,S,M)}else{var I=t+r*g_(l),W=e+i*v_(l);this._add("A",r,i,C,+b,+d,I,W)}},n.prototype.rect=function(t,e,r,i){this._add("M",t,e),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,r,i,a,s,l,u,f){for(var d=[],h=this._p,v=1;v<arguments.length;v++){var g=arguments[v];if(isNaN(g)){this._invalid=!0;return}d.push(Math.round(g*h)/h)}this._d.push(t+d.join(" ")),this._start=t==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),w2=uj,Cb="none",cj=Math.round;function fj(n){var t=n.fill;return t!=null&&t!==Cb}function dj(n){var t=n.stroke;return t!=null&&t!==Cb}var m_=["lineCap","miterLimit","lineJoin"],hj=Object(y.map)(m_,function(n){return"stroke-"+n.toLowerCase()});function pj(n,t,e,r){var i=t.opacity==null?1:t.opacity;if(e instanceof cs){n("opacity",i);return}if(fj(t)){var a=Object(Wi.p)(t.fill);n("fill",a.color);var s=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;(r||s<1)&&n("fill-opacity",s)}else n("fill",Cb);if(dj(t)){var l=Object(Wi.p)(t.stroke);n("stroke",l.color);var u=t.strokeNoScale?e.getLineScale():1,f=u?(t.lineWidth||0)/u:0,d=t.strokeOpacity!=null?t.strokeOpacity*l.opacity*i:l.opacity*i,h=t.strokeFirst;if((r||f!==1)&&n("stroke-width",f),(r||h)&&n("paint-order",h?"stroke":"fill"),(r||d<1)&&n("stroke-opacity",d),t.lineDash){var v=Ba(e),g=v[0],b=v[1];g&&(b=cj(b||0),n("stroke-dasharray",g.join(",")),(b||r)&&n("stroke-dashoffset",b))}else r&&n("stroke-dasharray",Cb);for(var S=0;S<m_.length;S++){var M=m_[S];if(r||t[M]!==xi[M]){var C=t[M]||xi[M];C&&n(hj[S],C)}}}else r&&n("stroke",Cb)}var M2="http://www.w3.org/2000/svg",_2="http://www.w3.org/1999/xlink",vj="http://www.w3.org/2000/xmlns/",gj="http://www.w3.org/XML/1998/namespace";function C2(n){return document.createElementNS(M2,n)}function wl(n,t,e,r,i){return{tag:n,attrs:e||{},children:r,text:i,key:t}}function mj(n,t){var e=[];if(t)for(var r in t){var i=t[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+n+" "+e.join(" ")+">"}function yj(n){return"</"+n+">"}function y_(n,t){t=t||{};var e=t.newline?`
`:"";function r(i){var a=i.children,s=i.tag,l=i.attrs;return mj(s,l)+(i.text||"")+(a?""+e+Object(y.map)(a,function(u){return r(u)}).join(e)+e:"")+yj(s)}return r(n)}function bj(n,t,e){e=e||{};var r=e.newline?`
`:"",i=" {"+r,a=r+"}",s=Object(y.map)(Object(y.keys)(n),function(u){return u+i+Object(y.map)(Object(y.keys)(n[u]),function(f){return f+":"+n[u][f]+";"}).join(r)+a}).join(r),l=Object(y.map)(Object(y.keys)(t),function(u){return"@keyframes "+u+i+Object(y.map)(Object(y.keys)(t[u]),function(f){return f+i+Object(y.map)(Object(y.keys)(t[u][f]),function(d){var h=t[u][f][d];return d==="d"&&(h='path("'+h+'")'),d+":"+h+";"}).join(r)+a}).join(r)+a}).join(r);return!s&&!l?"":["<![CDATA[",s,l,"]]>"].join(r)}function b_(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function T2(n,t,e,r){return wl("svg","root",{width:n,height:t,xmlns:M2,"xmlns:xlink":_2,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+n+" "+t:!1},e)}var O2={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Mg="transform-origin";function xj(n,t,e){var r=Object(y.extend)({},n.shape);Object(y.extend)(r,t),n.buildPath(e,r);var i=new w2;return i.reset(Object(Wi.f)(n)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function Sj(n,t){var e=t.originX,r=t.originY;(e||r)&&(n[Mg]=e+"px "+r+"px")}var wj={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function E2(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function Mj(n,t,e){var r=n.shape.paths,i={},a,s;if(Object(y.each)(r,function(u){var f=b_(e.zrId);f.animation=!0,yS(u,{},f,!0);var d=f.cssAnims,h=f.cssNodes,v=Object(y.keys)(d),g=v.length;if(!!g){s=v[g-1];var b=d[s];for(var S in b){var M=b[S];i[S]=i[S]||{d:""},i[S].d+=M.d||""}for(var C in h){var O=h[C].animation;O.indexOf(s)>=0&&(a=O)}}}),!!a){t.d=!1;var l=E2(i,e);return a.replace(s,l)}}function A2(n){return Object(y.isString)(n)?O2[n]?"cubic-bezier("+O2[n]+")":_l(n)?n:"":""}function yS(n,t,e,r){var i=n.animators,a=i.length,s=[];if(n instanceof nb){var l=Mj(n,t,e);if(l)s.push(l);else if(!a)return}else if(!a)return;for(var u={},f=0;f<a;f++){var d=i[f],h=[d.getMaxTime()/1e3+"s"],v=A2(d.getClip().easing),g=d.getDelay();v?h.push(v):h.push("linear"),g&&h.push(g/1e3+"s"),d.getLoop()&&h.push("infinite");var b=h.join(" ");u[b]=u[b]||[b,[]],u[b][1].push(d)}function S(O){var E=O[1],I=E.length,W={},H={},Q={},se="animation-timing-function";function le(ui,ga,Zi){for(var kr=ui.getTracks(),Hi=ui.getMaxTime(),vs=0;vs<kr.length;vs++){var Fa=kr[vs];if(Fa.needsAnimate()){var Fs=Fa.keyframes,Os=Fa.propName;if(Zi&&(Os=Zi(Os)),Os)for(var Ou=0;Ou<Fs.length;Ou++){var jh=Fs[Ou],pc=Math.round(jh.time/Hi*100)+"%",Sw=A2(jh.easing),tv=jh.rawValue;(Object(y.isString)(tv)||Object(y.isNumber)(tv))&&(ga[pc]=ga[pc]||{},ga[pc][Os]=jh.rawValue,Sw&&(ga[pc][se]=Sw))}}}}for(var Me=0;Me<I;Me++){var xe=E[Me],Be=xe.targetName;Be?Be==="shape"&&le(xe,H):!r&&le(xe,W)}for(var ze in W){var it={};zg(it,n),Object(y.extend)(it,W[ze]);var pt=Object(Wi.g)(it),At=W[ze][se];Q[ze]=pt?{transform:pt}:{},Sj(Q[ze],it),At&&(Q[ze][se]=At)}var ln,Qt=!0;for(var ze in H){Q[ze]=Q[ze]||{};var vn=!ln,At=H[ze][se];vn&&(ln=new Jn);var Gn=ln.len();ln.reset(),Q[ze].d=xj(n,H[ze],ln);var fr=ln.len();if(!vn&&Gn!==fr){Qt=!1;break}At&&(Q[ze][se]=At)}if(!Qt)for(var ze in Q)delete Q[ze].d;if(!r)for(var Me=0;Me<I;Me++){var xe=E[Me],Be=xe.targetName;Be==="style"&&le(xe,Q,function(kr){return wj[kr]})}for(var Er=Object(y.keys)(Q),li=!0,na,Me=1;Me<Er.length;Me++){var go=Er[Me-1],co=Er[Me];if(Q[go][Mg]!==Q[co][Mg]){li=!1;break}na=Q[go][Mg]}if(li&&na){for(var ze in Q)Q[ze][Mg]&&delete Q[ze][Mg];t[Mg]=na}if(Object(y.filter)(Er,function(ui){return Object(y.keys)(Q[ui]).length>0}).length){var ha=E2(Q,e);return ha+" "+O[0]+" both"}}for(var M in u){var l=S(u[M]);l&&s.push(l)}if(s.length){var C=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+C]={animation:s.join(",")},t.class=C}}var Tb=Math.round;function P2(n){return n&&Object(y.isString)(n.src)}function L2(n){return n&&Object(y.isFunction)(n.toDataURL)}function x_(n,t,e,r){pj(function(i,a){var s=i==="fill"||i==="stroke";s&&Object(Wi.k)(a)?Lj(t,n,i,r):s&&Object(Wi.n)(a)?Dj(e,n,i,r):n[i]=a},t,e,!1),Pj(e,n,r)}function D2(n){return Object(Wi.j)(n[0]-1)&&Object(Wi.j)(n[1])&&Object(Wi.j)(n[2])&&Object(Wi.j)(n[3]-1)}function _j(n){return Object(Wi.j)(n[4])&&Object(Wi.j)(n[5])}function S_(n,t,e){if(t&&!(_j(t)&&D2(t))){var r=e?10:1e4;n.transform=D2(t)?"translate("+Tb(t[4]*r)/r+" "+Tb(t[5]*r)/r+")":Object(Wi.e)(t)}}function R2(n,t,e){for(var r=n.points,i=[],a=0;a<r.length;a++)i.push(Tb(r[a][0]*e)/e),i.push(Tb(r[a][1]*e)/e);t.points=i.join(" ")}function I2(n){return!n.smooth}function Cj(n){var t=Object(y.map)(n,function(e){return typeof e=="string"?[e,e]:e});return function(e,r,i){for(var a=0;a<t.length;a++){var s=t[a],l=e[s[0]];l!=null&&(r[s[1]]=Tb(l*i)/i)}}}var Tj={circle:[Cj(["cx","cy","r"])],polyline:[R2,I2],polygon:[R2,I2]};function Oj(n){for(var t=n.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function N2(n,t){var e=n.style,r=n.shape,i=Tj[n.type],a={},s=t.animation,l="path",u=n.style.strokePercent,f=t.compress&&Object(Wi.f)(n)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](r))&&!(s&&Oj(n))&&!(u<1)){l=n.type;var d=Math.pow(10,f);i[0](r,a,d)}else{n.path||n.createPathProxy();var h=n.path;n.shapeChanged()&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var v=h.getVersion(),g=n,b=g.__svgPathBuilder;(g.__svgPathVersion!==v||!b||u!==g.__svgPathStrokePercent)&&(b||(b=g.__svgPathBuilder=new w2),b.reset(f),h.rebuildPath(b,u),b.generateStr(),g.__svgPathVersion=v,g.__svgPathStrokePercent=u),a.d=b.getStr()}return S_(a,n.transform),x_(a,e,n,t),t.animation&&yS(n,a,t),wl(l,n.id+"",a)}function Ej(n,t){var e=n.style,r=e.image;if(r&&!Object(y.isString)(r)&&(P2(r)?r=r.src:L2(r)&&(r=r.toDataURL())),!!r){var i=e.x||0,a=e.y||0,s=e.width,l=e.height,u={href:r,width:s,height:l};return i&&(u.x=i),a&&(u.y=a),S_(u,n.transform),x_(u,e,n,t),t.animation&&yS(n,u,t),wl("image",n.id+"",u)}}function Aj(n,t){var e=n.style,r=e.text;if(r!=null&&(r+=""),!(!r||isNaN(e.x)||isNaN(e.y))){var i=e.font||Eo.a,a=e.x||0,s=Object(Wi.b)(e.y||0,Gd(i),e.textBaseline),l=Wi.a[e.textAlign]||e.textAlign,u={"dominant-baseline":"central","text-anchor":l};if(zu(e)){var f="",d=e.fontStyle,h=Po(e.fontSize);if(!parseFloat(h))return;var v=e.fontFamily||Eo.b,g=e.fontWeight;f+="font-size:"+h+";font-family:"+v+";",d&&d!=="normal"&&(f+="font-style:"+d+";"),g&&g!=="normal"&&(f+="font-weight:"+g+";"),u.style=f}else u.style="font: "+i;return r.match(/\s/)&&(u["xml:space"]="preserve"),a&&(u.x=a),s&&(u.y=s),S_(u,n.transform),x_(u,e,n,t),t.animation&&yS(n,u,t),wl("text",n.id+"",u,void 0,r)}}function k2(n,t){if(n instanceof ir)return N2(n,t);if(n instanceof cs)return Ej(n,t);if(n instanceof Ds)return Aj(n,t)}function Pj(n,t,e){var r=n.style;if(Object(Wi.i)(r)){var i=Object(Wi.h)(n),a=e.shadowCache,s=a[i];if(!s){var l=n.getGlobalScale(),u=l[0],f=l[1];if(!u||!f)return;var d=r.shadowOffsetX||0,h=r.shadowOffsetY||0,v=r.shadowBlur,g=Object(Wi.p)(r.shadowColor),b=g.opacity,S=g.color,M=v/2/u,C=v/2/f,O=M+" "+C;s=e.zrId+"-s"+e.shadowIdx++,e.defs[s]=wl("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[wl("feDropShadow","",{dx:d/u,dy:h/f,stdDeviation:O,"flood-color":S,"flood-opacity":b})]),a[i]=s}t.filter=Object(Wi.d)(s)}}function Lj(n,t,e,r){var i=n[e],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(Wi.m)(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(Object(Wi.o)(i))a="radialGradient",s.cx=Object(y.retrieve2)(i.x,.5),s.cy=Object(y.retrieve2)(i.y,.5),s.r=Object(y.retrieve2)(i.r,.5);else return;for(var l=i.colorStops,u=[],f=0,d=l.length;f<d;++f){var h=Object(Wi.q)(l[f].offset)*100+"%",v=l[f].color,g=Object(Wi.p)(v),b=g.color,S=g.opacity,M={offset:h};M["stop-color"]=b,S<1&&(M["stop-opacity"]=S),u.push(wl("stop",f+"",M))}var C=wl(a,"",s,u),O=y_(C),E=r.gradientCache,I=E[O];I||(I=r.zrId+"-g"+r.gradientIdx++,E[O]=I,s.id=I,r.defs[I]=wl(a,I,s,u)),t[e]=Object(Wi.d)(I)}function Dj(n,t,e,r){var i=n.style[e],a={patternUnits:"userSpaceOnUse"},s;if(Object(Wi.l)(i)){var l=i.imageWidth,u=i.imageHeight,f=void 0,d=i.image;if(Object(y.isString)(d)?f=d:P2(d)?f=d.src:L2(d)&&(f=d.toDataURL()),typeof Image=="undefined"){var h="Image width/height must been given explictly in svg-ssr renderer.";Object(y.assert)(l,h),Object(y.assert)(u,h)}else if(l==null||u==null){var v=function(O,E){if(O){var I=O.elm,W=O.attrs.width=l||E.width,H=O.attrs.height=u||E.height;I&&(I.setAttribute("width",W),I.setAttribute("height",H))}},g=pv(f,null,n,function(O){v(b,O),v(s,O)});g&&g.width&&g.height&&(l=l||g.width,u=u||g.height)}s=wl("image","img",{href:f,width:l,height:u}),a.width=l,a.height=u}else i.svgElement&&(s=i.svgElement,a.width=i.svgWidth,a.height=i.svgHeight);if(!!s){a.patternTransform=Object(Wi.g)(i);var b=wl("pattern","",a,[s]),S=y_(b),M=r.patternCache,C=M[S];C||(C=r.zrId+"-p"+r.patternIdx++,M[S]=C,a.id=C,b=r.defs[C]=wl("pattern",C,a,[s])),t[e]=Object(Wi.d)(C)}}function Rj(n,t,e){var r=e.clipPathCache,i=e.defs,a=r[n.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var s={id:a};r[n.id]=a,i[a]=wl("clipPath",a,s,[N2(n,e)])}t["clip-path"]=Object(Wi.d)(a)}function j2(n){return document.createTextNode(n)}function AY(n){return document.createComment(n)}function _g(n,t,e){n.insertBefore(t,e)}function B2(n,t){n.removeChild(t)}function F2(n,t){n.appendChild(t)}function z2(n){return n.parentNode}function V2(n){return n.nextSibling}function PY(n){return n.tagName}function w_(n,t){n.textContent=t}function LY(n){return n.textContent}function DY(n){return n.nodeType===1}function RY(n){return n.nodeType===3}function IY(n){return n.nodeType===8}var H2=58,Ij=120,Nj=wl("","");function M_(n){return n===void 0}function Id(n){return n!==void 0}function kj(n,t,e){for(var r={},i=t;i<=e;++i){var a=n[i].key;a!==void 0&&(r[a]=i)}return r}function Ob(n,t){var e=n.key===t.key,r=n.tag===t.tag;return r&&e}function Eb(n){var t,e=n.children,r=n.tag;if(Id(r)){var i=n.elm=C2(r);if(__(Nj,n),Object(y.isArray)(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&F2(i,Eb(a))}else Id(n.text)&&!Object(y.isObject)(n.text)&&F2(i,j2(n.text))}else n.elm=j2(n.text);return n.elm}function G2(n,t,e,r,i){for(;r<=i;++r){var a=e[r];a!=null&&_g(n,Eb(a),t)}}function bS(n,t,e,r){for(;e<=r;++e){var i=t[e];if(i!=null)if(Id(i.tag)){var a=z2(i.elm);B2(a,i.elm)}else B2(n,i.elm)}}function __(n,t){var e,r=t.elm,i=n&&n.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var s=a[e],l=i[e];l!==s&&(s===!0?r.setAttribute(e,""):s===!1?r.removeAttribute(e):e.charCodeAt(0)!==Ij?r.setAttribute(e,s):e==="xmlns:xlink"||e==="xmlns"?r.setAttributeNS(vj,e,s):e.charCodeAt(3)===H2?r.setAttributeNS(gj,e,s):e.charCodeAt(5)===H2?r.setAttributeNS(_2,e,s):r.setAttribute(e,s))}for(e in i)e in a||r.removeAttribute(e)}}function jj(n,t,e){for(var r=0,i=0,a=t.length-1,s=t[0],l=t[a],u=e.length-1,f=e[0],d=e[u],h,v,g,b;r<=a&&i<=u;)s==null?s=t[++r]:l==null?l=t[--a]:f==null?f=e[++i]:d==null?d=e[--u]:Ob(s,f)?(ey(s,f),s=t[++r],f=e[++i]):Ob(l,d)?(ey(l,d),l=t[--a],d=e[--u]):Ob(s,d)?(ey(s,d),_g(n,s.elm,V2(l.elm)),s=t[++r],d=e[--u]):Ob(l,f)?(ey(l,f),_g(n,l.elm,s.elm),l=t[--a],f=e[++i]):(M_(h)&&(h=kj(t,r,a)),v=h[f.key],M_(v)?_g(n,Eb(f),s.elm):(g=t[v],g.tag!==f.tag?_g(n,Eb(f),s.elm):(ey(g,f),t[v]=void 0,_g(n,g.elm,s.elm))),f=e[++i]);(r<=a||i<=u)&&(r>a?(b=e[u+1]==null?null:e[u+1].elm,G2(n,b,e,i,u)):bS(n,t,r,a))}function ey(n,t){var e=t.elm=n.elm,r=n.children,i=t.children;n!==t&&(__(n,t),M_(t.text)?Id(r)&&Id(i)?r!==i&&jj(e,r,i):Id(i)?(Id(n.text)&&w_(e,""),G2(e,null,i,0,i.length-1)):Id(r)?bS(e,r,0,r.length-1):Id(n.text)&&w_(e,""):n.text!==t.text&&(Id(r)&&bS(e,r,0,r.length-1),w_(e,t.text)))}function Bj(n,t){if(Ob(n,t))ey(n,t);else{var e=n.elm,r=z2(e);Eb(t),r!==null&&(_g(r,t.elm,V2(e)),bS(r,[n],0,0))}return t}var Fj=0,zj=function(){function n(t,e,r){if(this.type="svg",this.refreshHover=U2("refreshHover"),this.configLayer=U2("configLayer"),this.storage=e,this._opts=r=Object(y.extend)({},r),this.root=t,this._id="zr"+Fj++,this._oldVNode=T2(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=C2("svg");__(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Bj(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return k2(t,b_(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._backgroundColor,i=this._width,a=this._height,s=b_(this._id);s.animation=t.animation,s.willUpdate=t.willUpdate,s.compress=t.compress;var l=[];if(r&&r!=="none"){var u=Object(Wi.p)(r),f=u.color,d=u.opacity;this._bgVNode=wl("rect","bg",{width:i,height:a,x:"0",y:"0",id:"0",fill:f,"fill-opacity":d}),l.push(this._bgVNode)}else this._bgVNode=null;var h=t.compress?null:this._mainVNode=wl("g","main",{},[]);this._paintList(e,s,h?h.children:l),h&&l.push(h);var v=Object(y.map)(Object(y.keys)(s.defs),function(S){return s.defs[S]});if(v.length&&l.push(wl("defs","defs",{},v)),t.animation){var g=bj(s.cssNodes,s.cssAnims,{newline:!0});if(g){var b=wl("style","stl",{},[],g);l.push(b)}}return T2(i,a,l,t.useViewBox)},n.prototype.renderToString=function(t){return t=t||{},y_(this.renderToVNode({animation:Object(y.retrieve2)(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(y.retrieve2)(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var e=this._bgVNode;if(e&&e.elm){var r=Object(Wi.p)(t),i=r.color,a=r.opacity;e.elm.setAttribute("fill",i),a<1&&e.elm.setAttribute("fill-opacity",a)}},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,r){for(var i=t.length,a=[],s=0,l,u,f=0,d=0;d<i;d++){var h=t[d];if(!h.invisible){var v=h.__clipPaths,g=v&&v.length||0,b=u&&u.length||0,S=void 0;for(S=Math.max(g-1,b-1);S>=0&&!(v&&u&&v[S]===u[S]);S--);for(var M=b-1;M>S;M--)s--,l=a[s-1];for(var C=S+1;C<g;C++){var O={};Rj(v[C],O,e);var E=wl("g","clip-g-"+f++,O,[]);(l?l.children:r).push(E),a[s++]=E,l=E}u=v;var I=k2(h,e);I&&(l?l.children:r).push(I)}}},n.prototype.resize=function(t,e){var r=this._opts,i=this.root,a=this._viewport;if(t!=null&&(r.width=t),e!=null&&(r.height=e),i&&a&&(a.style.display="none",t=Vi(i,0,r),e=Vi(i,1,r),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var s=a.style;s.width=t+"px",s.height=e+"px"}var l=this._svgDom;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=encodeURIComponent(this.renderToString()),r="data:image/svg+xml;";return t?(e=Object(Wi.c)(e),e&&r+"base64,"+e):r+"charset=UTF-8,"+e},n}();function U2(n){return function(){}}var Vj=zj;function Hj(n){n.registerPainter("svg",Vj)}var Gj=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){if(!1)var r;return Pd(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new Wr,i=Ts("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),l=a==="none"?"circle":a,u=e.itemHeight*.8,f=Ts(l,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);r.add(f),f.setStyle(e.itemStyle);var d=e.iconRotate==="inherit"?s:e.iconRotate||0;return f.rotation=d*Math.PI/180,f.setOrigin([e.itemWidth/2,e.itemHeight/2]),l.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Io),Uj=Gj;function ty(n,t){var e=n.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var i=Cd(n,t,e[0]);return i!=null?i+"":null}else if(r){for(var a=[],s=0;s<e.length;s++)a.push(Cd(n,t,e[s]));return a.join(" ")}}function W2(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!Object(y.isArray)(t))return t+"";for(var r=[],i=0;i<e.length;i++){var a=n.getDimensionIndex(e[i]);a>=0&&r.push(t[a])}return r.join(" ")}var Wj=function(n){ve(t,n);function t(e,r,i,a){var s=n.call(this)||this;return s.updateData(e,r,i,a),s}return t.prototype._createSymbol=function(e,r,i,a,s){this.removeAll();var l=Ts(e,-1,-1,2,2,null,s);l.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=Kj,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Hu(this.childAt(0))},t.prototype.downplay=function(){Ql(this.childAt(0))},t.prototype.setZ=function(e,r){var i=this.childAt(0);i.zlevel=e,i.z=r},t.prototype.setDraggable=function(e){var r=this.childAt(0);r.draggable=e,r.cursor=e?"move":r.cursor},t.prototype.updateData=function(e,r,i,a){this.silent=!1;var s=e.getItemVisual(r,"symbol")||"circle",l=e.hostModel,u=t.getSymbolSize(e,r),f=s!==this._symbolType,d=a&&a.disableAnimation;if(f){var h=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,e,r,u,h)}else{var v=this.childAt(0);v.silent=!1;var g={scaleX:u[0]/2,scaleY:u[1]/2};d?v.attr(g):Ea(v,g,l,r),Dc(v)}if(this._updateCommon(e,r,u,i,a),f){var v=this.childAt(0);if(!d){var g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:v.style.opacity}};v.scaleX=v.scaleY=0,v.style.opacity=0,Jo(v,g,l,r)}}d&&this.childAt(0).stopAnimation("leave"),this._seriesModel=l},t.prototype._updateCommon=function(e,r,i,a,s){var l=this.childAt(0),u=e.hostModel,f,d,h,v,g,b,S,M,C;if(a&&(f=a.emphasisItemStyle,d=a.blurItemStyle,h=a.selectItemStyle,v=a.focus,g=a.blurScope,S=a.labelStatesModels,M=a.hoverScale,C=a.cursorStyle,b=a.emphasisDisabled),!a||e.hasItemOption){var O=a&&a.itemModel?a.itemModel:e.getItemModel(r),E=O.getModel("emphasis");f=E.getModel("itemStyle").getItemStyle(),h=O.getModel(["select","itemStyle"]).getItemStyle(),d=O.getModel(["blur","itemStyle"]).getItemStyle(),v=E.get("focus"),g=E.get("blurScope"),b=E.get("disabled"),S=al(O),M=E.getShallow("scale"),C=O.getShallow("cursor")}var I=e.getItemVisual(r,"symbolRotate");l.attr("rotation",(I||0)*Math.PI/180||0);var W=gt(e.getItemVisual(r,"symbolOffset"),i);W&&(l.x=W[0],l.y=W[1]),C&&l.attr("cursor",C);var H=e.getItemVisual(r,"style"),Q=H.fill;if(l instanceof cs){var se=l.style;l.useStyle(Object(y.extend)({image:se.image,x:se.x,y:se.y,width:se.width,height:se.height},H))}else l.__isEmptyBrush?l.useStyle(Object(y.extend)({},H)):l.useStyle(H),l.style.decal=null,l.setColor(Q,s&&s.symbolInnerColor),l.style.strokeNoScale=!0;var le=e.getItemVisual(r,"liftZ"),Me=this._z2;le!=null?Me==null&&(this._z2=l.z2,l.z2+=le):Me!=null&&(l.z2=Me,this._z2=null);var xe=s&&s.useNameLabel;jl(l,S,{labelFetcher:u,labelDataIndex:r,defaultText:Be,inheritColor:Q,defaultOpacity:H.opacity});function Be(pt){return xe?e.getName(pt):ty(e,pt)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var ze=l.ensureState("emphasis");if(ze.style=f,l.ensureState("select").style=h,l.ensureState("blur").style=d,M){var it=Math.max(1.1,3/this._sizeY);ze.scaleX=this._sizeX*it,ze.scaleY=this._sizeY*it}this.setSymbolScale(1),ys(this,v,g,b)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r){var i=this.childAt(0),a=this._seriesModel,s=Yr(this).dataIndex,l=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var u=i.getTextContent();u&&vd(u,{style:{opacity:0}},a,{dataIndex:s,removeOpt:l,cb:function(){i.removeTextContent()}})}else i.removeTextContent();vd(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:s,cb:e,removeOpt:l})},t.getSymbolSize=function(e,r){return pg(e.getItemVisual(r,"symbolSize"))},t}(Wr);function Kj(n,t){this.parent.drift(n,t)}var Ab=Wj;function C_(n,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&n.getItemVisual(e,"symbol")!=="none"}function K2(n){return n!=null&&!Object(y.isObject)(n)&&(n={isIgnore:n}),n||{}}function Y2(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:al(t),cursorStyle:t.get("cursor")}}var Yj=function(){function n(t){this.group=new Wr,this._SymbolCtor=t||Ab}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=K2(e);var r=this.group,i=t.hostModel,a=this._data,s=this._SymbolCtor,l=e.disableAnimation,u=Y2(t),f={disableAnimation:l},d=e.getSymbolPoint||function(h){return t.getItemLayout(h)};a||r.removeAll(),t.diff(a).add(function(h){var v=d(h);if(C_(t,v,h,e)){var g=new s(t,h,u,f);g.setPosition(v),t.setItemGraphicEl(h,g),r.add(g)}}).update(function(h,v){var g=a.getItemGraphicEl(v),b=d(h);if(!C_(t,b,h,e)){r.remove(g);return}var S=t.getItemVisual(h,"symbol")||"circle",M=g&&g.getSymbolType&&g.getSymbolType();if(!g||M&&M!==S)r.remove(g),g=new s(t,h,u,f),g.setPosition(b);else{g.updateData(t,h,u,f);var C={x:b[0],y:b[1]};l?g.attr(C):Ea(g,C,i)}r.add(g),t.setItemGraphicEl(h,g)}).remove(function(h){var v=a.getItemGraphicEl(h);v&&v.fadeOut(function(){r.remove(v)})}).execute(),this._getSymbolPoint=d,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,i){var a=t._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Y2(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[],r=K2(r);function i(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var s=e.getItemLayout(a);if(C_(e,s,a,r)){var l=new this._SymbolCtor(e,a,this._seriesScope);l.traverse(i),l.setPosition(s),this.group.add(l),e.setItemGraphicEl(a,l),this._progressiveEls.push(l)}}},n.prototype.eachRendered=function(t){U(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)})}):e.removeAll()},n}(),Pb=Yj;function X2(n,t,e){var r=n.getBaseAxis(),i=n.getOtherAxis(r),a=Xj(i,e),s=r.dim,l=i.dim,u=t.mapDimension(l),f=t.mapDimension(s),d=l==="x"||l==="radius"?1:0,h=Object(y.map)(n.dimensions,function(b){return t.mapDimension(b)}),v=!1,g=t.getCalculationInfo("stackResultDimension");return Eh(t,h[0])&&(v=!0,h[0]=g),Eh(t,h[1])&&(v=!0,h[1]=g),{dataDimsForPoint:h,valueStart:a,valueAxisDim:l,baseAxisDim:s,stacked:!!v,valueDim:u,baseDim:f,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Xj(n,t){var e=0,r=n.scale.getExtent();return t==="start"?e=r[0]:t==="end"?e=r[1]:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}function Z2(n,t,e,r){var i=NaN;n.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,s=[];return s[a]=e.get(n.baseDim,r),s[1-a]=i,t.dataToPoint(s)}function Zj(n,t){var e=[];return t.diff(n).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,i){e.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}function $j(n,t,e,r,i,a,s,l){for(var u=Zj(n,t),f=[],d=[],h=[],v=[],g=[],b=[],S=[],M=X2(i,t,s),C=n.getLayout("points")||[],O=t.getLayout("points")||[],E=0;E<u.length;E++){var I=u[E],W=!0,H=void 0,Q=void 0;switch(I.cmd){case"=":H=I.idx*2,Q=I.idx1*2;var se=C[H],le=C[H+1],Me=O[Q],xe=O[Q+1];(isNaN(se)||isNaN(le))&&(se=Me,le=xe),f.push(se,le),d.push(Me,xe),h.push(e[H],e[H+1]),v.push(r[Q],r[Q+1]),S.push(t.getRawIndex(I.idx1));break;case"+":var Be=I.idx,ze=M.dataDimsForPoint,it=i.dataToPoint([t.get(ze[0],Be),t.get(ze[1],Be)]);Q=Be*2,f.push(it[0],it[1]),d.push(O[Q],O[Q+1]);var pt=Z2(M,i,t,Be);h.push(pt[0],pt[1]),v.push(r[Q],r[Q+1]),S.push(t.getRawIndex(Be));break;case"-":W=!1}W&&(g.push(I),b.push(b.length))}b.sort(function(go,co){return S[go]-S[co]});for(var At=f.length,ln=Ld(At),Qt=Ld(At),vn=Ld(At),Gn=Ld(At),fr=[],E=0;E<b.length;E++){var Er=b[E],li=E*2,na=Er*2;ln[li]=f[na],ln[li+1]=f[na+1],Qt[li]=d[na],Qt[li+1]=d[na+1],vn[li]=h[na],vn[li+1]=h[na+1],Gn[li]=v[na],Gn[li+1]=v[na+1],fr[E]=g[Er]}return{current:ln,next:Qt,stackedOnCurrent:vn,stackedOnNext:Gn,status:fr}}var Gp=Math.min,Up=Math.max;function Cg(n,t){return isNaN(n)||isNaN(t)}function T_(n,t,e,r,i,a,s,l,u){for(var f,d,h,v,g,b,S=e,M=0;M<r;M++){var C=t[S*2],O=t[S*2+1];if(S>=i||S<0)break;if(Cg(C,O)){if(u){S+=a;continue}break}if(S===e)n[a>0?"moveTo":"lineTo"](C,O),h=C,v=O;else{var E=C-f,I=O-d;if(E*E+I*I<.5){S+=a;continue}if(s>0){for(var W=S+a,H=t[W*2],Q=t[W*2+1];H===C&&Q===O&&M<r;)M++,W+=a,S+=a,H=t[W*2],Q=t[W*2+1],C=t[S*2],O=t[S*2+1],E=C-f,I=O-d;var se=M+1;if(u)for(;Cg(H,Q)&&se<r;)se++,W+=a,H=t[W*2],Q=t[W*2+1];var le=.5,Me=0,xe=0,Be=void 0,ze=void 0;if(se>=r||Cg(H,Q))g=C,b=O;else{Me=H-f,xe=Q-d;var it=C-f,pt=H-C,At=O-d,ln=Q-O,Qt=void 0,vn=void 0;if(l==="x"){Qt=Math.abs(it),vn=Math.abs(pt);var Gn=Me>0?1:-1;g=C-Gn*Qt*s,b=O,Be=C+Gn*vn*s,ze=O}else if(l==="y"){Qt=Math.abs(At),vn=Math.abs(ln);var fr=xe>0?1:-1;g=C,b=O-fr*Qt*s,Be=C,ze=O+fr*vn*s}else Qt=Math.sqrt(it*it+At*At),vn=Math.sqrt(pt*pt+ln*ln),le=vn/(vn+Qt),g=C-Me*s*(1-le),b=O-xe*s*(1-le),Be=C+Me*s*le,ze=O+xe*s*le,Be=Gp(Be,Up(H,C)),ze=Gp(ze,Up(Q,O)),Be=Up(Be,Gp(H,C)),ze=Up(ze,Gp(Q,O)),Me=Be-C,xe=ze-O,g=C-Me*Qt/vn,b=O-xe*Qt/vn,g=Gp(g,Up(f,C)),b=Gp(b,Up(d,O)),g=Up(g,Gp(f,C)),b=Up(b,Gp(d,O)),Me=C-g,xe=O-b,Be=C+Me*vn/Qt,ze=O+xe*vn/Qt}n.bezierCurveTo(h,v,g,b,C,O),h=Be,v=ze}else n.lineTo(C,O)}f=C,d=O,S+=a}return M}var $2=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),Jj=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $2},t.prototype.buildPath=function(e,r){var i=r.points,a=0,s=i.length/2;if(r.connectNulls){for(;s>0&&Cg(i[s*2-2],i[s*2-1]);s--);for(;a<s&&Cg(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=T_(e,i,a,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Jn.CMD,l,u,f=r==="x",d=[],h=0;h<a.length;){var v=a[h++],g=void 0,b=void 0,S=void 0,M=void 0,C=void 0,O=void 0,E=void 0;switch(v){case s.M:l=a[h++],u=a[h++];break;case s.L:if(g=a[h++],b=a[h++],E=f?(e-l)/(g-l):(e-u)/(b-u),E<=1&&E>=0){var I=f?(b-u)*E+u:(g-l)*E+l;return f?[e,I]:[I,e]}l=g,u=b;break;case s.C:g=a[h++],b=a[h++],S=a[h++],M=a[h++],C=a[h++],O=a[h++];var W=f?As(l,g,S,C,e,d):As(u,b,M,O,e,d);if(W>0)for(var H=0;H<W;H++){var Q=d[H];if(Q<=1&&Q>=0){var I=f?za(u,b,M,O,Q):za(l,g,S,C,Q);return f?[e,I]:[I,e]}}l=C,u=O;break}}},t}(ir),Qj=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}($2),J2=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new Qj},t.prototype.buildPath=function(e,r){var i=r.points,a=r.stackedOnPoints,s=0,l=i.length/2,u=r.smoothMonotone;if(r.connectNulls){for(;l>0&&Cg(i[l*2-2],i[l*2-1]);l--);for(;s<l&&Cg(i[s*2],i[s*2+1]);s++);}for(;s<l;){var f=T_(e,i,s,l,l,1,r.smooth,u,r.connectNulls);T_(e,a,s+f-1,f,l,-1,r.stackedOnSmooth,u,r.connectNulls),s+=f+1,e.closePath()}},t}(ir);function Q2(n,t,e,r,i){var a=n.getArea(),s=a.x,l=a.y,u=a.width,f=a.height,d=e.get(["lineStyle","width"])||2;s-=d/2,l-=d/2,u+=d,f+=d,s=Math.floor(s),u=Math.round(u);var h=new Bi({shape:{x:s,y:l,width:u,height:f}});if(t){var v=n.getBaseAxis(),g=v.isHorizontal(),b=v.inverse;g?(b&&(h.shape.x+=u),h.shape.width=0):(b||(h.shape.y+=f),h.shape.height=0);var S=Object(y.isFunction)(i)?function(M){i(M,h)}:null;Jo(h,{shape:{width:u,height:f,x:s,y:l}},e,null,r,S)}return h}function q2(n,t,e){var r=n.getArea(),i=nr(r.r0,1),a=nr(r.r,1),s=new Vl({shape:{cx:nr(n.cx,1),cy:nr(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var l=n.getBaseAxis().dim==="angle";l?s.shape.endAngle=r.startAngle:s.shape.r=i,Jo(s,{shape:{endAngle:r.endAngle,r:a}},e)}return s}function xS(n,t,e,r,i){if(n){if(n.type==="polar")return q2(n,t,e);if(n.type==="cartesian2d")return Q2(n,t,e,r,i)}else return null;return null}function Ph(n,t){return n.type===t}function eA(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function tA(n){for(var t=Infinity,e=Infinity,r=-Infinity,i=-Infinity,a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(l)||(e=Math.min(l,e),i=Math.max(l,i))}return[[t,e],[r,i]]}function nA(n,t){var e=tA(n),r=e[0],i=e[1],a=tA(t),s=a[0],l=a[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-l[0]),Math.abs(i[1]-l[1]))}function rA(n){return y.isNumber(n)?n:n?.5:0}function qj(n,t,e){if(!e.valueDim)return[];for(var r=t.count(),i=Ld(r*2),a=0;a<r;a++){var s=Z2(e,n,t,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function Wp(n,t,e){for(var r=t.getBaseAxis(),i=r.dim==="x"||r.dim==="radius"?0:1,a=[],s=0,l=[],u=[],f=[];s<n.length-2;s+=2)switch(f[0]=n[s+2],f[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],a.push(u[0],u[1]),e){case"end":l[i]=f[i],l[1-i]=u[1-i],a.push(l[0],l[1]);break;case"middle":var d=(u[i]+f[i])/2,h=[];l[i]=h[i]=d,l[1-i]=u[1-i],h[1-i]=f[1-i],a.push(l[0],l[1]),a.push(h[0],h[1]);break;default:l[i]=u[i],l[1-i]=f[1-i],a.push(l[0],l[1])}return a.push(n[s++],n[s++]),a}function e5(n,t){var e=[],r=n.length,i,a;function s(d,h,v){var g=d.coord,b=(v-g)/(h.coord-g),S=Object(oa.lerp)(b,[d.color,h.color]);return{coord:v,color:S}}for(var l=0;l<r;l++){var u=n[l],f=u.coord;if(f<0)i=u;else if(f>t){a?e.push(s(a,u,t)):i&&e.push(s(i,u,0),s(i,u,t));break}else i&&(e.push(s(i,u,0)),i=null),e.push(u),a=u}return e}function t5(n,t,e){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())&&t.type==="cartesian2d"){for(var i,a,s=r.length-1;s>=0;s--){var l=n.getDimensionInfo(r[s].dimension);if(i=l&&l.coordDim,i==="x"||i==="y"){a=r[s];break}}if(!!a){var u=t.getAxis(i),f=y.map(a.stops,function(E){return{coord:u.toGlobalCoord(u.dataToCoord(E.value)),color:E.color}}),d=f.length,h=a.outerColors.slice();d&&f[0].coord>f[d-1].coord&&(f.reverse(),h.reverse());var v=e5(f,i==="x"?e.getWidth():e.getHeight()),g=v.length;if(!g&&d)return f[0].coord<0?h[1]?h[1]:f[d-1].color:h[0]?h[0]:f[0].color;var b=10,S=v[0].coord-b,M=v[g-1].coord+b,C=M-S;if(C<.001)return"transparent";y.each(v,function(E){E.offset=(E.coord-S)/C}),v.push({offset:g?v[g-1].offset:.5,color:h[1]||"transparent"}),v.unshift({offset:g?v[0].offset:.5,color:h[0]||"transparent"});var O=new hg(0,0,0,0,v,!0);return O[i]=S,O[i+"2"]=M,O}}}function n5(n,t,e){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=e.getAxesByScale("ordinal")[0];if(!!a&&!(i&&r5(a,t))){var s=t.mapDimension(a.dim),l={};return y.each(a.getViewLabels(),function(u){var f=a.scale.getRawOrdinalNumber(u.tickValue);l[f]=1}),function(u){return!l.hasOwnProperty(t.get(s,u))}}}}function r5(n,t){var e=n.getExtent(),r=Math.abs(e[1]-e[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Ab.getSymbolSize(t,s)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function i5(n,t){return isNaN(n)||isNaN(t)}function a5(n){for(var t=n.length/2;t>0&&i5(n[t*2-2],n[t*2-1]);t--);return t-1}function iA(n,t){return[n[t*2],n[t*2+1]]}function o5(n,t,e){for(var r=n.length/2,i=e==="x"?0:1,a,s,l=0,u=-1,f=0;f<r;f++)if(s=n[f*2+i],!(isNaN(s)||isNaN(n[f*2+1-i]))){if(f===0){a=s;continue}if(a<=t&&s>=t||a>=t&&s<=t){u=f;break}l=f,a=s}return{range:[l,u],t:(t-a)/(s-a)}}function aA(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Do.length;t++)if(n.get([Do[t],"endLabel","show"]))return!0;return!1}function O_(n,t,e,r){if(Ph(t,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),s=r.getData(),l={lastFrameIndex:0},u=aA(r)?function(g,b){n._endLabelOnDuring(g,b,s,l,a,i,t)}:null,f=t.getBaseAxis().isHorizontal(),d=Q2(t,e,r,function(){var g=n._endLabel;g&&e&&l.originalX!=null&&g.attr({x:l.originalX,y:l.originalY})},u);if(!r.get("clip",!0)){var h=d.shape,v=Math.max(h.width,h.height);f?(h.y-=v,h.height+=v*2):(h.x-=v,h.width+=v*2)}return u&&u(1,d),d}else return q2(t,e,r)}function s5(n,t){var e=t.getBaseAxis(),r=e.isHorizontal(),i=e.inverse,a=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||s}}}var l5=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Wr,r=new Pb;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,i){var a=this,s=e.coordinateSystem,l=this.group,u=e.getData(),f=e.getModel("lineStyle"),d=e.getModel("areaStyle"),h=u.getLayout("points")||[],v=s.type==="polar",g=this._coordSys,b=this._symbolDraw,S=this._polyline,M=this._polygon,C=this._lineGroup,O=e.get("animation"),E=!d.isEmpty(),I=d.get("origin"),W=X2(s,u,I),H=E&&qj(s,u,W),Q=e.get("showSymbol"),se=Q&&!v&&n5(e,u,s),le=this._data;le&&le.eachItemGraphicEl(function(co,ha){co.__temp&&(l.remove(co),le.setItemGraphicEl(ha,null))}),Q||b.remove(),l.add(C);var Me=v?!1:e.get("step"),xe;s&&s.getArea&&e.get("clip",!0)&&(xe=s.getArea(),xe.width!=null?(xe.x-=.1,xe.y-=.1,xe.width+=.2,xe.height+=.2):xe.r0&&(xe.r0-=.5,xe.r+=.5)),this._clipShapeForSymbol=xe;var Be=t5(u,s,i)||u.getVisual("style")[u.getVisual("drawType")];if(!(S&&g.type===s.type&&Me===this._step))Q&&b.updateData(u,{isIgnore:se,clipShape:xe,disableAnimation:!0,getSymbolPoint:function(co){return[h[co*2],h[co*2+1]]}}),O&&this._initSymbolLabelAnimation(u,s,xe),Me&&(h=Wp(h,s,Me),H&&(H=Wp(H,s,Me))),S=this._newPolyline(h),E&&(M=this._newPolygon(h,H)),v||this._initOrUpdateEndLabel(e,s,rf(Be)),C.setClipPath(O_(this,s,!0,e));else{E&&!M?M=this._newPolygon(h,H):M&&!E&&(C.remove(M),M=this._polygon=null),v||this._initOrUpdateEndLabel(e,s,rf(Be));var ze=C.getClipPath();if(ze){var it=O_(this,s,!1,e);Jo(ze,{shape:it.shape},e)}else C.setClipPath(O_(this,s,!0,e));Q&&b.updateData(u,{isIgnore:se,clipShape:xe,disableAnimation:!0,getSymbolPoint:function(co){return[h[co*2],h[co*2+1]]}}),(!eA(this._stackedOnPoints,H)||!eA(this._points,h))&&(O?this._doUpdateAnimation(u,H,s,i,Me,I):(Me&&(h=Wp(h,s,Me),H&&(H=Wp(H,s,Me))),S.setShape({points:h}),M&&M.setShape({points:h,stackedOnPoints:H})))}var pt=e.getModel("emphasis"),At=pt.get("focus"),ln=pt.get("blurScope"),Qt=pt.get("disabled");if(S.useStyle(y.defaults(f.getLineStyle(),{fill:"none",stroke:Be,lineJoin:"bevel"})),ml(S,e,"lineStyle"),S.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var vn=S.getState("emphasis").style;vn.lineWidth=+S.style.lineWidth+1}Yr(S).seriesIndex=e.seriesIndex,ys(S,At,ln,Qt);var Gn=rA(e.get("smooth")),fr=e.get("smoothMonotone"),Er=e.get("connectNulls");if(S.setShape({smooth:Gn,smoothMonotone:fr,connectNulls:Er}),M){var li=u.getCalculationInfo("stackedOnSeries"),na=0;M.useStyle(y.defaults(d.getAreaStyle(),{fill:Be,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),li&&(na=rA(li.get("smooth"))),M.setShape({smooth:Gn,stackedOnSmooth:na,smoothMonotone:fr,connectNulls:Er}),ml(M,e,"areaStyle"),Yr(M).seriesIndex=e.seriesIndex,ys(M,At,ln,Qt)}var go=function(co){a._changePolyState(co)};u.eachItemGraphicEl(function(co){co&&(co.onHoverStateChange=go)}),this._polyline.onHoverStateChange=go,this._data=u,this._coordSys=s,this._stackedOnPoints=H,this._points=h,this._step=Me,this._valueOrigin=I,e.get("triggerLineEvent")&&(this.packEventData(e,S),M&&this.packEventData(e,M))},t.prototype.packEventData=function(e,r){Yr(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,i,a){var s=e.getData(),l=Lf(s,a);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=s.getLayout("points"),f=s.getItemGraphicEl(l);if(!f){var d=u[l*2],h=u[l*2+1];if(isNaN(d)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(d,h))return;var v=e.get("zlevel"),g=e.get("z");f=new Ab(s,l),f.x=d,f.y=h,f.setZ(v,g);var b=f.getSymbolPath().getTextContent();b&&(b.zlevel=v,b.z=g,b.z2=this._polyline.z2+1),f.__temp=!0,s.setItemGraphicEl(l,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else Te.prototype.highlight.call(this,e,r,i,a)},t.prototype.downplay=function(e,r,i,a){var s=e.getData(),l=Lf(s,a);if(this._changePolyState("normal"),l!=null&&l>=0){var u=s.getItemGraphicEl(l);u&&(u.__temp?(s.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else Te.prototype.downplay.call(this,e,r,i,a)},t.prototype._changePolyState=function(e){var r=this._polygon;rh(this._polyline,e),r&&rh(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Jj({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new J2({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,r,i){var a,s,l=r.getBaseAxis(),u=l.inverse;r.type==="cartesian2d"?(a=l.isHorizontal(),s=!1):r.type==="polar"&&(a=l.dim==="angle",s=!0);var f=e.hostModel,d=f.get("animationDuration");y.isFunction(d)&&(d=d(null));var h=f.get("animationDelay")||0,v=y.isFunction(h)?h(null):h;e.eachItemGraphicEl(function(g,b){var S=g;if(S){var M=[g.x,g.y],C=void 0,O=void 0,E=void 0;if(i)if(s){var I=i,W=r.pointToCoord(M);a?(C=I.startAngle,O=I.endAngle,E=-W[1]/180*Math.PI):(C=I.r0,O=I.r,E=W[0])}else{var H=i;a?(C=H.x,O=H.x+H.width,E=g.x):(C=H.y+H.height,O=H.y,E=g.y)}var Q=O===C?0:(E-C)/(O-C);u&&(Q=1-Q);var se=y.isFunction(h)?h(b):d*Q+v,le=S.getSymbolPath(),Me=le.getTextContent();S.attr({scaleX:0,scaleY:0}),S.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:se}),Me&&Me.animateFrom({style:{opacity:0}},{duration:300,delay:se}),le.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,i){var a=e.getModel("endLabel");if(aA(e)){var s=e.getData(),l=this._polyline,u=s.getLayout("points");if(!u){l.removeTextContent(),this._endLabel=null;return}var f=this._endLabel;f||(f=this._endLabel=new Fi({z2:200}),f.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var d=a5(u);d>=0&&(jl(l,al(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:d,defaultText:function(h,v,g){return g!=null?W2(s,g):ty(s,h)},enableTextSetter:!0},s5(a,r)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,i,a,s,l,u){var f=this._endLabel,d=this._polyline;if(f){e<1&&a.originalX==null&&(a.originalX=f.x,a.originalY=f.y);var h=i.getLayout("points"),v=i.hostModel,g=v.get("connectNulls"),b=l.get("precision"),S=l.get("distance")||0,M=u.getBaseAxis(),C=M.isHorizontal(),O=M.inverse,E=r.shape,I=O?C?E.x:E.y+E.height:C?E.x+E.width:E.y,W=(C?S:0)*(O?-1:1),H=(C?0:-S)*(O?-1:1),Q=C?"x":"y",se=o5(h,I,Q),le=se.range,Me=le[1]-le[0],xe=void 0;if(Me>=1){if(Me>1&&!g){var Be=iA(h,le[0]);f.attr({x:Be[0]+W,y:Be[1]+H}),s&&(xe=v.getRawValue(le[0]))}else{var Be=d.getPointOn(I,Q);Be&&f.attr({x:Be[0]+W,y:Be[1]+H});var ze=v.getRawValue(le[0]),it=v.getRawValue(le[1]);s&&(xe=vu(i,b,ze,it,se.t))}a.lastFrameIndex=le[0]}else{var pt=e===1||a.lastFrameIndex>0?le[0]:0,Be=iA(h,pt);s&&(xe=v.getRawValue(pt)),f.attr({x:Be[0]+W,y:Be[1]+H})}s&&op(f).setLabelText(xe)}},t.prototype._doUpdateAnimation=function(e,r,i,a,s,l){var u=this._polyline,f=this._polygon,d=e.hostModel,h=$j(this._data,e,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin,l),v=h.current,g=h.stackedOnCurrent,b=h.next,S=h.stackedOnNext;if(s&&(v=Wp(h.current,i,s),g=Wp(h.stackedOnCurrent,i,s),b=Wp(h.next,i,s),S=Wp(h.stackedOnNext,i,s)),nA(v,b)>3e3||f&&nA(g,S)>3e3){u.stopAnimation(),u.setShape({points:b}),f&&(f.stopAnimation(),f.setShape({points:b,stackedOnPoints:S}));return}u.shape.__points=h.current,u.shape.points=v;var M={shape:{points:b}};h.current!==v&&(M.shape.__points=h.next),u.stopAnimation(),Ea(u,M,d),f&&(f.setShape({points:v,stackedOnPoints:g}),f.stopAnimation(),Ea(f,{shape:{stackedOnPoints:S}},d),u.shape.points!==f.shape.points&&(f.shape.points=u.shape.points));for(var C=[],O=h.status,E=0;E<O.length;E++){var I=O[E].cmd;if(I==="="){var W=e.getItemGraphicEl(O[E].idx1);W&&C.push({el:W,ptIdx:E})}}u.animators&&u.animators.length&&u.animators[0].during(function(){f&&f.dirtyShape();for(var H=u.shape.__points,Q=0;Q<C.length;Q++){var se=C[Q].el,le=C[Q].ptIdx*2;se.x=H[le],se.y=H[le+1],se.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(r.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Te),u5=l5;function Lb(n,t){return{seriesType:n,plan:Dp(),reset:function(e){var r=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,s=t||a.large;if(!!i){var l=Object(y.map)(i.dimensions,function(g){return r.mapDimension(g)}).slice(0,2),u=l.length,f=r.getCalculationInfo("stackResultDimension");Eh(r,l[0])&&(l[0]=f),Eh(r,l[1])&&(l[1]=f);var d=r.getStore(),h=r.getDimensionIndex(l[0]),v=r.getDimensionIndex(l[1]);return u&&{progress:function(g,b){for(var S=g.end-g.start,M=s&&Ld(S*u),C=[],O=[],E=g.start,I=0;E<g.end;E++){var W=void 0;if(u===1){var H=d.get(h,E);W=i.dataToPoint(H,null,O)}else C[0]=d.get(h,E),C[1]=d.get(v,E),W=i.dataToPoint(C,null,O);s?(M[I++]=W[0],M[I++]=W[1]):b.setItemLayout(E,W.slice())}s&&b.setLayout("points",M)}}}}}}var c5={average:function(n){for(var t=0,e=0,r=0;r<n.length;r++)isNaN(n[r])||(t+=n[r],e++);return e===0?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-Infinity,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=Infinity,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},f5=function(n){return Math.round(n.length/2)};function oA(n){return{seriesType:n,reset:function(t,e,r){var i=t.getData(),a=t.get("sampling"),s=t.coordinateSystem,l=i.count();if(l>10&&s.type==="cartesian2d"&&a){var u=s.getBaseAxis(),f=s.getOtherAxis(u),d=u.getExtent(),h=r.getDevicePixelRatio(),v=Math.abs(d[1]-d[0])*(h||1),g=Math.round(l/v);if(g>1){a==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(f.dim),1/g));var b=void 0;Object(y.isString)(a)?b=c5[a]:Object(y.isFunction)(a)&&(b=a),b&&t.setData(i.downSample(i.mapDimension(f.dim),1/g,b,f5))}}}}}function d5(n){n.registerChartView(u5),n.registerSeriesModel(Uj),n.registerLayout(Lb("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,oA("line"))}var sA=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return Pd(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var r=this.coordinateSystem;if(r&&r.clampData){var i=r.dataToPoint(r.clampData(e)),a=this.getData(),s=a.getLayout("offset"),l=a.getLayout("size"),u=r.getBaseAxis().isHorizontal()?0:1;return i[u]+=s+l/2,i}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Io);Io.registerClass(sA);var SS=sA,h5=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Pd(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,i){return i.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Bf(SS.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(SS),p5=h5,v5=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),g5=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new v5},t.prototype.buildPath=function(e,r){var i=r.cx,a=r.cy,s=Math.max(r.r0||0,0),l=Math.max(r.r,0),u=(l-s)*.5,f=s+u,d=r.startAngle,h=r.endAngle,v=r.clockwise,g=Math.PI*2,b=v?h-d<g:d-h<g;b||(d=h-(v?g:-g));var S=Math.cos(d),M=Math.sin(d),C=Math.cos(h),O=Math.sin(h);b?(e.moveTo(S*s+i,M*s+a),e.arc(S*f+i,M*f+a,u,-Math.PI+d,d,!v)):e.moveTo(S*l+i,M*l+a),e.arc(i,a,l,d,h,!v),e.arc(C*f+i,O*f+a,u,h-Math.PI*2,h-Math.PI,!v),s!==0&&e.arc(i,a,s,h,d,v)},t}(ir),wS=g5;function m5(n,t){t=t||{};var e=t.isRoundCap;return function(r,i,a){var s=i.position;if(!s||s instanceof Array)return Ud(r,i,a);var l=n(s),u=i.distance!=null?i.distance:5,f=this.shape,d=f.cx,h=f.cy,v=f.r,g=f.r0,b=(v+g)/2,S=f.startAngle,M=f.endAngle,C=(S+M)/2,O=e?Math.abs(v-g)/2:0,E=Math.cos,I=Math.sin,W=d+v*E(S),H=h+v*I(S),Q="left",se="top";switch(l){case"startArc":W=d+(g-u)*E(C),H=h+(g-u)*I(C),Q="center",se="top";break;case"insideStartArc":W=d+(g+u)*E(C),H=h+(g+u)*I(C),Q="center",se="bottom";break;case"startAngle":W=d+b*E(S)+MS(S,u+O,!1),H=h+b*I(S)+_S(S,u+O,!1),Q="right",se="middle";break;case"insideStartAngle":W=d+b*E(S)+MS(S,-u+O,!1),H=h+b*I(S)+_S(S,-u+O,!1),Q="left",se="middle";break;case"middle":W=d+b*E(C),H=h+b*I(C),Q="center",se="middle";break;case"endArc":W=d+(v+u)*E(C),H=h+(v+u)*I(C),Q="center",se="bottom";break;case"insideEndArc":W=d+(v-u)*E(C),H=h+(v-u)*I(C),Q="center",se="top";break;case"endAngle":W=d+b*E(M)+MS(M,u+O,!0),H=h+b*I(M)+_S(M,u+O,!0),Q="left",se="middle";break;case"insideEndAngle":W=d+b*E(M)+MS(M,-u+O,!0),H=h+b*I(M)+_S(M,-u+O,!0),Q="right",se="middle";break;default:return Ud(r,i,a)}return r=r||{},r.x=W,r.y=H,r.align=Q,r.verticalAlign=se,r}}function y5(n,t,e,r){if(Object(y.isNumber)(r)){n.setTextConfig({rotation:r});return}else if(Object(y.isArray)(t)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,l=(a+s)/2,u,f=e(t);switch(f){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=l;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=s;break;default:n.setTextConfig({rotation:0});return}var d=Math.PI*1.5-u;f==="middle"&&d>Math.PI/2&&d<Math.PI*1.5&&(d-=Math.PI),n.setTextConfig({rotation:d})}function MS(n,t,e){return t*Math.sin(n)*(e?-1:1)}function _S(n,t,e){return t*Math.cos(n)*(e?1:-1)}var E_=Math.max,A_=Math.min;function b5(n,t){var e=n.getArea&&n.getArea();if(Ph(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var x5=function(n){ve(t,n);function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var s=e.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,i):this._renderNormal(e,r,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){U(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,i,a){var s=this.group,l=e.getData(),u=this._data,f=e.coordinateSystem,d=f.getBaseAxis(),h;f.type==="cartesian2d"?h=d.isHorizontal():f.type==="polar"&&(h=d.dim==="angle");var v=e.isAnimationEnabled()?e:null,g=S5(e,f);g&&this._enableRealtimeSort(g,l,i);var b=e.get("clip",!0)||g,S=b5(f,l);s.removeClipPath();var M=e.get("roundCap",!0),C=e.get("showBackground",!0),O=e.getModel("backgroundStyle"),E=O.get("borderRadius")||0,I=[],W=this._backgroundEls,H=a&&a.isInitSort,Q=a&&a.type==="changeAxisOrder";function se(xe){var Be=CS[f.type](l,xe),ze=E5(f,h,Be);return ze.useStyle(O.getItemStyle()),f.type==="cartesian2d"&&ze.setShape("r",E),I[xe]=ze,ze}l.diff(u).add(function(xe){var Be=l.getItemModel(xe),ze=CS[f.type](l,xe,Be);if(C&&se(xe),!(!l.hasValue(xe)||!dA[f.type](ze))){var it=!1;b&&(it=lA[f.type](S,ze));var pt=uA[f.type](e,l,xe,ze,h,v,d.model,!1,M);g&&(pt.forceLabelAnimation=!0),pA(pt,l,xe,Be,ze,e,h,f.type==="polar"),H?pt.attr({shape:ze}):g?cA(g,v,pt,ze,xe,h,!1,!1):Jo(pt,{shape:ze},e,xe),l.setItemGraphicEl(xe,pt),s.add(pt),pt.ignore=it}}).update(function(xe,Be){var ze=l.getItemModel(xe),it=CS[f.type](l,xe,ze);if(C){var pt=void 0;W.length===0?pt=se(Be):(pt=W[Be],pt.useStyle(O.getItemStyle()),f.type==="cartesian2d"&&pt.setShape("r",E),I[xe]=pt);var At=CS[f.type](l,xe),ln=yA(h,At,f);Ea(pt,{shape:ln},v,xe)}var Qt=u.getItemGraphicEl(Be);if(!l.hasValue(xe)||!dA[f.type](it)){s.remove(Qt);return}var vn=!1;if(b&&(vn=lA[f.type](S,it),vn&&s.remove(Qt)),Qt?Dc(Qt):Qt=uA[f.type](e,l,xe,it,h,v,d.model,!!Qt,M),g&&(Qt.forceLabelAnimation=!0),Q){var Gn=Qt.getTextContent();if(Gn){var fr=op(Gn);fr.prevValue!=null&&(fr.prevValue=fr.value)}}else pA(Qt,l,xe,ze,it,e,h,f.type==="polar");H?Qt.attr({shape:it}):g?cA(g,v,Qt,it,xe,h,!0,Q):Ea(Qt,{shape:it},e,xe,null),l.setItemGraphicEl(xe,Qt),Qt.ignore=vn,s.add(Qt)}).remove(function(xe){var Be=u.getItemGraphicEl(xe);Be&&Ev(Be,e,xe)}).execute();var le=this._backgroundGroup||(this._backgroundGroup=new Wr);le.removeAll();for(var Me=0;Me<I.length;++Me)le.add(I[Me]);s.add(le),this._backgroundEls=I,this._data=l},t.prototype._renderLarge=function(e,r,i){this._clear(),gA(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),gA(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&xS(e.coordinateSystem,!1,e),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,i){var a=this;if(!!r.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,i),this._isFirstFrame=!1;else{var l=function(u){var f=r.getItemGraphicEl(u),d=f&&f.shape;return d&&Math.abs(s.isHorizontal()?d.height:d.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,l,s,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,i){var a=[];return e.each(e.mapDimension(r.dim),function(s,l){var u=i(l);u=u==null?NaN:u,a.push({dataIndex:l,mappedValue:u,ordinalNumber:s})}),a.sort(function(s,l){return l.mappedValue-s.mappedValue}),{ordinalNumbers:Object(y.map)(a,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,i){for(var a=i.scale,s=e.mapDimension(i.dim),l=Number.MAX_VALUE,u=0,f=a.getOrdinalMeta().categories.length;u<f;++u){var d=e.rawIndexOf(s,a.getRawOrdinalNumber(u)),h=d<0?Number.MIN_VALUE:r(e.indexOfRawIndex(d));if(h>l)return!0;l=h}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var i=r.scale,a=i.getExtent(),s=Math.max(0,a[0]),l=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=l;++s)if(e.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(e,r,i,a){if(!!this._isOrderChangedWithinSameData(e,r,i)){var s=this._dataSort(e,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(e,r,i){var a=r.baseAxis,s=this._dataSort(e,a,function(l){return e.get(e.mapDimension(r.otherAxis.dim),l)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Ev(a,e,Yr(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Te),lA={cartesian2d:function(n,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=n.x+n.width,a=n.y+n.height,s=E_(t.x,n.x),l=A_(t.x+t.width,i),u=E_(t.y,n.y),f=A_(t.y+t.height,a),d=l<s,h=f<u;return t.x=d&&s>i?l:s,t.y=h&&u>a?f:u,t.width=d?0:l-s,t.height=h?0:f-u,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),d||h},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var i=A_(t.r,n.r),a=E_(t.r0,n.r0);t.r=i,t.r0=a;var s=i-a<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return s}},uA={cartesian2d:function(n,t,e,r,i,a,s,l,u){var f=new Bi({shape:Object(y.extend)({},r),z2:1});if(f.__dataIndex=e,f.name="item",a){var d=f.shape,h=i?"height":"width";d[h]=0}return f},polar:function(n,t,e,r,i,a,s,l,u){var f=!i&&u?wS:Vl,d=new f({shape:r,z2:1});d.name="item";var h=hA(i);if(d.calculateTextPosition=m5(h,{isRoundCap:f===wS}),a){var v=d.shape,g=i?"r":"endAngle",b={};v[g]=i?0:r.startAngle,b[g]=r[g],(l?Ea:Jo)(d,{shape:b},a)}return d}};function S5(n,t){var e=n.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function cA(n,t,e,r,i,a,s,l){var u,f;a?(f={x:r.x,width:r.width},u={y:r.y,height:r.height}):(f={y:r.y,height:r.height},u={x:r.x,width:r.width}),l||(s?Ea:Jo)(e,{shape:u},t,i,null);var d=t?n.baseAxis.model:null;(s?Ea:Jo)(e,{shape:f},d,i)}function fA(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var w5=["x","y","width","height"],M5=["cx","cy","r","startAngle","endAngle"],dA={cartesian2d:function(n){return!fA(n,w5)},polar:function(n){return!fA(n,M5)}},CS={cartesian2d:function(n,t,e){var r=n.getItemLayout(t),i=e?C5(e,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+s*i/2,width:r.width-a*i,height:r.height-s*i}},polar:function(n,t,e){var r=n.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function _5(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function hA(n){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(n)}function pA(n,t,e,r,i,a,s,l){var u=t.getItemVisual(e,"style");l||n.setShape("r",r.get(["itemStyle","borderRadius"])||0),n.useStyle(u);var f=r.getShallow("cursor");f&&n.attr("cursor",f);var d=l?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",h=al(r);jl(n,h,{labelFetcher:a,labelDataIndex:e,defaultText:ty(a.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:d});var v=n.getTextContent();if(l&&v){var g=r.get(["label","position"]);n.textConfig.inside=g==="middle"?!0:null,y5(n,g==="outside"?d:g,hA(s),r.get(["label","rotate"]))}Jy(v,h,a.getRawValue(e),function(S){return W2(t,S)});var b=r.getModel(["emphasis"]);ys(n,b.get("focus"),b.get("blurScope"),b.get("disabled")),ml(n,r),_5(i)&&(n.style.fill="none",n.style.stroke="none",Object(y.each)(n.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}function C5(n,t){var e=n.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,a)}var T5=function(){function n(){}return n}(),vA=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new T5},t.prototype.buildPath=function(e,r){for(var i=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,l=[],u=[],f=this.barWidth,d=0;d<i.length;d+=3)u[a]=f,u[s]=i[d+2],l[a]=i[d+a],l[s]=i[d+s],e.rect(l[0],l[1],u[0],u[1])},t}(ir);function gA(n,t,e,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),l=i.getLayout("size"),u=n.getModel("backgroundStyle"),f=i.getLayout("largeBackgroundPoints");if(f){var d=new vA({shape:{points:f},incremental:!!r,silent:!0,z2:0});d.baseDimIdx=a,d.largeDataIndices=s,d.barWidth=l,d.useStyle(u.getItemStyle()),t.add(d),e&&e.push(d)}var h=new vA({shape:{points:i.getLayout("largePoints")},incremental:!!r,z2:1});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=l,t.add(h),h.useStyle(i.getVisual("style")),Yr(h).seriesIndex=n.seriesIndex,n.get("silent")||(h.on("mousedown",mA),h.on("mousemove",mA)),e&&e.push(h)}var mA=Bt(function(n){var t=this,e=O5(t,n.offsetX,n.offsetY);Yr(t).dataIndex=e>=0?e:null},30,!1);function O5(n,t,e){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,s=n.largeDataIndices,l=[],u=[],f=n.barWidth,d=0,h=a.length/3;d<h;d++){var v=d*3;if(u[r]=f,u[i]=a[v+2],l[r]=a[v+r],l[i]=a[v+i],u[i]<0&&(l[i]+=u[i],u[i]=-u[i]),t>=l[0]&&t<=l[0]+u[0]&&e>=l[1]&&e<=l[1]+u[1])return s[d]}return-1}function yA(n,t,e){if(Ph(e,"cartesian2d")){var r=t,i=e.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function E5(n,t,e){var r=n.type==="polar"?Vl:Bi;return new r({shape:yA(t,e,n),silent:!0,z2:0})}var A5=x5;function P5(n){n.registerChartView(A5),n.registerSeriesModel(p5),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,y.curry(kE,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jE("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,oA("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var TS=Math.PI*2,bA=Math.PI/180;function xA(n,t){return ks(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function SA(n,t){var e=xA(n,t),r=n.get("center"),i=n.get("radius");y.isArray(i)||(i=[0,i]),y.isArray(r)||(r=[r,r]);var a=Yn(e.width,t.getWidth()),s=Yn(e.height,t.getHeight()),l=Math.min(a,s),u=Yn(r[0],a)+e.x,f=Yn(r[1],s)+e.y,d=Yn(i[0],l/2),h=Yn(i[1],l/2);return{cx:u,cy:f,r0:d,r:h}}function L5(n,t,e){t.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),s=xA(r,e),l=SA(r,e),u=l.cx,f=l.cy,d=l.r,h=l.r0,v=-r.get("startAngle")*bA,g=r.get("minAngle")*bA,b=0;i.each(a,function(Me){!isNaN(Me)&&b++});var S=i.getSum(a),M=Math.PI/(S||b)*2,C=r.get("clockwise"),O=r.get("roseType"),E=r.get("stillShowZeroSum"),I=i.getDataExtent(a);I[0]=0;var W=TS,H=0,Q=v,se=C?1:-1;if(i.setLayout({viewRect:s,r:d}),i.each(a,function(Me,xe){var Be;if(isNaN(Me)){i.setItemLayout(xe,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:u,cy:f,r0:h,r:O?NaN:d});return}O!=="area"?Be=S===0&&E?M:Me*M:Be=TS/b,Be<g?(Be=g,W-=g):H+=Me;var ze=Q+se*Be;i.setItemLayout(xe,{angle:Be,startAngle:Q,endAngle:ze,clockwise:C,cx:u,cy:f,r0:h,r:O?Da(Me,I,[h,d]):d}),Q=ze}),W<TS&&b)if(W<=.001){var le=TS/b;i.each(a,function(Me,xe){if(!isNaN(Me)){var Be=i.getItemLayout(xe);Be.angle=le,Be.startAngle=v+se*xe*le,Be.endAngle=v+se*(xe+1)*le}})}else M=W/H,Q=v,i.each(a,function(Me,xe){if(!isNaN(Me)){var Be=i.getItemLayout(xe),ze=Be.angle===g?g:Me*M;Be.startAngle=Q,Be.endAngle=Q+se*ze,Q+=se*ze}})})}function Db(n){return{seriesType:n,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=t.getData();i.filterSelf(function(a){for(var s=i.getName(a),l=0;l<r.length;l++)if(!r[l].isSelected(s))return!1;return!0})}}}}var D5=Math.PI/180;function wA(n,t,e,r,i,a,s,l,u,f){if(n.length<2)return;function d(S){for(var M=S.rB,C=M*M,O=0;O<S.list.length;O++){var E=S.list[O],I=Math.abs(E.label.y-e),W=r+E.len,H=W*W,Q=Math.sqrt((1-Math.abs(I*I/C))*H),se=t+(Q+E.len2)*i,le=se-E.label.x,Me=E.targetTextWidth-le*i;MA(E,Me,!0),E.label.x=se}}function h(S){for(var M={list:[],maxY:0},C={list:[],maxY:0},O=0;O<S.length;O++)if(S[O].labelAlignTo==="none"){var E=S[O],I=E.label.y>e?C:M,W=Math.abs(E.label.y-e);if(W>=I.maxY){var H=E.label.x-t-E.len2*i,Q=r+E.len,se=Math.abs(H)<Q?Math.sqrt(W*W/(1-H*H/Q/Q)):Q;I.rB=se,I.maxY=W}I.list.push(E)}d(M),d(C)}for(var v=n.length,g=0;g<v;g++)if(n[g].position==="outer"&&n[g].labelAlignTo==="labelLine"){var b=n[g].label.x-f;n[g].linePoints[1][0]+=b,n[g].label.x=f}v2(n,u,u+s)&&h(n)}function R5(n,t,e,r,i,a,s,l){for(var u=[],f=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,v=0;v<n.length;v++){var g=n[v].label;P_(n[v])||(g.x<t?(d=Math.min(d,g.x),u.push(n[v])):(h=Math.max(h,g.x),f.push(n[v])))}for(var v=0;v<n.length;v++){var b=n[v];if(!P_(b)&&b.linePoints){if(b.labelStyleWidth!=null)continue;var g=b.label,S=b.linePoints,M=void 0;b.labelAlignTo==="edge"?g.x<t?M=S[2][0]-b.labelDistance-s-b.edgeDistance:M=s+i-b.edgeDistance-S[2][0]-b.labelDistance:b.labelAlignTo==="labelLine"?g.x<t?M=d-s-b.bleedMargin:M=s+i-h-b.bleedMargin:g.x<t?M=g.x-s-b.bleedMargin:M=s+i-g.x-b.bleedMargin,b.targetTextWidth=M,MA(b,M)}}wA(f,t,e,r,1,i,a,s,l,h),wA(u,t,e,r,-1,i,a,s,l,d);for(var v=0;v<n.length;v++){var b=n[v];if(!P_(b)&&b.linePoints){var g=b.label,S=b.linePoints,C=b.labelAlignTo==="edge",O=g.style.padding,E=O?O[1]+O[3]:0,I=g.style.backgroundColor?0:E,W=b.rect.width+I,H=S[1][0]-S[2][0];C?g.x<t?S[2][0]=s+b.edgeDistance+W+b.labelDistance:S[2][0]=s+i-b.edgeDistance-W-b.labelDistance:(g.x<t?S[2][0]=g.x+b.labelDistance:S[2][0]=g.x-b.labelDistance,S[1][0]=S[2][0]+H),S[1][1]=S[2][1]=g.y}}}function MA(n,t,e){if(e===void 0&&(e=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,s=i.backgroundColor,l=i.padding,u=l?l[1]+l[3]:0,f=i.overflow,d=a.width+(s?0:u);if(t<d||e){var h=a.height;if(f&&f.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-u);var v=r.getBoundingRect();r.setStyle("width",Math.ceil(v.width)),r.setStyle("backgroundColor",s)}else{var g=t-u,b=t<d?g:e?g>n.unconstrainedWidth?null:g:null;r.setStyle("width",b)}var S=r.getBoundingRect();a.width=S.width;var M=(r.style.margin||0)+2.1;a.height=S.height+M,a.y-=(a.height-h)/2}}}function P_(n){return n.position==="center"}function I5(n){var t=n.getData(),e=[],r,i,a=!1,s=(n.get("minShowLabelAngle")||0)*D5,l=t.getLayout("viewRect"),u=t.getLayout("r"),f=l.width,d=l.x,h=l.y,v=l.height;function g(H){H.ignore=!0}function b(H){if(!H.ignore)return!0;for(var Q in H.states)if(H.states[Q].ignore===!1)return!0;return!1}t.each(function(H){var Q=t.getItemGraphicEl(H),se=Q.shape,le=Q.getTextContent(),Me=Q.getTextGuideLine(),xe=t.getItemModel(H),Be=xe.getModel("label"),ze=Be.get("position")||xe.get(["emphasis","label","position"]),it=Be.get("distanceToLabelLine"),pt=Be.get("alignTo"),At=Yn(Be.get("edgeDistance"),f),ln=Be.get("bleedMargin"),Qt=xe.getModel("labelLine"),vn=Qt.get("length");vn=Yn(vn,f);var Gn=Qt.get("length2");if(Gn=Yn(Gn,f),Math.abs(se.endAngle-se.startAngle)<s){Object(y.each)(le.states,g),le.ignore=!0;return}if(!!b(le)){var fr=(se.startAngle+se.endAngle)/2,Er=Math.cos(fr),li=Math.sin(fr),na,go,co,ha;r=se.cx,i=se.cy;var ui=ze==="inside"||ze==="inner";if(ze==="center")na=se.cx,go=se.cy,ha="center";else{var ga=(ui?(se.r+se.r0)/2*Er:se.r*Er)+r,Zi=(ui?(se.r+se.r0)/2*li:se.r*li)+i;if(na=ga+Er*3,go=Zi+li*3,!ui){var kr=ga+Er*(vn+u-se.r),Hi=Zi+li*(vn+u-se.r),vs=kr+(Er<0?-1:1)*Gn,Fa=Hi;pt==="edge"?na=Er<0?d+At:d+f-At:na=vs+(Er<0?-it:it),go=Fa,co=[[ga,Zi],[kr,Hi],[vs,Fa]]}ha=ui?"center":pt==="edge"?Er>0?"right":"left":Er>0?"left":"right"}var Fs=Math.PI,Os=0,Ou=Be.get("rotate");if(Object(y.isNumber)(Ou))Os=Ou*(Fs/180);else if(ze==="center")Os=0;else if(Ou==="radial"||Ou===!0){var jh=Er<0?-fr+Fs:-fr;Os=jh}else if(Ou==="tangential"&&ze!=="outside"&&ze!=="outer"){var pc=Math.atan2(Er,li);pc<0&&(pc=Fs*2+pc);var Sw=li>0;Sw&&(pc=Fs+pc),Os=pc-Fs}if(a=!!Os,le.x=na,le.y=go,le.rotation=Os,le.setStyle({verticalAlign:"middle"}),ui){le.setStyle({align:ha});var dO=le.states.select;dO&&(dO.x+=le.x,dO.y+=le.y)}else{var tv=le.getBoundingRect().clone();tv.applyTransform(le.getComputedTransform());var A3=(le.style.margin||0)+2.1;tv.y-=A3/2,tv.height+=A3,e.push({label:le,labelLine:Me,position:ze,len:vn,len2:Gn,minTurnAngle:Qt.get("minTurnAngle"),maxSurfaceAngle:Qt.get("maxSurfaceAngle"),surfaceNormal:new mi(Er,li),linePoints:co,textAlign:ha,labelDistance:it,labelAlignTo:pt,edgeDistance:At,bleedMargin:ln,rect:tv,unconstrainedWidth:tv.width,labelStyleWidth:le.style.width})}Q.setTextConfig({inside:ui})}}),!a&&n.get("avoidLabelOverlap")&&R5(e,r,i,u,f,v,d,h);for(var S=0;S<e.length;S++){var M=e[S],C=M.label,O=M.labelLine,E=isNaN(C.x)||isNaN(C.y);if(C){C.setStyle({align:M.textAlign}),E&&(Object(y.each)(C.states,g),C.ignore=!0);var I=C.states.select;I&&(I.x+=C.x,I.y+=C.y)}if(O){var W=M.linePoints;E||!W?(Object(y.each)(O.states,g),O.ignore=!0):(f2(W,M.minTurnAngle),Yk(W,M.surfaceNormal,M.maxSurfaceAngle),O.setShape({points:W}),C.__hostTarget.textGuideLineConfig={anchor:new mi(W[0][0],W[0][1])})}}}function ny(n,t,e){var r=n.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;Object(y.isArray)(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Object(y.map)(r,function(a){return Al(a,i)})}}var N5=function(n){ve(t,n);function t(e,r,i){var a=n.call(this)||this;a.z2=2;var s=new Fi;return a.setTextContent(s),a.updateData(e,r,i,!0),a}return t.prototype.updateData=function(e,r,i,a){var s=this,l=e.hostModel,u=e.getItemModel(r),f=u.getModel("emphasis"),d=e.getItemLayout(r),h=Object(y.extend)(ny(u.getModel("itemStyle"),d,!0),d);if(isNaN(h.startAngle)){s.setShape(h);return}if(a){s.setShape(h);var v=l.getShallow("animationType");l.ecModel.ssr?(Jo(s,{scaleX:0,scaleY:0},l,{dataIndex:r,isFrom:!0}),s.originX=h.cx,s.originY=h.cy):v==="scale"?(s.shape.r=d.r0,Jo(s,{shape:{r:d.r}},l,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Jo(s,{shape:{startAngle:d.startAngle,endAngle:d.endAngle}},l,r)):(s.shape.endAngle=d.startAngle,Ea(s,{shape:{endAngle:d.endAngle}},l,r))}else Dc(s),Ea(s,{shape:h},l,r);s.useStyle(e.getItemVisual(r,"style")),ml(s,u);var g=(d.startAngle+d.endAngle)/2,b=l.get("selectedOffset"),S=Math.cos(g)*b,M=Math.sin(g)*b,C=u.getShallow("cursor");C&&s.attr("cursor",C),this._updateLabel(l,e,r),s.ensureState("emphasis").shape=Object(y.extend)({r:d.r+(f.get("scale")&&f.get("scaleSize")||0)},ny(f.getModel("itemStyle"),d)),Object(y.extend)(s.ensureState("select"),{x:S,y:M,shape:ny(u.getModel(["select","itemStyle"]),d)}),Object(y.extend)(s.ensureState("blur"),{shape:ny(u.getModel(["blur","itemStyle"]),d)});var O=s.getTextGuideLine(),E=s.getTextContent();O&&Object(y.extend)(O.ensureState("select"),{x:S,y:M}),Object(y.extend)(E.ensureState("select"),{x:S,y:M}),ys(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e,r,i){var a=this,s=r.getItemModel(i),l=s.getModel("labelLine"),u=r.getItemVisual(i,"style"),f=u&&u.fill,d=u&&u.opacity;jl(a,al(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:f,defaultOpacity:d,defaultText:e.getFormattedLabel(i,"normal")||r.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var v=e.get(["label","position"]);if(v!=="outside"&&v!=="outer")a.removeTextGuideLine();else{var g=this.getTextGuideLine();g||(g=new Mu,this.setTextGuideLine(g)),c_(this,f_(s),{stroke:f,opacity:Object(y.retrieve3)(l.get(["lineStyle","opacity"]),d,1)})}},t}(Vl),k5=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.init=function(){var e=new Wr;this._sectorGroup=e},t.prototype.render=function(e,r,i,a){var s=e.getData(),l=this._data,u=this.group,f;if(!l&&s.count()>0){for(var d=s.getItemLayout(0),h=1;isNaN(d&&d.startAngle)&&h<s.count();++h)d=s.getItemLayout(h);d&&(f=d.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),s.count()===0&&e.get("showEmptyCircle")){var v=new Vl({shape:SA(e,i)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,u.add(v)}s.diff(l).add(function(g){var b=new N5(s,g,f);s.setItemGraphicEl(g,b),u.add(b)}).update(function(g,b){var S=l.getItemGraphicEl(b);S.updateData(s,g,f),S.off("click"),u.add(S),s.setItemGraphicEl(g,S)}).remove(function(g){var b=l.getItemGraphicEl(g);Ev(b,e,g)}).execute(),I5(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=e[0]-a.cx,l=e[1]-a.cy,u=Math.sqrt(s*s+l*l);return u<=a.r&&u>=a.r0}},t.type="pie",t}(Te),j5=k5;function ry(n,t,e){t=Object(y.isArray)(t)&&{coordDimensions:t}||Object(y.extend)({encodeDefine:n.getEncode()},t);var r=n.getSource(),i=Jm(r,t).dimensions,a=new Tu(i,n);return a.initData(r,e),a}var B5=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},n.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},n.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},n}(),Rb=B5,F5=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Rb(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ry(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Bl,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),i=n.prototype.getDataParams.call(this,e),a=[];return r.each(r.mapDimension("value"),function(s){a.push(s)}),i.percent=Kg(a,e,r.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},t.prototype._defaultLabelLine=function(e){Dl(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Io),z5=F5;function V5(n){return{seriesType:n,reset:function(t,e){var r=t.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!(Object(y.isNumber)(s)&&!isNaN(s)&&s<0)})}}}function H5(n){n.registerChartView(j5),n.registerSeriesModel(z5),Sl("pie",n.registerAction),n.registerLayout(Object(y.curry)(L5,"pie")),n.registerProcessor(Db("pie")),n.registerProcessor(V5("pie"))}var G5=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,r){return Pd(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Io),U5=G5,_A=4,W5=function(){function n(){}return n}(),K5=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new W5},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,r){var i=r.points,a=r.size,s=this.symbolProxy,l=s.shape,u=e.getContext?e.getContext():e,f=u&&a[0]<_A,d=this.softClipShape,h;if(f){this._ctx=u;return}for(this._ctx=null,h=this._off;h<i.length;){var v=i[h++],g=i[h++];isNaN(v)||isNaN(g)||d&&!d.contain(v,g)||(l.x=v-a[0]/2,l.y=g-a[1]/2,l.width=a[0],l.height=a[1],s.buildPath(e,l,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,r=e.points,i=e.size,a=this._ctx,s=this.softClipShape,l;if(!!a){for(l=this._off;l<r.length;){var u=r[l++],f=r[l++];isNaN(u)||isNaN(f)||s&&!s.contain(u,f)||a.fillRect(u-i[0]/2,f-i[1]/2,i[0],i[1])}this.incremental&&(this._off=l,this.notClear=!0)}},t.prototype.findDataIndex=function(e,r){for(var i=this.shape,a=i.points,s=i.size,l=Math.max(s[0],4),u=Math.max(s[1],4),f=a.length/2-1;f>=0;f--){var d=f*2,h=a[d]-l/2,v=a[d+1]-u/2;if(e>=h&&r>=v&&e<=h+l&&r<=v+u)return f}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect();if(e=i[0],r=i[1],a.contain(e,r)){var s=this.hoverDataIdx=this.findDataIndex(e,r);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,i=r.points,a=r.size,s=a[0],l=a[1],u=Infinity,f=Infinity,d=-Infinity,h=-Infinity,v=0;v<i.length;){var g=i[v++],b=i[v++];u=Math.min(g,u),d=Math.max(g,d),f=Math.min(b,f),h=Math.max(b,h)}e=this._rect=new Hn(u-s/2,f-l/2,d-u+s,h-f+l)}return e},t}(ir),Y5=function(){function n(){this.group=new Wr}return n.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}r.setShape("points",e),r.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,r){var i=this._newAdded[0],a=e.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var l=s.length,u=new Float32Array(l+a.length);u.set(s),u.set(a,l),i.endIndex=t.end,i.setShape({points:u})}else{this._newAdded=[];var f=this._create();f.startIndex=t.start,f.endIndex=t.end,f.incremental=!0,f.setShape({points:a}),this._setCommon(f,e,r)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new K5({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=Ts(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<_A;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),u=l&&l.fill;u&&t.setColor(u);var f=Yr(t);f.seriesIndex=i.seriesIndex,t.on("mousemove",function(d){f.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(f.dataIndex=h+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),X5=Y5,Z5=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=e.getData(),s=this._updateSymbolDraw(a,e);s.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var a=e.getData(),s=this._updateSymbolDraw(a,e);s.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Lb("").reset(e,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,i=r&&r.getArea&&r.getArea();return e.get("clip",!0)?i:null},t.prototype._updateSymbolDraw=function(e,r){var i=this._symbolDraw,a=r.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new X5:new Pb,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Te),$5=Z5,J5=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(xa),Q5=J5,OS=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Wo).models[0]},t.type="cartesian2dAxis",t}(xa);y.mixin(OS,qm);var NY=OS,CA={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},q5=y.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},CA),L_=y.merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},CA),eB=y.merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},L_),tB=y.defaults({logBase:10},L_),TA={category:q5,value:L_,time:eB,log:tB},nB={value:1,category:1,time:1,log:1};function iy(n,t,e,r){Object(y.each)(nB,function(i,a){var s=Object(y.merge)(Object(y.merge)({},TA[a],!0),r,!0),l=function(u){ve(f,u);function f(){var d=u!==null&&u.apply(this,arguments)||this;return d.type=t+"Axis."+a,d}return f.prototype.mergeDefaultAndTheme=function(d,h){var v=hp(this),g=v?hh(d):{},b=h.getTheme();Object(y.merge)(d,b.get(a+"Axis")),Object(y.merge)(d,this.getDefaultOption()),d.type=OA(d),v&&bd(d,g,v)},f.prototype.optionUpdated=function(){var d=this.option;d.type==="category"&&(this.__ordinalMeta=JM.createByAxisModel(this))},f.prototype.getCategories=function(d){var h=this.option;if(h.type==="category")return d?h.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=t+"Axis."+a,f.defaultOption=s,f}(e);n.registerComponentModel(l)}),n.registerSubTypeDefaulter(t+"Axis",OA)}function OA(n){return n.type||(n.data?"category":"value")}var rB=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return y.map(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),y.filter(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),iB=rB,D_=["x","y"];function EA(n){return n.type==="interval"||n.type==="time"}var aB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=D_,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!EA(e)||!EA(r))){var i=e.getExtent(),a=r.getExtent(),s=this.dataToPoint([i[0],a[0]]),l=this.dataToPoint([i[1],a[1]]),u=i[1]-i[0],f=a[1]-a[0];if(!(!u||!f)){var d=(l[0]-s[0])/u,h=(l[1]-s[1])/f,v=s[0]-i[0]*d,g=s[1]-a[0]*h,b=this._transform=[d,0,0,h,v,g];this._invTransform=dl([],b)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,r,i){i=i||[];var a=e[0],s=e[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return cn(i,e,this._transform);var l=this.getAxis("x"),u=this.getAxis("y");return i[0]=l.toGlobalCoord(l.dataToCoord(a,r)),i[1]=u.toGlobalCoord(u.dataToCoord(s,r)),i},t.prototype.clampData=function(e,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),l=a.getExtent(),u=i.parse(e[0]),f=a.parse(e[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(l[0],l[1]),f),Math.max(l[0],l[1])),r},t.prototype.pointToData=function(e,r){var i=[];if(this._invTransform)return cn(i,e,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),r),i[1]=s.coordToData(s.toLocalCoord(e[1]),r),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),a=Math.min(r[0],r[1]),s=Math.max(e[0],e[1])-i,l=Math.max(r[0],r[1])-a;return new Hn(i,a,s,l)},t}(iB),oB=aB,sB=function(n){ve(t,n);function t(e,r,i,a,s){var l=n.call(this,e,r,i)||this;return l.index=0,l.type=a||"value",l.position=s||"bottom",l}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(vf),lB=sB;function R_(n,t,e){e=e||{};var r=n.coordinateSystem,i=t.axis,a={},s=i.getAxesOnZeroOf()[0],l=i.position,u=s?"onZero":l,f=i.dim,d=r.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],v={left:0,right:1,top:0,bottom:1,onZero:2},g=t.get("offset")||0,b=f==="x"?[h[2]-g,h[3]+g]:[h[0]-g,h[1]+g];if(s){var S=s.toGlobalCoord(s.dataToCoord(0));b[v.onZero]=Math.max(Math.min(S,b[1]),b[0])}a.position=[f==="y"?b[v[u]]:h[0],f==="x"?b[v[u]]:h[3]],a.rotation=Math.PI/2*(f==="x"?0:1);var M={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=M[l],a.labelOffset=s?b[v[l]]-b[v.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),y.retrieve(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var C=t.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-C:C,a.z2=1,a}function AA(n){return n.get("coordinateSystem")==="cartesian2d"}function PA(n){var t={xAxisModel:null,yAxisModel:null};return y.each(t,function(e,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,Wo).models[0];t[r]=a}),t}var I_=Math.log;function LA(n,t,e){var r=Hp.prototype,i=r.getTicks.call(e),a=r.getTicks.call(e,!0),s=i.length-1,l=r.getInterval.call(e),u=KE(n,t),f=u.extent,d=u.fixMin,h=u.fixMax;if(n.type==="log"){var v=I_(n.base);f=[I_(f[0])/v,I_(f[1])/v]}n.setExtent(f[0],f[1]),n.calcNiceExtent({splitNumber:s,fixMin:d,fixMax:h});var g=r.getExtent.call(n);d&&(f[0]=g[0]),h&&(f[1]=g[1]);var b=r.getInterval.call(n),S=f[0],M=f[1];if(d&&h)b=(M-S)/s;else if(d)for(M=f[0]+b*s;M<f[1]&&isFinite(M)&&isFinite(f[1]);)b=qM(b),M=f[0]+b*s;else if(h)for(S=f[1]-b*s;S>f[0]&&isFinite(S)&&isFinite(f[0]);)b=qM(b),S=f[1]-b*s;else{var C=n.getTicks().length-1;C>s&&(b=qM(b));var O=b*s;M=Math.ceil(f[1]/b)*b,S=nr(M-O),S<0&&f[0]>=0?(S=0,M=nr(O)):M>0&&f[1]<=0&&(M=0,S=-nr(O))}var E=(i[0].value-a[0].value)/l,I=(i[s].value-a[s].value)/l;if(r.setExtent.call(n,S+b*E,M+b*I),r.setInterval.call(n,b),(E||I)&&r.setNiceExtent.call(n,S+b,M-b),!1)var W}var uB=function(){function n(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=D_,this._initCartesian(t,e,r),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function i(s){var l,u=Object(y.keys)(s),f=u.length;if(!!f){for(var d=[],h=f-1;h>=0;h--){var v=+u[h],g=s[v],b=g.model,S=g.scale;QM(S)&&b.get("alignTicks")&&b.get("interval")==null?d.push(g):(yg(S,b),QM(S)&&(l=g))}d.length&&(l||(l=d.pop(),yg(l.scale,l.model)),Object(y.each)(d,function(M){LA(M.scale,M.model,l.scale)}))}}i(r.x),i(r.y);var a={};Object(y.each)(r.x,function(s){DA(r,"y",s,a)}),Object(y.each)(r.y,function(s){DA(r,"x",s,a)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams(),a=!r&&t.get("containLabel"),s=ks(i,{width:e.getWidth(),height:e.getHeight()});this._rect=s;var l=this._axesList;u(),a&&(Object(y.each)(l,function(f){if(!f.model.get(["axisLabel","inside"])){var d=pk(f);if(d){var h=f.isHorizontal()?"height":"width",v=f.model.get(["axisLabel","margin"]);s[h]-=d[h]+v,f.position==="top"?s.y+=d.height+v:f.position==="left"&&(s.x+=d.width+v)}}}),u()),Object(y.each)(this._coordsList,function(f){f.calcAffineTransform()});function u(){Object(y.each)(l,function(f){var d=f.isHorizontal(),h=d?[0,s.width]:[0,s.height],v=f.inverse?1:0;f.setExtent(h[v],h[1-v]),cB(f,d?s.x:s.y)})}},n.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null)return r[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}Object(y.isObject)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(t){var e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",Wo).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Wo).models[0],a=t.gridModel,s=this._coordsList,l,u;if(e)l=e.coordinateSystem,Object(y.indexOf)(s,l)<0&&(l=null);else if(r&&i)l=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)u=this.getAxis("x",r.componentIndex);else if(i)u=this.getAxis("y",i.componentIndex);else if(a){var f=a.coordinateSystem;f===this&&(l=this._coordsList[0])}return{cartesian:l,axis:u}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,r){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",f("x"),this),e.eachComponent("yAxis",f("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=l,Object(y.each)(l.x,function(d,h){Object(y.each)(l.y,function(v,g){var b="x"+h+"y"+g,S=new oB(b);S.master=i,S.model=t,i._coordsMap[b]=S,i._coordsList.push(S),S.addAxis(d),S.addAxis(v)})});function f(d){return function(h,v){if(!!N_(h,t)){var g=h.get("position");d==="x"?g!=="top"&&g!=="bottom"&&(g=s.bottom?"top":"bottom"):g!=="left"&&g!=="right"&&(g=s.left?"right":"left"),s[g]=!0;var b=new lB(d,Sb(h),[0,0],h.get("type"),g),S=b.type==="category";b.onBand=S&&h.get("boundaryGap"),b.inverse=h.get("inverse"),h.axis=b,b.model=h,b.grid=a,b.index=v,a._axesList.push(b),l[d][v]=b,u[d]++}}}},n.prototype._updateScale=function(t,e){Object(y.each)(this._axesList,function(i){if(i.scale.setExtent(Infinity,-Infinity),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(AA(i)){var a=PA(i),s=a.xAxisModel,l=a.yAxisModel;if(!N_(s,e)||!N_(l,e))return;var u=this.getCartesian(s.componentIndex,l.componentIndex),f=i.getData(),d=u.getAxis("x"),h=u.getAxis("y");r(f,d),r(f,h)}},this);function r(i,a){Object(y.each)(dS(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},n.prototype.getTooltipAxes=function(t){var e=[],r=[];return Object(y.each)(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(a);Object(y.indexOf)(e,a)<0&&e.push(a),Object(y.indexOf)(r,s)<0&&r.push(s)}),{baseAxes:e,otherAxes:r}},n.create=function(t,e){var r=[];return t.eachComponent("grid",function(i,a){var s=new n(i,t,e);s.name="grid_"+a,s.resize(i,e,!0),i.coordinateSystem=s,r.push(s)}),t.eachSeries(function(i){if(!!AA(i)){var a=PA(i),s=a.xAxisModel,l=a.yAxisModel,u=s.getCoordSysModel(),f=u.coordinateSystem;i.coordinateSystem=f.getCartesian(s.componentIndex,l.componentIndex)}}),r},n.dimensions=D_,n}();function N_(n,t){return n.getCoordSysModel()===t}function DA(n,t,e,r){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[t],a,s=e.model,l=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(!l)return;if(u!=null)RA(i[u])&&(a=i[u]);else for(var f in i)if(i.hasOwnProperty(f)&&RA(i[f])&&!r[d(i[f])]){a=i[f];break}a&&(r[d(a)]=!0);function d(h){return h.dim+"_"+h.index}}function RA(n){return n&&n.type!=="category"&&n.type!=="time"&&hk(n)}function cB(n,t){var e=n.getExtent(),r=e[0]+e[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+t}:function(i){return r-i+t},n.toLocalCoord=n.dim==="x"?function(i){return i-t}:function(i){return r-i+t}}var fB=uB,Kp=Math.PI,Tg=function(){function n(t,e){this.group=new Wr,this.opt=e,this.axisModel=t,Object(y.defaults)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Wr({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(t){return!!IA[t]},n.prototype.add=function(t){IA[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,r){var i=Hh(e-t),a,s;return Ef(i)?(s=r>0?"top":"bottom",a="center"):Ef(i-Kp)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Kp?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),IA={axisLine:function(n,t,e,r){var i=t.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=t.axis.getExtent(),s=r.transform,l=[a[0],0],u=[a[1],0];s&&(cn(l,l,s),cn(u,u,s));var f=Object(y.extend)({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new ll({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:f,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});d.anid="line",e.add(d);var h=t.get(["axisLine","symbol"]);if(h!=null){var v=t.get(["axisLine","symbolSize"]);Object(y.isString)(h)&&(h=[h,h]),(Object(y.isString)(v)||Object(y.isNumber)(v))&&(v=[v,v]);var g=gt(t.get(["axisLine","symbolOffset"])||0,v),b=v[0],S=v[1];Object(y.each)([{rotate:n.rotation+Math.PI/2,offset:g[0],r:0},{rotate:n.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(M,C){if(h[C]!=="none"&&h[C]!=null){var O=Ts(h[C],-b/2,-S/2,b,S,f.stroke,!0),E=M.r+M.offset;O.attr({rotation:M.rotate,x:l[0]+E*Math.cos(n.rotation),y:l[1]-E*Math.sin(n.rotation),silent:!0,z2:11}),e.add(O)}})}}},axisTickLabel:function(n,t,e,r){var i=pB(e,r,t,n),a=gB(e,r,t,n);if(hB(t,a,i),vB(e,r,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=h2(Object(y.map)(a,function(l){return{label:l,priority:l.z2,defaultAttr:{ignore:l.ignore}}}));g2(s)}},axisName:function(n,t,e,r){var i=Object(y.retrieve)(n.axisName,t.get("name"));if(!!i){var a=t.get("nameLocation"),s=n.nameDirection,l=t.getModel("nameTextStyle"),u=t.get("nameGap")||0,f=t.axis.getExtent(),d=f[0]>f[1]?-1:1,h=[a==="start"?f[0]-d*u:a==="end"?f[1]+d*u:(f[0]+f[1])/2,kA(a)?n.labelOffset+s*u:0],v,g=t.get("nameRotate");g!=null&&(g=g*Kp/180);var b;kA(a)?v=Tg.innerTextLayout(n.rotation,g!=null?g:n.rotation,s):(v=dB(n.rotation,a,g||0,f),b=n.axisNameAvailableWidth,b!=null&&(b=Math.abs(b/Math.sin(v.rotation)),!isFinite(b)&&(b=null)));var S=l.getFont(),M=t.get("nameTruncate",!0)||{},C=M.ellipsis,O=Object(y.retrieve)(n.nameTruncateMaxWidth,M.maxWidth,b),E=new Fi({x:h[0],y:h[1],rotation:v.rotation,silent:Tg.isLabelSilent(t),style:bs(l,{text:i,font:S,overflow:"truncate",width:O,ellipsis:C,fill:l.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:l.get("align")||v.textAlign,verticalAlign:l.get("verticalAlign")||v.textVerticalAlign}),z2:1});if(L({el:E,componentModel:t,itemName:i}),E.__fullText=i,E.anid="name",t.get("triggerEvent")){var I=Tg.makeAxisEventDataBase(t);I.targetType="axisName",I.name=i,Yr(E).eventData=I}r.add(E),E.updateTransform(),e.add(E),E.decomposeTransform()}}};function dB(n,t,e,r){var i=Hh(e-n),a,s,l=r[0]>r[1],u=t==="start"&&!l||t!=="start"&&l;return Ef(i-Kp/2)?(s=u?"bottom":"top",a="center"):Ef(i-Kp*1.5)?(s=u?"top":"bottom",a="center"):(s="middle",i<Kp*1.5&&i>Kp/2?a=u?"left":"right":a=u?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function hB(n,t,e){if(!YE(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var a=t[0],s=t[1],l=t[t.length-1],u=t[t.length-2],f=e[0],d=e[1],h=e[e.length-1],v=e[e.length-2];r===!1?(gf(a),gf(f)):NA(a,s)&&(r?(gf(s),gf(d)):(gf(a),gf(f))),i===!1?(gf(l),gf(h)):NA(u,l)&&(i?(gf(u),gf(v)):(gf(l),gf(h)))}}function gf(n){n&&(n.ignore=!0)}function NA(n,t){var e=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!e||!r)){var i=Zs([]);return fl(i,i,-n.rotation),e.applyTransform(ho([],i,n.getLocalTransform())),r.applyTransform(ho([],i,t.getLocalTransform())),e.intersect(r)}}function kA(n){return n==="middle"||n==="center"}function jA(n,t,e,r,i){for(var a=[],s=[],l=[],u=0;u<n.length;u++){var f=n[u].coord;s[0]=f,s[1]=0,l[0]=f,l[1]=e,t&&(cn(s,s,t),cn(l,l,t));var d=new ll({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:r,z2:2,autoBatch:!0,silent:!0});d.anid=i+"_"+n[u].tickValue,a.push(d)}return a}function pB(n,t,e,r){var i=e.axis,a=e.getModel("axisTick"),s=a.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var l=a.getModel("lineStyle"),u=r.tickDirection*a.get("length"),f=i.getTicksCoords(),d=jA(f,t.transform,u,Object(y.defaults)(l.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<d.length;h++)n.add(d[h]);return d}}function vB(n,t,e,r){var i=e.axis,a=e.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(!!s.length)for(var l=a.getModel("lineStyle"),u=r*a.get("length"),f=Object(y.defaults)(l.getLineStyle(),Object(y.defaults)(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),d=0;d<s.length;d++)for(var h=jA(s[d],t.transform,u,f,"minorticks_"+d),v=0;v<h.length;v++)n.add(h[v])}}function gB(n,t,e,r){var i=e.axis,a=Object(y.retrieve)(r.axisLabelShow,e.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=e.getModel("axisLabel"),l=s.get("margin"),u=i.getViewLabels(),f=(Object(y.retrieve)(r.labelRotate,s.get("rotate"))||0)*Kp/180,d=Tg.innerTextLayout(r.rotation,f,r.labelDirection),h=e.getCategories&&e.getCategories(!0),v=[],g=Tg.isLabelSilent(e),b=e.get("triggerEvent");return Object(y.each)(u,function(S,M){var C=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(S.tickValue):S.tickValue,O=S.formattedLabel,E=S.rawLabel,I=s;if(h&&h[C]){var W=h[C];Object(y.isObject)(W)&&W.textStyle&&(I=new Mo(W.textStyle,s,e.ecModel))}var H=I.getTextColor()||e.get(["axisLine","lineStyle","color"]),Q=i.dataToCoord(C),se=new Fi({x:Q,y:r.labelOffset+r.labelDirection*l,rotation:d.rotation,silent:g,z2:10+(S.level||0),style:bs(I,{text:O,align:I.getShallow("align",!0)||d.textAlign,verticalAlign:I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||d.textVerticalAlign,fill:Object(y.isFunction)(H)?H(i.type==="category"?E:i.type==="value"?C+"":C,M):H})});if(se.anid="label_"+C,b){var le=Tg.makeAxisEventDataBase(e);le.targetType="axisLabel",le.value=E,Yr(se).eventData=le}t.add(se),se.updateTransform(),v.push(se),n.add(se),se.decomposeTransform()}),v}}var Lh=Tg;function mB(n,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return yB(e,n,t),e.seriesInvolved&&xB(e,n),e}function yB(n,t,e){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];Object(y.each)(e.getCoordinateSystems(),function(l){if(!l.axisPointerEnabled)return;var u=Ib(l.model),f=n.coordSysAxesInfo[u]={};n.coordSysMap[u]=l;var d=l.model,h=d.getModel("tooltip",r);if(Object(y.each)(l.getAxes(),Object(y.curry)(S,!1,null)),l.getTooltipAxes&&r&&h.get("show")){var v=h.get("trigger")==="axis",g=h.get(["axisPointer","type"])==="cross",b=l.getTooltipAxes(h.get(["axisPointer","axis"]));(v||g)&&Object(y.each)(b.baseAxes,Object(y.curry)(S,g?"cross":!0,v)),g&&Object(y.each)(b.otherAxes,Object(y.curry)(S,"cross",!1))}function S(M,C,O){var E=O.model.getModel("axisPointer",i),I=E.get("show");if(!(!I||I==="auto"&&!M&&!B_(E))){C==null&&(C=E.get("triggerTooltip")),E=M?bB(O,h,i,t,M,C):E;var W=E.get("snap"),H=Ib(O.model),Q=C||W||O.type==="category",se=n.axesInfo[H]={key:H,axis:O,coordSys:l,axisPointerModel:E,triggerTooltip:C,involveSeries:Q,snap:W,useHandle:B_(E),seriesModels:[],linkGroup:null};f[H]=se,n.seriesInvolved=n.seriesInvolved||Q;var le=SB(a,O);if(le!=null){var Me=s[le]||(s[le]={axesInfo:{}});Me.axesInfo[H]=se,Me.mapper=a[le].mapper,se.linkGroup=Me}}}})}function bB(n,t,e,r,i,a){var s=t.getModel("axisPointer"),l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};Object(y.each)(l,function(v){u[v]=Object(y.clone)(s.get(v))}),u.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(u.type="line");var f=u.label||(u.label={});if(f.show==null&&(f.show=!1),i==="cross"){var d=s.get(["label","show"]);if(f.show=d!=null?d:!0,!a){var h=u.lineStyle=s.get("crossStyle");h&&Object(y.defaults)(f,h.textStyle)}}return n.model.getModel("axisPointer",new Mo(u,e,r))}function xB(n,t){t.eachSeries(function(e){var r=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||Object(y.each)(n.coordSysAxesInfo[Ib(r.model)],function(s){var l=s.axis;r.getAxis(l.dim)===l&&(s.seriesModels.push(e),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=e.getData().count())})})}function SB(n,t){for(var e=t.model,r=t.dim,i=0;i<n.length;i++){var a=n[i]||{};if(k_(a[r+"AxisId"],e.id)||k_(a[r+"AxisIndex"],e.componentIndex)||k_(a[r+"AxisName"],e.name))return i}}function k_(n,t){return n==="all"||Object(y.isArray)(n)&&Object(y.indexOf)(n,t)>=0||n===t}function wB(n){var t=j_(n);if(!!t){var e=t.axisPointerModel,r=t.axis.scale,i=e.option,a=e.get("status"),s=e.get("value");s!=null&&(s=r.parse(s));var l=B_(e);a==null&&(i.status=l?"show":"hide");var u=r.getExtent().slice();u[0]>u[1]&&u.reverse(),(s==null||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),i.value=s,l&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function j_(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Ib(n)]}function MB(n){var t=j_(n);return t&&t.axisPointerModel}function B_(n){return!!n.get(["handle","show"])}function Ib(n){return n.type+"||"+n.id}var BA={},_B=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,a){this.axisPointerClass&&wB(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,r,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(!!a){var s=MB(e);s?(this._axisPointer||(this._axisPointer=new a)).render(e,s,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){BA[e]=r},t.getAxisPointerClass=function(e){return e&&BA[e]},t.type="axis",t}(Xo),Og=_B,F_=Yi();function FA(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=r.coordinateSystem.getRect(),f=i.getTicksCoords({tickModel:a,clamp:!0});if(!!f.length){var d=l.length,h=F_(n).splitAreaColors,v=y.createHashMap(),g=0;if(h)for(var b=0;b<f.length;b++){var S=h.get(f[b].tickValue);if(S!=null){g=(S+(d-1)*b)%d;break}}var M=i.toGlobalCoord(f[0].coord),C=s.getAreaStyle();l=y.isArray(l)?l:[l];for(var b=1;b<f.length;b++){var O=i.toGlobalCoord(f[b].coord),E=void 0,I=void 0,W=void 0,H=void 0;i.isHorizontal()?(E=M,I=u.y,W=O-E,H=u.height,M=E+W):(E=u.x,I=M,W=u.width,H=O-I,M=I+H);var Q=f[b-1].tickValue;Q!=null&&v.set(Q,g),t.add(new Bi({anid:Q!=null?"area_"+Q:null,shape:{x:E,y:I,width:W,height:H},style:y.defaults({fill:l[g]},C),autoBatch:!0,silent:!0})),g=(g+1)%d}F_(n).splitAreaColors=v}}}function zA(n){F_(n).splitAreaColors=null}var CB=["axisLine","axisTickLabel","axisName"],TB=["splitArea","splitLine","minorSplitLine"],z_=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,r,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Wr,this.group.add(this._axisGroup),!!e.get("show")){var l=e.getCoordSysModel(),u=R_(l,e),f=new Lh(e,y.extend({handleAutoShown:function(h){for(var v=l.coordinateSystem.getCartesians(),g=0;g<v.length;g++)if(QM(v[g].getOtherAxis(e.axis).scale))return!0;return!1}},u));y.each(CB,f.add,f),this._axisGroup.add(f.getGroup()),y.each(TB,function(h){e.get([h,"show"])&&OB[h](this,this._axisGroup,e,l)},this);var d=a&&a.type==="changeAxisOrder"&&a.isInitSort;d||o(s,this._axisGroup,e),n.prototype.render.call(this,e,r,i,a)}},t.prototype.remove=function(){zA(this)},t.type="cartesianAxis",t}(Og),OB={splitLine:function(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=y.isArray(l)?l:[l];for(var u=r.coordinateSystem.getRect(),f=i.isHorizontal(),d=0,h=i.getTicksCoords({tickModel:a}),v=[],g=[],b=s.getLineStyle(),S=0;S<h.length;S++){var M=i.toGlobalCoord(h[S].coord);f?(v[0]=M,v[1]=u.y,g[0]=M,g[1]=u.y+u.height):(v[0]=u.x,v[1]=M,g[0]=u.x+u.width,g[1]=M);var C=d++%l.length,O=h[S].tickValue;t.add(new ll({anid:O!=null?"line_"+h[S].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:g[0],y2:g[1]},style:y.defaults({stroke:l[C]},b),silent:!0}))}}},minorSplitLine:function(n,t,e,r){var i=e.axis,a=e.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=r.coordinateSystem.getRect(),u=i.isHorizontal(),f=i.getMinorTicksCoords();if(!!f.length)for(var d=[],h=[],v=s.getLineStyle(),g=0;g<f.length;g++)for(var b=0;b<f[g].length;b++){var S=i.toGlobalCoord(f[g][b].coord);u?(d[0]=S,d[1]=l.y,h[0]=S,h[1]=l.y+l.height):(d[0]=l.x,d[1]=S,h[0]=l.x+l.width,h[1]=S),t.add(new ll({anid:"minor_line_"+f[g][b].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:v,silent:!0}))}},splitArea:function(n,t,e,r){FA(n,t,e,r)}},VA=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(z_),EB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=VA.type,e}return t.type="yAxis",t}(z_),kY=z_,AB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new Bi({shape:e.coordinateSystem.getRect(),style:Object(y.defaults)({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Xo),HA={offset:0};function GA(n){n.registerComponentView(AB),n.registerComponentModel(Q5),n.registerCoordinateSystem("cartesian2d",fB),iy(n,"x",OS,HA),iy(n,"y",OS,HA),n.registerComponentView(VA),n.registerComponentView(EB),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function PB(n){ea(GA),n.registerSeriesModel(U5),n.registerChartView($5),n.registerLayout(Lb("scatter"))}function LB(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),r=[],i=t.coordinateSystem;if(!!i){var a=i.getIndicatorAxes();y.each(a,function(s,l){e.each(e.mapDimension(a[l].dim),function(u,f){r[f]=r[f]||[];var d=i.dataToPoint(u,l);r[f][l]=UA(d)?d:WA(i)})}),e.each(function(s){var l=y.find(r[s],function(u){return UA(u)})||WA(i);r[s].push(l.slice()),e.setItemLayout(s,r[s])})}})}function UA(n){return!isNaN(n[0])&&!isNaN(n[1])}function WA(n){return[n.cx,n.cy]}function DB(n){var t=n.polar;if(t){y.isArray(t)||(t=[t]);var e=[];y.each(t,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],y.isArray(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):e.push(r)}),n.polar=e}y.each(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var RB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=e.coordinateSystem,s=this.group,l=e.getData(),u=this._data;function f(v,g){var b=v.getItemVisual(g,"symbol")||"circle";if(b!=="none"){var S=pg(v.getItemVisual(g,"symbolSize")),M=Ts(b,-1,-1,2,2),C=v.getItemVisual(g,"symbolRotate")||0;return M.attr({style:{strokeNoScale:!0},z2:100,scaleX:S[0]/2,scaleY:S[1]/2,rotation:C*Math.PI/180||0}),M}}function d(v,g,b,S,M,C){b.removeAll();for(var O=0;O<g.length-1;O++){var E=f(S,M);E&&(E.__dimIdx=O,v[O]?(E.setPosition(v[O]),re[C?"initProps":"updateProps"](E,{x:g[O][0],y:g[O][1]},e,M)):E.setPosition(g[O]),b.add(E))}}function h(v){return y.map(v,function(g){return[a.cx,a.cy]})}l.diff(u).add(function(v){var g=l.getItemLayout(v);if(!!g){var b=new sl,S=new Mu,M={shape:{points:g}};b.shape.points=h(g),S.shape.points=h(g),Jo(b,M,e,v),Jo(S,M,e,v);var C=new Wr,O=new Wr;C.add(S),C.add(b),C.add(O),d(S.shape.points,g,O,l,v,!0),l.setItemGraphicEl(v,C)}}).update(function(v,g){var b=u.getItemGraphicEl(g),S=b.childAt(0),M=b.childAt(1),C=b.childAt(2),O={shape:{points:l.getItemLayout(v)}};!O.shape.points||(d(S.shape.points,O.shape.points,C,l,v,!1),Dc(M),Dc(S),Ea(S,O,e),Ea(M,O,e),l.setItemGraphicEl(v,b))}).remove(function(v){s.remove(u.getItemGraphicEl(v))}).execute(),l.eachItemGraphicEl(function(v,g){var b=l.getItemModel(g),S=v.childAt(0),M=v.childAt(1),C=v.childAt(2),O=l.getItemVisual(g,"style"),E=O.fill;s.add(v),S.useStyle(y.defaults(b.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:E})),ml(S,b,"lineStyle"),ml(M,b,"areaStyle");var I=b.getModel("areaStyle"),W=I.isEmpty()&&I.parentModel.isEmpty();M.ignore=W,y.each(["emphasis","select","blur"],function(se){var le=b.getModel([se,"areaStyle"]),Me=le.isEmpty()&&le.parentModel.isEmpty();M.ensureState(se).ignore=Me&&W}),M.useStyle(y.defaults(I.getAreaStyle(),{fill:E,opacity:.7,decal:O.decal}));var H=b.getModel("emphasis"),Q=H.getModel("itemStyle").getItemStyle();C.eachChild(function(se){if(se instanceof cs){var le=se.style;se.useStyle(y.extend({image:le.image,x:le.x,y:le.y,width:le.width,height:le.height},O))}else se.useStyle(O),se.setColor(E),se.style.strokeNoScale=!0;var Me=se.ensureState("emphasis");Me.style=y.clone(Q);var xe=l.getStore().get(l.getDimensionIndex(se.__dimIdx),g);(xe==null||isNaN(xe))&&(xe=""),jl(se,al(b),{labelFetcher:l.hostModel,labelDataIndex:g,labelDimIndex:se.__dimIdx,defaultText:xe,inheritColor:E,defaultOpacity:O.opacity})}),ys(v,H.get("focus"),H.get("blurScope"),H.get("disabled"))}),this._data=l},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Te),IB=RB,NB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Rb(y.bind(this.getData,this),y.bind(this.getRawData,this))},t.prototype.getInitialData=function(e,r){return ry(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=this.coordinateSystem,l=s.getIndicatorAxes(),u=this.getData().getName(e),f=u===""?this.name:u,d=W0(this,e);return Ys("section",{header:f,sortBlocks:!0,blocks:y.map(l,function(h){var v=a.get(a.mapDimension(h.dim),e);return Ys("nameValue",{markerType:"subItem",markerColor:d,name:h.name,value:v,sortParam:v})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(y.map(i.dimensions,function(f){return r.mapDimension(f)}),e),s=0,l=a.length;s<l;s++)if(!isNaN(a[s])){var u=i.getIndicatorAxes();return i.coordToPoint(u[s].dataToCoord(a[s]),s)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Io),kB=NB,Nb=TA.value;function ES(n,t){return y.defaults({show:t},n)}var jB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("axisName"),f=this.get(["axisName","show"]),d=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),v=this.get("triggerEvent"),g=y.map(this.get("indicator")||[],function(b){b.max!=null&&b.max>0&&!b.min?b.min=0:b.min!=null&&b.min<0&&!b.max&&(b.max=0);var S=u;b.color!=null&&(S=y.defaults({color:b.color},u));var M=y.merge(y.clone(b),{boundaryGap:e,splitNumber:r,scale:i,axisLine:a,axisTick:s,axisLabel:l,name:b.text,showName:f,nameLocation:"end",nameGap:h,nameTextStyle:S,triggerEvent:v},!1);if(f||(M.name=""),y.isString(d)){var C=M.name;M.name=d.replace("{value}",C!=null?C:"")}else y.isFunction(d)&&(M.name=d(M.name,M));var O=new Mo(M,null,this.ecModel);return y.mixin(O,qm.prototype),O.mainType="radar",O.componentIndex=this.componentIndex,O},this);this._indicatorModels=g},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:y.merge({lineStyle:{color:"#bbb"}},Nb.axisLine),axisLabel:ES(Nb.axisLabel,!1),axisTick:ES(Nb.axisTick,!1),splitLine:ES(Nb.splitLine,!0),splitArea:ES(Nb.splitArea,!0),indicator:[]},t}(xa),BB=jB,FB=["axisLine","axisTickLabel","axisName"],zB=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=this.group;a.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes(),a=y.map(i,function(s){var l=s.model.get("showName")?s.name:"",u=new Lh(s.model,{axisName:l,position:[r.cx,r.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});y.each(a,function(s){y.each(FB,s.add,s),this.group.add(s.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),s=e.getModel("splitLine"),l=e.getModel("splitArea"),u=s.getModel("lineStyle"),f=l.getModel("areaStyle"),d=s.get("show"),h=l.get("show"),v=u.get("color"),g=f.get("color"),b=y.isArray(v)?v:[v],S=y.isArray(g)?g:[g],M=[],C=[];function O(pt,At,ln){var Qt=ln%At.length;return pt[Qt]=pt[Qt]||[],Qt}if(a==="circle")for(var E=i[0].getTicksCoords(),I=r.cx,W=r.cy,H=0;H<E.length;H++){if(d){var Q=O(M,b,H);M[Q].push(new Bc({shape:{cx:I,cy:W,r:E[H].coord}}))}if(h&&H<E.length-1){var Q=O(C,S,H);C[Q].push(new Gm({shape:{cx:I,cy:W,r0:E[H].coord,r:E[H+1].coord}}))}}else for(var se,le=y.map(i,function(pt,At){var ln=pt.getTicksCoords();return se=se==null?ln.length-1:Math.min(ln.length-1,se),y.map(ln,function(Qt){return r.coordToPoint(Qt.coord,At)})}),Me=[],H=0;H<=se;H++){for(var xe=[],Be=0;Be<i.length;Be++)xe.push(le[Be][H]);if(xe[0]&&xe.push(xe[0].slice()),d){var Q=O(M,b,H);M[Q].push(new Mu({shape:{points:xe}}))}if(h&&Me){var Q=O(C,S,H-1);C[Q].push(new sl({shape:{points:xe.concat(Me)}}))}Me=xe.slice().reverse()}var ze=u.getLineStyle(),it=f.getAreaStyle();y.each(C,function(pt,At){this.group.add(fc(pt,{style:y.defaults({stroke:"none",fill:S[At%S.length]},it),silent:!0}))},this),y.each(M,function(pt,At){this.group.add(fc(pt,{style:y.defaults({fill:"none",stroke:b[At%b.length]},ze),silent:!0}))},this)},t.type="radar",t}(Xo),VB=zB,HB=function(n){ve(t,n);function t(e,r,i){var a=n.call(this,e,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(vf),GB=HB,UB=function(){function n(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=Object(y.map)(t.getIndicatorModels(),function(i,a){var s="indicator_"+a,l=new GB(s,new Hp);return l.name=i.get("name"),l.model=i,i.axis=l,this.dimensions.push(s),l},this),this.resize(t,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e],i=r.angle,a=this.cx+t*Math.cos(i),s=this.cy-t*Math.sin(i);return[a,s]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var a=Math.atan2(-r,e),s=Infinity,l,u=-1,f=0;f<this._indicatorAxes.length;f++){var d=this._indicatorAxes[f],h=Math.abs(a-d.angle);h<s&&(l=d,u=f,s=h)}return[u,+(l&&l.coordToData(i))]},n.prototype.resize=function(t,e){var r=t.get("center"),i=e.getWidth(),a=e.getHeight(),s=Math.min(i,a)/2;this.cx=Yn(r[0],i),this.cy=Yn(r[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");(Object(y.isString)(l)||Object(y.isNumber)(l))&&(l=[0,l]),this.r0=Yn(l[0],s),this.r=Yn(l[1],s),Object(y.each)(this._indicatorAxes,function(u,f){u.setExtent(this.r0,this.r);var d=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;d=Math.atan2(Math.sin(d),Math.cos(d)),u.angle=d},this)},n.prototype.update=function(t,e){var r=this._indicatorAxes,i=this._model;Object(y.each)(r,function(l){l.scale.setExtent(Infinity,-Infinity)}),t.eachSeriesByType("radar",function(l,u){if(!(l.get("coordinateSystem")!=="radar"||t.getComponent("radar",l.get("radarIndex"))!==i)){var f=l.getData();Object(y.each)(r,function(d){d.scale.unionExtentFromData(f,f.mapDimension(d.dim))})}},this);var a=i.get("splitNumber"),s=new Hp;s.setExtent(0,a),s.setInterval(1),Object(y.each)(r,function(l,u){LA(l.scale,l.model,s)})},n.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var r=[];return t.eachComponent("radar",function(i){var a=new n(i,t,e);r.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n}(),WB=UB;function KB(n){n.registerCoordinateSystem("radar",WB),n.registerComponentModel(BB),n.registerComponentView(VB),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function YB(n){ea(KB),n.registerChartView(IB),n.registerSeriesModel(kB),n.registerLayout(LB),n.registerProcessor(Db("radar")),n.registerPreprocessor(DB)}var KA="\0_ec_interaction_mutex";function XB(n,t,e){var r=V_(n);r[t]=e}function ZB(n,t,e){var r=V_(n),i=r[t];i===e&&(r[t]=null)}function YA(n,t){return!!V_(n)[t]}function V_(n){return n[KA]||(n[KA]={})}Zf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},y.noop);var $B=function(n){ve(t,n);function t(e){var r=n.call(this)||this;r._zr=e;var i=Object(y.bind)(r._mousedownHandler,r),a=Object(y.bind)(r._mousemoveHandler,r),s=Object(y.bind)(r._mouseupHandler,r),l=Object(y.bind)(r._mousewheelHandler,r),u=Object(y.bind)(r._pinchHandler,r);return r.enable=function(f,d){this.disable(),this._opt=Object(y.defaults)(Object(y.clone)(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),f==null&&(f=!0),(f===!0||f==="move"||f==="pan")&&(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",s)),(f===!0||f==="scale"||f==="zoom")&&(e.on("mousewheel",l),e.on("pinch",u))},r.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",s),e.off("mousewheel",l),e.off("pinch",u)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Vt(e)||e.target&&e.target.draggable)){var r=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,r,i)&&(this._x=r,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!AS("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||YA(this._zr,"globalPan"))){var r=e.offsetX,i=e.offsetY,a=this._x,s=this._y,l=r-a,u=i-s;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Lo(e.event),XA(this,"pan","moveOnMouseMove",e,{dx:l,dy:u,oldX:a,oldY:s,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Vt(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=AS("zoomOnMouseWheel",e,this._opt),i=AS("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,s=Math.abs(a),l=e.offsetX,u=e.offsetY;if(!(a===0||!r&&!i)){if(r){var f=s>3?1.4:s>1?1.2:1.1,d=a>0?f:1/f;H_(this,"zoom","zoomOnMouseWheel",e,{scale:d,originX:l,originY:u,isAvailableBehavior:null})}if(i){var h=Math.abs(a),v=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);H_(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:v,originX:l,originY:u,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!YA(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;H_(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Je);function H_(n,t,e,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Lo(r.event),XA(n,t,e,r,i))}function XA(n,t,e,r,i){i.isAvailableBehavior=Object(y.bind)(AS,null,e,r),n.trigger(t,i)}function AS(n,t,e){var r=e[n];return!n||r&&(!Object(y.isString)(r)||t.event[r+"Key"])}var kb=$B;function G_(n,t,e){var r=n.target;r.x+=t,r.y+=e,r.dirty()}function U_(n,t,e,r){var i=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=t,a){var l=a.min||0,u=a.max||Infinity;s=Math.max(Math.min(u,s),l)}var f=s/n.zoom;n.zoom=s,i.x-=(e-i.x)*(f-1),i.y-=(r-i.y)*(f-1),i.scaleX*=f,i.scaleY*=f,i.dirty()}var JB={axisPointer:1,tooltip:1,brush:1};function PS(n,t,e){var r=t.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==e&&!JB.hasOwnProperty(r.mainType)&&i&&i.model!==e}function ZA(n){if(Object(y.isString)(n)){var t=new DOMParser;n=t.parseFromString(n,"text/xml")}var e=n;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var W_,LS={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},$A=Object(y.keys)(LS),DS={"alignment-baseline":"textBaseline","stop-color":"stopColor"},JA=Object(y.keys)(DS),QB=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var r=ZA(t);this._defsUsePending=[];var i=new Wr;this._root=i;var a=[],s=r.getAttribute("viewBox")||"",l=parseFloat(r.getAttribute("width")||e.width),u=parseFloat(r.getAttribute("height")||e.height);isNaN(l)&&(l=null),isNaN(u)&&(u=null),Wc(r,i,null,!0,!1);for(var f=r.firstChild;f;)this._parseNode(f,i,a,null,!1,!1),f=f.nextSibling;tF(this._defs,this._defsUsePending),this._defsUsePending=[];var d,h;if(s){var v=RS(s);v.length>=4&&(d={x:parseFloat(v[0]||0),y:parseFloat(v[1]||0),width:parseFloat(v[2]),height:parseFloat(v[3])})}if(d&&l!=null&&u!=null&&(h=aP(d,{x:0,y:0,width:l,height:u}),!e.ignoreViewBox)){var g=i;i=new Wr,i.add(g),g.scaleX=g.scaleY=h.scale,g.x=h.x,g.y=h.y}return!e.ignoreRootClip&&l!=null&&u!=null&&i.setClipPath(new Bi({shape:{x:0,y:0,width:l,height:u}})),{root:i,width:l,height:u,viewBoxRect:d,viewBoxTransform:h,named:a}},n.prototype._parseNode=function(t,e,r,i,a,s){var l=t.nodeName.toLowerCase(),u,f=i;if(l==="defs"&&(a=!0),l==="text"&&(s=!0),l==="defs"||l==="switch")u=e;else{if(!a){var d=W_[l];if(d&&Object(y.hasOwn)(W_,l)){u=d.call(this,t,e);var h=t.getAttribute("name");if(h){var v={name:h,namedFrom:null,svgNodeTagLower:l,el:u};r.push(v),l==="g"&&(f=v)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:l,el:u});e.add(u)}}var g=QA[l];if(g&&Object(y.hasOwn)(QA,l)){var b=g.call(this,t),S=t.getAttribute("id");S&&(this._defs[S]=b)}}if(u&&u.isGroup)for(var M=t.firstChild;M;)M.nodeType===1?this._parseNode(M,u,r,f,a,s):M.nodeType===3&&s&&this._parseText(M,u),M=M.nextSibling},n.prototype._parseText=function(t,e){var r=new Ds({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),qB(r,e);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var l=r.getBoundingRect();return this._textX+=l.width,e.add(r),r},n.internalField=function(){W_={g:function(t,e){var r=new Wr;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new Bi;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new Bc;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new ll;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new Od;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var r=t.getAttribute("points"),i;r&&(i=tP(r));var a=new sl({shape:{points:i||[]},silent:!0});return mf(e,a),Wc(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var r=t.getAttribute("points"),i;r&&(i=tP(r));var a=new Mu({shape:{points:i||[]},silent:!0});return mf(e,a),Wc(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var r=new cs;return mf(e,r),Wc(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var l=new Wr;return mf(e,l),Wc(t,l,this._defsUsePending,!1,!0),l},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0",l=new Wr;return mf(e,l),Wc(t,l,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),l},path:function(t,e){var r=t.getAttribute("d")||"",i=zm(r);return mf(e,i),Wc(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),n}(),QA={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new hg(t,e,r,i);return qA(n,a),eP(n,a),a},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new B1(t,e,r);return qA(n,i),eP(n,i),i}};function qA(n,t){var e=n.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function eP(n,t){for(var e=n.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var r=e.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};iP(e,a,a);var s=a.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:s})}e=e.nextSibling}}function mf(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Object(y.defaults)(t.__inheritedStyle,n.__inheritedStyle))}function tP(n){for(var t=RS(n),e=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),a=parseFloat(t[r+1]);e.push([i,a])}return e}function Wc(n,t,e,r,i){var a=t,s=a.__inheritedStyle=a.__inheritedStyle||{},l={};n.nodeType===1&&(iF(n,t),iP(n,s,l),r||aF(n,s,l)),a.style=a.style||{},s.fill!=null&&(a.style.fill=nP(a,"fill",s.fill,e)),s.stroke!=null&&(a.style.stroke=nP(a,"stroke",s.stroke,e)),Object(y.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){s[u]!=null&&(a.style[u]=parseFloat(s[u]))}),Object(y.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){s[u]!=null&&(a.style[u]=s[u])}),i&&(a.__selfStyle=l),s.lineDash&&(a.style.lineDash=Object(y.map)(RS(s.lineDash),function(u){return parseFloat(u)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function qB(n,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var s=a.textAlign,l=s;s&&(s==="middle"&&(l="center"),n.style.textAlign=l)}}var eF=/^url\(\s*#(.*?)\)/;function nP(n,t,e,r){var i=e&&e.match(eF);if(i){var a=Object(y.trim)(i[1]);r.push([n,t,a]);return}return e==="none"&&(e=null),e}function tF(n,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=n[r[2]]}}var nF=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function RS(n){return n.match(nF)||[]}var rF=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,K_=Math.PI/180;function iF(n,t){var e=n.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],i=null;e.replace(rF,function(h,v,g){return r.push(v,g),""});for(var a=r.length-1;a>0;a-=2){var s=r[a],l=r[a-1],u=RS(s);switch(i=i||Ze(),l){case"translate":Bo(i,i,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":Kc(i,i,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":fl(i,i,-parseFloat(u[0])*K_);break;case"skewX":var f=Math.tan(parseFloat(u[0])*K_);ho(i,[1,0,f,1,0,0],i);break;case"skewY":var d=Math.tan(parseFloat(u[0])*K_);ho(i,[1,d,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(u[0]),i[1]=parseFloat(u[1]),i[2]=parseFloat(u[2]),i[3]=parseFloat(u[3]),i[4]=parseFloat(u[4]),i[5]=parseFloat(u[5]);break}}t.setLocalTransform(i)}}var rP=/([^\s:;]+)\s*:\s*([^:;]+)/g;function iP(n,t,e){var r=n.getAttribute("style");if(!!r){rP.lastIndex=0;for(var i;(i=rP.exec(r))!=null;){var a=i[1],s=Object(y.hasOwn)(LS,a)?LS[a]:null;s&&(t[s]=i[2]);var l=Object(y.hasOwn)(DS,a)?DS[a]:null;l&&(e[l]=i[2])}}}function aF(n,t,e){for(var r=0;r<$A.length;r++){var i=$A[r],a=n.getAttribute(i);a!=null&&(t[LS[i]]=a)}for(var r=0;r<JA.length;r++){var i=JA[r],a=n.getAttribute(i);a!=null&&(e[DS[i]]=a)}}function aP(n,t){var e=t.width/n.width,r=t.height/n.height,i=Math.min(e,r);return{scale:i,x:-(n.x+n.width/2)*i+(t.x+t.width/2),y:-(n.y+n.height/2)*i+(t.y+t.height/2)}}function oF(n,t){var e=new QB;return e.parse(n,t)}var sF=Object(y.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),lF=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=Object(y.createHashMap)(),this._freedGraphics=[],this._mapName=t,this._parsedXML=ZA(e)}return n.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=cF(t.named),r=e.regions,i=e.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,r;try{e=t&&oF(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=e.root,Object(y.assert)(r!=null)}catch(M){throw new Error(`Invalid svg format
`+M.message)}var i=new Wr;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=e.width,s=e.height,l=e.viewBoxRect,u=this._boundingRect;if(!u){var f=void 0,d=void 0,h=void 0,v=void 0;if(a!=null?(f=0,h=a):l&&(f=l.x,h=l.width),s!=null?(d=0,v=s):l&&(d=l.y,v=l.height),f==null||d==null){var g=r.getBoundingRect();f==null&&(f=g.x,h=g.width),d==null&&(d=g.y,v=g.height)}u=this._boundingRect=new Hn(f,d,h,v)}if(l){var b=aP(l,u);r.scaleX=r.scaleY=b.scale,r.x=b.x,r.y=b.y}i.setClipPath(new Bi({shape:u.plain()}));var S=[];return Object(y.each)(e.named,function(M){sF.get(M.svgNodeTagLower)!=null&&(S.push(M),uF(M.el))}),{root:i,boundingRect:u,named:S}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},n}();function uF(n){n.silent=!1,n.isGroup&&n.traverse(function(t){t.silent=!1})}function cF(n){var t=[],e=Object(y.createHashMap)();return Object(y.each)(n,function(r){if(r.namedFrom==null){var i=new Ck(r.name,r.el);t.push(i),e.set(r.name,i)}}),{regions:t,regionsMap:e}}for(var Y_=[126,25],oP="\u5357\u6D77\u8BF8\u5C9B",Eg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Ag=0;Ag<Eg.length;Ag++)for(var ay=0;ay<Eg[Ag].length;ay++)Eg[Ag][ay][0]/=10.5,Eg[Ag][ay][1]/=-10.5/.75,Eg[Ag][ay][0]+=Y_[0],Eg[Ag][ay][1]+=Y_[1];function fF(n,t){if(n==="china"){for(var e=0;e<t.length;e++)if(t[e].name===oP)return;t.push(new qE(oP,y.map(Eg,function(r){return{type:"polygon",exterior:r}}),Y_))}}var dF={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function hF(n,t){if(n==="china"){var e=dF[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/(10.5/.75),t.setCenter(r)}}}var pF=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function vF(n,t){n==="china"&&t.name==="\u53F0\u6E7E"&&t.geometries.push({type:"polygon",exterior:pF[0]})}var gF="name",mF=function(){function n(t,e,r){this.type="geoJSON",this._parsedMap=Object(y.createHashMap)(),this._mapName=t,this._specialAreas=r,this._geoJSON=bF(e)}return n.prototype.load=function(t,e){e=e||gF;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:yF(i)})}var a=Object(y.createHashMap)(),s=[];return Object(y.each)(r.regions,function(l){var u=l.name;t&&Object(y.hasOwn)(t,u)&&(l=l.cloneShallow(u=t[u])),s.push(l),a.set(u,l)}),{regions:s,boundingRect:r.boundingRect||new Hn(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(t){var e=this._mapName,r=this._geoJSON,i;try{i=r?u_(r,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return fF(e,i),Object(y.each)(i,function(a){var s=a.name;hF(e,a),vF(e,a);var l=this._specialAreas&&this._specialAreas[s];l&&a.transformTo(l.left,l.top,l.width,l.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function yF(n){for(var t,e=0;e<n.length;e++){var r=n[e].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function bF(n){return Object(y.isString)(n)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var jb=Object(y.createHashMap)(),Dh={registerMap:function(n,t,e){if(t.svg){var r=new lF(n,t.svg);jb.set(n,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var r=new mF(n,i,e);jb.set(n,r)}},getGeoResource:function(n){return jb.get(n)},getMapForUser:function(n){var t=jb.get(n);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(n,t,e){var r=jb.get(n);if(!!r)return r.load(t,e)}},X_=["rect","circle","line","ellipse","polygon","polyline","path"],xF=y.createHashMap(X_),SF=y.createHashMap(X_.concat(["g"])),wF=y.createHashMap(X_.concat(["g"])),sP=Yi();function IS(n){var t=n.getItemStyle(),e=n.get("areaColor");return e!=null&&(t.fill=e),t}function lP(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var MF=function(){function n(t){var e=new Wr;this.uid=sp("ec_map_draw"),this._controller=new kb(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Wr),e.add(this._svgGroup=new Wr)}return n.prototype.draw=function(t,e,r,i,a){var s=t.mainType==="geo",l=t.getData&&t.getData();s&&e.eachComponent({mainType:"series",subType:"map"},function(C){!l&&C.getHostGeoModel()===t&&(l=C.getData())});var u=t.coordinateSystem,f=this._regionsGroup,d=this.group,h=u.getTransformInfo(),v=h.raw,g=h.roam,b=!f.childAt(0)||a;b?(d.x=g.x,d.y=g.y,d.scaleX=g.scaleX,d.scaleY=g.scaleY,d.dirty()):Ea(d,g,t);var S=l&&l.getVisual("visualMeta")&&l.getVisual("visualMeta").length>0,M={api:r,geo:u,mapOrGeoModel:t,data:l,isVisualEncodedByVisualMap:S,isGeo:s,transformInfoRaw:v};u.resourceType==="geoJSON"?this._buildGeoJSON(M):u.resourceType==="geoSVG"&&this._buildSVG(M),this._updateController(t,e,r),this._updateMapSelectHandler(t,f,r,i)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=y.createHashMap(),r=y.createHashMap(),i=this._regionsGroup,a=t.transformInfoRaw,s=t.mapOrGeoModel,l=t.data,u=t.geo.projection,f=u&&u.stream;function d(g,b){return b&&(g=b(g)),g&&[g[0]*a.scaleX+a.x,g[1]*a.scaleY+a.y]}function h(g){for(var b=[],S=!f&&u&&u.project,M=0;M<g.length;++M){var C=d(g[M],S);C&&b.push(C)}return b}function v(g){return{shape:{points:h(g)}}}i.removeAll(),y.each(t.geo.regions,function(g){var b=g.name,S=e.get(b),M=r.get(b)||{},C=M.dataIdx,O=M.regionModel;S||(S=e.set(b,new Wr),i.add(S),C=l?l.indexOfName(b):null,O=t.isGeo?s.getRegionModel(b):l?l.getItemModel(C):null,r.set(b,{dataIdx:C,regionModel:O}));var E=[],I=[];y.each(g.geometries,function(Q){if(Q.type==="polygon"){var se=[Q.exterior].concat(Q.interiors||[]);f&&(se=pP(se,f)),y.each(se,function(Me){E.push(new sl(v(Me)))})}else{var le=Q.points;f&&(le=pP(le,f,!0)),y.each(le,function(Me){I.push(new Mu(v(Me)))})}});var W=d(g.getCenter(),u&&u.project);function H(Q,se){if(!!Q.length){var le=new nb({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Q}});S.add(le),uP(t,le,C,O),cP(t,le,b,O,s,C,W),se&&(lP(le),y.each(le.states,lP))}}H(E),H(I,!0)}),e.each(function(g,b){var S=r.get(b),M=S.dataIdx,C=S.regionModel;fP(t,g,b,C,s,M),dP(t,g,b,C,s),hP(t,g,b,C,s)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=y.createHashMap(),a=!1;y.each(this._svgGraphicRecord.named,function(s){var l=s.name,u=t.mapOrGeoModel,f=t.data,d=s.svgNodeTagLower,h=s.el,v=f?f.indexOfName(l):null,g=u.getRegionModel(l);if(xF.get(d)!=null&&h instanceof N&&uP(t,h,v,g),h instanceof N&&(h.culling=!0),h.z2EmphasisLift=0,!s.namedFrom&&(wF.get(d)!=null&&cP(t,h,l,g,u,v,null),fP(t,h,l,g,u,v),dP(t,h,l,g,u),SF.get(d)!=null)){var b=hP(t,h,l,g,u);b==="self"&&(a=!0);var S=i.get(l)||i.set(l,[]);S.push(h)}},this),this._enableBlurEntireSVG(a,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Us(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Dh.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Dh.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,r){var i=t.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var l=t.mainType;function u(){var f={type:"geoRoam",componentType:l};return f[l+"Id"]=t.id,f}a.off("pan").on("pan",function(f){this._mouseDownFlag=!1,G_(s,f.dx,f.dy),r.dispatchAction(y.extend(u(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,U_(s,f.scale,f.originX,f.originY),r.dispatchAction(y.extend(u(),{zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(f,d,h){return i.containPoint([d,h])&&!PS(f,r,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=sP(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,r,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(s){!a._mouseDownFlag||(a._mouseDownFlag=!1)}))},n}();function uP(n,t,e,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),l=r.getModel(["select","itemStyle"]),u=IS(i),f=IS(a),d=IS(l),h=IS(s),v=n.data;if(v){var g=v.getItemVisual(e,"style"),b=v.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&g.fill&&(u.fill=g.fill),b&&(u.decal=db(b,n.api))}t.setStyle(u),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=f,t.ensureState("select").style=d,t.ensureState("blur").style=h,Us(t)}function cP(n,t,e,r,i,a,s){var l=n.data,u=n.isGeo,f=l&&isNaN(l.get(l.mapDimension("value"),a)),d=l&&l.getItemLayout(a);if(u||f||d&&d.showLabel){var h=u?e:a,v=void 0;(!l||a>=0)&&(v=i);var g=s?{normal:{align:"center",verticalAlign:"middle"}}:null;jl(t,al(r),{labelFetcher:v,labelDataIndex:h,defaultText:e},g);var b=t.getTextContent();if(b&&(sP(b).ignore=b.ignore,t.textConfig&&s)){var S=t.getBoundingRect().clone();t.textConfig.layoutRect=S,t.textConfig.position=[(s[0]-S.x)/S.width*100+"%",(s[1]-S.y)/S.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function fP(n,t,e,r,i,a){n.data?n.data.setItemGraphicEl(a,t):Yr(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:r&&r.option||{}}}function dP(n,t,e,r,i){n.data||L({el:t,componentModel:i,itemName:e,itemTooltipOption:r.get("tooltip")})}function hP(n,t,e,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),s=a.get("focus");return ys(t,s,a.get("blurScope"),a.get("disabled")),n.isGeo&&_w(t,i,e),s}function pP(n,t,e){var r=[],i;function a(){i=[]}function s(){i.length&&(r.push(i),i=[])}var l=t({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(u,f){isFinite(u)&&isFinite(f)&&i.push([u,f])},sphere:function(){}});return!e&&l.polygonStart(),y.each(n,function(u){l.lineStart();for(var f=0;f<u.length;f++)l.point(u[f][0],u[f][1]);l.lineEnd()}),!e&&l.polygonEnd(),r}var vP=MF,_F=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var l=this._mapDraw;l&&s.add(l.group)}else if(e.needsDrawMap){var l=this._mapDraw||new vP(i);s.add(l.group),l.draw(e,r,i,this,a),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,i){var a=e.originalData,s=this.group;a.each(a.mapDimension("value"),function(l,u){if(!isNaN(l)){var f=a.getItemLayout(u);if(!(!f||!f.point)){var d=f.point,h=f.offset,v=new Bc({style:{fill:e.getData().getVisual("style").fill},shape:{cx:d[0]+h*9,cy:d[1],r:3},silent:!0,z2:8+(h?0:hs+1)});if(!h){var g=e.mainSeries.getData(),b=a.getName(u),S=g.indexOfName(b),M=a.getItemModel(u),C=M.getModel("label"),O=g.getItemGraphicEl(S);jl(v,al(M),{labelFetcher:{getFormattedLabel:function(E,I){return e.getFormattedLabel(S,I)}},defaultText:b}),v.disableLabelAnimation=!0,C.get("position")||v.setTextConfig({position:"bottom"}),O.onHoverStateChange=function(E){rh(v,E)}}s.add(v)}}})},t.type="map",t}(Te),CF=_F,TF=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var r=ry(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Bl,this)}),i=y.createHashMap(),a=[],s=0,l=r.count();s<l;s++){var u=r.getName(s);i.set(u,!0)}var f=Dh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return y.each(f.regions,function(d){var h=d.name;i.get(h)||a.push(h)}),r.appendValues([],a),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,i){for(var a=this.getData(),s=this.getRawValue(e),l=a.getName(e),u=this.seriesGroup,f=[],d=0;d<u.length;d++){var h=u[d].originalData.indexOfName(l),v=a.mapDimension("value");isNaN(u[d].originalData.get(v,h))||f.push(u[d].name)}return Ys("section",{header:f.join(", "),noHeader:!f.length,blocks:[Ys("nameValue",{name:l,value:s})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",i=Ts(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Io),OF=TF;function EF(n,t){var e={};return y.each(n,function(r){r.each(r.mapDimension("value"),function(i,a){var s="ec-"+r.getName(a);e[s]=e[s]||[],isNaN(i)||e[s].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var a="ec-"+n[0].getName(i),s=0,l=Infinity,u=-Infinity,f=e[a].length,d=0;d<f;d++)l=Math.min(l,e[a][d]),u=Math.max(u,e[a][d]),s+=e[a][d];var h;return t==="min"?h=l:t==="max"?h=u:t==="average"?h=s/f:h=s,f===0?NaN:h})}function AF(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),i=r?"o"+r.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),y.each(t,function(e,r){for(var i=EF(y.map(e,function(s){return s.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function PF(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getMapType();if(!(e.getHostGeoModel()||t[r])){var i={};y.each(e.seriesGroup,function(s){var l=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&u.each(u.mapDimension("value"),function(f,d){var h=u.getName(d),v=l.getRegion(h);if(!(!v||isNaN(f))){var g=i[h]||0,b=l.dataToPoint(v.getCenter());i[h]=g+1,u.setItemLayout(d,{point:b,offset:g})}})});var a=e.getData();a.each(function(s){var l=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!i[l],a.setItemLayout(s,u)}),t[r]=!0}})}var gP=cn,LF=function(n){ve(t,n);function t(e){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new $u,r._rawTransformable=new $u,r.name=e,r}return t.prototype.setBoundingRect=function(e,r,i,a){return this._rect=new Hn(e,r,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,i,a){this._transformTo(e,r,i,a),this._viewRect=new Hn(e,r,i,a)},t.prototype._transformTo=function(e,r,i,a){var s=this.getBoundingRect(),l=this._rawTransformable;l.transform=s.calculateTransform(new Hn(e,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,this._updateTransform()},t.prototype.setCenter=function(e){!e||(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(r.max!=null&&(e=Math.min(r.max,e)),r.min!=null&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),r=e.x+e.width/2,i=e.y+e.height/2;return[r,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=cn([],a,e),i=cn([],i,e),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=s,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),su(this.transform||(this.transform=[]),r.transform||Ze()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],dl(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,i=new $u;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?gP(i,e,a):Se(i,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?gP([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,i){var a=mP(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var a=mP(r);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}($u);function mP(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var Bb=LF,DF={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},yP=["lng","lat"],bP=function(n){ve(t,n);function t(e,r,i){var a=n.call(this,e)||this;a.dimensions=yP,a.type="geo",a._nameCoordMap=y.createHashMap(),a.map=r;var s=i.projection,l=Dh.load(r,i.nameMap,i.nameProperty),u=Dh.getGeoResource(r),f=a.resourceType=u?u.type:null,d=a.regions=l.regions,h=DF[u.type];a._regionsMap=l.regionsMap,a.regions=l.regions,a.projection=s;var v;if(s)for(var g=0;g<d.length;g++){var b=d[g].getBoundingRect(s);v=v||b.clone(),v.union(b)}else v=l.boundingRect;return a.setBoundingRect(v.x,v.y,v.width,v.height),a.aspectScale=s?1:y.retrieve2(i.aspectScale,h.aspectScale),a._invertLongitute=s?!1:h.invertLongitute,a}return t.prototype._transformTo=function(e,r,i,a){var s=this.getBoundingRect(),l=this._invertLongitute;s=s.clone(),l&&(s.y=-s.y-s.height);var u=this._rawTransformable;u.transform=s.calculateTransform(new Hn(e,r,i,a));var f=u.parent;u.parent=null,u.decomposeTransform(),u.parent=f,l&&(u.scaleY=-u.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(e))return r[i]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,i){if(y.isString(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,i){return n.prototype.dataToPoint.call(this,e,r,i)},t.prototype.convertToPixel=function(e,r,i){var a=xP(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var a=xP(r);return a===this?a.pointToData(i):null},t}(Bb);y.mixin(bP,Bb);function xP(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Wo).models[0]||{}).coordinateSystem:null}var SP=bP;function wP(n,t){var e=n.get("boundingCoords");if(e!=null){var r=e[0],i=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=r[0],l=r[1],u=i[0],f=i[1];r=[Infinity,Infinity],i=[-Infinity,-Infinity];var d=function(H,Q,se,le){for(var Me=se-H,xe=le-Q,Be=0;Be<=100;Be++){var ze=Be/100,it=a.project([H+Me*ze,Q+xe*ze]);gn(r,r,it),tn(i,i,it)}};d(s,l,u,l),d(u,l,u,f),d(u,f,s,f),d(s,f,u,l)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var h=this.getBoundingRect(),v=n.get("layoutCenter"),g=n.get("layoutSize"),b=t.getWidth(),S=t.getHeight(),M=h.width/h.height*this.aspectScale,C=!1,O,E;v&&g&&(O=[Yn(v[0],b),Yn(v[1],S)],E=Yn(g,Math.min(b,S)),!isNaN(O[0])&&!isNaN(O[1])&&!isNaN(E)&&(C=!0));var I;if(C)I={},M>1?(I.width=E,I.height=E/M):(I.height=E,I.width=E*M),I.y=O[1]-I.height/2,I.x=O[0]-I.width/2;else{var W=n.getBoxLayoutParams();W.aspect=M,I=ks(W,{width:b,height:S})}this.setViewRect(I.x,I.y,I.width,I.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}function RF(n,t){y.each(t.get("geoCoord"),function(e,r){n.addGeoCoord(r,e)})}var IF=function(){function n(){this.dimensions=yP}return n.prototype.create=function(t,e){var r=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}t.eachComponent("geo",function(s,l){var u=s.get("map"),f=new SP(u+l,u,y.extend({nameMap:s.get("nameMap")},i(s)));f.zoomLimit=s.get("scaleLimit"),r.push(f),s.coordinateSystem=f,f.model=s,f.resize=wP,f.resize(s,e)}),t.eachSeries(function(s){var l=s.get("coordinateSystem");if(l==="geo"){var u=s.get("geoIndex")||0;s.coordinateSystem=r[u]}});var a={};return t.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var l=s.getMapType();a[l]=a[l]||[],a[l].push(s)}}),y.each(a,function(s,l){var u=y.map(s,function(d){return d.get("nameMap")}),f=new SP(l,l,y.extend({nameMap:y.mergeAll(u)},i(s[0])));f.zoomLimit=y.retrieve.apply(null,y.map(s,function(d){return d.get("scaleLimit")})),r.push(f),f.resize=wP,f.resize(s[0],e),y.each(s,function(d){d.coordinateSystem=f,RF(f,d)})}),r},n.prototype.getFilledRegions=function(t,e,r,i){for(var a=(t||[]).slice(),s=y.createHashMap(),l=0;l<a.length;l++)s.set(a[l].name,a[l]);var u=Dh.load(e,r,i);return y.each(u.regions,function(f){var d=f.name;!s.get(d)&&a.push({name:d})}),a},n}(),NF=new IF,MP=NF,kF=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,i){var a=Dh.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var s=e.itemStyle=e.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(e,i),Dl(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=MP.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=y.reduce(r.regions||[],function(a,s){var l=s.name;return l&&(a.set(l,new Mo(s,e,e.ecModel)),s.selected&&(i[l]=!0)),a},y.createHashMap()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Mo(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var i=this.getRegionModel(e),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:e};if(y.isFunction(a))return s.status=r,a(s);if(y.isString(a))return a.replace("{a}",e!=null?e:"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,i=r.selectedMode;if(!!i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!!(r&&r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(xa),jF=kF;function _P(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function Z_(n,t,e){var r=n.getZoom(),i=n.getCenter(),a=t.zoom,s=n.projectedToPoint?n.projectedToPoint(i):n.dataToPoint(i);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,n.setCenter(_P(n,s))),a!=null){if(e){var l=e.min||0,u=e.max||Infinity;a=Math.max(Math.min(r*a,u),l)/r}n.scaleX*=a,n.scaleY*=a;var f=(t.originX-n.x)*(a-1),d=(t.originY-n.y)*(a-1);n.x-=f,n.y-=d,n.updateTransform(),n.setCenter(_P(n,s)),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var BF=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new vP(i));var s=this._mapDraw;s.draw(e,r,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=e.get("silent"),this.group.add(s.group),this.updateSelectStatus(e,r,i)},t.prototype._handleRegionClick=function(e){var r;_u(e.target,function(i){return(r=Yr(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,i){var a=this;this._mapDraw.group.traverse(function(s){var l=Yr(s).eventData;if(l)return a._model.isSelected(l.name)?i.enterSelect(s):i.leaveSelect(s),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Xo),FF=BF;function zF(n,t,e){Dh.registerMap(n,t,e)}function CP(n){n.registerCoordinateSystem("geo",MP),n.registerComponentModel(jF),n.registerComponentView(FF),n.registerImpl("registerMap",zF),n.registerImpl("getMap",function(e){return Dh.getMapForUser(e)});function t(e,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,a){var s={},l=[];return a.eachComponent({mainType:"geo",query:i},function(u){u[e](i.name);var f=u.coordinateSystem;Object(y.each)(f.regions,function(h){s[h.name]=u.isSelected(h.name)||!1});var d=[];Object(y.each)(s,function(h,v){s[v]&&d.push(v)}),l.push({geoIndex:u.componentIndex,name:d})}),{selected:s,allSelected:l,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r){var i=e.componentType||"series";r.eachComponent({mainType:i,query:e},function(a){var s=a.coordinateSystem;if(s.type==="geo"){var l=Z_(s,e,a.get("scaleLimit"));a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),i==="series"&&Object(y.each)(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function VF(n){ea(CP),n.registerChartView(CF),n.registerSeriesModel(OF),n.registerLayout(PF),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,AF),Sl("map",n.registerAction)}function HF(n){var t=n;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],r,i;r=e.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var l=i[s];l.hierNode={defaultAncestor:null,ancestor:l,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},e.push(l)}}function GF(n,t){var e=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(e.length){KF(n);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=YF(n,i,n.parentNode.hierNode.defaultAncestor||r[0],t)}function UF(n){var t=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:t},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function TP(n){return arguments.length?n:$F}function Fb(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function WF(n,t){return ks(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function KF(n){for(var t=n.children,e=t.length,r=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function YF(n,t,e,r){if(t){for(var i=n,a=n,s=a.parentNode.children[0],l=t,u=i.hierNode.modifier,f=a.hierNode.modifier,d=s.hierNode.modifier,h=l.hierNode.modifier;l=$_(l),a=J_(a),l&&a;){i=$_(i),s=J_(s),i.hierNode.ancestor=n;var v=l.hierNode.prelim+h-a.hierNode.prelim-f+r(l,a);v>0&&(ZF(XF(l,n,e),n,v),f+=v,u+=v),h+=l.hierNode.modifier,f+=a.hierNode.modifier,u+=i.hierNode.modifier,d+=s.hierNode.modifier}l&&!$_(i)&&(i.hierNode.thread=l,i.hierNode.modifier+=h-u),a&&!J_(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=f-d,e=n)}return e}function $_(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function J_(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function XF(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function ZF(n,t,e){var r=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=r}function $F(n,t){return n.parentNode===t.parentNode?1:2}var JF=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),QF=function(n){ve(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new JF},t.prototype.buildPath=function(e,r){var i=r.childPoints,a=i.length,s=r.parentPoint,l=i[0],u=i[a-1];if(a===1){e.moveTo(s[0],s[1]),e.lineTo(l[0],l[1]);return}var f=r.orient,d=f==="TB"||f==="BT"?0:1,h=1-d,v=Yn(r.forkPosition,1),g=[];g[d]=s[d],g[h]=s[h]+(u[h]-s[h])*v,e.moveTo(s[0],s[1]),e.lineTo(g[0],g[1]),e.moveTo(l[0],l[1]),g[d]=l[d],e.lineTo(g[0],g[1]),g[d]=u[d],e.lineTo(g[0],g[1]),e.lineTo(u[0],u[1]);for(var b=1;b<a-1;b++){var S=i[b];e.moveTo(S[0],S[1]),g[d]=S[d],e.lineTo(g[0],g[1])}},t}(ir),qF=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Wr,e}return t.prototype.init=function(e,r){this._controller=new kb(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,r,i){var a=e.getData(),s=e.layoutInfo,l=this._mainGroup,u=e.get("layout");u==="radial"?(l.x=s.x+s.width/2,l.y=s.y+s.height/2):(l.x=s.x,l.y=s.y),this._updateViewCoordSys(e),this._updateController(e,r,i);var f=this._data;a.diff(f).add(function(d){OP(a,d)&&EP(a,d,null,l,e)}).update(function(d,h){var v=f.getItemGraphicEl(h);if(!OP(a,d)){v&&LP(f,h,v,l,e);return}EP(a,d,v,l,e)}).remove(function(d){var h=f.getItemGraphicEl(d);h&&LP(f,d,h,l,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(d,h){d.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=a},t.prototype._updateViewCoordSys=function(e){var r=e.getData(),i=[];r.each(function(d){var h=r.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&i.push([+h.x,+h.y])});var a=[],s=[];_e(i,a,s);var l=this._min,u=this._max;s[0]-a[0]==0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]==0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var f=e.coordinateSystem=new Bb;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),f.setCenter(e.get("center")),f.setZoom(e.get("zoom")),this.group.attr({x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY}),this._min=a,this._max=s},t.prototype._updateController=function(e,r,i){var a=this,s=this._controller,l=this._controllerHost,u=this.group;s.setPointerChecker(function(f,d,h){var v=u.getBoundingRect();return v.applyTransform(u.transform),v.contain(d,h)&&!PS(f,i,e)}),s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(f){G_(l,f.dx,f.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){U_(l,f.scale,f.originX,f.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),a._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),i=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,s=r.getZoom(),l=(s-1)*i+1;return l/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Te);function OP(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function EP(n,t,e,r,i){var a=!e,s=n.tree.getNodeByDataIndex(t),l=s.getModel(),u=s.getVisual("style").fill,f=s.isExpand===!1&&s.children.length!==0?u:"#fff",d=n.tree.root,h=s.parentNode===d?s:s.parentNode||s,v=n.getItemGraphicEl(h.dataIndex),g=h.getLayout(),b=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:g,S=s.getLayout();a?(e=new Ab(n,t,null,{symbolInnerColor:f,useNameLabel:!0}),e.x=b.x,e.y=b.y):e.updateData(n,t,null,{symbolInnerColor:f,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=S.rawX,e.__radialRawY=S.rawY,r.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Ea(e,{x:S.x,y:S.y},i);var M=e.getSymbolPath();if(i.get("layout")==="radial"){var C=d.children[0],O=C.getLayout(),E=C.children.length,I=void 0,W=void 0;if(S.x===O.x&&s.isExpand===!0){var H={x:(C.children[0].getLayout().x+C.children[E-1].getLayout().x)/2,y:(C.children[0].getLayout().y+C.children[E-1].getLayout().y)/2};I=Math.atan2(H.y-O.y,H.x-O.x),I<0&&(I=Math.PI*2+I),W=H.x<O.x,W&&(I=I-Math.PI)}else I=Math.atan2(S.y-O.y,S.x-O.x),I<0&&(I=Math.PI*2+I),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(W=S.x<O.x,W&&(I=I-Math.PI)):(W=S.x>O.x,W||(I=I-Math.PI));var Q=W?"left":"right",se=l.getModel("label"),le=se.get("rotate"),Me=le*(Math.PI/180),xe=M.getTextContent();xe&&(M.setTextConfig({position:se.get("position")||Q,rotation:le==null?-I:Me,origin:"center"}),xe.setStyle("verticalAlign","middle"))}var Be=l.get(["emphasis","focus"]),ze=Be==="ancestor"?s.getAncestorsIndices():Be==="descendant"?s.getDescendantIndices():null;ze&&(Yr(e).focus=ze),e4(i,s,d,e,b,g,S,r),e.__edge&&(e.onHoverStateChange=function(it){if(it!=="blur"){var pt=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);pt&&pt.hoverState===gl||rh(e.__edge,it)}})}function e4(n,t,e,r,i,a,s,l){var u=t.getModel(),f=n.get("edgeShape"),d=n.get("layout"),h=n.getOrient(),v=n.get(["lineStyle","curveness"]),g=n.get("edgeForkPosition"),b=u.getModel("lineStyle").getLineStyle(),S=r.__edge;if(f==="curve")t.parentNode&&t.parentNode!==e&&(S||(S=r.__edge=new Ym({shape:Q_(d,h,v,i,i)})),Ea(S,{shape:Q_(d,h,v,a,s)},n));else if(f==="polyline"&&d==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var M=t.children,C=[],O=0;O<M.length;O++){var E=M[O].getLayout();C.push([E.x,E.y])}S||(S=r.__edge=new QF({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:g}})),Ea(S,{shape:{parentPoint:[s.x,s.y],childPoints:C}},n)}S&&(S.useStyle(y.defaults({strokeNoScale:!0,fill:null},b)),ml(S,u,"lineStyle"),Us(S),l.add(S))}function AP(n,t,e,r,i){var a=t.tree.root,s=PP(a,n),l=s.source,u=s.sourceLayout,f=t.getItemGraphicEl(n.dataIndex);if(!!f){var d=t.getItemGraphicEl(l.dataIndex),h=d.__edge,v=f.__edge||(l.isExpand===!1||l.children.length===1?h:void 0),g=r.get("edgeShape"),b=r.get("layout"),S=r.get("orient"),M=r.get(["lineStyle","curveness"]);v&&(g==="curve"?vd(v,{shape:Q_(b,S,M,u,u),style:{opacity:0}},r,{cb:function(){e.remove(v)},removeOpt:i}):g==="polyline"&&r.get("layout")==="orthogonal"&&vd(v,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},r,{cb:function(){e.remove(v)},removeOpt:i}))}}function PP(n,t){for(var e=t.parentNode===n?t:t.parentNode||t,r;r=e.getLayout(),r==null;)e=e.parentNode===n?e:e.parentNode||e;return{source:e,sourceLayout:r}}function LP(n,t,e,r,i){var a=n.tree.getNodeByDataIndex(t),s=n.tree.root,l=PP(s,a).sourceLayout,u={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};vd(e,{x:l.x+1,y:l.y+1},i,{cb:function(){r.remove(e),n.setItemGraphicEl(t,null)},removeOpt:u}),e.fadeOut(null,{fadeLabel:!0,animation:u}),a.children.forEach(function(f){AP(f,n,r,i,u)}),AP(a,n,r,i,u)}function Q_(n,t,e,r,i){var a,s,l,u,f,d,h,v;if(n==="radial"){f=r.rawX,h=r.rawY,d=i.rawX,v=i.rawY;var g=Fb(f,h),b=Fb(f,h+(v-h)*e),S=Fb(d,v+(h-v)*e),M=Fb(d,v);return{x1:g.x||0,y1:g.y||0,x2:M.x||0,y2:M.y||0,cpx1:b.x||0,cpy1:b.y||0,cpx2:S.x||0,cpy2:S.y||0}}else f=r.x,h=r.y,d=i.x,v=i.y,(t==="LR"||t==="RL")&&(a=f+(d-f)*e,s=h,l=d+(f-d)*e,u=v),(t==="TB"||t==="BT")&&(a=f,s=h+(v-h)*e,l=d,u=v+(h-v)*e);return{x1:f,y1:h,x2:d,y2:v,cpx1:a,cpy1:s,cpx2:l,cpy2:u}}var t4=qF,yf=Yi();function n4(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,DP(t,e,n),Object(y.each)(e,function(r){Object(y.each)(t.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Object(y.curry)(r4,n))})}),t.wrapMethod("cloneShallow",Object(y.curry)(a4,n)),Object(y.each)(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,Object(y.curry)(i4,n))}),Object(y.assert)(e[t.dataType]===t)}function r4(n,t){if(l4(this)){var e=Object(y.extend)({},yf(this).datas);e[this.dataType]=t,DP(t,e,n)}else q_(t,this.dataType,yf(this).mainData,n);return t}function i4(n,t){return n.struct&&n.struct.update(),t}function a4(n,t){return Object(y.each)(yf(t).datas,function(e,r){e!==t&&q_(e.cloneShallow(),r,t,n)}),t}function o4(n){var t=yf(this).mainData;return n==null||t==null?t:yf(t).datas[n]}function s4(){var n=yf(this).mainData;return n==null?[{data:n}]:Object(y.map)(Object(y.keys)(yf(n).datas),function(t){return{type:t,data:yf(n).datas[t]}})}function l4(n){return yf(n).mainData===n}function DP(n,t,e){yf(n).datas={},Object(y.each)(t,function(r,i){q_(r,i,n,e)})}function q_(n,t,e,r){yf(e).datas[t]=n,yf(n).mainData=e,n.dataType=t,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n),n.getLinkedData=o4,n.getLinkedDataAll=s4}var RP=n4,u4=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,r){y.isFunction(t)&&(r=e,e=t,t=null),t=t||{},y.isString(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],s;i==="preorder"&&(s=e.call(r,this));for(var l=0;!s&&l<a.length;l++)a[l].eachNode(t,e,r);i==="postorder"&&e.call(r,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].getNodeById(t);if(a)return a}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].contains(t);if(a)return a}},n.prototype.getAncestors=function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,r=e.data.getItemModel(this.dataIndex);return r.getModel(t)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),c4=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,r=0,i=e.length;r<i;r++)e[r].dataIndex=-1;for(var r=0,i=t.count();r<i;r++)e[t.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,r){var i=new n(e),a=[],s=1;l(t);function l(d,h){var v=d.value;s=Math.max(s,y.isArray(v)?v.length:1),a.push(d);var g=new u4(Fo(d.name,""),i);h?f4(g,h):i.root=g,i._nodes.push(g);var b=d.children;if(b)for(var S=0;S<b.length;S++)l(b[S],g)}i.root.updateDepthAndHeight(0);var u=Jm(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,f=new Tu(u,e);return f.initData(a),r&&r(f),RP({mainData:f,struct:i,structAttr:"tree"}),i.update(),i},n}();function f4(n,t){var e=t.children;n.parentNode!==t&&(e.push(n),n.parentNode=t)}var eC=c4;function zb(n,t,e){if(n&&y.indexOf(t,n.type)>=0){var r=e.getData().tree.root,i=n.targetNode;if(y.isString(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=n.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function IP(n){for(var t=[];n;)n=n.parentNode,n&&t.push(n);return t.reverse()}function tC(n,t){var e=IP(n);return y.indexOf(e,t)>=0}function NS(n,t){for(var e=[];n;){var r=n.dataIndex;e.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode}return e.reverse(),e}var d4=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},i=e.leaves||{},a=new Mo(i,this,this.ecModel),s=eC.createTree(r,this,l);function l(h){h.wrapMethod("getItemModel",function(v,g){var b=s.getNodeByDataIndex(g);return b&&b.children.length&&b.isExpand||(v.parentModel=a),v})}var u=0;s.eachNode("preorder",function(h){h.depth>u&&(u=h.depth)});var f=e.expandAndCollapse,d=f&&e.initialTreeDepth>=0?e.initialTreeDepth:u;return s.root.eachNode("preorder",function(h){var v=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=v&&v.collapsed!=null?!v.collapsed:h.depth<=d}),s.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,r,i){for(var a=this.getData().tree,s=a.root.children[0],l=a.getNodeByDataIndex(e),u=l.getValue(),f=l.name;l&&l!==s;)f=l.parentNode.name+"."+f,l=l.parentNode;return Ys("nameValue",{name:f,value:u,noValue:isNaN(u)||u==null})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=NS(i,this),r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Io),h4=d4;function p4(n,t,e){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var l=0;l<s.length;l++)r.push(s[l])}for(;a=i.pop();)t(a,e)}function Vb(n,t){for(var e=[n],r;r=e.pop();)if(t(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function v4(n,t){n.eachSeriesByType("tree",function(e){g4(e,t)})}function g4(n,t){var e=WF(n,t);n.layoutInfo=e;var r=n.get("layout"),i=0,a=0,s=null;r==="radial"?(i=2*Math.PI,a=Math.min(e.height,e.width)/2,s=TP(function(E,I){return(E.parentNode===I.parentNode?1:2)/E.depth})):(i=e.width,a=e.height,s=TP());var l=n.getData().tree.root,u=l.children[0];if(u){HF(l),p4(u,GF,s),l.hierNode.modifier=-u.hierNode.prelim,Vb(u,UF);var f=u,d=u,h=u;Vb(u,function(E){var I=E.getLayout().x;I<f.getLayout().x&&(f=E),I>d.getLayout().x&&(d=E),E.depth>h.depth&&(h=E)});var v=f===d?1:s(f,d)/2,g=v-f.getLayout().x,b=0,S=0,M=0,C=0;if(r==="radial")b=i/(d.getLayout().x+v+g),S=a/(h.depth-1||1),Vb(u,function(E){M=(E.getLayout().x+g)*b,C=(E.depth-1)*S;var I=Fb(M,C);E.setLayout({x:I.x,y:I.y,rawX:M,rawY:C},!0)});else{var O=n.getOrient();O==="RL"||O==="LR"?(S=a/(d.getLayout().x+v+g),b=i/(h.depth-1||1),Vb(u,function(E){C=(E.getLayout().x+g)*S,M=O==="LR"?(E.depth-1)*b:i-(E.depth-1)*b,E.setLayout({x:M,y:C},!0)})):(O==="TB"||O==="BT")&&(b=i/(d.getLayout().x+v+g),S=a/(h.depth-1||1),Vb(u,function(E){M=(E.getLayout().x+g)*b,C=O==="TB"?(E.depth-1)*S:a-(E.depth-1)*S,E.setLayout({x:M,y:C},!0)}))}}}function m4(n){n.eachSeriesByType("tree",function(t){var e=t.getData(),r=e.tree;r.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),l=e.ensureUniqueItemVisual(i.dataIndex,"style");Object(y.extend)(l,s)})})}function y4(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=t.dataIndex,a=r.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=r.coordinateSystem,a=Z_(i,t);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})}function b4(n){n.registerChartView(t4),n.registerSeriesModel(h4),n.registerLayout(v4),n.registerVisual(m4),y4(n)}var NP=["treemapZoomToNode","treemapRender","treemapMove"];function x4(n){for(var t=0;t<NP.length;t++)n.registerAction({type:NP[t],update:"updateView"},y.noop);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,s){var l=["treemapZoomToNode","treemapRootToNode"],u=zb(e,l,a);if(u){var f=a.getViewRoot();f&&(e.direction=tC(f,u.node)?"rollUp":"drillDown"),a.resetViewRoot(u.node)}}})}function kP(n){var t=n.getData(),e=t.tree,r={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=x0(n.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",s)})}var S4=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};jP(i);var a=e.levels||[],s=this.designatedVisualItemStyle={},l=new Mo({itemStyle:s},this,r);a=e.levels=w4(a,r);var u=y.map(a||[],function(h){return new Mo(h,l,r)},this),f=eC.createTree(i,this,d);function d(h){h.wrapMethod("getItemModel",function(v,g){var b=f.getNodeByDataIndex(g),S=b?u[b.depth]:null;return v.parentModel=S||l,v})}return f.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=this.getRawValue(e),l=a.getName(e);return Ys("nameValue",{name:l,value:s})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=NS(i,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},y.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=y.createHashMap(),this._idIndexMapCount=0);var i=r.get(e);return i==null&&r.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){kP(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Io);function jP(n){var t=0;y.each(n.children,function(r){jP(r);var i=r.value;y.isArray(i)&&(i=i[0]),t+=i});var e=n.value;y.isArray(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),y.isArray(n.value)?n.value[0]=e:n.value=e}function w4(n,t){var e=Xa(t.get("color")),r=Xa(t.get(["aria","decal","decals"]));if(!!e){n=n||[];var i,a;y.each(n,function(l){var u=new Mo(l),f=u.get("color"),d=u.get("decal");(u.get(["itemStyle","color"])||f&&f!=="none")&&(i=!0),(u.get(["itemStyle","decal"])||d&&d!=="none")&&(a=!0)});var s=n[0]||(n[0]={});return i||(s.color=e.slice()),!a&&r&&(s.decal=r.slice()),n}}var M4=S4,_4=8,BP=8,nC=5,C4=function(){function n(t){this.group=new Wr,t.add(this.group)}return n.prototype.render=function(t,e,r,i){var a=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!r)){var l=a.getModel("itemStyle"),u=l.getModel("textStyle"),f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,l,u,i),Fv(s,f.pos,f.box)}},n.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var a=Fo(i.getModel().get("name"),""),s=r.getTextRect(a),l=Math.max(s.width+_4*2,e.emptyItemWidth);e.totalWidth+=l+BP,e.renderList.push({node:i,text:a,width:l})}},n.prototype._renderContent=function(t,e,r,i,a){for(var s=0,l=e.emptyItemWidth,u=t.get(["breadcrumb","height"]),f=Fx(e.pos,e.box),d=e.totalWidth,h=e.renderList,v=h.length-1;v>=0;v--){var g=h[v],b=g.node,S=g.width,M=g.text;d>f.width&&(d-=S-l,S=l,M=null);var C=new sl({shape:{points:T4(s,0,S,u,v===h.length-1,v===0)},style:Object(y.defaults)(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Fi({style:{text:M,fill:i.getTextColor(),font:i.getFont()}}),textConfig:{position:"inside"},z2:hs*1e4,onclick:Object(y.curry)(a,b)});C.disableLabelAnimation=!0,this.group.add(C),O4(C,t,b),s+=S+BP}},n.prototype.remove=function(){this.group.removeAll()},n}();function T4(n,t,e,r,i,a){var s=[[i?n:n-nC,t],[n+e,t],[n+e,t+r],[i?n:n-nC,t+r]];return!a&&s.splice(2,0,[n+e+nC,t+r/2]),!i&&s.push([n,t+r/2]),s}function O4(n,t,e){Yr(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&NS(e,t)}}var E4=C4,A4=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,r,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:r,delay:i,easing:a}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,r=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},n}();function P4(){return new A4}var rC=Wr,FP=Bi,zP=3,VP="label",HP="upperLabel",L4=hs*10,D4=hs*2,R4=hs*3,Pg=Df([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),GP=function(n){var t=Pg(n);return t.stroke=t.fill=t.lineWidth=null,t},kS=Yi(),I4=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=Hb(),e}return t.prototype.render=function(e,r,i,a){var s=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Object(y.indexOf)(s,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=r;var l=["treemapZoomToNode","treemapRootToNode"],u=zb(a,l,e),f=a&&a.type,d=e.layoutInfo,h=!this._oldTree,v=this._storage,g=f==="treemapRootToNode"&&u&&v?{rootNodeGroup:v.nodeGroup[u.node.getRawIndex()],direction:a.direction}:null,b=this._giveContainerGroup(d),S=e.get("animation"),M=this._doRender(b,e,g);S&&!h&&(!f||f==="treemapZoomToNode"||f==="treemapRootToNode")?this._doAnimation(b,M,e,g):M.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,u)}},t.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new rC,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},t.prototype._doRender=function(e,r,i){var a=r.getData().tree,s=this._oldTree,l=Hb(),u=Hb(),f=this._storage,d=[];function h(M,C,O,E){return N4(r,u,f,i,l,d,M,C,O,E)}g(a.root?[a.root]:[],s&&s.root?[s.root]:[],e,a===s||!s,0);var v=b(f);return this._oldTree=a,this._storage=u,{lastsForAnimation:l,willDeleteEls:v,renderFinally:S};function g(M,C,O,E,I){E?(C=M,Object(y.each)(M,function(Q,se){!Q.isRemoved()&&H(se,se)})):new Oh(C,M,W,W).add(H).update(H).remove(Object(y.curry)(H,null)).execute();function W(Q){return Q.getId()}function H(Q,se){var le=Q!=null?M[Q]:null,Me=se!=null?C[se]:null,xe=h(le,Me,O,I);xe&&g(le&&le.viewChildren||[],Me&&Me.viewChildren||[],xe,E,I+1)}}function b(M){var C=Hb();return M&&Object(y.each)(M,function(O,E){var I=C[E];Object(y.each)(O,function(W){W&&(I.push(W),kS(W).willDelete=!0)})}),C}function S(){Object(y.each)(v,function(M){Object(y.each)(M,function(C){C.parent&&C.parent.remove(C)})}),Object(y.each)(d,function(M){M.invisible=!0,M.dirty()})}},t.prototype._doAnimation=function(e,r,i,a){var s=i.get("animationDurationUpdate"),l=i.get("animationEasing"),u=(Object(y.isFunction)(s)?0:s)||0,f=(Object(y.isFunction)(l)?null:l)||"cubicOut",d=P4();Object(y.each)(r.willDeleteEls,function(h,v){Object(y.each)(h,function(g,b){if(!g.invisible){var S=g.parent,M,C=kS(S);if(a&&a.direction==="drillDown")M=S===a.rootNodeGroup?{shape:{x:0,y:0,width:C.nodeWidth,height:C.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var O=0,E=0;C.willDelete||(O=C.nodeWidth/2,E=C.nodeHeight/2),M=v==="nodeGroup"?{x:O,y:E,style:{opacity:0}}:{shape:{x:O,y:E,width:0,height:0},style:{opacity:0}}}M&&d.add(g,M,u,0,f)}})}),Object(y.each)(this._storage,function(h,v){Object(y.each)(h,function(g,b){var S=r.lastsForAnimation[v][b],M={};!S||(g instanceof Wr?S.oldX!=null&&(M.x=g.x,M.y=g.y,g.x=S.oldX,g.y=S.oldY):(S.oldShape&&(M.shape=Object(y.extend)({},g.shape),g.setShape(S.oldShape)),S.fadein?(g.setStyle("opacity",0),M.style={opacity:1}):g.style.opacity!==1&&(M.style={opacity:1})),d.add(g,M,u,0,f))})},this),this._state="animating",d.finished(Object(y.bind)(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(e){var r=this._controller;r||(r=this._controller=new kb(e.getZr()),r.enable(this.seriesModel.get("roam")),r.on("pan",Object(y.bind)(this._onPan,this)),r.on("zoom",Object(y.bind)(this._onZoom,this)));var i=new Hn(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(a,s,l){return i.contain(s,l)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>zP||Math.abs(e.dy)>zP)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var r=e.originX,i=e.originY;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var s=a.getLayout();if(!s)return;var l=new Hn(s.x,s.y,s.width,s.height),u=this.seriesModel.layoutInfo;r-=u.x,i-=u.y;var f=Ze();Bo(f,f,[-r,-i]),Kc(f,f,[e.scale,e.scale]),Bo(f,f,[r,i]),l.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var r=this;e.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(!!a){var s=r.findTarget(i.offsetX,i.offsetY);if(!!s){var l=s.node;if(l.getLayout().isLeafRoot)r._rootToNode(s);else if(a==="zoomToNode")r._zoomToNode(s);else if(a==="link"){var u=l.hostTree.data.getItemModel(l.dataIndex),f=u.get("link",!0),d=u.get("target",!0)||"blank";f&&yd(f,d)}}}}},this)},t.prototype._renderBreadcrumb=function(e,r,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new E4(this.group))).render(e,r,i.node,function(s){a._state!=="animating"&&(tC(e.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Hb(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var l=this._storage.background[s.getRawIndex()];if(l){var u=l.transformCoordToLocal(e,r),f=l.shape;if(f.x<=u[0]&&u[0]<=f.x+f.width&&f.y<=u[1]&&u[1]<=f.y+f.height)i={node:s,offsetX:u[0],offsetY:u[1]};else return!1}},this),i},t.type="treemap",t}(Te);function Hb(){return{nodeGroup:[],background:[],content:[]}}function N4(n,t,e,r,i,a,s,l,u,f){if(!s)return;var d=s.getLayout(),h=n.getData(),v=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),!d||!d.isInView)return;var g=d.width,b=d.height,S=d.borderWidth,M=d.invisible,C=s.getRawIndex(),O=l&&l.getRawIndex(),E=s.viewChildren,I=d.upperHeight,W=E&&E.length,H=v.getModel("itemStyle"),Q=v.getModel(["emphasis","itemStyle"]),se=v.getModel(["blur","itemStyle"]),le=v.getModel(["select","itemStyle"]),Me=H.get("borderRadius")||0,xe=na("nodeGroup",rC);if(!xe)return;if(u.add(xe),xe.x=d.x||0,xe.y=d.y||0,xe.markRedraw(),kS(xe).nodeWidth=g,kS(xe).nodeHeight=b,d.isAboveViewRoot)return xe;var Be=na("background",FP,f,D4);Be&&vn(xe,Be,W&&d.upperLabelHeight);var ze=v.getModel("emphasis"),it=ze.get("focus"),pt=ze.get("blurScope"),At=ze.get("disabled"),ln=it==="ancestor"?s.getAncestorsIndices():it==="descendant"?s.getDescendantIndices():it;if(W)Ov(xe)&&ih(xe,!1),Be&&(ih(Be,!At),h.setItemGraphicEl(s.dataIndex,Be),Yy(Be,ln,pt));else{var Qt=na("content",FP,f,R4);Qt&&Gn(xe,Qt),Be.disableMorphing=!0,Be&&Ov(Be)&&ih(Be,!1),ih(xe,!At),h.setItemGraphicEl(s.dataIndex,xe),Yy(xe,ln,pt)}return xe;function vn(ha,ui,ga){var Zi=Yr(ui);if(Zi.dataIndex=s.dataIndex,Zi.seriesIndex=n.seriesIndex,ui.setShape({x:0,y:0,width:g,height:b,r:Me}),M)fr(ui);else{ui.invisible=!1;var kr=s.getVisual("style"),Hi=kr.stroke,vs=GP(H);vs.fill=Hi;var Fa=Pg(Q);Fa.fill=Q.get("borderColor");var Fs=Pg(se);Fs.fill=se.get("borderColor");var Os=Pg(le);if(Os.fill=le.get("borderColor"),ga){var Ou=g-2*S;Er(ui,Hi,kr.opacity,{x:S,y:0,width:Ou,height:I})}else ui.removeTextContent();ui.setStyle(vs),ui.ensureState("emphasis").style=Fa,ui.ensureState("blur").style=Fs,ui.ensureState("select").style=Os,Us(ui)}ha.add(ui)}function Gn(ha,ui){var ga=Yr(ui);ga.dataIndex=s.dataIndex,ga.seriesIndex=n.seriesIndex;var Zi=Math.max(g-2*S,0),kr=Math.max(b-2*S,0);if(ui.culling=!0,ui.setShape({x:S,y:S,width:Zi,height:kr,r:Me}),M)fr(ui);else{ui.invisible=!1;var Hi=s.getVisual("style"),vs=Hi.fill,Fa=GP(H);Fa.fill=vs,Fa.decal=Hi.decal;var Fs=Pg(Q),Os=Pg(se),Ou=Pg(le);Er(ui,vs,Hi.opacity,null),ui.setStyle(Fa),ui.ensureState("emphasis").style=Fs,ui.ensureState("blur").style=Os,ui.ensureState("select").style=Ou,Us(ui)}ha.add(ui)}function fr(ha){!ha.invisible&&a.push(ha)}function Er(ha,ui,ga,Zi){var kr=v.getModel(Zi?HP:VP),Hi=Fo(v.get("name"),null),vs=kr.getShallow("show");jl(ha,al(v,Zi?HP:VP),{defaultText:vs?Hi:null,inheritColor:ui,defaultOpacity:ga,labelFetcher:n,labelDataIndex:s.dataIndex});var Fa=ha.getTextContent();if(!!Fa){var Fs=Fa.style,Os=Object(y.normalizeCssArray)(Fs.padding||0);Zi&&(ha.setTextConfig({layoutRect:Zi}),Fa.disableLabelLayout=!0),Fa.beforeUpdate=function(){var jh=Math.max((Zi?Zi.width:ha.shape.width)-Os[1]-Os[3],0),pc=Math.max((Zi?Zi.height:ha.shape.height)-Os[0]-Os[2],0);(Fs.width!==jh||Fs.height!==pc)&&Fa.setStyle({width:jh,height:pc})},Fs.truncateMinChar=2,Fs.lineOverflow="truncate",li(Fs,Zi,d);var Ou=Fa.getState("emphasis");li(Ou?Ou.style:null,Zi,d)}}function li(ha,ui,ga){var Zi=ha?ha.text:null;if(!ui&&ga.isLeafRoot&&Zi!=null){var kr=n.get("drillDownIcon",!0);ha.text=kr?kr+" "+Zi:Zi}}function na(ha,ui,ga,Zi){var kr=O!=null&&e[ha][O],Hi=i[ha];return kr?(e[ha][O]=null,go(Hi,kr)):M||(kr=new ui,kr instanceof N&&(kr.z2=k4(ga,Zi)),co(Hi,kr)),t[ha][C]=kr}function go(ha,ui){var ga=ha[C]={};ui instanceof rC?(ga.oldX=ui.x,ga.oldY=ui.y):ga.oldShape=Object(y.extend)({},ui.shape)}function co(ha,ui){var ga=ha[C]={},Zi=s.parentNode,kr=ui instanceof Wr;if(Zi&&(!r||r.direction==="drillDown")){var Hi=0,vs=0,Fa=i.background[Zi.getRawIndex()];!r&&Fa&&Fa.oldShape&&(Hi=Fa.oldShape.width,vs=Fa.oldShape.height),kr?(ga.oldX=0,ga.oldY=vs):ga.oldShape={x:Hi,y:vs,width:0,height:0}}ga.fadein=!kr}}function k4(n,t){return n*L4+t}var j4=I4,Gb=y.each,B4=y.isObject,jS=-1,iC=function(){function n(t){var e=t.mappingMethod,r=t.type,i=this.option=y.clone(t);this.type=r,this.mappingMethod=e,this._normalizeData=V4[e];var a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(aC(i),F4(i)):e==="category"?i.categories?z4(i):aC(i,!0):(y.assert(e!=="linear"||i.dataExtent),aC(i))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return y.bind(this._normalizeData,this)},n.listVisualTypes=function(){return y.keys(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,r){y.isObject(t)?y.each(t,e,r):e.call(r,t)},n.mapVisual=function(t,e,r){var i,a=y.isArray(t)?[]:y.isObject(t)?{}:(i=!0,null);return n.eachVisual(t,function(s,l){var u=e.call(r,s,l);i?a=u:a[l]=u}),a},n.retrieveVisuals=function(t){var e={},r;return t&&Gb(n.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],r=!0)}),r?e:null},n.prepareVisualTypes=function(t){if(y.isArray(t))t=t.slice();else if(B4(t)){var e=[];Gb(t,function(r,i){e.push(i)}),t=e}else return[];return t.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},n.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},n.findPieceIndex=function(t,e,r){for(var i,a=Infinity,s=0,l=e.length;s<l;s++){var u=e[s].value;if(u!=null){if(u===t||y.isString(u)&&u===t+"")return s;r&&v(u,s)}}for(var s=0,l=e.length;s<l;s++){var f=e[s],d=f.interval,h=f.close;if(d){if(d[0]===-Infinity){if(FS(h[1],t,d[1]))return s}else if(d[1]===Infinity){if(FS(h[0],d[0],t))return s}else if(FS(h[0],d[0],t)&&FS(h[1],t,d[1]))return s;r&&v(d[0],s),r&&v(d[1],s)}}if(r)return t===Infinity?e.length-1:t===-Infinity?0:i;function v(g,b){var S=Math.abs(g-t);S<a&&(a=S,i=b)}},n.visualHandlers={color:{applyVisual:Ub("color"),getColorMapper:function(){var t=this.option;return y.bind(t.mappingMethod==="category"?function(e,r){return!r&&(e=this._normalizeData(e)),Wb.call(this,e)}:function(e,r,i){var a=!!i;return!r&&(e=this._normalizeData(e)),i=oa.fastLerp(e,t.parsedVisual,i),a?i:oa.stringify(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return oa.stringify(oa.fastLerp(t,this.option.parsedVisual),"rgba")},category:Wb,piecewise:function(t,e){var r=sC.call(this,e);return r==null&&(r=oa.stringify(oa.fastLerp(t,this.option.parsedVisual),"rgba")),r},fixed:Lg}},colorHue:BS(function(t,e){return oa.modifyHSL(t,e)}),colorSaturation:BS(function(t,e){return oa.modifyHSL(t,null,e)}),colorLightness:BS(function(t,e){return oa.modifyHSL(t,null,null,e)}),colorAlpha:BS(function(t,e){return oa.modifyAlpha(t,e)}),decal:{applyVisual:Ub("decal"),_normalizedToVisual:{linear:null,category:Wb,piecewise:null,fixed:null}},opacity:{applyVisual:Ub("opacity"),_normalizedToVisual:oC([0,1])},liftZ:{applyVisual:Ub("liftZ"),_normalizedToVisual:{linear:Lg,category:Lg,piecewise:Lg,fixed:Lg}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:UP,category:Wb,piecewise:function(t,e){var r=sC.call(this,e);return r==null&&(r=UP.call(this,t)),r},fixed:Lg}},symbolSize:{applyVisual:Ub("symbolSize"),_normalizedToVisual:oC([0,1])}},n}();function F4(n){var t=n.pieceList;n.hasSpecialVisual=!1,y.each(t,function(e,r){e.originIndex=r,e.visual!=null&&(n.hasSpecialVisual=!0)})}function z4(n){var t=n.categories,e=n.categoryMap={},r=n.visual;if(Gb(t,function(s,l){e[s]=l}),!y.isArray(r)){var i=[];y.isObject(r)?Gb(r,function(s,l){var u=e[l];i[u!=null?u:jS]=s}):i[jS]=r,r=WP(n,i)}for(var a=t.length-1;a>=0;a--)r[a]==null&&(delete e[t[a]],t.pop())}function aC(n,t){var e=n.visual,r=[];y.isObject(e)?Gb(e,function(a){r.push(a)}):e!=null&&r.push(e);var i={color:1,symbol:1};!t&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),WP(n,r)}function BS(n){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",n(e("color"),i))},_normalizedToVisual:oC([0,1])}}function UP(n){var t=this.option.visual;return t[Math.round(Da(n,[0,1],[0,t.length-1],!0))]||{}}function Ub(n){return function(t,e,r){r(n,this.mapValueToVisual(t))}}function Wb(n){var t=this.option.visual;return t[this.option.loop&&n!==jS?n%t.length:n]}function Lg(){return this.option.visual[0]}function oC(n){return{linear:function(t){return Da(t,n,this.option.visual,!0)},category:Wb,piecewise:function(t,e){var r=sC.call(this,e);return r==null&&(r=Da(t,n,this.option.visual,!0)),r},fixed:Lg}}function sC(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var r=iC.findPieceIndex(n,e),i=e[r];if(i&&i.visual)return i.visual[this.type]}}function WP(n,t){return n.visual=t,n.type==="color"&&(n.parsedVisual=y.map(t,function(e){return oa.parse(e)})),t}var V4={linear:function(n){return Da(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=iC.findPieceIndex(n,t,!0);if(e!=null)return Da(e,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return t==null?jS:t},fixed:y.noop};function FS(n,t,e){return n?t<=e:t<e}var tu=iC,H4="itemStyle",KP=Yi(),G4={seriesType:"treemap",reset:function(n){var t=n.getData().tree,e=t.root;e.isRemoved()||YP(e,{},n.getViewRoot().getAncestors(),n)}};function YP(n,t,e,r){var i=n.getModel(),a=n.getLayout(),s=n.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var l=i.getModel(H4),u=U4(l,t,r),f=s.ensureUniqueItemVisual(n.dataIndex,"style"),d=l.get("borderColor"),h=l.get("borderColorSaturation"),v;h!=null&&(v=XP(u),d=W4(h,v)),f.stroke=d;var g=n.viewChildren;if(!g||!g.length)v=XP(u),f.fill=v;else{var b=K4(n,i,a,l,u,g);Object(y.each)(g,function(S,M){if(S.depth>=e.length||S===e[S.depth]){var C=Y4(i,u,S,M,b,r);YP(S,C,e,r)}})}}}function U4(n,t,e){var r=Object(y.extend)({},t),i=e.designatedVisualItemStyle;return Object(y.each)(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var s=n.get(a);i[a]=null,s!=null&&(r[a]=s)}),r}function XP(n){var t=lC(n,"color");if(t){var e=lC(n,"colorAlpha"),r=lC(n,"colorSaturation");return r&&(t=Object(oa.modifyHSL)(t,null,null,r)),e&&(t=Object(oa.modifyAlpha)(t,e)),t}}function W4(n,t){return t!=null?Object(oa.modifyHSL)(t,null,null,n):null}function lC(n,t){var e=n[t];if(e!=null&&e!=="none")return e}function K4(n,t,e,r,i,a){if(!(!a||!a.length)){var s=uC(t,"color")||i.color!=null&&i.color!=="none"&&(uC(t,"colorAlpha")||uC(t,"colorSaturation"));if(!!s){var l=t.get("visualMin"),u=t.get("visualMax"),f=e.dataExtent.slice();l!=null&&l<f[0]&&(f[0]=l),u!=null&&u>f[1]&&(f[1]=u);var d=t.get("colorMappingBy"),h={type:s.name,dataExtent:f,visual:s.range};h.type==="color"&&(d==="index"||d==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var v=new tu(h);return KP(v).drColorMappingBy=d,v}}}function uC(n,t){var e=n.get(t);return Object(y.isArray)(e)&&e.length?{name:t,range:e}:null}function Y4(n,t,e,r,i,a){var s=Object(y.extend)({},t);if(i){var l=i.type,u=l==="color"&&KP(i).drColorMappingBy,f=u==="index"?r:u==="id"?a.mapIdToIndex(e.getId()):e.getValue(n.get("visualDimension"));s[l]=i.mapValueToVisual(f)}return s}var Kb=Math.max,zS=Math.min,ZP=y.retrieve,cC=y.each,$P=["itemStyle","borderWidth"],X4=["itemStyle","gapWidth"],Z4=["upperLabel","show"],$4=["upperLabel","height"],J4={seriesType:"treemap",reset:function(n,t,e,r){var i=e.getWidth(),a=e.getHeight(),s=n.option,l=ks(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),u=s.size||[],f=Yn(ZP(l.width,u[0]),i),d=Yn(ZP(l.height,u[1]),a),h=r&&r.type,v=["treemapZoomToNode","treemapRootToNode"],g=zb(r,v,n),b=h==="treemapRender"||h==="treemapMove"?r.rootRect:null,S=n.getViewRoot(),M=IP(S);if(h!=="treemapMove"){var C=h==="treemapZoomToNode"?rz(n,g,S,f,d):b?[b.width,b.height]:[f,d],O=s.sort;O&&O!=="asc"&&O!=="desc"&&(O="desc");var E={squareRatio:s.squareRatio,sort:O,leafDepth:s.leafDepth};S.hostTree.clearLayouts();var I={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};S.setLayout(I),JP(S,E,!1,0),I=S.getLayout(),cC(M,function(H,Q){var se=(M[Q+1]||S).getValue();H.setLayout(y.extend({dataExtent:[se,se],borderWidth:0,upperHeight:0},I))})}var W=n.getData().tree.root;W.setLayout(iz(l,b,g),!0),n.setLayoutInfo(l),qP(W,new Hn(-l.x,-l.y,i,a),M,S,0)}};function JP(n,t,e,r){var i,a;if(!n.isRemoved()){var s=n.getLayout();i=s.width,a=s.height;var l=n.getModel(),u=l.get($P),f=l.get(X4)/2,d=eL(l),h=Math.max(u,d),v=u-f,g=h-f;n.setLayout({borderWidth:u,upperHeight:h,upperLabelHeight:d},!0),i=Kb(i-2*v,0),a=Kb(a-v-g,0);var b=i*a,S=Q4(n,l,b,t,e,r);if(!!S.length){var M={x:v,y:g,width:i,height:a},C=zS(i,a),O=Infinity,E=[];E.area=0;for(var I=0,W=S.length;I<W;){var H=S[I];E.push(H),E.area+=H.getLayout().area;var Q=nz(E,C,t.squareRatio);Q<=O?(I++,O=Q):(E.area-=E.pop().getLayout().area,QP(E,C,M,f,!1),C=zS(M.width,M.height),E.length=E.area=0,O=Infinity)}if(E.length&&QP(E,C,M,f,!0),!e){var se=l.get("childrenVisibleMin");se!=null&&b<se&&(e=!0)}for(var I=0,W=S.length;I<W;I++)JP(S[I],t,e,r+1)}}}function Q4(n,t,e,r,i,a){var s=n.children||[],l=r.sort;l!=="asc"&&l!=="desc"&&(l=null);var u=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!u)return n.viewChildren=[];s=y.filter(s,function(g){return!g.isRemoved()}),ez(s,l);var f=tz(t,s,l);if(f.sum===0)return n.viewChildren=[];if(f.sum=q4(t,e,f.sum,l,s),f.sum===0)return n.viewChildren=[];for(var d=0,h=s.length;d<h;d++){var v=s[d].getValue()/f.sum*e;s[d].setLayout({area:v})}return u&&(s.length&&n.setLayout({isLeafRoot:!0},!0),s.length=0),n.viewChildren=s,n.setLayout({dataExtent:f.dataExtent},!0),s}function q4(n,t,e,r,i){if(!r)return e;for(var a=n.get("visibleMin"),s=i.length,l=s,u=s-1;u>=0;u--){var f=i[r==="asc"?s-u-1:u].getValue();f/e*t<a&&(l=u,e-=f)}return r==="asc"?i.splice(0,s-l):i.splice(l,s-l),e}function ez(n,t){return t&&n.sort(function(e,r){var i=t==="asc"?e.getValue()-r.getValue():r.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:i}),n}function tz(n,t,e){for(var r=0,i=0,a=t.length;i<a;i++)r+=t[i].getValue();var s=n.get("visualDimension"),l;return!t||!t.length?l=[NaN,NaN]:s==="value"&&e?(l=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&l.reverse()):(l=[Infinity,-Infinity],cC(t,function(u){var f=u.getValue(s);f<l[0]&&(l[0]=f),f>l[1]&&(l[1]=f)})),{sum:r,dataExtent:l}}function nz(n,t,e){for(var r=0,i=Infinity,a=0,s=void 0,l=n.length;a<l;a++)s=n[a].getLayout().area,s&&(s<i&&(i=s),s>r&&(r=s));var u=n.area*n.area,f=t*t*e;return u?Kb(f*r/u,u/(f*i)):Infinity}function QP(n,t,e,r,i){var a=t===e.width?0:1,s=1-a,l=["x","y"],u=["width","height"],f=e[l[a]],d=t?n.area/t:0;(i||d>e[u[s]])&&(d=e[u[s]]);for(var h=0,v=n.length;h<v;h++){var g=n[h],b={},S=d?g.getLayout().area/d:0,M=b[u[s]]=Kb(d-2*r,0),C=e[l[a]]+e[u[a]]-f,O=h===v-1||C<S?C:S,E=b[u[a]]=Kb(O-2*r,0);b[l[s]]=e[l[s]]+zS(r,M/2),b[l[a]]=f+zS(r,E/2),f+=O,g.setLayout(b,!0)}e[l[s]]+=d,e[u[s]]-=d}function rz(n,t,e,r,i){var a=(t||{}).node,s=[r,i];if(!a||a===e)return s;for(var l,u=r*i,f=u*n.option.zoomToNodeRatio;l=a.parentNode;){for(var d=0,h=l.children,v=0,g=h.length;v<g;v++)d+=h[v].getValue();var b=a.getValue();if(b===0)return s;f*=d/b;var S=l.getModel(),M=S.get($P),C=Math.max(M,eL(S));f+=4*M*M+(3*M+C)*Math.pow(f,.5),f>ov&&(f=ov),a=l}f<u&&(f=u);var O=Math.pow(f/u,.5);return[r*O,i*O]}function iz(n,t,e){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!e)return r;var i=e.node,a=i.getLayout();if(!a)return r;for(var s=[a.width/2,a.height/2],l=i;l;){var u=l.getLayout();s[0]+=u.x,s[1]+=u.y,l=l.parentNode}return{x:n.width/2-s[0],y:n.height/2-s[1]}}function qP(n,t,e,r,i){var a=n.getLayout(),s=e[i],l=s&&s===n;if(!(s&&!l||i===e.length&&n!==r)){n.setLayout({isInView:!0,invisible:!l&&!t.intersect(a),isAboveViewRoot:l},!0);var u=new Hn(t.x-a.x,t.y-a.y,t.width,t.height);cC(n.viewChildren||[],function(f){qP(f,u,e,r,i+1)})}}function eL(n){return n.get(Z4)?n.get($4):0}function az(n){n.registerSeriesModel(M4),n.registerChartView(j4),n.registerVisual(G4),n.registerLayout(J4),x4(n)}function oz(n){var t=n.findComponents({mainType:"legend"});!t||!t.length||n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),i=e.getGraph(),a=i.data,s=r.mapArray(r.getName);a.filterSelf(function(l){var u=a.getItemModel(l),f=u.getShallow("category");if(f!=null){Object(y.isNumber)(f)&&(f=s[f]);for(var d=0;d<t.length;d++)if(!t[d].isSelected(f))return!1}return!0})})}function sz(n){var t={};n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),i=e.getData(),a={};r.each(function(s){var l=r.getName(s);a["ec-"+l]=s;var u=r.getItemModel(s),f=u.getModel("itemStyle").getItemStyle();f.fill||(f.fill=e.getColorFromPalette(l,t)),r.setItemVisual(s,"style",f);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++){var v=u.getShallow(d[h],!0);v!=null&&r.setItemVisual(s,d[h],v)}}),r.count()&&i.each(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){Object(y.isString)(u)&&(u=a["ec-"+u]);var f=r.getItemVisual(u,"style"),d=i.ensureUniqueItemVisual(s,"style");Object(y.extend)(d,f);for(var h=["symbol","symbolSize","symbolKeepAspect"],v=0;v<h.length;v++)i.setItemVisual(s,h[v],r.getItemVisual(u,h[v]))}})})}function VS(n){return n instanceof Array||(n=[n,n]),n}function lz(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),r=t.getEdgeData(),i=VS(t.get("edgeSymbol")),a=VS(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(s){var l=r.getItemModel(s),u=e.getEdgeByIndex(s),f=VS(l.getShallow("symbol",!0)),d=VS(l.getShallow("symbolSize",!0)),h=l.getModel("lineStyle").getLineStyle(),v=r.ensureUniqueItemVisual(s,"style");switch(Object(y.extend)(v,h),v.stroke){case"source":{var g=u.node1.getVisual("style");v.stroke=g&&g.fill;break}case"target":{var g=u.node2.getVisual("style");v.stroke=g&&g.fill;break}}f[0]&&u.setVisual("fromSymbol",f[0]),f[1]&&u.setVisual("toSymbol",f[1]),d[0]&&u.setVisual("fromSymbolSize",d[0]),d[1]&&u.setVisual("toSymbolSize",d[1])})})}var fC="-->",HS=function(n){return n.get("autoCurveness")||null},tL=function(n,t){var e=HS(n),r=20,i=[];if(y.isNumber(e))r=e;else if(y.isArray(e)){n.__curvenessList=e;return}t>r&&(r=t);var a=r%2?r+2:r+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=i},Yb=function(n,t,e){var r=[n.id,n.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,r,i].join(fC)},nL=function(n){var t=n.split(fC);return[t[0],t[2],t[1]].join(fC)},uz=function(n,t){var e=Yb(n.node1,n.node2,t);return t.__edgeMap[e]},cz=function(n,t){var e=dC(Yb(n.node1,n.node2,t),t),r=dC(Yb(n.node2,n.node1,t),t);return e+r},dC=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function fz(n){!HS(n)||(n.__curvenessList=[],n.__edgeMap={},tL(n))}function dz(n,t,e,r){if(!!HS(e)){var i=Yb(n,t,e),a=e.__edgeMap,s=a[nL(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function hC(n,t,e,r){var i=HS(t),a=y.isArray(i);if(!i)return null;var s=uz(n,t);if(!s)return null;for(var l=-1,u=0;u<s.length;u++)if(s[u]===e){l=u;break}var f=cz(n,t);tL(t,f),n.lineStyle=n.lineStyle||{};var d=Yb(n.node1,n.node2,t),h=t.__curvenessList,v=a||f%2?0:1;if(s.isForward)return h[v+l];var g=nL(d),b=dC(g,t),S=h[l+b+v];return r?a?i&&i[0]===0?(b+v)%2?S:-S:((b%2?0:1)+v)%2?S:-S:(b+v)%2?S:-S:h[l+b+v]}function rL(n){var t=n.coordinateSystem;if(!(t&&t.type!=="view")){var e=n.getGraph();e.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),iL(e,n)}}function iL(n,t){n.eachEdge(function(e,r){var i=y.retrieve3(e.getModel().get(["lineStyle","curveness"]),-hC(e,t,r,!0),0),a=Ee(e.node1.getLayout()),s=Ee(e.node2.getLayout()),l=[a,s];+i&&l.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),e.setLayout(l)})}function hz(n,t){n.eachSeriesByType("graph",function(e){var r=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),s=[];Object(y.each)(i.dimensions,function(v){s=s.concat(a.mapDimensionsAll(v))});for(var l=0;l<a.count();l++){for(var u=[],f=!1,d=0;d<s.length;d++){var h=a.get(s[d],l);isNaN(h)||(f=!0),u.push(h)}f?a.setItemLayout(l,i.dataToPoint(u)):a.setItemLayout(l,[NaN,NaN])}iL(a.graph,e)}else(!r||r==="none")&&rL(e)})}function Xb(n){var t=n.coordinateSystem;if(t.type!=="view")return 1;var e=n.option.nodeScaleRatio,r=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/r}function Zb(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var aL=Math.PI,pC=[];function oL(n,t){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var r=e.getBoundingRect(),i=n.getData(),a=i.graph,s=r.width/2+r.x,l=r.height/2+r.y,u=Math.min(r.width,r.height)/2,f=i.count();i.setLayout({cx:s,cy:l}),!!f&&(pz[t](n,a,i,u,s,l,f),a.eachEdge(function(d,h){var v=y.retrieve3(d.getModel().get(["lineStyle","curveness"]),hC(d,n,h),0),g=Ee(d.node1.getLayout()),b=Ee(d.node2.getLayout()),S,M=(g[0]+b[0])/2,C=(g[1]+b[1])/2;+v&&(v*=3,S=[s*v+M*(1-v),l*v+C*(1-v)]),d.setLayout([g,b,S])}))}}var pz={value:function(n,t,e,r,i,a,s){var l=0,u=e.getSum("value"),f=Math.PI*2/(u||s);t.eachNode(function(d){var h=d.getValue("value"),v=f*(u?h:1)/2;l+=v,d.setLayout([r*Math.cos(l)+i,r*Math.sin(l)+a]),l+=v})},symbolSize:function(n,t,e,r,i,a,s){var l=0;pC.length=s;var u=Xb(n);t.eachNode(function(h){var v=Zb(h);isNaN(v)&&(v=2),v<0&&(v=0),v*=u;var g=Math.asin(v/2/r);isNaN(g)&&(g=aL/2),pC[h.dataIndex]=g,l+=g*2});var f=(2*aL-l)/s/2,d=0;t.eachNode(function(h){var v=f+pC[h.dataIndex];d+=v,h.setLayout([r*Math.cos(d)+i,r*Math.sin(d)+a]),d+=v})}};function vz(n){n.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&oL(t,"symbolSize")})}var oy=Re;function gz(n,t,e){for(var r=n,i=t,a=e.rect,s=a.width,l=a.height,u=[a.x+s/2,a.y+l/2],f=e.gravity==null?.1:e.gravity,d=0;d<r.length;d++){var h=r[d];h.p||(h.p=Ln(s*(Math.random()-.5)+u[0],l*(Math.random()-.5)+u[1])),h.pp=Ee(h.p),h.edges=null}var v=e.friction==null?.6:e.friction,g=v,b,S;return{warmUp:function(){g=v*.8},setFixed:function(M){r[M].fixed=!0},setUnfixed:function(M){r[M].fixed=!1},beforeStep:function(M){b=M},afterStep:function(M){S=M},step:function(M){b&&b(r,i);for(var C=[],O=r.length,E=0;E<i.length;E++){var I=i[E];if(!I.ignoreForceLayout){var W=I.n1,H=I.n2;Ke(C,H.p,W.p);var Q=We(C)-I.d,se=H.w/(W.w+H.w);isNaN(se)&&(se=0),ge(C,C),!W.fixed&&oy(W.p,W.p,C,se*Q*g),!H.fixed&&oy(H.p,H.p,C,-(1-se)*Q*g)}}for(var E=0;E<O;E++){var le=r[E];le.fixed||(Ke(C,u,le.p),oy(le.p,le.p,C,f*g))}for(var E=0;E<O;E++)for(var W=r[E],Me=E+1;Me<O;Me++){var H=r[Me];Ke(C,H.p,W.p);var Q=We(C);Q===0&&(Ue(C,Math.random()-.5,Math.random()-.5),Q=1);var xe=(W.rep+H.rep)/Q/Q;!W.fixed&&oy(W.pp,W.pp,C,xe),!H.fixed&&oy(H.pp,H.pp,C,-xe)}for(var Be=[],E=0;E<O;E++){var le=r[E];le.fixed||(Ke(Be,le.p,le.pp),oy(le.p,le.p,Be,g),Se(le.pp,le.p))}g=g*.992;var ze=g<.01;S&&S(r,i,ze),M&&M(ze)}}}function mz(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var r=t.preservedPoints||{},i=t.getGraph(),a=i.data,s=i.edgeData,l=t.getModel("force"),u=l.get("initLayout");t.preservedPoints?a.each(function(E){var I=a.getId(E);a.setItemLayout(E,r[I]||[NaN,NaN])}):!u||u==="none"?rL(t):u==="circular"&&oL(t,"value");var f=a.getDataExtent("value"),d=s.getDataExtent("value"),h=l.get("repulsion"),v=l.get("edgeLength"),g=y.isArray(h)?h:[h,h],b=y.isArray(v)?v:[v,v];b=[b[1],b[0]];var S=a.mapArray("value",function(E,I){var W=a.getItemLayout(I),H=Da(E,f,g);return isNaN(H)&&(H=(g[0]+g[1])/2),{w:H,rep:H,fixed:a.getItemModel(I).get("fixed"),p:!W||isNaN(W[0])||isNaN(W[1])?null:W}}),M=s.mapArray("value",function(E,I){var W=i.getEdgeByIndex(I),H=Da(E,d,b);isNaN(H)&&(H=(b[0]+b[1])/2);var Q=W.getModel(),se=y.retrieve3(W.getModel().get(["lineStyle","curveness"]),-hC(W,t,I,!0),0);return{n1:S[W.node1.dataIndex],n2:S[W.node2.dataIndex],d:H,curveness:se,ignoreForceLayout:Q.get("ignoreForceLayout")}}),C=e.getBoundingRect(),O=gz(S,M,{rect:C,gravity:l.get("gravity"),friction:l.get("friction")});O.beforeStep(function(E,I){for(var W=0,H=E.length;W<H;W++)E[W].fixed&&Se(E[W].p,i.getNodeByIndex(W).getLayout())}),O.afterStep(function(E,I,W){for(var H=0,Q=E.length;H<Q;H++)E[H].fixed||i.getNodeByIndex(H).setLayout(E[H].p),r[a.getId(H)]=E[H].p;for(var H=0,Q=I.length;H<Q;H++){var se=I[H],le=i.getEdgeByIndex(H),Me=se.n1.p,xe=se.n2.p,Be=le.getLayout();Be=Be?Be.slice():[],Be[0]=Be[0]||[],Be[1]=Be[1]||[],Se(Be[0],Me),Se(Be[1],xe),+se.curveness&&(Be[2]=[(Me[0]+xe[0])/2-(Me[1]-xe[1])*se.curveness,(Me[1]+xe[1])/2-(xe[0]-Me[0])*se.curveness]),le.setLayout(Be)}}),t.forceLayout=O,t.preservedPoints=r,O.step()}else t.forceLayout=null})}function yz(n,t,e){var r=Object(y.extend)(n.getBoxLayoutParams(),{aspect:e});return ks(r,{width:t.getWidth(),height:t.getHeight()})}function bz(n,t){var e=[];return n.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||i==="view"){var a=r.getData(),s=a.mapArray(function(M){var C=a.getItemModel(M);return[+C.get("x"),+C.get("y")]}),l=[],u=[];_e(s,l,u),u[0]-l[0]==0&&(u[0]+=1,l[0]-=1),u[1]-l[1]==0&&(u[1]+=1,l[1]-=1);var f=(u[0]-l[0])/(u[1]-l[1]),d=yz(r,t,f);isNaN(f)&&(l=[d.x,d.y],u=[d.x+d.width,d.y+d.height]);var h=u[0]-l[0],v=u[1]-l[1],g=d.width,b=d.height,S=r.coordinateSystem=new Bb;S.zoomLimit=r.get("scaleLimit"),S.setBoundingRect(l[0],l[1],h,v),S.setViewRect(d.x,d.y,g,b),S.setCenter(r.get("center")),S.setZoom(r.get("zoom")),e.push(S)}}),e}var sL=ll.prototype,vC=Ym.prototype,lL=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),jY=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(lL);function gC(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var xz=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new lL},t.prototype.buildPath=function(e,r){gC(r)?sL.buildPath.call(this,e,r):vC.buildPath.call(this,e,r)},t.prototype.pointAt=function(e){return gC(this.shape)?sL.pointAt.call(this,e):vC.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var r=this.shape,i=gC(r)?[r.x2-r.x1,r.y2-r.y1]:vC.tangentAt.call(this,e);return ge(i,i)},t}(ir),Sz=xz,mC=["fromSymbol","toSymbol"];function uL(n){return"_"+n+"Type"}function cL(n,t,e){var r=t.getItemVisual(e,n);if(!(!r||r==="none")){var i=t.getItemVisual(e,n+"Size"),a=t.getItemVisual(e,n+"Rotate"),s=t.getItemVisual(e,n+"Offset"),l=t.getItemVisual(e,n+"KeepAspect"),u=pg(i),f=gt(s||0,u),d=Ts(r,-u[0]/2+f[0],-u[1]/2+f[1],u[0],u[1],null,l);return d.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,d.name=n,d}}function wz(n){var t=new Sz({name:"line",subPixelOptimize:!0});return yC(t.shape,n),t}function yC(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Mz=function(n){ve(t,n);function t(e,r,i){var a=n.call(this)||this;return a._createLine(e,r,i),a}return t.prototype._createLine=function(e,r,i){var a=e.hostModel,s=e.getItemLayout(r),l=wz(s);l.shape.percent=0,Jo(l,{shape:{percent:1}},a,r),this.add(l),Object(y.each)(mC,function(u){var f=cL(u,e,r);this.add(f),this[uL(u)]=e.getItemVisual(r,u)},this),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var a=e.hostModel,s=this.childOfName("line"),l=e.getItemLayout(r),u={shape:{}};yC(u.shape,l),Ea(s,u,a,r),Object(y.each)(mC,function(f){var d=e.getItemVisual(r,f),h=uL(f);if(this[h]!==d){this.remove(this.childOfName(f));var v=cL(f,e,r);this.add(v)}this[h]=d},this),this._updateCommonStl(e,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,r,i){var a=e.hostModel,s=this.childOfName("line"),l=i&&i.emphasisLineStyle,u=i&&i.blurLineStyle,f=i&&i.selectLineStyle,d=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,v=i&&i.focus,g=i&&i.blurScope;if(!i||e.hasItemOption){var b=e.getItemModel(r),S=b.getModel("emphasis");l=S.getModel("lineStyle").getLineStyle(),u=b.getModel(["blur","lineStyle"]).getLineStyle(),f=b.getModel(["select","lineStyle"]).getLineStyle(),h=S.get("disabled"),v=S.get("focus"),g=S.get("blurScope"),d=al(b)}var M=e.getItemVisual(r,"style"),C=M.stroke;s.useStyle(M),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=l,s.ensureState("blur").style=u,s.ensureState("select").style=f,Object(y.each)(mC,function(H){var Q=this.childOfName(H);if(Q){Q.setColor(C),Q.style.opacity=M.opacity;for(var se=0;se<Do.length;se++){var le=Do[se],Me=s.getState(le);if(Me){var xe=Me.style||{},Be=Q.ensureState(le),ze=Be.style||(Be.style={});xe.stroke!=null&&(ze[Q.__isEmptyBrush?"stroke":"fill"]=xe.stroke),xe.opacity!=null&&(ze.opacity=xe.opacity)}}Q.markRedraw()}},this);var O=a.getRawValue(r);jl(this,d,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(H,Q){return a.getFormattedLabel(H,Q,e.dataType)}},inheritColor:C||"#000",defaultOpacity:M.opacity,defaultText:(O==null?e.getName(r):isFinite(O)?nr(O):O)+""});var E=this.getTextContent();if(E){var I=d.normal;E.__align=E.style.align,E.__verticalAlign=E.style.verticalAlign,E.__position=I.get("position")||"middle";var W=I.get("distance");Object(y.isArray)(W)||(W=[W,W]),E.__labelDistance=W}this.setTextConfig({position:null,local:!0,inside:!1}),ys(this,v,g,h)},t.prototype.highlight=function(){Hu(this)},t.prototype.downplay=function(){Ql(this)},t.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},t.prototype.setLinePoints=function(e){var r=this.childOfName("line");yC(r.shape,e),r.dirty()},t.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var s=1,l=this.parent;l;)l.scaleX&&(s/=l.scaleX),l=l.parent;var u=e.childOfName("line");if(!this.__dirty&&!u.__dirty)return;var f=u.shape.percent,d=u.pointAt(0),h=u.pointAt(f),v=Ke([],h,d);ge(v,v);function g(Me,xe){var Be=Me.__specifiedRotation;if(Be==null){var ze=u.tangentAt(xe);Me.attr("rotation",(xe===1?-1:1)*Math.PI/2-Math.atan2(ze[1],ze[0]))}else Me.attr("rotation",Be)}if(r&&(r.setPosition(d),g(r,0),r.scaleX=r.scaleY=s*f,r.markRedraw()),i&&(i.setPosition(h),g(i,1),i.scaleX=i.scaleY=s*f,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var b=void 0,S=void 0,M=a.__labelDistance,C=M[0]*s,O=M[1]*s,E=f/2,I=u.tangentAt(E),W=[I[1],-I[0]],H=u.pointAt(E);W[1]>0&&(W[0]=-W[0],W[1]=-W[1]);var Q=I[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var se=-Math.atan2(I[1],I[0]);h[0]<d[0]&&(se=Math.PI+se),a.rotation=se}var le=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":le=-O,S="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":le=O,S="top";break;default:le=0,S="middle"}switch(a.__position){case"end":a.x=v[0]*C+h[0],a.y=v[1]*O+h[1],b=v[0]>.8?"left":v[0]<-.8?"right":"center",S=v[1]>.8?"top":v[1]<-.8?"bottom":"middle";break;case"start":a.x=-v[0]*C+d[0],a.y=-v[1]*O+d[1],b=v[0]>.8?"right":v[0]<-.8?"left":"center",S=v[1]>.8?"bottom":v[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=C*Q+d[0],a.y=d[1]+le,b=I[0]<0?"right":"left",a.originX=-C*Q,a.originY=-le;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=H[0],a.y=H[1]+le,b="center",a.originY=-le;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-C*Q+h[0],a.y=h[1]+le,b=I[0]>=0?"right":"left",a.originX=C*Q,a.originY=-le;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||S,align:a.__align||b})}},t}(Wr),bC=Mz,_z=function(){function n(t){this.group=new Wr,this._LineCtor=t||bC}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=t,a||i.removeAll();var s=fL(t);t.diff(a).add(function(l){e._doAdd(t,l,s)}).update(function(l,u){e._doUpdate(a,t,u,l,s)}).remove(function(l){i.remove(a.getItemGraphicEl(l))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;!t||t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=fL(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function r(l){!l.isGroup&&!Cz(l)&&(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(xC(a)){var s=new this._LineCtor(e,i,this._seriesScope);s.traverse(r),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){U(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,r){var i=t.getItemLayout(e);if(!!xC(i)){var a=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,a),this.group.add(a)}},n.prototype._doUpdate=function(t,e,r,i,a){var s=t.getItemGraphicEl(r);if(!xC(e.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(e,i,a):s=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,s),this.group.add(s)},n}();function Cz(n){return n.animators&&n.animators.length>0}function fL(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:al(t)}}function dL(n){return isNaN(n[0])||isNaN(n[1])}function xC(n){return n&&!dL(n[0])&&!dL(n[1])}var SC=_z,wC=[],MC=[],_C=[],sy=Ta,CC=Wt,hL=Math.abs;function pL(n,t,e){for(var r=n[0],i=n[1],a=n[2],s=Infinity,l,u=e*e,f=.1,d=.1;d<=.9;d+=.1){wC[0]=sy(r[0],i[0],a[0],d),wC[1]=sy(r[1],i[1],a[1],d);var h=hL(CC(wC,t)-u);h<s&&(s=h,l=d)}for(var v=0;v<32;v++){var g=l+f;MC[0]=sy(r[0],i[0],a[0],l),MC[1]=sy(r[1],i[1],a[1],l),_C[0]=sy(r[0],i[0],a[0],g),_C[1]=sy(r[1],i[1],a[1],g);var h=CC(MC,t)-u;if(hL(h)<.01)break;var b=CC(_C,t)-u;f/=2,h<0?b>=0?l=l+f:l=l-f:b>=0?l=l-f:l=l+f}return l}function TC(n,t){var e=[],r=ul,i=[[],[],[]],a=[[],[]],s=[];t/=2,n.eachEdge(function(l,u){var f=l.getLayout(),d=l.getVisual("fromSymbol"),h=l.getVisual("toSymbol");f.__original||(f.__original=[Ee(f[0]),Ee(f[1])],f[2]&&f.__original.push(Ee(f[2])));var v=f.__original;if(f[2]!=null){if(Se(i[0],v[0]),Se(i[1],v[2]),Se(i[2],v[1]),d&&d!=="none"){var g=Zb(l.node1),b=pL(i,v[0],g*t);r(i[0][0],i[1][0],i[2][0],b,e),i[0][0]=e[3],i[1][0]=e[4],r(i[0][1],i[1][1],i[2][1],b,e),i[0][1]=e[3],i[1][1]=e[4]}if(h&&h!=="none"){var g=Zb(l.node2),b=pL(i,v[1],g*t);r(i[0][0],i[1][0],i[2][0],b,e),i[1][0]=e[1],i[2][0]=e[2],r(i[0][1],i[1][1],i[2][1],b,e),i[1][1]=e[1],i[2][1]=e[2]}Se(f[0],i[0]),Se(f[1],i[2]),Se(f[2],i[1])}else{if(Se(a[0],v[0]),Se(a[1],v[1]),Ke(s,a[1],a[0]),ge(s,s),d&&d!=="none"){var g=Zb(l.node1);Re(a[0],a[0],s,g*t)}if(h&&h!=="none"){var g=Zb(l.node2);Re(a[1],a[1],s,-g*t)}Se(f[0],a[0]),Se(f[1],a[1])}})}function vL(n){return n.type==="view"}var Tz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){var i=new Pb,a=new SC,s=this.group;this._controller=new kb(r.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,r,i){var a=this,s=e.coordinateSystem;this._model=e;var l=this._symbolDraw,u=this._lineDraw,f=this.group;if(vL(s)){var d={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?f.attr(d):Ea(f,d,e)}TC(e.getGraph(),Xb(e));var h=e.getData();l.updateData(h);var v=e.getEdgeData();u.updateData(v),this._updateNodeAndLinkScale(),this._updateController(e,r,i),clearTimeout(this._layoutTimeout);var g=e.forceLayout,b=e.get(["force","layoutAnimation"]);g&&this._startForceLayoutIteration(g,b),h.graph.eachNode(function(O){var E=O.dataIndex,I=O.getGraphicEl(),W=O.getModel();if(!!I){I.off("drag").off("dragend");var H=W.get("draggable");H&&I.on("drag",function(){g&&(g.warmUp(),!a._layouting&&a._startForceLayoutIteration(g,b),g.setFixed(E),h.setItemLayout(E,[I.x,I.y]))}).on("dragend",function(){g&&g.setUnfixed(E)}),I.setDraggable(H&&!!g);var Q=W.get(["emphasis","focus"]);Q==="adjacency"&&(Yr(I).focus=O.getAdjacentDataIndices())}}),h.graph.eachEdge(function(O){var E=O.getGraphicEl(),I=O.getModel().get(["emphasis","focus"]);!E||I==="adjacency"&&(Yr(E).focus={edge:[O.dataIndex],node:[O.node1.dataIndex,O.node2.dataIndex]})});var S=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),M=h.getLayout("cx"),C=h.getLayout("cy");h.eachItemGraphicEl(function(O,E){var I=h.getItemModel(E),W=I.get(["label","rotate"])||0,H=O.getSymbolPath();if(S){var Q=h.getItemLayout(E),se=Math.atan2(Q[1]-C,Q[0]-M);se<0&&(se=Math.PI*2+se);var le=Q[0]<M;le&&(se=se-Math.PI);var Me=le?"left":"right";H.setTextConfig({rotation:-se,position:Me,origin:"center"});var xe=H.ensureState("emphasis");y.extend(xe.textConfig||(xe.textConfig={}),{position:Me})}else H.setTextConfig({rotation:W*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,r){var i=this;(function a(){e.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(r?i._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(e,r,i){var a=this,s=this._controller,l=this._controllerHost,u=this.group;if(s.setPointerChecker(function(f,d,h){var v=u.getBoundingRect();return v.applyTransform(u.transform),v.contain(d,h)&&!PS(f,i,e)}),!vL(e.coordinateSystem)){s.disable();return}s.enable(e.get("roam")),l.zoomLimit=e.get("scaleLimit"),l.zoom=e.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(f){G_(l,f.dx,f.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){U_(l,f.scale,f.originX,f.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),a._updateNodeAndLinkScale(),TC(e.getGraph(),Xb(e)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),i=Xb(e);r.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){TC(e.getGraph(),Xb(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Te),Oz=Tz;function ly(n){return"_EC_"+n}var Ez=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var r=this._nodesMap;if(!r[ly(t)]){var i=new Dg(t,e);return i.hostGraph=this,this.nodes.push(i),r[ly(t)]=i,i}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[ly(t)]},n.prototype.addEdge=function(t,e,r){var i=this._nodesMap,a=this._edgesMap;if(y.isNumber(t)&&(t=this.nodes[t]),y.isNumber(e)&&(e=this.nodes[e]),t instanceof Dg||(t=i[ly(t)]),e instanceof Dg||(e=i[ly(e)]),!(!t||!e)){var s=t.id+"-"+e.id,l=new gL(t,e,r);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),a[s]=l,l}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Dg&&(t=t.id),e instanceof Dg&&(e=e.id);var r=this._edgesMap;return this._directed?r[t+"-"+e]:r[t+"-"+e]||r[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&t.call(e,r[a],a)},n.prototype.eachEdge=function(t,e){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&t.call(e,r[a],a)},n.prototype.breadthFirstTraverse=function(t,e,r,i){if(e instanceof Dg||(e=this._nodesMap[ly(e)]),!!e){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(i,e,null))for(var l=[e];l.length;)for(var u=l.shift(),f=u[a],s=0;s<f.length;s++){var d=f[s],h=d.node1===u?d.node2:d.node1;if(!h.__visited){if(t.call(i,h,u))return;l.push(h),h.__visited=!0}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,r=this.nodes,i=this.edges,a=0,s=r.length;a<s;a++)r[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)r[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(l){var u=i[e.getRawIndex(l)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)i[e.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,r=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},n}(),Dg=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t==null?"":t,this.dataIndex=e==null?-1:e}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,r=e.data.getItemModel(this.dataIndex);return r.getModel(t)}},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},n}(),gL=function(){function n(t,e,r){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=r==null?-1:r}return n.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,r=e.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function mL(n,t){return{getValue:function(e){var r=this[n][t];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}y.mixin(Dg,mL("hostGraph","data")),y.mixin(gL,mL("hostGraph","edgeData"));var Az=Ez;function yL(n,t,e,r,i){for(var a=new Az(r),s=0;s<n.length;s++)a.addNode(y.retrieve(n[s].id,n[s].name,s),s);for(var l=[],u=[],f=0,s=0;s<t.length;s++){var d=t[s],h=d.source,v=d.target;a.addEdge(h,v,f)&&(u.push(d),l.push(y.retrieve(Fo(d.id,null),h+" > "+v)),f++)}var g=e.get("coordinateSystem"),b;if(g==="cartesian2d"||g==="polar")b=Pd(n,e);else{var S=wd.get(g),M=S?S.dimensions||[]:[];y.indexOf(M,"value")<0&&M.concat(["value"]);var C=Jm(n,{coordDimensions:M,encodeDefine:e.getEncode()}).dimensions;b=new Tu(C,e),b.initData(n)}var O=new Tu(["value"],e);return O.initData(u,l),i&&i(b,O),RP({mainData:b,struct:a,structAttr:"graph",datas:{node:b,edge:O},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Pz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new Rb(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Dl(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,r){var i=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&i){fz(this);var l=yL(a,i,this,!0,u);return y.each(l.edges,function(f){dz(f.node1,f.node2,this,f.dataIndex)},this),l.data}function u(f,d){f.wrapMethod("getItemModel",function(b){var S=s._categoriesModels,M=b.getShallow("category"),C=S[M];return C&&(C.parentModel=b.parentModel,b.parentModel=C),b});var h=Mo.prototype.getModel;function v(b,S){var M=h.call(this,b,S);return M.resolveParentPath=g,M}d.wrapMethod("getItemModel",function(b){return b.resolveParentPath=g,b.getModel=v,b});function g(b){if(b&&(b[0]==="label"||b[1]==="label")){var S=b.slice();return b[0]==="label"?S[0]="edgeLabel":b[1]==="label"&&(S[1]="edgeLabel"),S}return b}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,r,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(e,i),l=a.graph.getEdgeByIndex(e),u=a.getName(l.node1.dataIndex),f=a.getName(l.node2.dataIndex),d=[];return u!=null&&d.push(u),f!=null&&d.push(f),Ys("nameValue",{name:d.join(" > "),value:s.value,noValue:s.value==null})}var h=Y0({series:this,dataIndex:e,multipleSeries:r});return h},t.prototype._updateCategoriesData=function(){var e=y.map(this.option.categories||[],function(i){return i.value!=null?i:y.extend({value:0},i)}),r=new Tu(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Io),Lz=Pz,Dz={type:"graphRoam",event:"graphRoam",update:"none"};function Rz(n){n.registerChartView(Oz),n.registerSeriesModel(Lz),n.registerProcessor(oz),n.registerVisual(sz),n.registerVisual(lz),n.registerLayout(hz),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,vz),n.registerLayout(mz),n.registerCoordinateSystem("graphView",{dimensions:Bb.dimensions,create:bz}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},y.noop),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},y.noop),n.registerAction(Dz,function(t,e){e.eachComponent({mainType:"series",query:t},function(r){var i=r.coordinateSystem,a=Z_(i,t);r.setCenter&&r.setCenter(a.center),r.setZoom&&r.setZoom(a.zoom)})})}var Iz=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),Nz=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new Iz},t.prototype.buildPath=function(e,r){var i=Math.cos,a=Math.sin,s=r.r,l=r.width,u=r.angle,f=r.x-i(u)*l*(l>=s/3?1:2),d=r.y-a(u)*l*(l>=s/3?1:2);u=r.angle-Math.PI/2,e.moveTo(f,d),e.lineTo(r.x+i(u)*l,r.y+a(u)*l),e.lineTo(r.x+i(r.angle)*s,r.y+a(r.angle)*s),e.lineTo(r.x-i(u)*l,r.y-a(u)*l),e.lineTo(f,d)},t}(ir),kz=Nz;function jz(n,t){var e=n.get("center"),r=t.getWidth(),i=t.getHeight(),a=Math.min(r,i),s=Yn(e[0],t.getWidth()),l=Yn(e[1],t.getHeight()),u=Yn(n.get("radius"),a/2);return{cx:s,cy:l,r:u}}function GS(n,t){var e=n==null?"":n+"";return t&&(Object(y.isString)(t)?e=t.replace("{value}",e):Object(y.isFunction)(t)&&(e=t(n))),e}var OC=Math.PI*2,Bz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),s=jz(e,i);this._renderMain(e,r,i,a,s),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,i,a,s){for(var l=this.group,u=e.get("clockwise"),f=-e.get("startAngle")/180*Math.PI,d=-e.get("endAngle")/180*Math.PI,h=e.getModel("axisLine"),v=h.get("roundCap"),g=v?wS:Vl,b=h.get("show"),S=h.getModel("lineStyle"),M=S.get("width"),C=!((d-f)%OC)&&d!==f?OC:(d-f)%OC,O=f,E=0;b&&E<a.length;E++){var I=Math.min(Math.max(a[E][0],0),1);d=f+C*I;var W=new g({shape:{startAngle:O,endAngle:d,cx:s.cx,cy:s.cy,clockwise:u,r0:s.r-M,r:s.r},silent:!0});W.setStyle({fill:a[E][1]}),W.setStyle(S.getLineStyle(["color","width"])),l.add(W),O=d}var H=function(se){if(se<=0)return a[0][1];var le;for(le=0;le<a.length;le++)if(a[le][0]>=se&&(le===0?0:a[le-1][0])<se)return a[le][1];return a[le-1][1]};if(!u){var Q=f;f=d,d=Q}this._renderTicks(e,r,i,H,s,f,d,u,M),this._renderTitleAndDetail(e,r,i,H,s),this._renderAnchor(e,s),this._renderPointer(e,r,i,H,s,f,d,u,M)},t.prototype._renderTicks=function(e,r,i,a,s,l,u,f,d){for(var h=this.group,v=s.cx,g=s.cy,b=s.r,S=+e.get("min"),M=+e.get("max"),C=e.getModel("splitLine"),O=e.getModel("axisTick"),E=e.getModel("axisLabel"),I=e.get("splitNumber"),W=O.get("splitNumber"),H=Yn(C.get("length"),b),Q=Yn(O.get("length"),b),se=l,le=(u-l)/I,Me=le/W,xe=C.getModel("lineStyle").getLineStyle(),Be=O.getModel("lineStyle").getLineStyle(),ze=C.get("distance"),it,pt,At=0;At<=I;At++){if(it=Math.cos(se),pt=Math.sin(se),C.get("show")){var ln=ze?ze+d:d,Qt=new ll({shape:{x1:it*(b-ln)+v,y1:pt*(b-ln)+g,x2:it*(b-H-ln)+v,y2:pt*(b-H-ln)+g},style:xe,silent:!0});xe.stroke==="auto"&&Qt.setStyle({stroke:a(At/I)}),h.add(Qt)}if(E.get("show")){var ln=E.get("distance")+ze,vn=GS(nr(At/I*(M-S)+S),E.get("formatter")),Gn=a(At/I);h.add(new Fi({style:bs(E,{text:vn,x:it*(b-H-ln)+v,y:pt*(b-H-ln)+g,verticalAlign:pt<-.8?"top":pt>.8?"bottom":"middle",align:it<-.4?"left":it>.4?"right":"center"},{inheritColor:Gn}),silent:!0}))}if(O.get("show")&&At!==I){var ln=O.get("distance");ln=ln?ln+d:d;for(var fr=0;fr<=W;fr++){it=Math.cos(se),pt=Math.sin(se);var Er=new ll({shape:{x1:it*(b-ln)+v,y1:pt*(b-ln)+g,x2:it*(b-Q-ln)+v,y2:pt*(b-Q-ln)+g},silent:!0,style:Be});Be.stroke==="auto"&&Er.setStyle({stroke:a((At+fr/W)/I)}),h.add(Er),se+=Me}se-=Me}else se+=le}},t.prototype._renderPointer=function(e,r,i,a,s,l,u,f,d){var h=this.group,v=this._data,g=this._progressEls,b=[],S=e.get(["pointer","show"]),M=e.getModel("progress"),C=M.get("show"),O=e.getData(),E=O.mapDimension("value"),I=+e.get("min"),W=+e.get("max"),H=[I,W],Q=[l,u];function se(Me,xe){var Be=O.getItemModel(Me),ze=Be.getModel("pointer"),it=Yn(ze.get("width"),s.r),pt=Yn(ze.get("length"),s.r),At=e.get(["pointer","icon"]),ln=ze.get("offsetCenter"),Qt=Yn(ln[0],s.r),vn=Yn(ln[1],s.r),Gn=ze.get("keepAspect"),fr;return At?fr=Ts(At,Qt-it/2,vn-pt,it,pt,null,Gn):fr=new kz({shape:{angle:-Math.PI/2,width:it,r:pt,x:Qt,y:vn}}),fr.rotation=-(xe+Math.PI/2),fr.x=s.cx,fr.y=s.cy,fr}function le(Me,xe){var Be=M.get("roundCap"),ze=Be?wS:Vl,it=M.get("overlap"),pt=it?M.get("width"):d/O.count(),At=it?s.r-pt:s.r-(Me+1)*pt,ln=it?s.r:s.r-Me*pt,Qt=new ze({shape:{startAngle:l,endAngle:xe,cx:s.cx,cy:s.cy,clockwise:f,r0:At,r:ln}});return it&&(Qt.z2=W-O.get(E,Me)%W),Qt}(C||S)&&(O.diff(v).add(function(Me){var xe=O.get(E,Me);if(S){var Be=se(Me,l);Jo(Be,{rotation:-((isNaN(+xe)?Q[0]:Da(xe,H,Q,!0))+Math.PI/2)},e),h.add(Be),O.setItemGraphicEl(Me,Be)}if(C){var ze=le(Me,l),it=M.get("clip");Jo(ze,{shape:{endAngle:Da(xe,H,Q,it)}},e),h.add(ze),Qc(e.seriesIndex,O.dataType,Me,ze),b[Me]=ze}}).update(function(Me,xe){var Be=O.get(E,Me);if(S){var ze=v.getItemGraphicEl(xe),it=ze?ze.rotation:l,pt=se(Me,it);pt.rotation=it,Ea(pt,{rotation:-((isNaN(+Be)?Q[0]:Da(Be,H,Q,!0))+Math.PI/2)},e),h.add(pt),O.setItemGraphicEl(Me,pt)}if(C){var At=g[xe],ln=At?At.shape.endAngle:l,Qt=le(Me,ln),vn=M.get("clip");Ea(Qt,{shape:{endAngle:Da(Be,H,Q,vn)}},e),h.add(Qt),Qc(e.seriesIndex,O.dataType,Me,Qt),b[Me]=Qt}}).execute(),O.each(function(Me){var xe=O.getItemModel(Me),Be=xe.getModel("emphasis"),ze=Be.get("focus"),it=Be.get("blurScope"),pt=Be.get("disabled");if(S){var At=O.getItemGraphicEl(Me),ln=O.getItemVisual(Me,"style"),Qt=ln.fill;if(At instanceof cs){var vn=At.style;At.useStyle(Object(y.extend)({image:vn.image,x:vn.x,y:vn.y,width:vn.width,height:vn.height},ln))}else At.useStyle(ln),At.type!=="pointer"&&At.setColor(Qt);At.setStyle(xe.getModel(["pointer","itemStyle"]).getItemStyle()),At.style.fill==="auto"&&At.setStyle("fill",a(Da(O.get(E,Me),H,[0,1],!0))),At.z2EmphasisLift=0,ml(At,xe),ys(At,ze,it,pt)}if(C){var Gn=b[Me];Gn.useStyle(O.getItemVisual(Me,"style")),Gn.setStyle(xe.getModel(["progress","itemStyle"]).getItemStyle()),Gn.z2EmphasisLift=0,ml(Gn,xe),ys(Gn,ze,it,pt)}}),this._progressEls=b)},t.prototype._renderAnchor=function(e,r){var i=e.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),l=i.get("icon"),u=i.get("offsetCenter"),f=i.get("keepAspect"),d=Ts(l,r.cx-s/2+Yn(u[0],r.r),r.cy-s/2+Yn(u[1],r.r),s,s,null,f);d.z2=i.get("showAbove")?1:0,d.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(d)}},t.prototype._renderTitleAndDetail=function(e,r,i,a,s){var l=this,u=e.getData(),f=u.mapDimension("value"),d=+e.get("min"),h=+e.get("max"),v=new Wr,g=[],b=[],S=e.isAnimationEnabled(),M=e.get(["pointer","showAbove"]);u.diff(this._data).add(function(C){g[C]=new Fi({silent:!0}),b[C]=new Fi({silent:!0})}).update(function(C,O){g[C]=l._titleEls[O],b[C]=l._detailEls[O]}).execute(),u.each(function(C){var O=u.getItemModel(C),E=u.get(f,C),I=new Wr,W=a(Da(E,[d,h],[0,1],!0)),H=O.getModel("title");if(H.get("show")){var Q=H.get("offsetCenter"),se=s.cx+Yn(Q[0],s.r),le=s.cy+Yn(Q[1],s.r),Me=g[C];Me.attr({z2:M?0:2,style:bs(H,{x:se,y:le,text:u.getName(C),align:"center",verticalAlign:"middle"},{inheritColor:W})}),I.add(Me)}var xe=O.getModel("detail");if(xe.get("show")){var Be=xe.get("offsetCenter"),ze=s.cx+Yn(Be[0],s.r),it=s.cy+Yn(Be[1],s.r),pt=Yn(xe.get("width"),s.r),At=Yn(xe.get("height"),s.r),ln=e.get(["progress","show"])?u.getItemVisual(C,"style").fill:W,Me=b[C],Qt=xe.get("formatter");Me.attr({z2:M?0:2,style:bs(xe,{x:ze,y:it,text:GS(E,Qt),width:isNaN(pt)?null:pt,height:isNaN(At)?null:At,align:"center",verticalAlign:"middle"},{inheritColor:ln})}),Jy(Me,{normal:xe},E,function(Gn){return GS(Gn,Qt)}),S&&Qy(Me,C,u,e,{getFormattedLabel:function(Gn,fr,Er,li,na,go){return GS(go?go.interpolatedValue:E,Qt)}}),I.add(Me)}v.add(I)}),this.group.add(v),this._titleEls=g,this._detailEls=b},t.type="gauge",t}(Te),Fz=Bz,zz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,r){return ry(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Io),Vz=zz;function Hz(n){n.registerChartView(Fz),n.registerSeriesModel(Vz)}var Gz=["itemStyle","opacity"],Uz=function(n){ve(t,n);function t(e,r){var i=n.call(this)||this,a=i,s=new Mu,l=new Fi;return a.setTextContent(l),i.setTextGuideLine(s),i.updateData(e,r,!0),i}return t.prototype.updateData=function(e,r,i){var a=this,s=e.hostModel,l=e.getItemModel(r),u=e.getItemLayout(r),f=l.getModel("emphasis"),d=l.get(Gz);d=d==null?1:d,i||Dc(a),a.useStyle(e.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:u.points}),a.style.opacity=0,Jo(a,{style:{opacity:d}},s,r)):Ea(a,{style:{opacity:d},shape:{points:u.points}},s,r),ml(a,l),this._updateLabel(e,r),ys(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e,r){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),l=e.hostModel,u=e.getItemModel(r),f=e.getItemLayout(r),d=f.label,h=e.getItemVisual(r,"style"),v=h.fill;jl(s,al(u),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:h.opacity,defaultText:e.getName(r)},{normal:{align:d.textAlign,verticalAlign:d.verticalAlign}}),i.setTextConfig({local:!0,inside:!!d.inside,insideStroke:v,outsideFill:v});var g=d.linePoints;a.setShape({points:g}),i.textGuideLineConfig={anchor:g?new mi(g[0][0],g[0][1]):null},Ea(s,{style:{x:d.x,y:d.y}},l,r),s.attr({rotation:d.rotation,originX:d.x,originY:d.y,z2:10}),c_(i,f_(u),{stroke:v})},t}(sl),Wz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,r,i){var a=e.getData(),s=this._data,l=this.group;a.diff(s).add(function(u){var f=new Uz(a,u);a.setItemGraphicEl(u,f),l.add(f)}).update(function(u,f){var d=s.getItemGraphicEl(f);d.updateData(a,u),l.add(d),a.setItemGraphicEl(u,d)}).remove(function(u){var f=s.getItemGraphicEl(u);Ev(f,e,u)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Te),Kz=Wz,Yz=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Rb(y.bind(this.getData,this),y.bind(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,r){return ry(this,{coordDimensions:["value"],encodeDefaulter:y.curry(Bl,this)})},t.prototype._defaultLabelLine=function(e){Dl(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var r=this.getData(),i=n.prototype.getDataParams.call(this,e),a=r.mapDimension("value"),s=r.getSum(a);return i.percent=s?+(r.get(a,e)/s*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Io),Xz=Yz;function Zz(n,t){return ks(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function $z(n,t){for(var e=n.mapDimension("value"),r=n.mapArray(e,function(u){return u}),i=[],a=t==="ascending",s=0,l=n.count();s<l;s++)i[s]=s;return Object(y.isFunction)(t)?i.sort(t):t!=="none"&&i.sort(function(u,f){return a?r[u]-r[f]:r[f]-r[u]}),i}function Jz(n){var t=n.hostModel,e=t.get("orient");n.each(function(r){var i=n.getItemModel(r),a=i.getModel("label"),s=a.get("position"),l=i.getModel("labelLine"),u=n.getItemLayout(r),f=u.points,d=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",h,v,g,b;if(d)s==="insideLeft"?(v=(f[0][0]+f[3][0])/2+5,g=(f[0][1]+f[3][1])/2,h="left"):s==="insideRight"?(v=(f[1][0]+f[2][0])/2-5,g=(f[1][1]+f[2][1])/2,h="right"):(v=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,g=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,h="center"),b=[[v,g],[v,g]];else{var S=void 0,M=void 0,C=void 0,O=void 0,E=l.get("length");s==="left"?(S=(f[3][0]+f[0][0])/2,M=(f[3][1]+f[0][1])/2,C=S-E,v=C-5,h="right"):s==="right"?(S=(f[1][0]+f[2][0])/2,M=(f[1][1]+f[2][1])/2,C=S+E,v=C+5,h="left"):s==="top"?(S=(f[3][0]+f[0][0])/2,M=(f[3][1]+f[0][1])/2,O=M-E,g=O-5,h="center"):s==="bottom"?(S=(f[1][0]+f[2][0])/2,M=(f[1][1]+f[2][1])/2,O=M+E,g=O+5,h="center"):s==="rightTop"?(S=e==="horizontal"?f[3][0]:f[1][0],M=e==="horizontal"?f[3][1]:f[1][1],e==="horizontal"?(O=M-E,g=O-5,h="center"):(C=S+E,v=C+5,h="top")):s==="rightBottom"?(S=f[2][0],M=f[2][1],e==="horizontal"?(O=M+E,g=O+5,h="center"):(C=S+E,v=C+5,h="bottom")):s==="leftTop"?(S=f[0][0],M=e==="horizontal"?f[0][1]:f[1][1],e==="horizontal"?(O=M-E,g=O-5,h="center"):(C=S-E,v=C-5,h="right")):s==="leftBottom"?(S=e==="horizontal"?f[1][0]:f[3][0],M=e==="horizontal"?f[1][1]:f[2][1],e==="horizontal"?(O=M+E,g=O+5,h="center"):(C=S-E,v=C-5,h="right")):(S=(f[1][0]+f[2][0])/2,M=(f[1][1]+f[2][1])/2,e==="horizontal"?(O=M+E,g=O+5,h="center"):(C=S+E,v=C+5,h="left")),e==="horizontal"?(C=S,v=C):(O=M,g=O),b=[[S,M],[C,O]]}u.label={linePoints:b,x:v,y:g,verticalAlign:"middle",textAlign:h,inside:d}})}function Qz(n,t){n.eachSeriesByType("funnel",function(e){var r=e.getData(),i=r.mapDimension("value"),a=e.get("sort"),s=Zz(e,t),l=e.get("orient"),u=s.width,f=s.height,d=$z(r,a),h=s.x,v=s.y,g=l==="horizontal"?[Yn(e.get("minSize"),f),Yn(e.get("maxSize"),f)]:[Yn(e.get("minSize"),u),Yn(e.get("maxSize"),u)],b=r.getDataExtent(i),S=e.get("min"),M=e.get("max");S==null&&(S=Math.min(b[0],0)),M==null&&(M=b[1]);var C=e.get("funnelAlign"),O=e.get("gap"),E=l==="horizontal"?u:f,I=(E-O*(r.count()-1))/r.count(),W=function(it,pt){if(l==="horizontal"){var At=r.get(i,it)||0,ln=Da(At,[S,M],g,!0),Qt=void 0;switch(C){case"top":Qt=v;break;case"center":Qt=v+(f-ln)/2;break;case"bottom":Qt=v+(f-ln);break}return[[pt,Qt],[pt,Qt+ln]]}var vn=r.get(i,it)||0,Gn=Da(vn,[S,M],g,!0),fr;switch(C){case"left":fr=h;break;case"center":fr=h+(u-Gn)/2;break;case"right":fr=h+u-Gn;break}return[[fr,pt],[fr+Gn,pt]]};a==="ascending"&&(I=-I,O=-O,l==="horizontal"?h+=u:v+=f,d=d.reverse());for(var H=0;H<d.length;H++){var Q=d[H],se=d[H+1],le=r.getItemModel(Q);if(l==="horizontal"){var Me=le.get(["itemStyle","width"]);Me==null?Me=I:(Me=Yn(Me,u),a==="ascending"&&(Me=-Me));var xe=W(Q,h),Be=W(se,h+Me);h+=Me+O,r.setItemLayout(Q,{points:xe.concat(Be.slice().reverse())})}else{var ze=le.get(["itemStyle","height"]);ze==null?ze=I:(ze=Yn(ze,f),a==="ascending"&&(ze=-ze));var xe=W(Q,v),Be=W(se,v+ze);v+=ze+O,r.setItemLayout(Q,{points:xe.concat(Be.slice().reverse())})}}Jz(r)})}function qz(n){n.registerChartView(Kz),n.registerSeriesModel(Xz),n.registerLayout(Qz),n.registerProcessor(Db("funnel"))}var eV=.3,tV=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Wr,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,r,i,a){this._progressiveEls=null;var s=this._dataGroup,l=e.getData(),u=this._data,f=e.coordinateSystem,d=f.dimensions,h=SL(e);l.diff(u).add(v).update(g).remove(b).execute();function v(M){var C=xL(l,s,M,d,f);EC(C,l,M,h)}function g(M,C){var O=u.getItemGraphicEl(C),E=bL(l,M,d,f);l.setItemGraphicEl(M,O),Ea(O,{shape:{points:E}},e,M),Dc(O),EC(O,l,M,h)}function b(M){var C=u.getItemGraphicEl(M);s.remove(C)}if(!this._initialized){this._initialized=!0;var S=nV(f,e,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(S)}this._data=l},t.prototype.incrementalPrepareRender=function(e,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,r,i){for(var a=r.getData(),s=r.coordinateSystem,l=s.dimensions,u=SL(r),f=this._progressiveEls=[],d=e.start;d<e.end;d++){var h=xL(a,this._dataGroup,d,l,s);h.incremental=!0,EC(h,a,d,u),f.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Te);function nV(n,t,e){var r=n.model,i=n.getRect(),a=new Bi({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=r.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Jo(a,{shape:{width:i.width,height:i.height}},t,e),a}function bL(n,t,e,r){for(var i=[],a=0;a<e.length;a++){var s=e[a],l=n.get(n.mapDimension(s),t);rV(l,r.getAxis(s).type)||i.push(r.dataToPoint(l,s))}return i}function xL(n,t,e,r,i){var a=bL(n,e,r,i),s=new Mu({shape:{points:a},z2:10});return t.add(s),n.setItemGraphicEl(e,s),s}function SL(n){var t=n.get("smooth",!0);return t===!0&&(t=eV),t=hu(t),Object(y.eqNaN)(t)&&(t=0),{smooth:t}}function EC(n,t,e,r){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");ml(n,i,"lineStyle"),ys(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function rV(n,t){return t==="category"?n==null:n==null||isNaN(n)}var iV=tV,aV=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,r){return Pd(null,this,{useEncodeDefaulter:Object(y.bind)(oV,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(s,l){e===s&&a.push(i.getRawIndex(l))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Io);function oV(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(!!t){var e={};return Object(y.each)(t.dimensions,function(r){var i=sV(r);e[r]=i}),e}}function sV(n){return+n.replace("dim","")}var lV=aV,uV=["lineStyle","opacity"],cV={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(s,l){var u=r[s];if(s==="normal"&&a.hasItemOption){var f=a.getItemModel(l).get(uV,!0);f!=null&&(u=f)}var d=a.ensureUniqueItemVisual(l,"style");d.opacity=u},i.start,i.end)}}}},fV=cV;function dV(n){hV(n),pV(n)}function hV(n){if(!n.parallel){var t=!1;y.each(n.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(n.parallel=[{}])}}function pV(n){var t=Xa(n.parallelAxis);y.each(t,function(e){if(!!y.isObject(e)){var r=e.parallelIndex||0,i=Xa(n.parallel)[r];i&&i.parallelAxisDefault&&y.merge(e,i.parallelAxisDefault,!1)}})}var vV=5,gV=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){this._model=e,this._api=i,this._handlers||(this._handlers={},Object(y.each)(mV,function(a,s){i.getZr().on(s,this._handlers[s]=Object(y.bind)(a,this))},this)),dn(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){qt(this,"_throttledDispatchExpand"),Object(y.each)(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Object(y.extend)({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Xo),mV={mousedown:function(n){AC(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(AC(this,"click")&&t){var e=[n.offsetX,n.offsetY],r=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(r>vV)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!AC(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=e.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function AC(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var yV=gV,bV=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var r=this.option;e&&y.merge(r,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var i=e.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){y.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[],i=y.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);y.each(i,function(a){e.push("dim"+a.get("dim")),r.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(xa),xV=bV,SV=function(n){ve(t,n);function t(e,r,i,a,s){var l=n.call(this,e,r,i)||this;return l.type=a||"value",l.axisIndex=s,l}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(vf),wV=SV;function Rg(n,t,e,r,i,a){n=n||0;var s=e[1]-e[0];if(i!=null&&(i=uy(i,[0,s])),a!=null&&(a=Math.max(a,i!=null?i:0)),r==="all"){var l=Math.abs(t[1]-t[0]);l=uy(l,[0,s]),i=a=uy(l,[i,a]),r=0}t[0]=uy(t[0],e),t[1]=uy(t[1],e);var u=PC(t,r);t[r]+=n;var f=i||0,d=e.slice();u.sign<0?d[0]+=f:d[1]-=f,t[r]=uy(t[r],d);var h;return h=PC(t,r),i!=null&&(h.sign!==u.sign||h.span<i)&&(t[1-r]=t[r]+u.sign*i),h=PC(t,r),a!=null&&h.span>a&&(t[1-r]=t[r]+h.sign*a),t}function PC(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function uy(n,t){return Math.min(t[1]!=null?t[1]:Infinity,Math.max(t[0]!=null?t[0]:-Infinity,n))}var LC=y.each,wL=Math.min,ML=Math.max,_L=Math.floor,MV=Math.ceil,CL=nr,_V=Math.PI,CV=function(){function n(t,e,r){this.type="parallel",this._axesMap=y.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var i=t.dimensions,a=t.parallelAxisIndex;LC(i,function(s,l){var u=a[l],f=e.getComponent("parallelAxis",u),d=this._axesMap.set(s,new wV(s,Sb(f),[0,0],f.get("type"),u)),h=d.type==="category";d.onBand=h&&f.get("boundaryGap"),d.inverse=f.get("inverse"),f.axis=d,d.model=f,d.coordinateSystem=f.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,s=t[1-a],l=t[a];return s>=r&&s<=r+e.axisLength&&l>=i&&l<=i+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(!!t.contains(r,e)){var i=r.getData();LC(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),yg(s.scale,s.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=ks(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,r=["x","y"],i=["width","height"],a=t.get("layout"),s=a==="horizontal"?0:1,l=e[i[s]],u=[0,l],f=this.dimensions.length,d=US(t.get("axisExpandWidth"),u),h=US(t.get("axisExpandCount")||0,[0,f]),v=t.get("axisExpandable")&&f>3&&f>h&&h>1&&d>0&&l>0,g=t.get("axisExpandWindow"),b;if(g)b=US(g[1]-g[0],u),g[1]=g[0]+b;else{b=US(d*(h-1),u);var S=t.get("axisExpandCenter")||_L(f/2);g=[d*S-b/2],g[1]=g[0]+b}var M=(l-b)/(f-h);M<3&&(M=0);var C=[_L(CL(g[0]/d,1))+1,MV(CL(g[1]/d,1))-1],O=M/d*g[0];return{layout:a,pixelDimIndex:s,layoutBase:e[r[s]],layoutLength:l,axisBase:e[r[1-s]],axisLength:e[i[1-s]],axisExpandable:v,axisExpandWidth:d,axisCollapseWidth:M,axisExpandWindow:g,axisCount:f,winInnerIndices:C,axisExpandWindow0Pos:O}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(s){var l=[0,i.axisLength],u=s.inverse?1:0;s.setExtent(l[u],l[1-u])}),LC(r,function(s,l){var u=(i.axisExpandable?OV:TV)(l,i),f={horizontal:{x:u.position,y:i.axisLength},vertical:{x:0,y:u.position}},d={horizontal:_V/2,vertical:0},h=[f[a].x+t.x,f[a].y+t.y],v=d[a],g=Ze();fl(g,g,v),Bo(g,g,h),this._axesLayout[s]={position:h,rotation:v,transform:g,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0),i==null&&(i=t.count());var a=this._axesMap,s=this.dimensions,l=[],u=[];y.each(s,function(M){l.push(t.mapDimension(M)),u.push(a.get(M).model)});for(var f=this.hasAxisBrushed(),d=r;d<i;d++){var h=void 0;if(!f)h="normal";else{h="active";for(var v=t.getValues(l,d),g=0,b=s.length;g<b;g++){var S=u[g].getActiveState(v[g]);if(S==="inactive"){h="inactive";break}}}e(h,d)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return df([t,0],r.transform)},n.prototype.getAxisLayout=function(t){return y.clone(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var l=t[r]-e.layoutBase-e.axisExpandWindow0Pos,u,f="slide",d=e.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),v=h[0]!=null;if(d)v&&d&&l<a*h[0]?(f="jump",u=l-a*h[2]):v&&d&&l>a*(1-h[0])?(f="jump",u=l-a*(1-h[2])):(u=l-a*h[1])>=0&&(u=l-a*(1-h[1]))<=0&&(u=0),u*=e.axisExpandWidth/d,u?Rg(u,i,s,"all"):f="none";else{var g=i[1]-i[0],b=s[1]*l/g;i=[ML(0,b-g/2)],i[1]=wL(s[1],i[0]+g),i[0]=i[1]-g}return{axisExpandWindow:i,behavior:f}},n}();function US(n,t){return wL(ML(n,t[0]),t[1])}function TV(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function OV(n,t){var e=t.layoutLength,r=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,s=t.winInnerIndices,l,u=a,f=!1,d;return n<s[0]?(l=n*a,d=a):n<=s[1]?(l=t.axisExpandWindow0Pos+n*r-t.axisExpandWindow[0],u=r,f=!0):(l=e-(i-1-n)*a,d=a),{position:l,axisNameAvailableWidth:u,axisLabelShow:f,nameTruncateMaxWidth:d}}var EV=CV;function AV(n,t){var e=[];return n.eachComponent("parallel",function(r,i){var a=new EV(r,n,t);a.name="parallel_"+i,a.resize(r,t),r.coordinateSystem=a,a.model=r,e.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",Wo).models[0];r.coordinateSystem=i.coordinateSystem}}),e}var PV={create:AV},LV=PV,TL=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return Df([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=y.clone(e);if(r)for(var i=r.length-1;i>=0;i--)ms(r[i])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,s=r.length;a<s;a++)if(r[a][0]<=e&&e<=r[a][1])return"active";return"inactive"},t}(xa);y.mixin(TL,qm);var OL=TL,Ig=!0,$b=Math.min,cy=Math.max,DV=Math.pow,RV=1e4,IV=6,NV=6,EL="globalPan",kV={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},jV={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},AL={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},BV=0,FV=function(n){ve(t,n);function t(e){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new Wr,r._uid="brushController_"+BV++,Object(y.each)(KV,function(i,a){this._handlers[a]=Object(y.bind)(i,this)},r),r}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||XB(r,EL,this._uid),Object(y.each)(this._handlers,function(i,a){r.on(a,i)}),this._brushType=e.brushType,this._brushOption=Object(y.merge)(Object(y.clone)(AL),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;ZB(e,EL,this._uid),Object(y.each)(this._handlers,function(r,i){e.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};Object(y.each)(e,function(i){r[i.panelId]=Object(y.clone)(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Object(y.map)(e,function(v){return Object(y.merge)(Object(y.clone)(AL),v,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,l=this._creatingCover;return new Oh(i,e,f,u).add(d).update(d).remove(h).execute(),this;function u(v,g){return(v.id!=null?v.id:r+g)+"-"+v.brushType}function f(v,g){return u(v.__brushOption,g)}function d(v,g){var b=e[v];if(g!=null&&i[g]===l)a[v]=i[g];else{var S=a[v]=g!=null?(i[g].__brushOption=b,i[g]):LL(s,PL(s,b));DC(s,S)}}function h(v){i[v]!==l&&s.group.remove(i[v])}},t.prototype.unmount=function(){return this.enableBrush(!1),NC(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Je);function PL(n,t){var e=WS[t.brushType].createCover(n,t);return e.__brushOption=t,RL(e,t),n.group.add(e),e}function LL(n,t){var e=RC(t);return e.endCreating&&(e.endCreating(n,t),RL(t,t.__brushOption)),t}function DL(n,t){var e=t.__brushOption;RC(t).updateCoverShape(n,t,e.range,e)}function RL(n,t){var e=t.z;e==null&&(e=RV),n.traverse(function(r){r.z=e,r.z2=e})}function DC(n,t){RC(t).updateCommon(n,t),DL(n,t)}function RC(n){return WS[n.__brushOption.brushType]}function IC(n,t,e){var r=n._panels;if(!r)return Ig;var i,a=n._transform;return Object(y.each)(r,function(s){s.isTargetByCursor(t,e,a)&&(i=s)}),i}function IL(n,t){var e=n._panels;if(!e)return Ig;var r=t.__brushOption.panelId;return r!=null?e[r]:Ig}function NC(n){var t=n._covers,e=t.length;return Object(y.each)(t,function(r){n.group.remove(r)},n),t.length=0,!!e}function Ng(n,t){var e=Object(y.map)(n._covers,function(r){var i=r.__brushOption,a=Object(y.clone)(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function zV(n){var t=n._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],i=e[0]-r[0],a=e[1]-r[1],s=DV(i*i+a*a,.5);return s>IV}function NL(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function kL(n,t,e,r){var i=new Wr;return i.add(new Bi({name:"main",style:jC(e),silent:!0,draggable:!0,cursor:"move",drift:Object(y.curry)(FL,n,t,i,["n","s","w","e"]),ondragend:Object(y.curry)(Ng,t,{isEnd:!0})})),Object(y.each)(r,function(a){i.add(new Bi({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(y.curry)(FL,n,t,i,a),ondragend:Object(y.curry)(Ng,t,{isEnd:!0})}))}),i}function jL(n,t,e,r){var i=r.brushStyle.lineWidth||0,a=cy(i,NV),s=e[0][0],l=e[1][0],u=s-i/2,f=l-i/2,d=e[0][1],h=e[1][1],v=d-a+i/2,g=h-a+i/2,b=d-s,S=h-l,M=b+i,C=S+i;Rh(n,t,"main",s,l,b,S),r.transformable&&(Rh(n,t,"w",u,f,a,C),Rh(n,t,"e",v,f,a,C),Rh(n,t,"n",u,f,M,a),Rh(n,t,"s",u,g,M,a),Rh(n,t,"nw",u,f,a,a),Rh(n,t,"ne",v,f,a,a),Rh(n,t,"sw",u,g,a,a),Rh(n,t,"se",v,g,a,a))}function kC(n,t){var e=t.__brushOption,r=e.transformable,i=t.childAt(0);i.useStyle(jC(e)),i.attr({silent:!r,cursor:r?"move":"default"}),Object(y.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=t.childOfName(a.join("")),l=a.length===1?BC(n,a[0]):HV(n,a);s&&s.attr({silent:!r,invisible:!r,cursor:r?jV[l]+"-resize":null})})}function Rh(n,t,e,r,i,a,s){var l=t.childOfName(e);l&&l.setShape(UV(FC(n,t,[[r,i],[r+a,i+s]])))}function jC(n){return Object(y.defaults)({strokeNoScale:!0},n.brushStyle)}function BL(n,t,e,r){var i=[$b(n,e),$b(t,r)],a=[cy(n,e),cy(t,r)];return[[i[0],a[0]],[i[1],a[1]]]}function VV(n){return wh(n.group)}function BC(n,t){var e={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=cb(e[t],VV(n));return r[i]}function HV(n,t){var e=[BC(n,t[0]),BC(n,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function FL(n,t,e,r,i,a){var s=e.__brushOption,l=n.toRectRange(s.range),u=zL(t,i,a);Object(y.each)(r,function(f){var d=kV[f];l[d[0]][d[1]]+=u[d[0]]}),s.range=n.fromRectRange(BL(l[0][0],l[1][0],l[0][1],l[1][1])),DC(t,e),Ng(t,{isEnd:!1})}function GV(n,t,e,r){var i=t.__brushOption.range,a=zL(n,e,r);Object(y.each)(i,function(s){s[0]+=a[0],s[1]+=a[1]}),DC(n,t),Ng(n,{isEnd:!1})}function zL(n,t,e){var r=n.group,i=r.transformCoordToLocal(t,e),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function FC(n,t,e){var r=IL(n,t);return r&&r!==Ig?r.clipPath(e,n._transform):Object(y.clone)(e)}function UV(n){var t=$b(n[0][0],n[1][0]),e=$b(n[0][1],n[1][1]),r=cy(n[0][0],n[1][0]),i=cy(n[0][1],n[1][1]);return{x:t,y:e,width:r-t,height:i-e}}function WV(n,t,e){if(!(!n._brushType||YV(n,t.offsetX,t.offsetY))){var r=n._zr,i=n._covers,a=IC(n,t,e);if(!n._dragging)for(var s=0;s<i.length;s++){var l=i[s].__brushOption;if(a&&(a===Ig||l.panelId===a.panelId)&&WS[l.brushType].contain(i[s],e[0],e[1]))return}a&&r.setCursorStyle("crosshair")}}function zC(n){var t=n.event;t.preventDefault&&t.preventDefault()}function VC(n,t,e){return n.childOfName("main").contain(t,e)}function VL(n,t,e,r){var i=n._creatingCover,a=n._creatingPanel,s=n._brushOption,l;if(n._track.push(e.slice()),zV(n)||i){if(a&&!i){s.brushMode==="single"&&NC(n);var u=Object(y.clone)(s);u.brushType=HL(u.brushType,a),u.panelId=a===Ig?null:a.panelId,i=n._creatingCover=PL(n,u),n._covers.push(i)}if(i){var f=WS[HL(n._brushType,a)],d=i.__brushOption;d.range=f.getCreatingRange(FC(n,i,n._track)),r&&(LL(n,i),f.updateCommon(n,i)),DL(n,i),l={isEnd:r}}}else r&&s.brushMode==="single"&&s.removeOnClick&&IC(n,t,e)&&NC(n)&&(l={isEnd:r,removeOnClick:!0});return l}function HL(n,t){return n==="auto"?t.defaultBrushType:n}var KV={mousedown:function(n){if(this._dragging)GL(this,n);else if(!n.target||!n.target.draggable){zC(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var e=this._creatingPanel=IC(this,n,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var t=n.offsetX,e=n.offsetY,r=this.group.transformCoordToLocal(t,e);if(WV(this,n,r),this._dragging){zC(n);var i=VL(this,n,r,!1);i&&Ng(this,i)}},mouseup:function(n){GL(this,n)}};function GL(n,t){if(n._dragging){zC(t);var e=t.offsetX,r=t.offsetY,i=n.group.transformCoordToLocal(e,r),a=VL(n,t,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Ng(n,a)}}function YV(n,t,e){var r=n._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var WS={lineX:UL(0),lineY:UL(1),rect:{createCover:function(n,t){function e(r){return r}return kL({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=NL(n);return BL(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,r){jL(n,t,e,r)},updateCommon:kC,contain:VC},polygon:{createCover:function(n,t){var e=new Wr;return e.add(new Mu({name:"main",style:jC(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new sl({name:"main",draggable:!0,drift:Object(y.curry)(GV,n,t),ondragend:Object(y.curry)(Ng,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,r){t.childAt(0).setShape({points:FC(n,t,e)})},updateCommon:kC,contain:VC}};function UL(n){return{createCover:function(t,e){return kL({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=NL(t),r=$b(e[0][n],e[1][n]),i=cy(e[0][n],e[1][n]);return[r,i]},updateCoverShape:function(t,e,r,i){var a,s=IL(t,e);if(s!==Ig&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(n);else{var l=t._zr;a=[0,[l.getWidth(),l.getHeight()][1-n]]}var u=[r,a];n&&u.reverse(),jL(t,e,u,i)},updateCommon:kC,contain:VC}}var HC=FV;function WL(n){return n=GC(n),function(t){return c(t,n)}}function KL(n,t){return n=GC(n),function(e){var r=t!=null?t:e,i=r?n.width:n.height,a=r?n.x:n.y;return[a,a+(i||0)]}}function YL(n,t,e){var r=GC(n);return function(i,a){return r.contain(a[0],a[1])&&!PS(i,t,e)}}function GC(n){return Hn.create(n)}var XV=["axisLine","axisTickLabel","axisName"],ZV=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){n.prototype.init.apply(this,arguments),(this._brushController=new HC(r.getZr())).on("brush",y.bind(this._onBrush,this))},t.prototype.render=function(e,r,i,a){if(!$V(e,r,a)){this.axisModel=e,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Wr,this.group.add(this._axisGroup),!!e.get("show")){var l=QV(e,r),u=l.coordinateSystem,f=e.getAreaSelectStyle(),d=f.width,h=e.axis.dim,v=u.getAxisLayout(h),g=y.extend({strokeContainThreshold:d},v),b=new Lh(e,g);y.each(XV,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(g,f,e,l,d,i),o(s,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,r,i,a,s,l){var u=i.axis.getExtent(),f=u[1]-u[0],d=Math.min(30,Math.abs(f)*.1),h=Hn.create({x:u[0],y:-s/2,width:f,height:s});h.x-=d,h.width+=2*d,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:WL(h),isTargetByCursor:YL(h,l,a),getLinearBrushOtherExtent:KL(h,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(JV(i))},t.prototype._onBrush=function(e){var r=e.areas,i=this.axisModel,a=i.axis,s=y.map(r,function(l){return[a.coordToData(l.range[0],!0),a.coordToData(l.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Xo);function $V(n,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===n}function JV(n){var t=n.axis;return y.map(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function QV(n,t){return t.getComponent("parallel",n.get("parallelIndex"))}var qV=ZV,eH={type:"axisAreaSelect",event:"axisAreaSelected"};function tH(n){n.registerAction(eH,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),n.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var nH={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function XL(n){n.registerComponentView(yV),n.registerComponentModel(xV),n.registerCoordinateSystem("parallel",LV),n.registerPreprocessor(dV),n.registerComponentModel(OL),n.registerComponentView(qV),iy(n,"parallel",OL,nH),tH(n)}function rH(n){ea(XL),n.registerChartView(iV),n.registerSeriesModel(lV),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,fV)}var iH=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),aH=function(n){ve(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new iH},t.prototype.buildPath=function(e,r){var i=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(e.lineTo(r.x2+i,r.y2),e.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(e.lineTo(r.x2,r.y2+i),e.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),e.closePath()},t.prototype.highlight=function(){Hu(this)},t.prototype.downplay=function(){Ql(this)},t}(ir),oH=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return t.prototype.render=function(e,r,i){var a=this,s=e.getGraph(),l=this.group,u=e.layoutInfo,f=u.width,d=u.height,h=e.getData(),v=e.getData("edge"),g=e.get("orient");this._model=e,l.removeAll(),l.x=u.x,l.y=u.y,s.eachEdge(function(b){var S=new aH,M=Yr(S);M.dataIndex=b.dataIndex,M.seriesIndex=e.seriesIndex,M.dataType="edge";var C=b.getModel(),O=C.getModel("lineStyle"),E=O.get("curveness"),I=b.node1.getLayout(),W=b.node1.getModel(),H=W.get("localX"),Q=W.get("localY"),se=b.node2.getLayout(),le=b.node2.getModel(),Me=le.get("localX"),xe=le.get("localY"),Be=b.getLayout(),ze,it,pt,At,ln,Qt,vn,Gn;switch(S.shape.extent=Math.max(1,Be.dy),S.shape.orient=g,g==="vertical"?(ze=(H!=null?H*f:I.x)+Be.sy,it=(Q!=null?Q*d:I.y)+I.dy,pt=(Me!=null?Me*f:se.x)+Be.ty,At=xe!=null?xe*d:se.y,ln=ze,Qt=it*(1-E)+At*E,vn=pt,Gn=it*E+At*(1-E)):(ze=(H!=null?H*f:I.x)+I.dx,it=(Q!=null?Q*d:I.y)+Be.sy,pt=Me!=null?Me*f:se.x,At=(xe!=null?xe*d:se.y)+Be.ty,ln=ze*(1-E)+pt*E,Qt=it,vn=ze*E+pt*(1-E),Gn=At),S.setShape({x1:ze,y1:it,x2:pt,y2:At,cpx1:ln,cpy1:Qt,cpx2:vn,cpy2:Gn}),S.useStyle(O.getItemStyle()),S.style.fill){case"source":S.style.fill=b.node1.getVisual("color"),S.style.decal=b.node1.getVisual("style").decal;break;case"target":S.style.fill=b.node2.getVisual("color"),S.style.decal=b.node2.getVisual("style").decal;break;case"gradient":var fr=b.node1.getVisual("color"),Er=b.node2.getVisual("color");Object(y.isString)(fr)&&Object(y.isString)(Er)&&(S.style.fill=new hg(0,0,+(g==="horizontal"),+(g==="vertical"),[{color:fr,offset:0},{color:Er,offset:1}]))}var li=C.getModel("emphasis");ml(S,C,"lineStyle",function(go){return go.getItemStyle()}),l.add(S),v.setItemGraphicEl(b.dataIndex,S);var na=li.get("focus");ys(S,na==="adjacency"?b.getAdjacentDataIndices():na,li.get("blurScope"),li.get("disabled")),Yr(S).dataType="edge"}),s.eachNode(function(b){var S=b.getLayout(),M=b.getModel(),C=M.get("localX"),O=M.get("localY"),E=M.getModel("emphasis"),I=new Bi({shape:{x:C!=null?C*f:S.x,y:O!=null?O*d:S.y,width:S.dx,height:S.dy},style:M.getModel("itemStyle").getItemStyle(),z2:10});jl(I,al(M),{labelFetcher:e,labelDataIndex:b.dataIndex,defaultText:b.id}),I.disableLabelAnimation=!0,I.setStyle("fill",b.getVisual("color")),I.setStyle("decal",b.getVisual("style").decal),ml(I,M),l.add(I),h.setItemGraphicEl(b.dataIndex,I),Yr(I).dataType="node";var W=E.get("focus");ys(I,W==="adjacency"?b.getAdjacentDataIndices():W,E.get("blurScope"),E.get("disabled"))}),h.eachItemGraphicEl(function(b,S){var M=h.getItemModel(S);M.get("draggable")&&(b.drift=function(C,O){a._focusAdjacencyDisabled=!0,this.shape.x+=C,this.shape.y+=O,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(S),localX:this.shape.x/f,localY:this.shape.y/d})},b.ondragend=function(){a._focusAdjacencyDisabled=!1},b.draggable=!0,b.cursor="move")}),!this._data&&e.isAnimationEnabled()&&l.setClipPath(sH(l.getBoundingRect(),e,function(){l.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Te);function sH(n,t,e){var r=new Bi({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Jo(r,{shape:{width:n.width+20}},t,e),r}var lH=oH,uH=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){var i=e.edges||e.links,a=e.data||e.nodes,s=e.levels;this.levelModels=[];for(var l=this.levelModels,u=0;u<s.length;u++)s[u].depth!=null&&s[u].depth>=0&&(l[s[u].depth]=new Mo(s[u],this,r));if(a&&i){var f=yL(a,i,this,!0,d);return f.data}function d(h,v){h.wrapMethod("getItemModel",function(g,b){var S=g.parentModel,M=S.getData().getItemLayout(b);if(M){var C=M.depth,O=S.levelModels[C];O&&(g.parentModel=O)}return g}),v.wrapMethod("getItemModel",function(g,b){var S=g.parentModel,M=S.getGraph().getEdgeByIndex(b),C=M.node1.getLayout();if(C){var O=C.depth,E=S.levelModels[O];E&&(g.parentModel=E)}return g})}},t.prototype.setNodePosition=function(e,r){var i=this.option.data||this.option.nodes,a=i[e];a.localX=r[0],a.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,r,i){function a(g){return isNaN(g)||g==null}if(i==="edge"){var s=this.getDataParams(e,i),l=s.data,u=s.value,f=l.source+" -- "+l.target;return Ys("nameValue",{name:f,value:u,noValue:a(u)})}else{var d=this.getGraph().getNodeByIndex(e),h=d.getLayout().value,v=this.getDataParams(e,i).data.name;return Ys("nameValue",{name:v!=null?v+"":null,value:h,noValue:a(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,r){var i=n.prototype.getDataParams.call(this,e,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(e),s=a.getLayout().value;i.value=s}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Io),cH=uH;function fH(n,t){n.eachSeriesByType("sankey",function(e){var r=e.get("nodeWidth"),i=e.get("nodeGap"),a=dH(e,t);e.layoutInfo=a;var s=a.width,l=a.height,u=e.getGraph(),f=u.nodes,d=u.edges;pH(f);var h=y.filter(f,function(S){return S.getLayout().value===0}),v=h.length!==0?0:e.get("layoutIterations"),g=e.get("orient"),b=e.get("nodeAlign");hH(f,d,r,i,s,l,v,g,b)})}function dH(n,t){return ks(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function hH(n,t,e,r,i,a,s,l,u){vH(n,t,e,i,a,l,u),bH(n,t,a,i,r,s,l),EH(n,l)}function pH(n){y.each(n,function(t){var e=Xp(t.outEdges,KS),r=Xp(t.inEdges,KS),i=t.getValue()||0,a=Math.max(e,r,i);t.setLayout({value:a},!0)})}function vH(n,t,e,r,i,a,s){for(var l=[],u=[],f=[],d=[],h=0,v=0;v<t.length;v++)l[v]=1;for(var v=0;v<n.length;v++)u[v]=n[v].inEdges.length,u[v]===0&&f.push(n[v]);for(var g=-1;f.length;){for(var b=0;b<f.length;b++){var S=f[b],M=S.hostGraph.data.getRawDataItem(S.dataIndex),C=M.depth!=null&&M.depth>=0;C&&M.depth>g&&(g=M.depth),S.setLayout({depth:C?M.depth:h},!0),a==="vertical"?S.setLayout({dy:e},!0):S.setLayout({dx:e},!0);for(var O=0;O<S.outEdges.length;O++){var E=S.outEdges[O],I=t.indexOf(E);l[I]=0;var W=E.node2,H=n.indexOf(W);--u[H]==0&&d.indexOf(W)<0&&d.push(W)}}++h,f=d,d=[]}for(var v=0;v<l.length;v++)if(l[v]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Q=g>h-1?g:h-1;s&&s!=="left"&&gH(n,s,a,Q);var se=a==="vertical"?(i-e)/Q:(r-e)/Q;yH(n,se,a)}function ZL(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return t.depth!=null&&t.depth>=0}function gH(n,t,e,r){if(t==="right"){for(var i=[],a=n,s=0;a.length;){for(var l=0;l<a.length;l++){var u=a[l];u.setLayout({skNodeHeight:s},!0);for(var f=0;f<u.inEdges.length;f++){var d=u.inEdges[f];i.indexOf(d.node1)<0&&i.push(d.node1)}}a=i,i=[],++s}y.each(n,function(h){ZL(h)||h.setLayout({depth:Math.max(0,r-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&mH(n,r)}function mH(n,t){y.each(n,function(e){!ZL(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function yH(n,t,e){y.each(n,function(r){var i=r.getLayout().depth*t;e==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function bH(n,t,e,r,i,a,s){var l=xH(n,s);SH(l,t,e,r,i,s),UC(l,i,e,r,s);for(var u=1;a>0;a--)u*=.99,wH(l,u,s),UC(l,i,e,r,s),OH(l,u,s),UC(l,i,e,r,s)}function xH(n,t){var e=[],r=t==="vertical"?"y":"x",i=fv(n,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,s){return a-s}),y.each(i.keys,function(a){e.push(i.buckets.get(a))}),e}function SH(n,t,e,r,i,a){var s=Infinity;y.each(n,function(l){var u=l.length,f=0;y.each(l,function(h){f+=h.getLayout().value});var d=a==="vertical"?(r-(u-1)*i)/f:(e-(u-1)*i)/f;d<s&&(s=d)}),y.each(n,function(l){y.each(l,function(u,f){var d=u.getLayout().value*s;a==="vertical"?(u.setLayout({x:f},!0),u.setLayout({dx:d},!0)):(u.setLayout({y:f},!0),u.setLayout({dy:d},!0))})}),y.each(t,function(l){var u=+l.getValue()*s;l.setLayout({dy:u},!0)})}function UC(n,t,e,r,i){var a=i==="vertical"?"x":"y";y.each(n,function(s){s.sort(function(S,M){return S.getLayout()[a]-M.getLayout()[a]});for(var l,u,f,d=0,h=s.length,v=i==="vertical"?"dx":"dy",g=0;g<h;g++)u=s[g],f=d-u.getLayout()[a],f>0&&(l=u.getLayout()[a]+f,i==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),d=u.getLayout()[a]+u.getLayout()[v]+t;var b=i==="vertical"?r:e;if(f=d-t-b,f>0){l=u.getLayout()[a]-f,i==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0),d=l;for(var g=h-2;g>=0;--g)u=s[g],f=u.getLayout()[a]+u.getLayout()[v]+t-d,f>0&&(l=u.getLayout()[a]-f,i==="vertical"?u.setLayout({x:l},!0):u.setLayout({y:l},!0)),d=u.getLayout()[a]}})}function wH(n,t,e){y.each(n.slice().reverse(),function(r){y.each(r,function(i){if(i.outEdges.length){var a=Xp(i.outEdges,MH,e)/Xp(i.outEdges,KS);if(isNaN(a)){var s=i.outEdges.length;a=s?Xp(i.outEdges,_H,e)/s:0}if(e==="vertical"){var l=i.getLayout().x+(a-Yp(i,e))*t;i.setLayout({x:l},!0)}else{var u=i.getLayout().y+(a-Yp(i,e))*t;i.setLayout({y:u},!0)}}})})}function MH(n,t){return Yp(n.node2,t)*n.getValue()}function _H(n,t){return Yp(n.node2,t)}function CH(n,t){return Yp(n.node1,t)*n.getValue()}function TH(n,t){return Yp(n.node1,t)}function Yp(n,t){return t==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function KS(n){return n.getValue()}function Xp(n,t,e){for(var r=0,i=n.length,a=-1;++a<i;){var s=+t(n[a],e);isNaN(s)||(r+=s)}return r}function OH(n,t,e){y.each(n,function(r){y.each(r,function(i){if(i.inEdges.length){var a=Xp(i.inEdges,CH,e)/Xp(i.inEdges,KS);if(isNaN(a)){var s=i.inEdges.length;a=s?Xp(i.inEdges,TH,e)/s:0}if(e==="vertical"){var l=i.getLayout().x+(a-Yp(i,e))*t;i.setLayout({x:l},!0)}else{var u=i.getLayout().y+(a-Yp(i,e))*t;i.setLayout({y:u},!0)}}})})}function EH(n,t){var e=t==="vertical"?"x":"y";y.each(n,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),y.each(n,function(r){var i=0,a=0;y.each(r.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),y.each(r.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function AH(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph(),r=e.nodes;if(r.length){var i=Infinity,a=-Infinity;y.each(r,function(s){var l=s.getLayout().value;l<i&&(i=l),l>a&&(a=l)}),y.each(r,function(s){var l=new tu({type:"color",mappingMethod:"linear",dataExtent:[i,a],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),f=s.getModel().get(["itemStyle","color"]);f!=null?(s.setVisual("color",f),s.setVisual("style",{fill:f})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}})}function PH(n){n.registerChartView(lH),n.registerSeriesModel(cH),n.registerLayout(fH),n.registerVisual(AH),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var $L=function(){function n(){}return n.prototype.getInitialData=function(t,e){var r,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),l=a.get("type"),u;s==="category"?(t.layout="horizontal",r=i.getOrdinalMeta(),u=!0):l==="category"?(t.layout="vertical",r=a.getOrdinalMeta(),u=!0):t.layout=t.layout||"horizontal";var f=["x","y"],d=t.layout==="horizontal"?0:1,h=this._baseAxisDim=f[d],v=f[1-d],g=[i,a],b=g[d].get("type"),S=g[1-d].get("type"),M=t.data;if(M&&u){var C=[];y.each(M,function(I,W){var H;y.isArray(I)?(H=I.slice(),I.unshift(W)):y.isArray(I.value)?(H=y.extend({},I),H.value=H.value.slice(),I.value.unshift(W)):H=I,C.push(H)}),t.data=C}var O=this.defaultValueDimensions,E=[{name:h,type:tS(b),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:v,type:tS(S),dimsDef:O.slice()}];return ry(this,{coordDimensions:E,dimensionsCount:O.length+1,encodeDefaulter:y.curry(m0,E,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),JL=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Io);Object(y.mixin)(JL,$L,!0);var LH=JL,DH=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=e.getData(),s=this.group,l=this._data;this._data||s.removeAll();var u=e.get("layout")==="horizontal"?1:0;a.diff(l).add(function(f){if(a.hasValue(f)){var d=a.getItemLayout(f),h=QL(d,a,f,u,!0);a.setItemGraphicEl(f,h),s.add(h)}}).update(function(f,d){var h=l.getItemGraphicEl(d);if(!a.hasValue(f)){s.remove(h);return}var v=a.getItemLayout(f);h?(Dc(h),qL(v,h,a,f)):h=QL(v,a,f,u),s.add(h),a.setItemGraphicEl(f,h)}).remove(function(f){var d=l.getItemGraphicEl(f);d&&s.remove(d)}).execute(),this._data=a},t.prototype.remove=function(e){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},t.type="boxplot",t}(Te),RH=function(){function n(){}return n}(),IH=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="boxplotBoxPath",r}return t.prototype.getDefaultShape=function(){return new RH},t.prototype.buildPath=function(e,r){var i=r.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t}(ir);function QL(n,t,e,r,i){var a=n.ends,s=new IH({shape:{points:i?NH(a,r,n):a}});return qL(n,s,t,e,i),s}function qL(n,t,e,r,i){var a=e.hostModel,s=re[i?"initProps":"updateProps"];s(t,{shape:{points:n.ends}},a,r),t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var l=e.getItemModel(r),u=l.getModel("emphasis");ml(t,l),ys(t,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function NH(n,t,e){return y.map(n,function(r){return r=r.slice(),r[t]=e.initBaseline,r})}var kH=DH;function jH(n,t){}var Jb=y.each;function BH(n){var t=FH(n);Jb(t,function(e){var r=e.seriesModels;!r.length||(zH(e),Jb(r,function(i,a){VH(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function FH(n){var t=[],e=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=y.indexOf(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(r)}),t}function zH(n){var t=n.axis,e=n.seriesModels,r=e.length,i=n.boxWidthList=[],a=n.boxOffsetList=[],s=[],l;if(t.type==="category")l=t.getBandWidth();else{var u=0;Jb(e,function(b){u=Math.max(u,b.getData().count())});var f=t.getExtent();l=Math.abs(f[1]-f[0])/u}Jb(e,function(b){var S=b.get("boxWidth");y.isArray(S)||(S=[S,S]),s.push([Yn(S[0],l)||0,Yn(S[1],l)||0])});var d=l*.8-2,h=d/r*.3,v=(d-h*(r-1))/r,g=v/2-d/2;Jb(e,function(b,S){a.push(g),g+=h+v,i.push(Math.min(Math.max(v,s[S][0]),s[S][1]))})}function VH(n,t,e){var r=n.coordinateSystem,i=n.getData(),a=e/2,s=n.get("layout")==="horizontal"?0:1,l=1-s,u=["x","y"],f=i.mapDimension(u[s]),d=i.mapDimensionsAll(u[l]);if(f==null||d.length<5)return;for(var h=0;h<i.count();h++){var v=i.get(f,h),g=E(v,d[2],h),b=E(v,d[0],h),S=E(v,d[1],h),M=E(v,d[3],h),C=E(v,d[4],h),O=[];I(O,S,!1),I(O,M,!0),O.push(b,S,C,M),W(O,b),W(O,C),W(O,g),i.setItemLayout(h,{initBaseline:g[l],ends:O})}function E(H,Q,se){var le=i.get(Q,se),Me=[];Me[s]=H,Me[l]=le;var xe;return isNaN(H)||isNaN(le)?xe=[NaN,NaN]:(xe=r.dataToPoint(Me),xe[s]+=t),xe}function I(H,Q,se){var le=Q.slice(),Me=Q.slice();le[s]+=a,Me[s]-=a,se?H.push(le,Me):H.push(Me,le)}function W(H,Q){var se=Q.slice(),le=Q.slice();se[s]-=a,le[s]+=a,H.push(se,le)}}function HH(n,t){t=t||{};for(var e=[],r=[],i=t.boundIQR,a=i==="none"||i===0,s=0;s<n.length;s++){var l=ms(n[s].slice()),u=Gh(l,.25),f=Gh(l,.5),d=Gh(l,.75),h=l[0],v=l[l.length-1],g=(i==null?1.5:i)*(d-u),b=a?h:Math.max(h,u-g),S=a?v:Math.min(v,d+g),M=t.itemNameFormatter,C=Object(y.isFunction)(M)?M({value:s}):Object(y.isString)(M)?M.replace("{value}",s+""):s+"";e.push([C,b,u,f,d,S]);for(var O=0;O<l.length;O++){var E=l[O];if(E<b||E>S){var I=[C,E];r.push(I)}}}return{boxData:e,outliers:r}}var GH={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Ws){var r="";Za(r)}var i=HH(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function UH(n){n.registerSeriesModel(LH),n.registerChartView(kH),n.registerVisual(jH),n.registerLayout(BH),n.registerTransform(GH)}var WH=["color","borderColor"],KH=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,r,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},t.prototype.eachRendered=function(e){U(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e){var r=e.getData(),i=this._data,a=this.group,s=r.getLayout("isSimpleBox"),l=e.get("clip",!0),u=e.coordinateSystem,f=u.getArea&&u.getArea();this._data||a.removeAll(),r.diff(i).add(function(d){if(r.hasValue(d)){var h=r.getItemLayout(d);if(l&&eD(f,h))return;var v=WC(h,d,!0);Jo(v,{shape:{points:h.ends}},e,d),KC(v,r,d,s),a.add(v),r.setItemGraphicEl(d,v)}}).update(function(d,h){var v=i.getItemGraphicEl(h);if(!r.hasValue(d)){a.remove(v);return}var g=r.getItemLayout(d);if(l&&eD(f,g)){a.remove(v);return}v?(Ea(v,{shape:{points:g.ends}},e,d),Dc(v)):v=WC(g,d),KC(v,r,d,s),a.add(v),r.setItemGraphicEl(d,v)}).remove(function(d){var h=i.getItemGraphicEl(d);h&&a.remove(h)}).execute(),this._data=r},t.prototype._renderLarge=function(e){this._clear(),nD(e,this.group);var r=e.get("clip",!0)?xS(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),s;(s=e.next())!=null;){var l=i.getItemLayout(s),u=WC(l,s);KC(u,i,s,a),u.incremental=!0,this.group.add(u),this._progressiveEls.push(u)}},t.prototype._incrementalRenderLarge=function(e,r){nD(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Te),YH=function(){function n(){}return n}(),XH=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="normalCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new YH},t.prototype.buildPath=function(e,r){var i=r.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(ir);function WC(n,t,e){var r=n.ends;return new XH({shape:{points:e?ZH(r,n):r},z2:100})}function eD(n,t){for(var e=!0,r=0;r<t.ends.length;r++)if(n.contain(t.ends[r][0],t.ends[r][1])){e=!1;break}return e}function KC(n,t,e,r){var i=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,ml(n,i)}function ZH(n,t){return y.map(n,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var $H=function(){function n(){}return n}(),tD=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r.type="largeCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new $H},t.prototype.buildPath=function(e,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];e.moveTo(s,i[a++]),e.lineTo(s,i[a++])}else a+=3},t}(ir);function nD(n,t,e,r){var i=n.getData(),a=i.getLayout("largePoints"),s=new tD({shape:{points:a},__sign:1});t.add(s);var l=new tD({shape:{points:a},__sign:-1});t.add(l),rD(1,s,n,i),rD(-1,l,n,i),r&&(s.incremental=!0,l.incremental=!0),e&&e.push(s,l)}function rD(n,t,e,r){var i=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]),a=e.getModel("itemStyle").getItemStyle(WH);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var JH=KH,iD=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,r,i){var a=r.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Io);Object(y.mixin)(iD,$L,!0);var QH=iD;function qH(n){!n||!y.isArray(n.series)||y.each(n.series,function(t){y.isObject(t)&&t.type==="k"&&(t.type="candlestick")})}var e6=["itemStyle","borderColor"],t6=["itemStyle","borderColor0"],n6=["itemStyle","color"],r6=["itemStyle","color0"],i6={seriesType:"candlestick",plan:Dp(),performRawSeries:!0,reset:function(n,t){function e(a,s){return s.get(a>0?n6:r6)}function r(a,s){return s.get(a>0?e6:t6)}if(!t.isSeriesFiltered(n)){var i=n.pipelineContext.large;return!i&&{progress:function(a,s){for(var l;(l=a.next())!=null;){var u=s.getItemModel(l),f=s.getItemLayout(l).sign,d=u.getItemStyle();d.fill=e(f,u),d.stroke=r(f,u)||d.fill;var h=s.ensureUniqueItemVisual(l,"style");Object(y.extend)(h,d)}}}}}},a6=i6,o6={seriesType:"candlestick",plan:Dp(),reset:function(n){var t=n.coordinateSystem,e=n.getData(),r=s6(n,e),i=0,a=1,s=["x","y"],l=e.getDimensionIndex(e.mapDimension(s[i])),u=Object(y.map)(e.mapDimensionsAll(s[a]),e.getDimensionIndex,e),f=u[0],d=u[1],h=u[2],v=u[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),l<0||u.length<4)return;return{progress:n.pipelineContext.large?b:g};function g(S,M){for(var C,O=M.getStore();(C=S.next())!=null;){var E=O.get(l,C),I=O.get(f,C),W=O.get(d,C),H=O.get(h,C),Q=O.get(v,C),se=Math.min(I,W),le=Math.max(I,W),Me=pt(se,E),xe=pt(le,E),Be=pt(H,E),ze=pt(Q,E),it=[];At(it,xe,0),At(it,Me,1),it.push(Qt(ze),Qt(xe),Qt(Be),Qt(Me)),M.setItemLayout(C,{sign:aD(O,C,I,W,d),initBaseline:I>W?xe[a]:Me[a],ends:it,brushRect:ln(H,Q,E)})}function pt(vn,Gn){var fr=[];return fr[i]=Gn,fr[a]=vn,isNaN(Gn)||isNaN(vn)?[NaN,NaN]:t.dataToPoint(fr)}function At(vn,Gn,fr){var Er=Gn.slice(),li=Gn.slice();Er[i]=ub(Er[i]+r/2,1,!1),li[i]=ub(li[i]-r/2,1,!0),fr?vn.push(Er,li):vn.push(li,Er)}function ln(vn,Gn,fr){var Er=pt(vn,fr),li=pt(Gn,fr);return Er[i]-=r/2,li[i]-=r/2,{x:Er[0],y:Er[1],width:a?r:li[0]-Er[0],height:a?li[1]-Er[1]:r}}function Qt(vn){return vn[i]=ub(vn[i],1),vn}}function b(S,M){for(var C=Ld(S.count*4),O=0,E,I=[],W=[],H,Q=M.getStore();(H=S.next())!=null;){var se=Q.get(l,H),le=Q.get(f,H),Me=Q.get(d,H),xe=Q.get(h,H),Be=Q.get(v,H);if(isNaN(se)||isNaN(xe)||isNaN(Be)){C[O++]=NaN,O+=3;continue}C[O++]=aD(Q,H,le,Me,d),I[i]=se,I[a]=xe,E=t.dataToPoint(I,null,W),C[O++]=E?E[0]:NaN,C[O++]=E?E[1]:NaN,I[a]=Be,E=t.dataToPoint(I,null,W),C[O++]=E?E[1]:NaN}M.setLayout("largePoints",C)}}};function aD(n,t,e,r,i){var a;return e>r?a=-1:e<r?a=1:a=t>0?n.get(i,t-1)<=r?1:-1:1,a}function s6(n,t){var e=n.getBaseAxis(),r,i=e.type==="category"?e.getBandWidth():(r=e.getExtent(),Math.abs(r[1]-r[0])/t.count()),a=Yn(Object(y.retrieve2)(n.get("barMaxWidth"),i),i),s=Yn(Object(y.retrieve2)(n.get("barMinWidth"),1),i),l=n.get("barWidth");return l!=null?Yn(l,i):Math.max(Math.min(i/2,a),s)}var l6=o6;function u6(n){n.registerChartView(JH),n.registerSeriesModel(QH),n.registerPreprocessor(qH),n.registerVisual(a6),n.registerLayout(l6)}function oD(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var c6=function(n){ve(t,n);function t(e,r){var i=n.call(this)||this,a=new Ab(e,r),s=new Wr;return i.add(a),i.add(s),i.updateData(e,r),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,i=e.color,a=e.rippleNumber,s=this.childAt(1),l=0;l<a;l++){var u=Ts(r,-1,-1,2,2,i);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-l/a*e.period+e.effectOffset;u.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(f).start(),u.animateStyle(!0).when(e.period,{opacity:0}).delay(f).start(),s.add(u)}oD(s,e)},t.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var l=a[s];if(r[l]!==e[l]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}oD(i,e)},t.prototype.highlight=function(){Hu(this)},t.prototype.downplay=function(){Ql(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,r){var i=this,a=e.hostModel;this.childAt(0).updateData(e,r);var s=this.childAt(1),l=e.getItemModel(r),u=e.getItemVisual(r,"symbol"),f=pg(e.getItemVisual(r,"symbolSize")),d=e.getItemVisual(r,"style"),h=d&&d.fill,v=l.getModel("emphasis");s.setScale(f),s.traverse(function(M){M.setStyle("fill",h)});var g=gt(e.getItemVisual(r,"symbolOffset"),f);g&&(s.x=g[0],s.y=g[1]);var b=e.getItemVisual(r,"symbolRotate");s.rotation=(b||0)*Math.PI/180||0;var S={};S.showEffectOn=a.get("showEffectOn"),S.rippleScale=l.get(["rippleEffect","scale"]),S.brushType=l.get(["rippleEffect","brushType"]),S.period=l.get(["rippleEffect","period"])*1e3,S.effectOffset=r/e.count(),S.z=a.getShallow("z")||0,S.zlevel=a.getShallow("zlevel")||0,S.symbolType=u,S.color=h,S.rippleEffectColor=l.get(["rippleEffect","color"]),S.rippleNumber=l.get(["rippleEffect","number"]),S.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(S):this.startEffectAnimation(S),this._effectCfg=S):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(M){M==="emphasis"?S.showEffectOn!=="render"&&i.startEffectAnimation(S):M==="normal"&&S.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=S,ys(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Wr),f6=c6,d6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new Pb(f6)},t.prototype.render=function(e,r,i){var a=e.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(s.group)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,i=r&&r.getArea&&r.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,r,i){var a=e.getData();this.group.dirty();var s=Lb("").reset(e,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=mc(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Te),h6=d6,p6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,r){return Pd(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Io),v6=p6;function g6(n){n.registerChartView(h6),n.registerSeriesModel(v6),n.registerLayout(Lb("effectScatter"))}var m6=function(n){ve(t,n);function t(e,r,i){var a=n.call(this)||this;return a.add(a.createLine(e,r,i)),a._updateEffectSymbol(e,r),a}return t.prototype.createLine=function(e,r,i){return new bC(e,r,i)},t.prototype._updateEffectSymbol=function(e,r){var i=e.getItemModel(r),a=i.getModel("effect"),s=a.get("symbolSize"),l=a.get("symbol");y.isArray(s)||(s=[s,s]);var u=e.getItemVisual(r,"style"),f=a.get("color")||u&&u.stroke,d=this.childAt(1);this._symbolType!==l&&(this.remove(d),d=Ts(l,-.5,-.5,1,1,f),d.z2=100,d.culling=!0,this.add(d)),!!d&&(d.setStyle("shadowColor",f),d.setStyle(a.getItemStyle(["color"])),d.scaleX=s[0],d.scaleY=s[1],d.setColor(f),this._symbolType=l,this._symbolScale=s,this._updateEffectAnimation(e,a,r))},t.prototype._updateEffectAnimation=function(e,r,i){var a=this.childAt(1);if(!!a){var s=this,l=e.getItemLayout(i),u=r.get("period")*1e3,f=r.get("loop"),d=r.get("constantSpeed"),h=y.retrieve(r.get("delay"),function(b){return b/e.count()*u/3});if(a.ignore=!0,this._updateAnimationPoints(a,l),d>0&&(u=this._getLineLength(a)/d*1e3),(u!==this._period||f!==this._loop)&&(a.stopAnimation(),u>0)){var v=void 0;y.isFunction(h)?v=h(i):v=h,a.__t>0&&(v=-u*a.__t),a.__t=0;var g=a.animate("",f).when(u,{__t:1}).delay(v).during(function(){s._updateSymbolPosition(a)});f||g.done(function(){s.remove(a)}),g.start()}this._period=u,this._loop=f}},t.prototype._getLineLength=function(e){return ct(e.__p1,e.__cp1)+ct(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,r){e.__p1=r[0],e.__p2=r[1],e.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(e,r,i){this.childAt(0).updateData(e,r,i),this._updateEffectSymbol(e,r)},t.prototype._updateSymbolPosition=function(e){var r=e.__p1,i=e.__p2,a=e.__cp1,s=e.__t,l=[e.x,e.y],u=l.slice(),f=Ta,d=nu;l[0]=f(r[0],a[0],i[0],s),l[1]=f(r[1],a[1],i[1],s);var h=d(r[0],a[0],i[0],s),v=d(r[1],a[1],i[1],s);e.rotation=-Math.atan2(v,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=ct(u,l)*1.05,s===1&&(l[0]=u[0]+(l[0]-u[0])/2,l[1]=u[1]+(l[1]-u[1])/2)):e.__lastT===1?e.scaleY=2*ct(r,l):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=l[0],e.y=l[1]},t.prototype.updateLayout=function(e,r){this.childAt(0).updateLayout(e,r);var i=e.getItemModel(r).getModel("effect");this._updateEffectAnimation(e,i,r)},t}(Wr),sD=m6,y6=function(n){ve(t,n);function t(e,r,i){var a=n.call(this)||this;return a._createPolyline(e,r,i),a}return t.prototype._createPolyline=function(e,r,i){var a=e.getItemLayout(r),s=new Mu({shape:{points:a}});this.add(s),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var a=e.hostModel,s=this.childAt(0),l={shape:{points:e.getItemLayout(r)}};Ea(s,l,a,r),this._updateCommonStl(e,r,i)},t.prototype._updateCommonStl=function(e,r,i){var a=this.childAt(0),s=e.getItemModel(r),l=i&&i.emphasisLineStyle,u=i&&i.focus,f=i&&i.blurScope,d=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var h=s.getModel("emphasis");l=h.getModel("lineStyle").getLineStyle(),d=h.get("disabled"),u=h.get("focus"),f=h.get("blurScope")}a.useStyle(e.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var v=a.ensureState("emphasis");v.style=l,ys(this,u,f,d)},t.prototype.updateLayout=function(e,r){var i=this.childAt(0);i.setShape("points",e.getItemLayout(r))},t}(Wr),lD=y6,b6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,r,i){return new lD(e,r,i)},t.prototype._updateAnimationPoints=function(e,r){this._points=r;for(var i=[0],a=0,s=1;s<r.length;s++){var l=r[s-1],u=r[s];a+=ct(l,u),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var r=e.__t,i=this._points,a=this._offsets,s=i.length;if(!!a){var l=this._lastFrame,u;if(r<this._lastFramePercent){var f=Math.min(l+1,s-1);for(u=f;u>=0&&!(a[u]<=r);u--);u=Math.min(u,s-2)}else{for(u=l;u<s&&!(a[u]>r);u++);u=Math.min(u-1,s-2)}var d=(r-a[u])/(a[u+1]-a[u]),h=i[u],v=i[u+1];e.x=h[0]*(1-d)+d*v[0],e.y=h[1]*(1-d)+d*v[1];var g=v[0]-h[0],b=v[1]-h[1];e.rotation=-Math.atan2(b,g)-Math.PI/2,this._lastFrame=u,this._lastFramePercent=r,e.ignore=!1}},t}(sD),x6=b6,S6=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),w6=function(n){ve(t,n);function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new S6},t.prototype.buildPath=function(e,r){var i=r.segs,a=r.curveness,s;if(r.polyline)for(s=this._off;s<i.length;){var l=i[s++];if(l>0){e.moveTo(i[s++],i[s++]);for(var u=1;u<l;u++)e.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var f=i[s++],d=i[s++],h=i[s++],v=i[s++];if(e.moveTo(f,d),a>0){var g=(f+h)/2-(d-v)*a,b=(d+v)/2-(h-f)*a;e.quadraticCurveTo(g,b,h,v)}else e.lineTo(h,v)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(e,r){var i=this.shape,a=i.segs,s=i.curveness,l=this.style.lineWidth;if(i.polyline)for(var u=0,f=0;f<a.length;){var d=a[f++];if(d>0)for(var h=a[f++],v=a[f++],g=1;g<d;g++){var b=a[f++],S=a[f++];if(Rr(h,v,b,S,l,e,r))return u}u++}else for(var u=0,f=0;f<a.length;){var h=a[f++],v=a[f++],b=a[f++],S=a[f++];if(s>0){var M=(h+b)/2-(v-S)*s,C=(v+S)/2-(b-h)*s;if(Ni(h,v,M,C,b,S,l,e,r))return u}else if(Rr(h,v,b,S,l,e,r))return u;u++}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),a=this.getBoundingRect();if(e=i[0],r=i[1],a.contain(e,r)){var s=this.hoverDataIdx=this.findDataIndex(e,r);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,i=r.segs,a=Infinity,s=Infinity,l=-Infinity,u=-Infinity,f=0;f<i.length;){var d=i[f++],h=i[f++];a=Math.min(d,a),l=Math.max(d,l),s=Math.min(h,s),u=Math.max(h,u)}e=this._rect=new Hn(a,s,l,u)}return e},t}(ir),M6=function(){function n(){this.group=new Wr}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var r=this._newAdded[0],i=e.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+i.length);l.set(a),l.set(i,s),r.setShape({segs:l})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:i}),this._setCommon(u,e),u.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new w6({cursor:"default"});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var s=Yr(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(l){s.dataIndex=null;var u=t.hoverDataIdx;u>0&&(s.dataIndex=u+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),_6=M6,C6={seriesType:"lines",plan:Dp(),reset:function(n){var t=n.coordinateSystem;if(!!t){var e=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,a){var s=[];if(r){var l=void 0,u=i.end-i.start;if(e){for(var f=0,d=i.start;d<i.end;d++)f+=n.getLineCoordsCount(d);l=new Float32Array(u+f*2)}else l=new Float32Array(u*4);for(var h=0,v=[],d=i.start;d<i.end;d++){var g=n.getLineCoords(d,s);e&&(l[h++]=g);for(var b=0;b<g;b++)v=t.dataToPoint(s[b],!1,v),l[h++]=v[0],l[h++]=v[1]}a.setLayout("linesPoints",l)}else for(var d=i.start;d<i.end;d++){var S=a.getItemModel(d),g=n.getLineCoords(d,s),M=[];if(e)for(var C=0;C<g;C++)M.push(t.dataToPoint(s[C]));else{M[0]=t.dataToPoint(s[0]),M[1]=t.dataToPoint(s[1]);var O=S.get(["lineStyle","curveness"]);+O&&(M[2]=[(M[0][0]+M[1][0])/2-(M[0][1]-M[1][1])*O,(M[0][1]+M[1][1])/2-(M[1][0]-M[0][0])*O])}a.setItemLayout(d,M)}}}}}},uD=C6,T6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=e.getData(),s=this._updateLineDraw(a,e),l=e.get("zlevel"),u=e.get(["effect","trailLength"]),f=i.getZr(),d=f.painter.getType()==="svg";d||f.painter.getLayer(l).clear(!0),this._lastZlevel!=null&&!d&&f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&u>0&&(d||f.configLayer(l,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),s.updateData(a);var h=e.get("clip",!0)&&xS(e.coordinateSystem,!1,e);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=l,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var a=e.getData(),s=this._updateLineDraw(a,e);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._lineDraw.incrementalUpdate(e,r.getData()),this._finished=e.end===r.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,r,i){var a=e.getData(),s=e.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var l=uD.reset(e,r,i);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,r){var i=this._lineDraw,a=this._showEffect(r),s=!!r.get("polyline"),l=r.pipelineContext,u=l.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||u!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=u?new _6:new SC(s?a?x6:lD:a?sD:bC),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=u),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var r=e.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.type="lines",t}(Te),O6=T6,E6=typeof Uint32Array=="undefined"?Array:Uint32Array,A6=typeof Float64Array=="undefined"?Array:Float64Array;function cD(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=Object(y.map)(t,function(e){var r=[e[0].coord,e[1].coord],i={coords:r};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),Object(y.mergeAll)([i,e[0],e[1]])}))}var P6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],cD(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(cD(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=Object(y.concatArray)(this._flatCoords,r.flatCoords),this._flatCoordsOffset=Object(y.concatArray)(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var r=this.getData().getItemModel(e),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],s=0;s<a;s++)r[s]=r[s]||[],r[s][0]=this._flatCoords[i+s*2],r[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var l=this._getCoordsFromItemModel(e),s=0;s<l.length;s++)r[s]=r[s]||[],r[s][0]=l[s][0],r[s][1]=l[s][1];return l.length}},t.prototype._processFlatCoordsArray=function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Object(y.isNumber)(e[0])){for(var i=e.length,a=new E6(i),s=new A6(i),l=0,u=0,f=0,d=0;d<i;){f++;var h=e[d++];a[u++]=l+r,a[u++]=h;for(var v=0;v<h;v++){var g=e[d++],b=e[d++];s[l++]=g,s[l++]=b,d>i}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,u),flatCoords:s,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,r){if(!1)var i;var a=new Tu(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],function(s,l,u,f){if(s instanceof Array)return NaN;a.hasItemOption=!0;var d=s.value;if(d!=null)return d instanceof Array?d[f]:d}),a},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=a.getItemModel(e),l=s.get("name");if(l)return l;var u=s.get("fromName"),f=s.get("toName"),d=[];return u!=null&&d.push(u),f!=null&&d.push(f),Ys("nameValue",{name:d.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e==null?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e==null?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),r=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Io),L6=P6;function YS(n){return n instanceof Array||(n=[n,n]),n}var D6={seriesType:"lines",reset:function(n){var t=YS(n.get("symbol")),e=YS(n.get("symbolSize")),r=n.getData();r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",e&&e[0]),r.setVisual("toSymbolSize",e&&e[1]);function i(a,s){var l=a.getItemModel(s),u=YS(l.getShallow("symbol",!0)),f=YS(l.getShallow("symbolSize",!0));u[0]&&a.setItemVisual(s,"fromSymbol",u[0]),u[1]&&a.setItemVisual(s,"toSymbol",u[1]),f[0]&&a.setItemVisual(s,"fromSymbolSize",f[0]),f[1]&&a.setItemVisual(s,"toSymbolSize",f[1])}return{dataEach:r.hasItemOption?i:null}}},R6=D6;function I6(n){n.registerChartView(O6),n.registerSeriesModel(L6),n.registerLayout(uD),n.registerVisual(R6)}var N6=256,k6=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Eo.d.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,r,i,a,s){var l=this._getBrush(),u=this._getGradient(a,"inRange"),f=this._getGradient(a,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,v=h.getContext("2d"),g=t.length;h.width=e,h.height=r;for(var b=0;b<g;++b){var S=t[b],M=S[0],C=S[1],O=S[2],E=i(O);v.globalAlpha=E,v.drawImage(l,M-d,C-d)}if(!h.width||!h.height)return h;for(var I=v.getImageData(0,0,h.width,h.height),W=I.data,H=0,Q=W.length,se=this.minOpacity,le=this.maxOpacity,Me=le-se;H<Q;){var E=W[H+3]/256,xe=Math.floor(E*(N6-1))*4;if(E>0){var Be=s(E)?u:f;E>0&&(E=E*Me+se),W[H++]=Be[xe],W[H++]=Be[xe+1],W[H++]=Be[xe+2],W[H++]=Be[xe+3]*E*256}else H+=4}return v.putImageData(I,0,0),h},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Eo.d.createCanvas()),e=this.pointSize+this.blurSize,r=e*2;t.width=r,t.height=r;var i=t.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},n.prototype._getGradient=function(t,e){for(var r=this._gradientPixels,i=r[e]||(r[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,l=0;l<256;l++)t[e](l/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},n}(),j6=k6;function B6(n,t,e){var r=n[1]-n[0];t=y.map(t,function(s){return{interval:[(s.interval[0]-n[0])/r,(s.interval[1]-n[0])/r]}});var i=t.length,a=0;return function(s){var l;for(l=a;l<i;l++){var u=t[l].interval;if(u[0]<=s&&s<=u[1]){a=l;break}}if(l===i)for(l=a-1;l>=0;l--){var u=t[l].interval;if(u[0]<=s&&s<=u[1]){a=l;break}}return l>=0&&l<i&&e[l]}}function F6(n,t){var e=n[1]-n[0];return t=[(t[0]-n[0])/e,(t[1]-n[0])/e],function(r){return r>=t[0]&&r<=t[1]}}function fD(n){var t=n.dimensions;return t[0]==="lng"&&t[1]==="lat"}var z6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a;r.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===e&&(a=l)})}),this._progressiveEls=null,this.group.removeAll();var s=e.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):fD(s)&&this._renderOnGeo(s,e,a,i)},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,r,i,a){var s=r.coordinateSystem;s&&(fD(s)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){U(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,r,i,a,s){var l=e.coordinateSystem,u,f,d,h;if(Ph(l,"cartesian2d")){var v=l.getAxis("x"),g=l.getAxis("y");u=v.getBandWidth(),f=g.getBandWidth(),d=v.scale.getExtent(),h=g.scale.getExtent()}for(var b=this.group,S=e.getData(),M=e.getModel(["emphasis","itemStyle"]).getItemStyle(),C=e.getModel(["blur","itemStyle"]).getItemStyle(),O=e.getModel(["select","itemStyle"]).getItemStyle(),E=al(e),I=e.getModel("emphasis"),W=I.get("focus"),H=I.get("blurScope"),Q=I.get("disabled"),se=Ph(l,"cartesian2d")?[S.mapDimension("x"),S.mapDimension("y"),S.mapDimension("value")]:[S.mapDimension("time"),S.mapDimension("value")],le=i;le<a;le++){var Me=void 0,xe=S.getItemVisual(le,"style");if(Ph(l,"cartesian2d")){var Be=S.get(se[0],le),ze=S.get(se[1],le);if(isNaN(S.get(se[2],le))||Be<d[0]||Be>d[1]||ze<h[0]||ze>h[1])continue;var it=l.dataToPoint([Be,ze]);Me=new Bi({shape:{x:Math.floor(Math.round(it[0])-u/2),y:Math.floor(Math.round(it[1])-f/2),width:Math.ceil(u),height:Math.ceil(f)},style:xe})}else{if(isNaN(S.get(se[1],le)))continue;Me=new Bi({z2:1,shape:l.dataToRect([S.get(se[0],le)]).contentShape,style:xe})}var pt=S.getItemModel(le);if(S.hasItemOption){var At=pt.getModel("emphasis");M=At.getModel("itemStyle").getItemStyle(),C=pt.getModel(["blur","itemStyle"]).getItemStyle(),O=pt.getModel(["select","itemStyle"]).getItemStyle(),W=At.get("focus"),H=At.get("blurScope"),Q=At.get("disabled"),E=al(pt)}var ln=e.getRawValue(le),Qt="-";ln&&ln[2]!=null&&(Qt=ln[2]+""),jl(Me,E,{labelFetcher:e,labelDataIndex:le,defaultOpacity:xe.opacity,defaultText:Qt}),Me.ensureState("emphasis").style=M,Me.ensureState("blur").style=C,Me.ensureState("select").style=O,ys(Me,W,H,Q),Me.incremental=s,s&&(Me.states.emphasis.hoverLayer=!0),b.add(Me),S.setItemGraphicEl(le,Me),this._progressiveEls&&this._progressiveEls.push(Me)}},t.prototype._renderOnGeo=function(e,r,i,a){var s=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,u=r.getData(),f=this._hmLayer||this._hmLayer||new j6;f.blurSize=r.get("blurSize"),f.pointSize=r.get("pointSize"),f.minOpacity=r.get("minOpacity"),f.maxOpacity=r.get("maxOpacity");var d=e.getViewRect().clone(),h=e.getRoamTransform();d.applyTransform(h);var v=Math.max(d.x,0),g=Math.max(d.y,0),b=Math.min(d.width+d.x,a.getWidth()),S=Math.min(d.height+d.y,a.getHeight()),M=b-v,C=S-g,O=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],E=u.mapArray(O,function(Q,se,le){var Me=e.dataToPoint([Q,se]);return Me[0]-=v,Me[1]-=g,Me.push(le),Me}),I=i.getExtent(),W=i.type==="visualMap.continuous"?F6(I,i.option.range):B6(I,i.getPieceList(),i.option.selected);f.update(E,M,C,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},W);var H=new cs({style:{width:M,height:C,x:v,y:g,image:f.canvas},silent:!0});this.group.add(H)},t.type="heatmap",t}(Te),V6=z6,H6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return Pd(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=wd.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Io),G6=H6;function U6(n){n.registerChartView(V6),n.registerSeriesModel(G6)}var W6=["itemStyle","borderWidth"],dD=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],YC=new Bc,K6=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,f=u.getBaseAxis(),d=f.isHorizontal(),h=u.master.getRect(),v={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:u,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:d,valueDim:dD[+d],categoryDim:dD[1-+d]};return s.diff(l).add(function(g){if(!!s.hasValue(g)){var b=bD(s,g),S=hD(s,g,b,v),M=xD(s,v,S);s.setItemGraphicEl(g,M),a.add(M),MD(M,v,S)}}).update(function(g,b){var S=l.getItemGraphicEl(b);if(!s.hasValue(g)){a.remove(S);return}var M=bD(s,g),C=hD(s,g,M,v),O=wD(s,C);S&&O!==S.__pictorialShapeStr&&(a.remove(S),s.setItemGraphicEl(g,null),S=null),S?q6(S,v,C):S=xD(s,v,C,!0),s.setItemGraphicEl(g,S),S.__pictorialSymbolMeta=C,a.add(S),MD(S,v,C)}).remove(function(g){var b=l.getItemGraphicEl(g);b&&SD(l,g,b.__pictorialSymbolMeta.animationModel,b)}).execute(),this._data=s,this.group},t.prototype.remove=function(e,r){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(s){SD(a,Yr(s).dataIndex,e,s)}):i.removeAll()},t.type="pictorialBar",t}(Te);function hD(n,t,e,r){var i=n.getItemLayout(t),a=e.get("symbolRepeat"),s=e.get("symbolClip"),l=e.get("symbolPosition")||"start",u=e.get("symbolRotate"),f=(u||0)*Math.PI/180||0,d=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),v={dataIndex:t,layout:i,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:f,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};Y6(e,a,i,r,v),X6(n,t,i,a,s,v.boundingLength,v.pxSign,d,r,v),Z6(e,v.symbolScale,f,r,v);var g=v.symbolSize,b=gt(e.get("symbolOffset"),g);return $6(e,g,i,a,s,b,l,v.valueLineWidth,v.boundingLength,v.repeatCutLength,r,v),v}function Y6(n,t,e,r,i){var a=r.valueDim,s=n.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),f=1-+(e[a.wh]<=0),d;if(y.isArray(s)){var h=[XC(l,s[0])-u,XC(l,s[1])-u];h[1]<h[0]&&h.reverse(),d=h[f]}else s!=null?d=XC(l,s)-u:t?d=r.coordSysExtent[a.index][f]-u:d=e[a.wh];i.boundingLength=d,t&&(i.repeatCutLength=e[a.wh]),i.pxSign=d>0?1:-1}function XC(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function X6(n,t,e,r,i,a,s,l,u,f){var d=u.valueDim,h=u.categoryDim,v=Math.abs(e[h.wh]),g=n.getItemVisual(t,"symbolSize"),b;y.isArray(g)?b=g.slice():g==null?b=["100%","100%"]:b=[g,g],b[h.index]=Yn(b[h.index],v),b[d.index]=Yn(b[d.index],r?v:Math.abs(a)),f.symbolSize=b;var S=f.symbolScale=[b[0]/l,b[1]/l];S[d.index]*=(u.isHorizontal?-1:1)*s}function Z6(n,t,e,r,i){var a=n.get(W6)||0;a&&(YC.attr({scaleX:t[0],scaleY:t[1],rotation:e}),YC.updateTransform(),a/=YC.getLineScale(),a*=t[r.valueDim.index]),i.valueLineWidth=a}function $6(n,t,e,r,i,a,s,l,u,f,d,h){var v=d.categoryDim,g=d.valueDim,b=h.pxSign,S=Math.max(t[g.index]+l,0),M=S;if(r){var C=Math.abs(u),O=y.retrieve(n.get("symbolMargin"),"15%")+"",E=!1;O.lastIndexOf("!")===O.length-1&&(E=!0,O=O.slice(0,O.length-1));var I=Yn(O,t[g.index]),W=Math.max(S+I*2,0),H=E?0:I*2,Q=Js(r),se=Q?r:_D((C+H)/W),le=C-se*S;I=le/2/(E?se:Math.max(se-1,1)),W=S+I*2,H=E?0:I*2,!Q&&r!=="fixed"&&(se=f?_D((Math.abs(f)+H)/W):0),M=se*W-H,h.repeatTimes=se,h.symbolMargin=I}var Me=b*(M/2),xe=h.pathPosition=[];xe[v.index]=e[v.wh]/2,xe[g.index]=s==="start"?Me:s==="end"?u-Me:u/2,a&&(xe[0]+=a[0],xe[1]+=a[1]);var Be=h.bundlePosition=[];Be[v.index]=e[v.xy],Be[g.index]=e[g.xy];var ze=h.barRectShape=y.extend({},e);ze[g.wh]=b*Math.max(Math.abs(e[g.wh]),Math.abs(xe[g.index]+Me)),ze[v.wh]=e[v.wh];var it=h.clipShape={};it[v.xy]=-e[v.xy],it[v.wh]=d.ecSize[v.wh],it[g.xy]=0,it[g.wh]=e[g.wh]}function pD(n){var t=n.symbolPatternSize,e=Ts(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function vD(n,t,e,r){var i=n.__pictorialBundle,a=e.symbolSize,s=e.valueLineWidth,l=e.pathPosition,u=t.valueDim,f=e.repeatTimes||0,d=0,h=a[t.valueDim.index]+s+e.symbolMargin*2;for(ZC(n,function(S){S.__pictorialAnimationIndex=d,S.__pictorialRepeatTimes=f,d<f?fy(S,null,b(d),e,r):fy(S,null,{scaleX:0,scaleY:0},e,r,function(){i.remove(S)}),d++});d<f;d++){var v=pD(e);v.__pictorialAnimationIndex=d,v.__pictorialRepeatTimes=f,i.add(v);var g=b(d);fy(v,{x:g.x,y:g.y,scaleX:0,scaleY:0},{scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation},e,r)}function b(S){var M=l.slice(),C=e.pxSign,O=S;return(e.symbolRepeatDirection==="start"?C>0:C<0)&&(O=f-1-S),M[u.index]=h*(O-f/2+.5)+l[u.index],{x:M[0],y:M[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function gD(n,t,e,r){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?fy(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(a=n.__pictorialMainPath=pD(e),i.add(a),fy(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function mD(n,t,e){var r=y.extend({},t.barRectShape),i=n.__pictorialBarRect;i?fy(i,null,{shape:r},t,e):(i=n.__pictorialBarRect=new Bi({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function yD(n,t,e,r){if(e.symbolClip){var i=n.__pictorialClipPath,a=y.extend({},e.clipShape),s=t.valueDim,l=e.animationModel,u=e.dataIndex;if(i)Ea(i,{shape:a},l,u);else{a[s.wh]=0,i=new Bi({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var f={};f[s.wh]=e.clipShape[s.wh],re[r?"updateProps":"initProps"](i,{shape:f},l,u)}}}function bD(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=J6,e.isAnimationEnabled=Q6,e}function J6(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function Q6(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function xD(n,t,e,r){var i=new Wr,a=new Wr;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?vD(i,t,e):gD(i,t,e),mD(i,e,r),yD(i,t,e,r),i.__pictorialShapeStr=wD(n,e),i.__pictorialSymbolMeta=e,i}function q6(n,t,e){var r=e.animationModel,i=e.dataIndex,a=n.__pictorialBundle;Ea(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},r,i),e.symbolRepeat?vD(n,t,e,!0):gD(n,t,e,!0),mD(n,e,!0),yD(n,t,e,!0)}function SD(n,t,e,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];ZC(r,function(s){a.push(s)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),y.each(a,function(s){vd(s,{scaleX:0,scaleY:0},e,t,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(t,null)}function wD(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ZC(n,t,e){y.each(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&t.call(e,r)})}function fy(n,t,e,r,i,a){t&&n.attr(t),r.symbolClip&&!i?e&&n.attr(e):e&&re[i?"updateProps":"initProps"](n,e,r.animationModel,r.dataIndex,a)}function MD(n,t,e){var r=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),l=i.getModel(["blur","itemStyle"]).getItemStyle(),u=i.getModel(["select","itemStyle"]).getItemStyle(),f=i.getShallow("cursor"),d=a.get("focus"),h=a.get("blurScope"),v=a.get("scale");ZC(n,function(S){if(S instanceof cs){var M=S.style;S.useStyle(y.extend({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},e.style))}else S.useStyle(e.style);var C=S.ensureState("emphasis");C.style=s,v&&(C.scaleX=S.scaleX*1.1,C.scaleY=S.scaleY*1.1),S.ensureState("blur").style=l,S.ensureState("select").style=u,f&&(S.cursor=f),S.z2=e.z2});var g=t.valueDim.posDesc[+(e.boundingLength>0)],b=n.__pictorialBarRect;jl(b,al(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:ty(t.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:g}),ys(n,d,h,a.get("disabled"))}function _D(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var e8=K6,t8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Bf(SS.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(SS),n8=t8;function r8(n){n.registerChartView(e8),n.registerSeriesModel(n8),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Object(y.curry)(kE,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,jE("pictorialBar"))}var i8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,r,i){var a=e.getData(),s=this,l=this.group,u=e.getLayerSeries(),f=a.getLayout("layoutInfo"),d=f.rect,h=f.boundaryGap;l.x=0,l.y=d.y+h[0];function v(M){return M.name}var g=new Oh(this._layersSeries||[],u,v,v),b=[];g.add(Object(y.bind)(S,this,"add")).update(Object(y.bind)(S,this,"update")).remove(Object(y.bind)(S,this,"remove")).execute();function S(M,C,O){var E=s._layers;if(M==="remove"){l.remove(E[C]);return}for(var I=[],W=[],H,Q=u[C].indices,se=0;se<Q.length;se++){var le=a.getItemLayout(Q[se]),Me=le.x,xe=le.y0,Be=le.y;I.push(Me,xe),W.push(Me,xe+Be),H=a.getItemVisual(Q[se],"style")}var ze,it=a.getItemLayout(Q[0]),pt=e.getModel("label"),At=pt.get("margin"),ln=e.getModel("emphasis");if(M==="add"){var Qt=b[C]=new Wr;ze=new J2({shape:{points:I,stackedOnPoints:W,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Qt.add(ze),l.add(Qt),e.isAnimationEnabled()&&ze.setClipPath(a8(ze.getBoundingRect(),e,function(){ze.removeClipPath()}))}else{var Qt=E[O];ze=Qt.childAt(0),l.add(Qt),b[C]=Qt,Ea(ze,{shape:{points:I,stackedOnPoints:W}},e),Dc(ze)}jl(ze,al(e),{labelDataIndex:Q[se-1],defaultText:a.getName(Q[se-1]),inheritColor:H.fill},{normal:{verticalAlign:"middle"}}),ze.setTextConfig({position:null,local:!0});var vn=ze.getTextContent();vn&&(vn.x=it.x-At,vn.y=it.y0+it.y/2),ze.useStyle(H),a.setItemGraphicEl(C,ze),ml(ze,e),ys(ze,ln.get("focus"),ln.get("blurScope"),ln.get("disabled"))}this._layersSeries=u,this._layers=b},t.type="themeRiver",t}(Te);function a8(n,t,e){var r=new Bi({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Jo(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},t,e),r}var o8=i8,$C=2,s8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Rb(y.bind(this.getData,this),y.bind(this.getRawData,this))},t.prototype.fixData=function(e){var r=e.length,i={},a=fv(e,function(v){return i.hasOwnProperty(v[0]+"")||(i[v[0]+""]=-1),v[2]}),s=[];a.buckets.each(function(v,g){s.push({name:g,dataList:v})});for(var l=s.length,u=0;u<l;++u){for(var f=s[u].name,d=0;d<s[u].dataList.length;++d){var h=s[u].dataList[d][0]+"";i[h]=u}for(var h in i)i.hasOwnProperty(h)&&i[h]!==u&&(i[h]=u,e[r]=[h,0,f],r++)}return e},t.prototype.getInitialData=function(e,r){for(var i=this.getReferringComponents("singleAxis",Wo).models[0],a=i.get("type"),s=y.filter(e.data,function(b){return b[2]!==void 0}),l=this.fixData(s||[]),u=[],f=this.nameMap=y.createHashMap(),d=0,h=0;h<l.length;++h)u.push(l[h][$C]),f.get(l[h][$C])||(f.set(l[h][$C],d),d++);var v=Jm(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:tS(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,g=new Tu(v,this);return g.initData(l),g},t.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),i=[],a=0;a<r;++a)i[a]=a;var s=e.mapDimension("single"),l=fv(i,function(f){return e.get("name",f)}),u=[];return l.buckets.each(function(f,d){f.sort(function(h,v){return e.get(s,h)-e.get(s,v)}),u.push({name:d,indices:f})}),u},t.prototype.getAxisTooltipData=function(e,r,i){y.isArray(e)||(e=e?[e]:[]);for(var a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,f,d=0;d<u;++d){for(var h=Number.MAX_VALUE,v=-1,g=s[d].indices.length,b=0;b<g;++b){var S=a.get(e[0],s[d].indices[b]),M=Math.abs(S-r);M<=h&&(f=S,h=M,v=s[d].indices[b])}l.push(v)}return{dataIndices:l,nestestValue:f}},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=a.getName(e),l=a.get(a.mapDimension("value"),e);return Ys("nameValue",{name:s,value:l})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Io),l8=s8;function u8(n,t){n.eachSeriesByType("themeRiver",function(e){var r=e.getData(),i=e.coordinateSystem,a={},s=i.getRect();a.rect=s;var l=e.get("boundaryGap"),u=i.getAxis();if(a.boundaryGap=l,u.orient==="horizontal"){l[0]=Yn(l[0],s.height),l[1]=Yn(l[1],s.height);var f=s.height-l[0]-l[1];CD(r,e,f)}else{l[0]=Yn(l[0],s.width),l[1]=Yn(l[1],s.width);var d=s.width-l[0]-l[1];CD(r,e,d)}r.setLayout("layoutInfo",a)})}function CD(n,t,e){if(!!n.count())for(var r=t.coordinateSystem,i=t.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),l=y.map(i,function(M){return y.map(M.indices,function(C){var O=r.dataToPoint(n.get(a,C));return O[1]=n.get(s,C),O})}),u=c8(l),f=u.y0,d=e/u.max,h=i.length,v=i[0].indices.length,g,b=0;b<v;++b){g=f[b]*d,n.setItemLayout(i[0].indices[b],{layerIndex:0,x:l[0][b][0],y0:g,y:l[0][b][1]*d});for(var S=1;S<h;++S)g+=l[S-1][b][1]*d,n.setItemLayout(i[S].indices[b],{layerIndex:S,x:l[S][b][0],y0:g,y:l[S][b][1]*d})}}function c8(n){for(var t=n.length,e=n[0].length,r=[],i=[],a=0,s=0;s<e;++s){for(var l=0,u=0;u<t;++u)l+=n[u][s][1];l>a&&(a=l),r.push(l)}for(var f=0;f<e;++f)i[f]=(a-r[f])/2;a=0;for(var d=0;d<e;++d){var h=r[d]+i[d];h>a&&(a=h)}return{y0:i,max:a}}function f8(n){n.registerChartView(o8),n.registerSeriesModel(l8),n.registerLayout(u8),n.registerProcessor(Db("themeRiver"))}var d8=2,h8=4,p8=function(n){ve(t,n);function t(e,r,i,a){var s=n.call(this)||this;s.z2=d8,s.textConfig={inside:!0},Yr(s).seriesIndex=r.seriesIndex;var l=new Fi({z2:h8,silent:e.getModel().get(["label","silent"])});return s.setTextContent(l),s.updateData(!0,e,r,i,a),s}return t.prototype.updateData=function(e,r,i,a,s){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var l=this;Yr(l).dataIndex=r.dataIndex;var u=r.getModel(),f=u.getModel("emphasis"),d=r.getLayout(),h=y.extend({},d);h.label=null;var v=r.getVisual("style");v.lineJoin="bevel";var g=r.getVisual("decal");g&&(v.decal=db(g,s));var b=ny(u.getModel("itemStyle"),h,!0);y.extend(h,b),y.each(Do,function(O){var E=l.ensureState(O),I=u.getModel([O,"itemStyle"]);E.style=I.getItemStyle();var W=ny(I,h);W&&(E.shape=W)}),e?(l.setShape(h),l.shape.r=d.r0,Ea(l,{shape:{r:d.r}},i,r.dataIndex)):(Ea(l,{shape:h},i),Dc(l)),l.useStyle(v),this._updateLabel(i);var S=u.getShallow("cursor");S&&l.attr("cursor",S),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var M=f.get("focus"),C=M==="ancestor"?r.getAncestorsIndices():M==="descendant"?r.getDescendantIndices():M;ys(this,C,f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e){var r=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),l=s.endAngle-s.startAngle,u=(s.startAngle+s.endAngle)/2,f=Math.cos(u),d=Math.sin(u),h=this,v=h.getTextContent(),g=this.node.dataIndex,b=a.get("minAngle")/180*Math.PI,S=a.get("show")&&!(b!=null&&Math.abs(l)<b);v.ignore=!S,y.each(Pc,function(C){var O=C==="normal"?i.getModel("label"):i.getModel([C,"label"]),E=C==="normal",I=E?v:v.ensureState(C),W=e.getFormattedLabel(g,C);E&&(W=W||r.node.name),I.style=bs(O,{},null,C!=="normal",!0),W&&(I.style.text=W);var H=O.get("show");H!=null&&!E&&(I.ignore=!H);var Q=M(O,"position"),se=E?h:h.states[C],le=se.style.fill;se.textConfig={outsideFill:O.get("color")==="inherit"?le:null,inside:Q!=="outside"};var Me,xe=M(O,"distance")||0,Be=M(O,"align");Q==="outside"?(Me=s.r+xe,Be=u>Math.PI/2?"right":"left"):!Be||Be==="center"?(Me=(s.r+s.r0)/2,Be="center"):Be==="left"?(Me=s.r0+xe,u>Math.PI/2&&(Be="right")):Be==="right"&&(Me=s.r-xe,u>Math.PI/2&&(Be="left")),I.style.align=Be,I.style.verticalAlign=M(O,"verticalAlign")||"middle",I.x=Me*f+s.cx,I.y=Me*d+s.cy;var ze=M(O,"rotate"),it=0;ze==="radial"?(it=-u,it<-Math.PI/2&&(it+=Math.PI)):ze==="tangential"?(it=Math.PI/2-u,it>Math.PI/2?it-=Math.PI:it<-Math.PI/2&&(it+=Math.PI)):y.isNumber(ze)&&(it=ze*Math.PI/180),I.rotation=it});function M(C,O){var E=C.get(O);return E==null?a.get(O):E}v.dirtyStyle()},t}(Vl),TD=p8,JC="sunburstRootToNode",OD="sunburstHighlight",v8="sunburstUnhighlight";function g8(n){n.registerAction({type:JC,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(i,a){var s=zb(t,[JC],i);if(s){var l=i.getViewRoot();l&&(t.direction=tC(l,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),n.registerAction({type:OD,update:"none"},function(t,e,r){t=Object(y.extend)({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var s=zb(t,[OD],a);s&&(t.dataIndex=s.node.dataIndex)}r.dispatchAction(Object(y.extend)(t,{type:"highlight"}))}),n.registerAction({type:v8,update:"updateView"},function(t,e,r){t=Object(y.extend)({},t),r.dispatchAction(Object(y.extend)(t,{type:"downplay"}))})}var m8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,a){var s=this;this.seriesModel=e,this.api=i,this.ecModel=r;var l=e.getData(),u=l.tree.root,f=e.getViewRoot(),d=this.group,h=e.get("renderLabelForZeroData"),v=[];f.eachNode(function(O){v.push(O)});var g=this._oldChildren||[];b(v,g),C(u,f),this._initEvents(),this._oldChildren=v;function b(O,E){if(O.length===0&&E.length===0)return;new Oh(E,O,I,I).add(W).update(W).remove(y.curry(W,null)).execute();function I(H){return H.getId()}function W(H,Q){var se=H==null?null:O[H],le=Q==null?null:E[Q];S(se,le)}}function S(O,E){if(!h&&O&&!O.getValue()&&(O=null),O!==u&&E!==u){if(E&&E.piece)O?(E.piece.updateData(!1,O,e,r,i),l.setItemGraphicEl(O.dataIndex,E.piece)):M(E);else if(O){var I=new TD(O,e,r,i);d.add(I),l.setItemGraphicEl(O.dataIndex,I)}}}function M(O){!O||O.piece&&(d.remove(O.piece),O.piece=null)}function C(O,E){E.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,O,e,r,i):(s.virtualPiece=new TD(O,e,r,i),d.add(s.virtualPiece)),E.piece.off("click"),s.virtualPiece.on("click",function(I){s._rootToNode(E.parentNode)})):s.virtualPiece&&(d.remove(s.virtualPiece),s.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===r.target){var l=s.getModel().get("nodeClick");if(l==="rootToNode")e._rootToNode(s);else if(l==="link"){var u=s.getModel(),f=u.get("link");if(f){var d=u.get("target",!0)||"_blank";yd(f,d)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:JC,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=e[0]-a.cx,l=e[1]-a.cy,u=Math.sqrt(s*s+l*l);return u<=a.r&&u>=a.r0}},t.type="sunburst",t}(Te),y8=m8,b8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};ED(i);var a=this._levelModels=y.map(e.levels||[],function(u){return new Mo(u,this,r)},this),s=eC.createTree(i,this,l);function l(u){u.wrapMethod("getItemModel",function(f,d){var h=s.getNodeByDataIndex(d),v=a[h.depth];return v&&(f.parentModel=v),f})}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=NS(i,this),r},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){kP(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Io);function ED(n){var t=0;y.each(n.children,function(r){ED(r);var i=r.value;y.isArray(i)&&(i=i[0]),t+=i});var e=n.value;y.isArray(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),y.isArray(n.value)?n.value[0]=e:n.value=e}var x8=b8,AD=Math.PI/180;function S8(n,t,e){t.eachSeriesByType(n,function(r){var i=r.get("center"),a=r.get("radius");y.isArray(a)||(a=[0,a]),y.isArray(i)||(i=[i,i]);var s=e.getWidth(),l=e.getHeight(),u=Math.min(s,l),f=Yn(i[0],s),d=Yn(i[1],l),h=Yn(a[0],u/2),v=Yn(a[1],u/2),g=-r.get("startAngle")*AD,b=r.get("minAngle")*AD,S=r.getData().tree.root,M=r.getViewRoot(),C=M.depth,O=r.get("sort");O!=null&&PD(M,O);var E=0;y.each(M.children,function(At){!isNaN(At.getValue())&&E++});var I=M.getValue(),W=Math.PI/(I||E)*2,H=M.depth>0,Q=M.height-(H?-1:1),se=(v-h)/(Q||1),le=r.get("clockwise"),Me=r.get("stillShowZeroSum"),xe=le?1:-1,Be=function(At,ln){if(!!At){var Qt=ln;if(At!==S){var vn=At.getValue(),Gn=I===0&&Me?W:vn*W;Gn<b&&(Gn=b),Qt=ln+xe*Gn;var fr=At.depth-C-(H?-1:1),Er=h+se*fr,li=h+se*(fr+1),na=r.getLevelModel(At);if(na){var go=na.get("r0",!0),co=na.get("r",!0),ha=na.get("radius",!0);ha!=null&&(go=ha[0],co=ha[1]),go!=null&&(Er=Yn(go,u/2)),co!=null&&(li=Yn(co,u/2))}At.setLayout({angle:Gn,startAngle:ln,endAngle:Qt,clockwise:le,cx:f,cy:d,r0:Er,r:li})}if(At.children&&At.children.length){var ui=0;y.each(At.children,function(ga){ui+=Be(ga,ln+ui)})}return Qt-ln}};if(H){var ze=h,it=h+se,pt=Math.PI*2;S.setLayout({angle:pt,startAngle:g,endAngle:g+pt,clockwise:le,cx:f,cy:d,r0:ze,r:it})}Be(M,g)})}function PD(n,t){var e=n.children||[];n.children=w8(e,t),e.length&&y.each(n.children,function(r){PD(r,t)})}function w8(n,t){if(y.isFunction(t)){var e=y.map(n,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),y.map(e,function(i){return n[i.index]})}else{var r=t==="asc";return n.sort(function(i,a){var s=(i.getValue()-a.getValue())*(r?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(r?-1:1):s})}}function M8(n){var t={};function e(r,i,a){for(var s=r;s&&s.depth>1;)s=s.parentNode;var l=i.getColorFromPalette(s.name||s.dataIndex+"",t);return r.depth>1&&Object(y.isString)(l)&&(l=Object(oa.lift)(l,(r.depth-1)/(a-1)*.5)),l}n.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(s){var l=s.getModel(),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e(s,r,a.root.height));var f=i.ensureUniqueItemVisual(s.dataIndex,"style");Object(y.extend)(f,u)})})}function _8(n){n.registerChartView(y8),n.registerSeriesModel(x8),n.registerLayout(Object(y.curry)(S8,"sunburst")),n.registerProcessor(Object(y.curry)(Db,"sunburst")),n.registerVisual(M8),g8(n)}var LD={color:"fill",borderColor:"stroke"},C8={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ih=Yi(),T8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,r){return Pd(null,this)},t.prototype.getDataParams=function(e,r,i){var a=n.prototype.getDataParams.call(this,e,r);return i&&(a.info=Ih(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Io),O8=T8;function E8(n,t){return t=t||[0,0],y.map(["x","y"],function(e,r){var i=this.getAxis(e),a=t[r],s=n[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function A8(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:y.bind(E8,n)}}}function P8(n,t){return t=t||[0,0],y.map([0,1],function(e){var r=t[e],i=n[e]/2,a=[],s=[];return a[e]=r-i,s[e]=r+i,a[1-e]=s[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(s)[e])},this)}function L8(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:y.bind(P8,n)}}}function D8(n,t){var e=this.getAxis(),r=t instanceof Array?t[0]:t,i=(n instanceof Array?n[0]:n)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(r-i)-e.dataToCoord(r+i))}function R8(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:Object(y.bind)(D8,n)}}}function I8(n,t){return t=t||[0,0],y.map(["Radius","Angle"],function(e,r){var i="get"+e+"Axis",a=this[i](),s=t[r],l=n[r]/2,u=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-l)-a.dataToCoord(s+l));return e==="Angle"&&(u=u*Math.PI/180),u},this)}function N8(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),s=e.dataToAngle(i[1]),l=n.coordToPoint([a,s]);return l.push(a,s*Math.PI/180),l},size:y.bind(I8,n)}}}function k8(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)}}}}var BY={};function DD(n,t,e,r){return n&&(n.legacy||n.legacy!==!1&&!e&&!r&&t!=="tspan"&&(t==="text"||Object(y.hasOwn)(n,"text")))}function RD(n,t,e){var r=n,i,a,s;if(t==="text")s=r;else{s={},Object(y.hasOwn)(r,"text")&&(s.text=r.text),Object(y.hasOwn)(r,"rich")&&(s.rich=r.rich),Object(y.hasOwn)(r,"textFill")&&(s.fill=r.textFill),Object(y.hasOwn)(r,"textStroke")&&(s.stroke=r.textStroke),Object(y.hasOwn)(r,"fontFamily")&&(s.fontFamily=r.fontFamily),Object(y.hasOwn)(r,"fontSize")&&(s.fontSize=r.fontSize),Object(y.hasOwn)(r,"fontStyle")&&(s.fontStyle=r.fontStyle),Object(y.hasOwn)(r,"fontWeight")&&(s.fontWeight=r.fontWeight),a={type:"text",style:s,silent:!0},i={};var l=Object(y.hasOwn)(r,"textPosition");e?i.position=l?r.textPosition:"inside":l&&(i.position=r.textPosition),Object(y.hasOwn)(r,"textPosition")&&(i.position=r.textPosition),Object(y.hasOwn)(r,"textOffset")&&(i.offset=r.textOffset),Object(y.hasOwn)(r,"textRotation")&&(i.rotation=r.textRotation),Object(y.hasOwn)(r,"textDistance")&&(i.distance=r.textDistance)}return ID(s,n),Object(y.each)(s.rich,function(u){ID(u,u)}),{textConfig:i,textContent:a}}function ID(n,t){!t||(t.font=t.textFont||t.font,Object(y.hasOwn)(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),Object(y.hasOwn)(t,"textAlign")&&(n.align=t.textAlign),Object(y.hasOwn)(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),Object(y.hasOwn)(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),Object(y.hasOwn)(t,"textWidth")&&(n.width=t.textWidth),Object(y.hasOwn)(t,"textHeight")&&(n.height=t.textHeight),Object(y.hasOwn)(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),Object(y.hasOwn)(t,"textPadding")&&(n.padding=t.textPadding),Object(y.hasOwn)(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),Object(y.hasOwn)(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),Object(y.hasOwn)(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),Object(y.hasOwn)(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),Object(y.hasOwn)(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),Object(y.hasOwn)(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),Object(y.hasOwn)(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function ND(n,t,e){var r=n;r.textPosition=r.textPosition||e.position||"inside",e.offset!=null&&(r.textOffset=e.offset),e.rotation!=null&&(r.textRotation=e.rotation),e.distance!=null&&(r.textDistance=e.distance);var i=r.textPosition.indexOf("inside")>=0,a=n.fill||"#000";kD(r,t);var s=r.textFill==null;return i?s&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(s&&(r.textFill=n.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=t.text,r.rich=t.rich,Object(y.each)(t.rich,function(l){kD(l,l)}),r}function kD(n,t){!t||(Object(y.hasOwn)(t,"fill")&&(n.textFill=t.fill),Object(y.hasOwn)(t,"stroke")&&(n.textStroke=t.fill),Object(y.hasOwn)(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),Object(y.hasOwn)(t,"font")&&(n.font=t.font),Object(y.hasOwn)(t,"fontStyle")&&(n.fontStyle=t.fontStyle),Object(y.hasOwn)(t,"fontWeight")&&(n.fontWeight=t.fontWeight),Object(y.hasOwn)(t,"fontSize")&&(n.fontSize=t.fontSize),Object(y.hasOwn)(t,"fontFamily")&&(n.fontFamily=t.fontFamily),Object(y.hasOwn)(t,"align")&&(n.textAlign=t.align),Object(y.hasOwn)(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),Object(y.hasOwn)(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),Object(y.hasOwn)(t,"width")&&(n.textWidth=t.width),Object(y.hasOwn)(t,"height")&&(n.textHeight=t.height),Object(y.hasOwn)(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),Object(y.hasOwn)(t,"padding")&&(n.textPadding=t.padding),Object(y.hasOwn)(t,"borderColor")&&(n.textBorderColor=t.borderColor),Object(y.hasOwn)(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),Object(y.hasOwn)(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),Object(y.hasOwn)(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),Object(y.hasOwn)(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),Object(y.hasOwn)(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),Object(y.hasOwn)(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),Object(y.hasOwn)(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),Object(y.hasOwn)(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),Object(y.hasOwn)(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),Object(y.hasOwn)(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}function FY(n,t){if(!1)var e}var jD={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},BD=Object(y.keys)(jD),zY=Object(y.reduce)(lu,function(n,t){return n[t]=1,n},{}),VY=lu.join(", "),XS=["","style","shape","extra"],dy=Yi();function QC(n,t,e,r,i){var a=n+"Animation",s=ip(n,r,i)||{},l=dy(t).userDuring;return s.duration>0&&(s.during=l?Object(y.bind)(V8,{el:t,userDuring:l}):null,s.setToFinal=!0,s.scope=n),Object(y.extend)(s,e[a]),s}function ZS(n,t,e,r){r=r||{};var i=r.dataIndex,a=r.isInit,s=r.clearStyle,l=e.isAnimationEnabled(),u=dy(n),f=t.style;u.userDuring=t.during;var d={},h={};if(G8(n,t,h),VD("shape",t,h),VD("extra",t,h),!a&&l&&(H8(n,t,d),zD("shape",n,t,d),zD("extra",n,t,d),U8(n,t,f,d)),h.style=f,j8(n,h,s),F8(n,t),l)if(a){var v={};Object(y.each)(XS,function(b){var S=b?t[b]:t;S&&S.enterFrom&&(b&&(v[b]=v[b]||{}),Object(y.extend)(b?v[b]:v,S.enterFrom))});var g=QC("enter",n,t,e,i);g.duration>0&&n.animateFrom(v,g)}else B8(n,t,i||0,e,d);FD(n,t),f?n.dirty():n.markRedraw()}function FD(n,t){for(var e=dy(n).leaveToProps,r=0;r<XS.length;r++){var i=XS[r],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=dy(n).leaveToProps={}),i&&(e[i]=e[i]||{}),Object(y.extend)(i?e[i]:e,a.leaveTo))}}function $S(n,t,e,r){if(n){var i=n.parent,a=dy(n).leaveToProps;if(a){var s=QC("update",n,t,e,0);s.done=function(){i.remove(n),r&&r()},n.animateTo(a,s)}else i.remove(n),r&&r()}}function kg(n){return n==="all"}function j8(n,t,e){var r=t.style;if(!n.isGroup&&r){if(e){n.useStyle({});for(var i=n.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(n.style)}}n.setStyle(r)}t&&(t.style=null,t&&n.attr(t),t.style=r)}function B8(n,t,e,r,i){if(i){var a=QC("update",n,t,r,e);a.duration>0&&n.animateFrom(i,a)}}function F8(n,t){Object(y.hasOwn)(t,"silent")&&(n.silent=t.silent),Object(y.hasOwn)(t,"ignore")&&(n.ignore=t.ignore),n instanceof N&&Object(y.hasOwn)(t,"invisible")&&(n.invisible=t.invisible),n instanceof ir&&Object(y.hasOwn)(t,"autoBatch")&&(n.autoBatch=t.autoBatch)}var Nd={},z8={setTransform:function(n,t){return Nd.el[n]=t,this},getTransform:function(n){return Nd.el[n]},setShape:function(n,t){var e=Nd.el,r=e.shape||(e.shape={});return r[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=Nd.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=Nd.el,r=e.style;return r&&(r[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=Nd.el.style;if(t)return t[n]},setExtra:function(n,t){var e=Nd.el.extra||(Nd.el.extra={});return e[n]=t,this},getExtra:function(n){var t=Nd.el.extra;if(t)return t[n]}};function HY(n){}function V8(){var n=this,t=n.el;if(!!t){var e=dy(t).userDuring,r=n.userDuring;if(e!==r){n.el=n.userDuring=null;return}Nd.el=t,r(z8)}}function zD(n,t,e,r){var i=e[n];if(!!i){var a=t[n],s;if(a){var l=e.transition,u=i.transition;if(u)if(!s&&(s=r[n]={}),kg(u))Object(y.extend)(s,a);else for(var f=Xa(u),d=0;d<f.length;d++){var h=f[d],v=a[h];s[h]=v}else if(kg(l)||Object(y.indexOf)(l,n)>=0){!s&&(s=r[n]={});for(var g=Object(y.keys)(a),d=0;d<g.length;d++){var h=g[d],v=a[h];W8(i[h],v)&&(s[h]=v)}}}}}function VD(n,t,e){var r=t[n];if(!!r)for(var i=e[n]={},a=Object(y.keys)(r),s=0;s<a.length;s++){var l=a[s];i[l]=ru(r[l])}}function H8(n,t,e){for(var r=t.transition,i=kg(r)?lu:Xa(r||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var l=n[s];e[s]=l}}}function G8(n,t,e){for(var r=0;r<BD.length;r++){var i=BD[r],a=jD[i],s=t[i];s&&(e[a[0]]=s[0],e[a[1]]=s[1])}for(var r=0;r<lu.length;r++){var l=lu[r];t[l]!=null&&(e[l]=t[l])}}function U8(n,t,e,r){if(!!e){var i=n.style,a;if(i){var s=e.transition,l=t.transition;if(s&&!kg(s)){var u=Xa(s);!a&&(a=r.style={});for(var f=0;f<u.length;f++){var d=u[f],h=i[d];a[d]=h}}else if(n.getAnimationStyleProps&&(kg(l)||kg(s)||Object(y.indexOf)(l,"style")>=0)){var v=n.getAnimationStyleProps(),g=v?v.style:null;if(g){!a&&(a=r.style={});for(var b=Object(y.keys)(e),f=0;f<b.length;f++){var d=b[f];if(g[d]){var h=i[d];a[d]=h}}}}}}}function W8(n,t){return Object(y.isArrayLike)(n)?n!==t:n!=null&&isFinite(n)}var GY,HD=Yi(),K8=["percent","easing","shape","style","extra"];function GD(n){n.stopAnimation("keyframe"),n.attr(HD(n))}function JS(n,t,e){if(!(!e.isAnimationEnabled()||!t)){if(Object(y.isArray)(t)){Object(y.each)(t,function(l){JS(n,l,e)});return}var r=t.keyframes,i=t.duration;if(e&&i==null){var a=ip("enter",e,0);i=a&&a.duration}if(!(!r||!i)){var s=HD(n);Object(y.each)(XS,function(l){if(!(l&&!n[l])){var u,f=!1;r.sort(function(d,h){return d.percent-h.percent}),Object(y.each)(r,function(d){var h=n.animators,v=l?d[l]:d;if(!!v){var g=Object(y.keys)(v);if(l||(g=Object(y.filter)(g,function(M){return Object(y.indexOf)(K8,M)<0})),!!g.length){u||(u=n.animate(l,t.loop,!0),u.scope="keyframe");for(var b=0;b<h.length;b++)h[b]!==u&&h[b].targetName===u.targetName&&h[b].stopTracks(g);l&&(s[l]=s[l]||{});var S=l?s[l]:s;Object(y.each)(g,function(M){S[M]=((l?n[l]:n)||{})[M]}),u.whenWithKeys(i*d.percent,v,g,d.easing)}}}),!!u&&u.delay(t.delay||0).duration(i).start(t.easing)}})}}}var Nh="emphasis",Zp="normal",qC="blur",eT="select",$p=[Zp,Nh,qC,eT],tT={normal:["itemStyle"],emphasis:[Nh,"itemStyle"],blur:[qC,"itemStyle"],select:[eT,"itemStyle"]},nT={normal:["label"],emphasis:[Nh,"label"],blur:[qC,"label"],select:[eT,"label"]},Y8=["x","y"],X8="e\0\0",bf={normal:{},emphasis:{},blur:{},select:{}},Z8={cartesian2d:A8,geo:L8,singleAxis:R8,polar:N8,calendar:k8};function rT(n){return n instanceof ir}function iT(n){return n instanceof N}function $8(n,t){t.copyTransform(n),iT(t)&&iT(n)&&(t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t.invisible=n.invisible,t.ignore=n.ignore,rT(t)&&rT(n)&&t.setShape(n.shape))}var J8=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,a){this._progressiveEls=null;var s=this._data,l=e.getData(),u=this.group,f=WD(e,l,r,i);s||u.removeAll(),l.diff(s).add(function(h){sT(i,null,h,f(h,a),e,u,l)}).remove(function(h){var v=s.getItemGraphicEl(h);$S(v,Ih(v).option,e)}).update(function(h,v){var g=s.getItemGraphicEl(v);sT(i,g,h,f(h,a),e,u,l)}).execute();var d=e.get("clip",!0)?xS(e.coordinateSystem,!1,e):null;d?u.setClipPath(d):u.removeClipPath(),this._data=l},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,r,i,a,s){var l=r.getData(),u=WD(r,l,i,a),f=this._progressiveEls=[];function d(g){g.isGroup||(g.incremental=!0,g.ensureState("emphasis").hoverLayer=!0)}for(var h=e.start;h<e.end;h++){var v=sT(null,null,h,u(h,s),r,this.group,l);v&&(v.traverse(d),f.push(v))}},t.prototype.eachRendered=function(e){U(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,r,i,a){var s=r.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},t.type="custom",t}(Te),Q8=J8;function aT(n){var t=n.type,e;if(t==="path"){var r=n.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=$D(r);e=Xm(a,null,i,r.layout||"center"),Ih(e).customPathData=a}else if(t==="image")e=new cs({}),Ih(e).customImagePath=n.style.image;else if(t==="text")e=new Fi({});else if(t==="group")e=new Wr;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=lb(t);if(!s){var l="";Za(l)}e=new s}return Ih(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function oT(n,t,e,r,i,a,s){GD(t);var l=i&&i.normal.cfg;l&&t.setTextConfig(l),r&&r.transition==null&&(r.transition=Y8);var u=r&&r.style;if(u){if(t.type==="text"){var f=u;Object(y.hasOwn)(f,"textFill")&&(f.fill=f.textFill),Object(y.hasOwn)(f,"textStroke")&&(f.stroke=f.textStroke)}var d=void 0,h=rT(t)?u.decal:null;n&&h&&(h.dirty=!0,d=db(h,n)),u.__decalPattern=d}if(iT(t)&&u){var d=u.__decalPattern;d&&(u.decal=d)}ZS(t,r,a,{dataIndex:e,isInit:s,clearStyle:!0}),JS(t,r.keyframeAnimation,a)}function UD(n,t,e,r,i){var a=t.isGroup?null:t,s=i&&i[n].cfg;if(a){var l=a.ensureState(n);if(r===!1){var u=a.getState(n);u&&(u.style=null)}else l.style=r||null;s&&(l.textConfig=s),Us(a)}}function q8(n,t,e){if(!n.isGroup){var r=n,i=e.currentZ,a=e.currentZLevel;r.z=i,r.zlevel=a;var s=t.z2;s!=null&&(r.z2=s||0);for(var l=0;l<$p.length;l++)eG(r,t,$p[l])}}function eG(n,t,e){var r=e===Zp,i=r?t:QS(t,e),a=i?i.z2:null,s;a!=null&&(s=r?n:n.ensureState(e),s.z2=a||0)}function WD(n,t,e,r){var i=n.get("renderItem"),a=n.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):Z8[a.type](a));for(var l=Object(y.defaults)({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:I,style:H,ordinalRawValue:W,styleEmphasis:Q,visual:Me,barLayout:xe,currentSeriesIndices:Be,font:ze},s.api||{}),u={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:tG(n.getData())},f,d,h={},v={},g={},b={},S=0;S<$p.length;S++){var M=$p[S];g[M]=n.getModel(tT[M]),b[M]=n.getModel(nT[M])}function C(it){return it===f?d||(d=t.getItemModel(it)):t.getItemModel(it)}function O(it,pt){return t.hasItemOption?it===f?h[pt]||(h[pt]=C(it).getModel(tT[pt])):C(it).getModel(tT[pt]):g[pt]}function E(it,pt){return t.hasItemOption?it===f?v[pt]||(v[pt]=C(it).getModel(nT[pt])):C(it).getModel(nT[pt]):b[pt]}return function(it,pt){return f=it,d=null,h={},v={},i&&i(Object(y.defaults)({dataIndexInside:it,dataIndex:t.getRawIndex(it),actionType:pt?pt.type:null},u),l)};function I(it,pt){return pt==null&&(pt=f),t.getStore().get(t.getDimensionIndex(it||0),pt)}function W(it,pt){pt==null&&(pt=f),it=it||0;var At=t.getDimensionInfo(it);if(!At){var ln=t.getDimensionIndex(it);return ln>=0?t.getStore().get(ln,pt):void 0}var Qt=t.get(At.name,pt),vn=At&&At.ordinalMeta;return vn?vn.categories[Qt]:Qt}function H(it,pt){pt==null&&(pt=f);var At=t.getItemVisual(pt,"style"),ln=At&&At.fill,Qt=At&&At.opacity,vn=O(pt,Zp).getItemStyle();ln!=null&&(vn.fill=ln),Qt!=null&&(vn.opacity=Qt);var Gn={inheritColor:Object(y.isString)(ln)?ln:"#000"},fr=E(pt,Zp),Er=bs(fr,null,Gn,!1,!0);Er.text=fr.getShallow("show")?Object(y.retrieve2)(n.getFormattedLabel(pt,Zp),ty(t,pt)):null;var li=sm(fr,Gn,!1);return le(it,vn),vn=ND(vn,Er,li),it&&se(vn,it),vn.legacy=!0,vn}function Q(it,pt){pt==null&&(pt=f);var At=O(pt,Nh).getItemStyle(),ln=E(pt,Nh),Qt=bs(ln,null,null,!0,!0);Qt.text=ln.getShallow("show")?Object(y.retrieve3)(n.getFormattedLabel(pt,Nh),n.getFormattedLabel(pt,Zp),ty(t,pt)):null;var vn=sm(ln,null,!0);return le(it,At),At=ND(At,Qt,vn),it&&se(At,it),At.legacy=!0,At}function se(it,pt){for(var At in pt)Object(y.hasOwn)(pt,At)&&(it[At]=pt[At])}function le(it,pt){it&&(it.textFill&&(pt.textFill=it.textFill),it.textPosition&&(pt.textPosition=it.textPosition))}function Me(it,pt){if(pt==null&&(pt=f),Object(y.hasOwn)(LD,it)){var At=t.getItemVisual(pt,"style");return At?At[LD[it]]:null}if(Object(y.hasOwn)(C8,it))return t.getItemVisual(pt,it)}function xe(it){if(a.type==="cartesian2d"){var pt=a.getBaseAxis();return YN(Object(y.defaults)({axis:pt},it))}}function Be(){return e.getCurrentSeriesIndices()}function ze(it){return _x(it,e)}}function tG(n){var t={};return Object(y.each)(n.dimensions,function(e){var r=n.getDimensionInfo(e);if(!r.isExtraCoord){var i=r.coordDim,a=t[i]=t[i]||[];a[r.coordDimIndex]=n.getDimensionIndex(e)}}),t}function sT(n,t,e,r,i,a,s){if(!r){a.remove(t);return}var l=lT(n,t,e,r,i,a);return l&&s.setItemGraphicEl(e,l),l&&ys(l,r.focus,r.blurScope,r.emphasisDisabled),l}function lT(n,t,e,r,i,a){var s=-1,l=t;t&&KD(t,r,i)&&(s=Object(y.indexOf)(a.childrenRef(),t),t=null);var u=!t,f=t;f?f.clearStates():(f=aT(r),l&&$8(l,f)),r.morph===!1?f.disableMorphing=!0:f.disableMorphing&&(f.disableMorphing=!1),bf.normal.cfg=bf.normal.conOpt=bf.emphasis.cfg=bf.emphasis.conOpt=bf.blur.cfg=bf.blur.conOpt=bf.select.cfg=bf.select.conOpt=null,bf.isLegacy=!1,rG(f,e,r,i,u,bf),nG(f,e,r,i,u),oT(n,f,e,r,bf,i,u),Object(y.hasOwn)(r,"info")&&(Ih(f).info=r.info);for(var d=0;d<$p.length;d++){var h=$p[d];if(h!==Zp){var v=QS(r,h),g=uT(r,v,h);UD(h,f,v,g,bf)}}return q8(f,r,i),r.type==="group"&&iG(n,f,e,r,i),s>=0?a.replaceAt(f,s):a.add(f),f}function KD(n,t,e){var r=Ih(n),i=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&sG(a)&&$D(a)!==r.customPathData||i==="image"&&Object(y.hasOwn)(s,"image")&&s.image!==r.customImagePath}function nG(n,t,e,r,i){var a=e.clipPath;if(a===!1)n&&n.getClipPath()&&n.removeClipPath();else if(a){var s=n.getClipPath();s&&KD(s,a,r)&&(s=null),s||(s=aT(a),n.setClipPath(s)),oT(null,s,t,a,null,r,i)}}function rG(n,t,e,r,i,a){if(!n.isGroup){YD(e,null,a),YD(e,Nh,a);var s=a.normal.conOpt,l=a.emphasis.conOpt,u=a.blur.conOpt,f=a.select.conOpt;if(s!=null||l!=null||f!=null||u!=null){var d=n.getTextContent();if(s===!1)d&&n.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},d?d.clearStates():(d=aT(s),n.setTextContent(d)),oT(null,d,t,s,null,r,i);for(var h=s&&s.style,v=0;v<$p.length;v++){var g=$p[v];if(g!==Zp){var b=a[g].conOpt;UD(g,d,b,uT(s,b,g),null)}}h?d.dirty():d.markRedraw()}}}}function YD(n,t,e){var r=t?QS(n,t):n,i=t?uT(n,r,Nh):n.style,a=n.type,s=r?r.textConfig:null,l=n.textContent,u=l?t?QS(l,t):l:null;if(i&&(e.isLegacy||DD(i,a,!!s,!!u))){e.isLegacy=!0;var f=RD(i,a,!t);!s&&f.textConfig&&(s=f.textConfig),!u&&f.textContent&&(u=f.textContent)}if(!t&&u){var d=u;!d.type&&(d.type="text")}var h=t?e[t]:e.normal;h.cfg=s,h.conOpt=u}function QS(n,t){return t?n?n[t]:null:n}function uT(n,t,e){var r=t&&t.style;return r==null&&e===Nh&&n&&(r=n.styleEmphasis),r}function iG(n,t,e,r,i){var a=r.children,s=a?a.length:0,l=r.$mergeChildren,u=l==="byName"||r.diffChildrenByName,f=l===!1;if(!(!s&&!u&&!f)){if(u){aG({api:n,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}f&&t.removeAll();for(var d=0;d<s;d++)a[d]&&lT(n,t.childAt(d),e,a[d],i,t);for(var h=t.childCount()-1;h>=d;h--){var v=t.childAt(h);$S(v,Ih(t).option,i)}}}function aG(n){new Oh(n.oldChildren,n.newChildren,XD,XD,n).add(ZD).update(ZD).remove(oG).execute()}function XD(n,t){var e=n&&n.name;return e!=null?e:X8+t}function ZD(n,t){var e=this.context,r=n!=null?e.newChildren[n]:null,i=t!=null?e.oldChildren[t]:null;lT(e.api,i,e.dataIndex,r,e.seriesModel,e.group)}function oG(n){var t=this.context,e=t.oldChildren[n];$S(e,Ih(e).option,t.seriesModel)}function $D(n){return n&&(n.pathData||n.d)}function sG(n){return n&&(Object(y.hasOwn)(n,"pathData")||Object(y.hasOwn)(n,"d"))}function lG(n){n.registerChartView(Q8),n.registerSeriesModel(O8)}var jg=Yi(),JD=y.clone,cT=y.bind,uG=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,r,i){var a=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||s==="hide"){l&&l.hide(),u&&u.hide();return}l&&l.show(),u&&u.show();var f={};this.makeElOption(f,a,t,e,r);var d=f.graphicKey;d!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=d;var h=this._moveAnimation=this.determineAnimation(t,e);if(!l)l=this._group=new Wr,this.createPointerEl(l,f,t,e),this.createLabelEl(l,f,t,e),r.getZr().add(l);else{var v=y.curry(QD,e,h);this.updatePointerEl(l,f,v),this.updateLabelEl(l,f,v,e)}tR(l,e,!0),this._renderHandle(a)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var r=e.get("animation"),i=t.axis,a=i.type==="category",s=e.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var l=this.animationThreshold;if(a&&i.getBandWidth()>l)return!0;if(s){var u=j_(t).seriesDataCount,f=i.getExtent();return Math.abs(f[0]-f[1])/u>l}return!1}return r===!0},n.prototype.makeElOption=function(t,e,r,i,a){},n.prototype.createPointerEl=function(t,e,r,i){var a=e.pointer;if(a){var s=jg(t).pointerEl=new re[a.type](JD(e.pointer));t.add(s)}},n.prototype.createLabelEl=function(t,e,r,i){if(e.label){var a=jg(t).labelEl=new Fi(JD(e.label));t.add(a),eR(a,i)}},n.prototype.updatePointerEl=function(t,e,r){var i=jg(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),r(i,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,r,i){var a=jg(t).labelEl;a&&(a.setStyle(e.label.style),r(a,{x:e.label.x,y:e.label.y}),eR(a,i))},n.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=e.getModel("handle"),s=e.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var l;this._handle||(l=!0,i=this._handle=m(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){Lo(f.event)},onmousedown:cT(this._onHandleDragMove,this,0,0),drift:cT(this._onHandleDragMove,this),ondragend:cT(this._onHandleDragEnd,this)}),r.add(i)),tR(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");y.isArray(u)||(u=[u,u]),i.scaleX=u[0]/2,i.scaleY=u[1]/2,dn(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,l)}},n.prototype._moveHandleToValue=function(t,e){QD(this._axisPointerModel,!e&&this._moveAnimation,this._handle,fT(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(!!r){this._dragging=!0;var i=this.updateHandleTransform(fT(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(fT(i)),jg(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(!!t){var e=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(!!t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,i=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),qt(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}},n}();function QD(n,t,e,r){qD(jg(e).lastProp,r)||(jg(e).lastProp=r,t?Ea(e,r,n):(e.stopAnimation(),e.attr(r)))}function qD(n,t){if(y.isObject(n)&&y.isObject(t)){var e=!0;return y.each(t,function(r,i){e=e&&qD(n[i],r)}),!!e}else return n===t}function eR(n,t){n[t.get(["label","show"])?"show":"hide"]()}function fT(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function tR(n,t,e){var r=t.get("z"),i=t.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=e)})}var dT=uG;function hT(n){var t=n.get("type"),e=n.getModel(t+"Style"),r;return t==="line"?(r=e.getLineStyle(),r.fill=null):t==="shadow"&&(r=e.getAreaStyle(),r.stroke=null),r}function nR(n,t,e,r,i){var a=e.get("value"),s=rR(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),l=e.getModel("label"),u=nf(l.get("padding")||0),f=l.getFont(),d=wc(s,f),h=i.position,v=d.width+u[1]+u[3],g=d.height+u[0]+u[2],b=i.align;b==="right"&&(h[0]-=v),b==="center"&&(h[0]-=v/2);var S=i.verticalAlign;S==="bottom"&&(h[1]-=g),S==="middle"&&(h[1]-=g/2),cG(h,v,g,r);var M=l.get("backgroundColor");(!M||M==="auto")&&(M=t.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:bs(l,{text:s,font:f,fill:l.getTextColor(),padding:u,backgroundColor:M}),z2:10}}function cG(n,t,e,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+t,i)-t,n[1]=Math.min(n[1]+e,a)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function rR(n,t,e,r,i){n=t.scale.parse(n);var a=t.scale.getLabel({value:n},{precision:i.precision}),s=i.formatter;if(s){var l={value:a_(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};y.each(r,function(u){var f=e.getSeriesByIndex(u.seriesIndex),d=u.dataIndexInside,h=f&&f.getDataParams(d);h&&l.seriesData.push(h)}),y.isString(s)?a=s.replace("{value}",a):y.isFunction(s)&&(a=s(l))}return a}function pT(n,t,e){var r=Ze();return fl(r,r,e.rotation),Bo(r,r,e.position),df([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function iR(n,t,e,r,i,a){var s=Lh.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),nR(t,r,i,a,{position:pT(r.axis,n,e),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function vT(n,t,e){return e=e||0,{x1:n[e],y1:n[1-e],x2:t[e],y2:t[1-e]}}function aR(n,t,e){return e=e||0,{x:n[e],y:n[1-e],width:t[e],height:t[1-e]}}function oR(n,t,e,r,i,a){return{cx:n,cy:t,r0:e,r,startAngle:i,endAngle:a,clockwise:!0}}var fG=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,r,i,a,s){var l=i.axis,u=l.grid,f=a.get("type"),d=sR(u,l).getOtherAxis(l).getGlobalExtent(),h=l.toGlobalCoord(l.dataToCoord(r,!0));if(f&&f!=="none"){var v=hT(a),g=dG[f](l,h,d);g.style=v,e.graphicKey=g.type,e.pointer=g}var b=R_(u.model,i);iR(r,e,b,i,a,s)},t.prototype.getHandleTransform=function(e,r,i){var a=R_(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=pT(r.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,a){var s=i.axis,l=s.grid,u=s.getGlobalExtent(!0),f=sR(l,s).getOtherAxis(s).getGlobalExtent(),d=s.dim==="x"?0:1,h=[e.x,e.y];h[d]+=r[d],h[d]=Math.min(u[1],h[d]),h[d]=Math.max(u[0],h[d]);var v=(f[1]+f[0])/2,g=[v,v];g[d]=h[d];var b=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:g,tooltipOption:b[d]}},t}(dT);function sR(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var dG={line:function(n,t,e){var r=vT([t,e[0]],[t,e[1]],lR(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,t,e){var r=Math.max(1,n.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:aR([t-r/2,e[0]],[r,i],lR(n))}}};function lR(n){return n.dim==="x"?0:1}var hG=fG,pG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(xa),vG=pG,kh=Yi(),gG=y.each;function uR(n,t,e){if(!en.a.node){var r=t.getZr();kh(r).records||(kh(r).records={}),mG(r,t);var i=kh(r).records[n]||(kh(r).records[n]={});i.handler=e}}function mG(n,t){if(kh(n).initialized)return;kh(n).initialized=!0,e("click",y.curry(cR,"click")),e("mousemove",y.curry(cR,"mousemove")),e("globalout",bG);function e(r,i){n.on(r,function(a){var s=xG(t);gG(kh(n).records,function(l){l&&i(l,a,s.dispatchAction)}),yG(s.pendings,t)})}}function yG(n,t){var e=n.showTip.length,r=n.hideTip.length,i;e?i=n.showTip[e-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function bG(n,t,e){n.handler("leave",null,e)}function cR(n,t,e,r){t.handler(n,e,r)}function xG(n){var t={showTip:[],hideTip:[]},e=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=e,n.dispatchAction(r))};return{dispatchAction:e,pendings:t}}function gT(n,t){if(!en.a.node){var e=t.getZr(),r=(kh(e).records||{})[n];r&&(kh(e).records[n]=null)}}var SG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=r.getComponent("tooltip"),s=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";uR("axisPointer",i,function(l,u,f){s!=="none"&&(l==="leave"||s.indexOf(l)>=0)&&f({type:"updateAxisPointer",currTrigger:l,x:u&&u.offsetX,y:u&&u.offsetY})})},t.prototype.remove=function(e,r){gT("axisPointer",r)},t.prototype.dispose=function(e,r){gT("axisPointer",r)},t.type="axisPointer",t}(Xo),wG=SG;function fR(n,t){var e=[],r=n.seriesIndex,i;if(r==null||!(i=t.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=Lf(a,n);if(s==null||s<0||y.isArray(s))return{point:[]};var l=a.getItemGraphicEl(s),u=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(n.isStacked){var f=u.getBaseAxis(),d=u.getOtherAxis(f),h=d.dim,v=f.dim,g=h==="x"||h==="radius"?1:0,b=a.mapDimension(v),S=[];S[g]=a.get(b,s),S[1-g]=a.get(a.getCalculationInfo("stackResultDimension"),s),e=u.dataToPoint(S)||[]}else e=u.dataToPoint(a.getValues(y.map(u.dimensions,function(C){return a.mapDimension(C)}),s))||[];else if(l){var M=l.getBoundingRect().clone();M.applyTransform(l.transform),e=[M.x+M.width/2,M.y+M.height/2]}return{point:e,el:l}}var dR=Yi();function MG(n,t,e){var r=n.currTrigger,i=[n.x,n.y],a=n,s=n.dispatchAction||Object(y.bind)(e.dispatchAction,e),l=t.getComponent("axisPointer").coordSysAxesInfo;if(!!l){qS(i)&&(i=fR({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var u=qS(i),f=a.axesInfo,d=l.axesInfo,h=r==="leave"||qS(i),v={},g={},b={list:[],map:{}},S={showPointer:Object(y.curry)(CG,g),showTooltip:Object(y.curry)(TG,b)};Object(y.each)(l.coordSysMap,function(C,O){var E=u||C.containPoint(i);Object(y.each)(l.coordSysAxesInfo[O],function(I,W){var H=I.axis,Q=PG(f,I);if(!h&&E&&(!f||Q)){var se=Q&&Q.value;se==null&&!u&&(se=H.pointToData(i)),se!=null&&hR(I,se,S,!1,v)}})});var M={};return Object(y.each)(d,function(C,O){var E=C.linkGroup;E&&!g[O]&&Object(y.each)(E.axesInfo,function(I,W){var H=g[W];if(I!==C&&H){var Q=H.value;E.mapper&&(Q=C.axis.scale.parse(E.mapper(Q,pR(I),pR(C)))),M[C.key]=Q}})}),Object(y.each)(M,function(C,O){hR(d[O],C,S,!0,v)}),OG(g,d,v),EG(b,i,n,s),AG(d,s,e),v}}function hR(n,t,e,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!n.involveSeries){e.showPointer(n,t);return}var s=_G(t,n),l=s.payloadBatch,u=s.snapToValue;l[0]&&i.seriesIndex==null&&Object(y.extend)(i,l[0]),!r&&n.snap&&a.containData(u)&&u!=null&&(t=u),e.showPointer(n,t,l),e.showTooltip(n,s,u)}}function _G(n,t){var e=t.axis,r=e.dim,i=n,a=[],s=Number.MAX_VALUE,l=-1;return Object(y.each)(t.seriesModels,function(u,f){var d=u.getData().mapDimensionsAll(r),h,v;if(u.getAxisTooltipData){var g=u.getAxisTooltipData(d,n,e);v=g.dataIndices,h=g.nestestValue}else{if(v=u.getData().indicesOfNearest(d[0],n,e.type==="category"?.5:null),!v.length)return;h=u.getData().get(d[0],v[0])}if(!(h==null||!isFinite(h))){var b=n-h,S=Math.abs(b);S<=s&&((S<s||b>=0&&l<0)&&(s=S,l=b,i=h,a.length=0),Object(y.each)(v,function(M){a.push({seriesIndex:u.seriesIndex,dataIndexInside:M,dataIndex:u.getData().getRawIndex(M)})}))}}),{payloadBatch:a,snapToValue:i}}function CG(n,t,e,r){n[t.key]={value:e,payloadBatch:r}}function TG(n,t,e,r){var i=e.payloadBatch,a=t.axis,s=a.model,l=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var u=t.coordSys.model,f=Ib(u),d=n.map[f];d||(d=n.map[f]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(d)),d.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function OG(n,t,e){var r=e.axesInfo=[];Object(y.each)(t,function(i,a){var s=i.axisPointerModel.option,l=n[a];l?(!i.useHandle&&(s.status="show"),s.value=l.value,s.seriesDataIndices=(l.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function EG(n,t,e,r){if(qS(t)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function AG(n,t,e){var r=e.getZr(),i="axisPointerLastHighlights",a=dR(r)[i]||{},s=dR(r)[i]={};Object(y.each)(n,function(f,d){var h=f.axisPointerModel.option;h.status==="show"&&Object(y.each)(h.seriesDataIndices,function(v){var g=v.seriesIndex+" | "+v.dataIndex;s[g]=v})});var l=[],u=[];Object(y.each)(a,function(f,d){!s[d]&&u.push(f)}),Object(y.each)(s,function(f,d){!a[d]&&l.push(f)}),u.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),l.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function PG(n,t){for(var e=0;e<(n||[]).length;e++){var r=n[e];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function pR(n){var t=n.axis.model,e={},r=e.axisDim=n.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=t.componentIndex,e.axisName=e[r+"AxisName"]=t.name,e.axisId=e[r+"AxisId"]=t.id,e}function qS(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Qb(n){Og.registerAxisPointerClass("CartesianAxisPointer",hG),n.registerComponentModel(vG),n.registerComponentView(wG),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(y.isArray)(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=mB(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},MG)}function LG(n){ea(GA),ea(Qb)}var DG=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,r,i,a,s){var l=i.axis;l.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=l.polar,f=u.getOtherAxis(l),d=f.getExtent(),h=l.dataToCoord(r),v=a.get("type");if(v&&v!=="none"){var g=hT(a),b=IG[v](l,u,h,d);b.style=g,e.graphicKey=b.type,e.pointer=b}var S=a.get(["label","margin"]),M=RG(r,i,a,u,S);nR(e,i,a,s,M)},t}(dT);function RG(n,t,e,r,i){var a=t.axis,s=a.dataToCoord(n),l=r.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var u=r.getRadiusAxis().getExtent(),f,d,h;if(a.dim==="radius"){var v=Ze();fl(v,v,l),Bo(v,v,[r.cx,r.cy]),f=df([s,-i],v);var g=t.getModel("axisLabel").get("rotate")||0,b=Lh.innerTextLayout(l,g*Math.PI/180,-1);d=b.textAlign,h=b.textVerticalAlign}else{var S=u[1];f=r.coordToPoint([S+i,s]);var M=r.cx,C=r.cy;d=Math.abs(f[0]-M)/S<.3?"center":f[0]>M?"left":"right",h=Math.abs(f[1]-C)/S<.3?"middle":f[1]>C?"top":"bottom"}return{position:f,align:d,verticalAlign:h}}var IG={line:function(n,t,e,r){return n.dim==="angle"?{type:"Line",shape:vT(t.coordToPoint([r[0],e]),t.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,r){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:oR(t.cx,t.cy,r[0],r[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:oR(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},NG=DG,kG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var r,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(xa),jG=kG,mT=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Wo).models[0]},t.type="polarAxis",t}(xa);y.mixin(mT,qm);var BG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t}(mT),FG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t}(mT),yT=function(n){ve(t,n);function t(e,r){return n.call(this,"radius",e,r)||this}return t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},t}(vf);yT.prototype.dataToRadius=vf.prototype.dataToCoord,yT.prototype.radiusToData=vf.prototype.coordToData;var zG=yT,VG=Yi(),bT=function(n){ve(t,n);function t(e,r){return n.call(this,"angle",e,r||[0,360])||this}return t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),i=e.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var l=a[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),f=Math.abs(u),d=wc(l==null?"":l+"",r.getFont(),"center","top"),h=Math.max(d.height,7),v=h/f;isNaN(v)&&(v=Infinity);var g=Math.max(0,Math.floor(v)),b=VG(e.model),S=b.lastAutoInterval,M=b.lastTickCount;return S!=null&&M!=null&&Math.abs(S-g)<=1&&Math.abs(M-s)<=1&&S>g?g=S:(b.lastTickCount=s,b.lastAutoInterval=g),g},t}(vf);bT.prototype.dataToAngle=vf.prototype.dataToCoord,bT.prototype.angleToData=vf.prototype.coordToData;var HG=bT,vR=["radius","angle"],GG=function(){function n(t){this.dimensions=vR,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new zG,this._angleAxis=new HG,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===t&&e.push(r),i.scale.type===t&&e.push(i),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),l=Math.max(a[0],a[1]);i.inverse?s=l-360:l=s+360;var u=Math.sqrt(e*e+r*r);e/=u,r/=u;for(var f=Math.atan2(-r,e)/Math.PI*180,d=f<s?1:-1;f<s||f>l;)f+=d*360;return[u,f]},n.prototype.coordToPoint=function(t){var e=t[0],r=t[1]/180*Math.PI,i=Math.cos(r)*e+this.cx,a=-Math.sin(r)*e+this.cy;return[i,a]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,f=l-this.cy,d=u*u+f*f-1e-4,h=this.r,v=this.r0;return d<=h*h&&d>=v*v}}},n.prototype.convertToPixel=function(t,e,r){var i=gR(e);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var i=gR(e);return i===this?this.pointToData(r):null},n}();function gR(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var UG=GG;function WG(n,t,e){var r=t.get("center"),i=e.getWidth(),a=e.getHeight();n.cx=Yn(r[0],i),n.cy=Yn(r[1],a);var s=n.getRadiusAxis(),l=Math.min(i,a)/2,u=t.get("radius");u==null?u=[0,"100%"]:y.isArray(u)||(u=[0,u]);var f=[Yn(u[0],l),Yn(u[1],l)];s.inverse?s.setExtent(f[1],f[0]):s.setExtent(f[0],f[1])}function KG(n,t){var e=this,r=e.getAngleAxis(),i=e.getRadiusAxis();if(r.scale.setExtent(Infinity,-Infinity),i.scale.setExtent(Infinity,-Infinity),n.eachSeries(function(l){if(l.coordinateSystem===e){var u=l.getData();y.each(dS(u,"radius"),function(f){i.scale.unionExtentFromData(u,f)}),y.each(dS(u,"angle"),function(f){r.scale.unionExtentFromData(u,f)})}}),yg(r.scale,r.model),yg(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),s=360/r.scale.count();r.inverse?a[1]+=s:a[1]-=s,r.setExtent(a[0],a[1])}}function YG(n){return n.mainType==="angleAxis"}function mR(n,t){if(n.type=t.get("type"),n.scale=Sb(t),n.onBand=t.get("boundaryGap")&&n.type==="category",n.inverse=t.get("inverse"),YG(t)){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var XG={dimensions:vR,create:function(n,t){var e=[];return n.eachComponent("polar",function(r,i){var a=new UG(i+"");a.update=KG;var s=a.getRadiusAxis(),l=a.getAngleAxis(),u=r.findAxisModel("radiusAxis"),f=r.findAxisModel("angleAxis");mR(s,u),mR(l,f),WG(a,r,t),e.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",Wo).models[0];r.coordinateSystem=i.coordinateSystem}}),e}},ZG=XG,$G=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function ew(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],e]),i=n.coordToPoint([t[1],e]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function tw(n){var t=n.getRadiusAxis();return t.inverse?0:1}function yR(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var JG=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),l=i.getTicksCoords(),u=i.getMinorTicksCoords(),f=y.map(i.getViewLabels(),function(d){d=y.clone(d);var h=i.scale,v=h.type==="ordinal"?h.getRawOrdinalNumber(d.tickValue):d.tickValue;return d.coord=i.dataToCoord(v),d});yR(f),yR(l),y.each($G,function(d){e.get([d,"show"])&&(!i.scale.isBlank()||d==="axisLine")&&QG[d](this.group,e,a,l,u,s,f)},this)}},t.type="angleAxis",t}(Og),QG={axisLine:function(n,t,e,r,i,a){var s=t.getModel(["axisLine","lineStyle"]),l=tw(e),u=l?0:1,f;a[u]===0?f=new Bc({shape:{cx:e.cx,cy:e.cy,r:a[l]},style:s.getLineStyle(),z2:1,silent:!0}):f=new Gm({shape:{cx:e.cx,cy:e.cy,r:a[l],r0:a[u]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,n.add(f)},axisTick:function(n,t,e,r,i,a){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=a[tw(e)],f=y.map(r,function(d){return new ll({shape:ew(e,[u,u+l],d.coord)})});n.add(fc(f,{style:y.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,r,i,a){if(!!i.length){for(var s=t.getModel("axisTick"),l=t.getModel("minorTick"),u=(s.get("inside")?-1:1)*l.get("length"),f=a[tw(e)],d=[],h=0;h<i.length;h++)for(var v=0;v<i[h].length;v++)d.push(new ll({shape:ew(e,[f,f+u],i[h][v].coord)}));n.add(fc(d,{style:y.defaults(l.getModel("lineStyle").getLineStyle(),y.defaults(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,r,i,a,s){var l=t.getCategories(!0),u=t.getModel("axisLabel"),f=u.get("margin"),d=t.get("triggerEvent");y.each(s,function(h,v){var g=u,b=h.tickValue,S=a[tw(e)],M=e.coordToPoint([S+f,h.coord]),C=e.cx,O=e.cy,E=Math.abs(M[0]-C)/S<.3?"center":M[0]>C?"left":"right",I=Math.abs(M[1]-O)/S<.3?"middle":M[1]>O?"top":"bottom";if(l&&l[b]){var W=l[b];y.isObject(W)&&W.textStyle&&(g=new Mo(W.textStyle,u,u.ecModel))}var H=new Fi({silent:Lh.isLabelSilent(t),style:bs(g,{x:M[0],y:M[1],fill:g.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:E,verticalAlign:I})});if(n.add(H),d){var Q=Lh.makeAxisEventDataBase(t);Q.targetType="axisLabel",Q.value=h.rawLabel,Yr(H).eventData=Q}},this)},splitLine:function(n,t,e,r,i,a){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color"),f=0;u=u instanceof Array?u:[u];for(var d=[],h=0;h<r.length;h++){var v=f++%u.length;d[v]=d[v]||[],d[v].push(new ll({shape:ew(e,a,r[h].coord)}))}for(var h=0;h<d.length;h++)n.add(fc(d[h],{style:y.defaults({stroke:u[h%u.length]},l.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,r,i,a){if(!!i.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)u.push(new ll({shape:ew(e,a,i[f][d].coord)}));n.add(fc(u,{style:l.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,r,i,a){if(!!r.length){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),u=l.get("color"),f=0;u=u instanceof Array?u:[u];for(var d=[],h=Math.PI/180,v=-r[0].coord*h,g=Math.min(a[0],a[1]),b=Math.max(a[0],a[1]),S=t.get("clockwise"),M=1,C=r.length;M<=C;M++){var O=M===C?r[0].coord:r[M].coord,E=f++%u.length;d[E]=d[E]||[],d[E].push(new Vl({shape:{cx:e.cx,cy:e.cy,r0:g,r:b,startAngle:v,endAngle:-O*h,clockwise:S},silent:!0})),v=-O*h}for(var M=0;M<d.length;M++)n.add(fc(d[M],{style:y.defaults({fill:u[M%u.length]},l.getAreaStyle()),silent:!0}))}}},qG=JG,eU=["axisLine","axisTickLabel","axisName"],tU=["splitLine","splitArea","minorSplitLine"],nU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var i=this._axisGroup,a=this._axisGroup=new Wr;this.group.add(a);var s=e.axis,l=s.polar,u=l.getAngleAxis(),f=s.getTicksCoords(),d=s.getMinorTicksCoords(),h=u.getExtent()[0],v=s.getExtent(),g=iU(l,e,h),b=new Lh(e,g);y.each(eU,b.add,b),a.add(b.getGroup()),o(i,a,e),y.each(tU,function(S){e.get([S,"show"])&&!s.scale.isBlank()&&rU[S](this.group,e,l,h,v,f,d)},this)}},t.type="radiusAxis",t}(Og),rU={splitLine:function(n,t,e,r,i,a){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),u=l.get("color"),f=0;u=u instanceof Array?u:[u];for(var d=[],h=0;h<a.length;h++){var v=f++%u.length;d[v]=d[v]||[],d[v].push(new Bc({shape:{cx:e.cx,cy:e.cy,r:a[h].coord}}))}for(var h=0;h<d.length;h++)n.add(fc(d[h],{style:y.defaults({stroke:u[h%u.length],fill:null},l.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,r,i,a,s){if(!!s.length){for(var l=t.getModel("minorSplitLine"),u=l.getModel("lineStyle"),f=[],d=0;d<s.length;d++)for(var h=0;h<s[d].length;h++)f.push(new Bc({shape:{cx:e.cx,cy:e.cy,r:s[d][h].coord}}));n.add(fc(f,{style:y.defaults({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,r,i,a){if(!!a.length){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),u=l.get("color"),f=0;u=u instanceof Array?u:[u];for(var d=[],h=a[0].coord,v=1;v<a.length;v++){var g=f++%u.length;d[g]=d[g]||[],d[g].push(new Vl({shape:{cx:e.cx,cy:e.cy,r0:h,r:a[v].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[v].coord}for(var v=0;v<d.length;v++)n.add(fc(d[v],{style:y.defaults({fill:u[v%u.length]},l.getAreaStyle()),silent:!0}))}}};function iU(n,t,e){return{position:[n.cx,n.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var aU=nU;function bR(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function xR(n,t){return t.dim+n.model.componentIndex}function oU(n,t,e){var r={},i=sU(y.filter(t.getSeriesByType(n),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(n,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),l=a.coordinateSystem,u=l.getBaseAxis(),f=xR(l,u),d=bR(a),h=i[f][d],v=h.offset,g=h.width,b=l.getOtherAxis(u),S=a.coordinateSystem.cx,M=a.coordinateSystem.cy,C=a.get("barMinHeight")||0,O=a.get("barMinAngle")||0;r[d]=r[d]||[];for(var E=s.mapDimension(b.dim),I=s.mapDimension(u.dim),W=Eh(s,E),H=u.dim!=="radius"||!a.get("roundCap",!0),Q=b.dataToCoord(0),se=0,le=s.count();se<le;se++){var Me=s.get(E,se),xe=s.get(I,se),Be=Me>=0?"p":"n",ze=Q;W&&(r[d][xe]||(r[d][xe]={p:Q,n:Q}),ze=r[d][xe][Be]);var it=void 0,pt=void 0,At=void 0,ln=void 0;if(b.dim==="radius"){var Qt=b.dataToCoord(Me)-Q,vn=u.dataToCoord(xe);Math.abs(Qt)<C&&(Qt=(Qt<0?-1:1)*C),it=ze,pt=ze+Qt,At=vn-v,ln=At-g,W&&(r[d][xe][Be]=pt)}else{var Gn=b.dataToCoord(Me,H)-Q,fr=u.dataToCoord(xe);Math.abs(Gn)<O&&(Gn=(Gn<0?-1:1)*O),it=fr+v,pt=it+g,At=ze,ln=ze+Gn,W&&(r[d][xe][Be]=ln)}s.setItemLayout(se,{cx:S,cy:M,r0:it,r:pt,startAngle:-At*Math.PI/180,endAngle:-ln*Math.PI/180,clockwise:At>=ln})}}})}function sU(n){var t={};y.each(n,function(r,i){var a=r.getData(),s=r.coordinateSystem,l=s.getBaseAxis(),u=xR(s,l),f=l.getExtent(),d=l.type==="category"?l.getBandWidth():Math.abs(f[1]-f[0])/a.count(),h=t[u]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},v=h.stacks;t[u]=h;var g=bR(r);v[g]||h.autoWidthCount++,v[g]=v[g]||{width:0,maxWidth:0};var b=Yn(r.get("barWidth"),d),S=Yn(r.get("barMaxWidth"),d),M=r.get("barGap"),C=r.get("barCategoryGap");b&&!v[g].width&&(b=Math.min(h.remainedWidth,b),v[g].width=b,h.remainedWidth-=b),S&&(v[g].maxWidth=S),M!=null&&(h.gap=M),C!=null&&(h.categoryGap=C)});var e={};return y.each(t,function(r,i){e[i]={};var a=r.stacks,s=r.bandWidth,l=Yn(r.categoryGap,s),u=Yn(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-l)/(d+(d-1)*u);h=Math.max(h,0),y.each(a,function(S,M){var C=S.maxWidth;C&&C<h&&(C=Math.min(C,f),S.width&&(C=Math.min(C,S.width)),f-=C,S.width=C,d--)}),h=(f-l)/(d+(d-1)*u),h=Math.max(h,0);var v=0,g;y.each(a,function(S,M){S.width||(S.width=h),g=S,v+=S.width*(1+u)}),g&&(v-=g.width*u);var b=-v/2;y.each(a,function(S,M){e[i][M]=e[i][M]||{offset:b,width:S.width},b+=S.width*(1+u)})}),e}var lU=oU,uU={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},cU={splitNumber:5},fU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t}(Xo);function dU(n){ea(Qb),Og.registerAxisPointerClass("PolarAxisPointer",NG),n.registerCoordinateSystem("polar",ZG),n.registerComponentModel(jG),n.registerComponentView(fU),iy(n,"angle",BG,uU),iy(n,"radius",FG,cU),n.registerComponentView(qG),n.registerComponentView(aU),n.registerLayout(Object(y.curry)(lU,"bar"))}function xT(n,t){t=t||{};var e=n.coordinateSystem,r=n.axis,i={},a=r.position,s=r.orient,l=e.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],f={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};i.position=[s==="vertical"?f.vertical[a]:u[0],s==="horizontal"?f.horizontal[a]:u[3]];var d={horizontal:0,vertical:1};i.rotation=Math.PI/2*d[s];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),y.retrieve(t.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var v=t.rotate;return v==null&&(v=n.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-v:v,i.z2=1,i}var hU=["axisLine","axisTickLabel","axisName"],pU=["splitArea","splitLine"],vU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,r,i,a){var s=this.group;s.removeAll();var l=this._axisGroup;this._axisGroup=new Wr;var u=xT(e),f=new Lh(e,u);y.each(hU,f.add,f),s.add(this._axisGroup),s.add(f.getGroup()),y.each(pU,function(d){e.get([d,"show"])&&gU[d](this,this.group,this._axisGroup,e)},this),o(l,this._axisGroup,e),n.prototype.render.call(this,e,r,i,a)},t.prototype.remove=function(){zA(this)},t.type="singleAxis",t}(Og),gU={splitLine:function(n,t,e,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=r.coordinateSystem.getRect(),f=i.isHorizontal(),d=[],h=0,v=i.getTicksCoords({tickModel:a}),g=[],b=[],S=0;S<v.length;++S){var M=i.toGlobalCoord(v[S].coord);f?(g[0]=M,g[1]=u.y,b[0]=M,b[1]=u.y+u.height):(g[0]=u.x,g[1]=M,b[0]=u.x+u.width,b[1]=M);var C=h++%l.length;d[C]=d[C]||[],d[C].push(new ll({subPixelOptimize:!0,shape:{x1:g[0],y1:g[1],x2:b[0],y2:b[1]},silent:!0}))}for(var O=s.getLineStyle(["color"]),S=0;S<d.length;++S)t.add(fc(d[S],{style:y.defaults({stroke:l[S%l.length]},O),silent:!0}))}},splitArea:function(n,t,e,r){FA(n,e,r,r)}},mU=vU,SR=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(xa);Object(y.mixin)(SR,qm.prototype);var ST=SR,yU=function(n){ve(t,n);function t(e,r,i,a,s){var l=n.call(this,e,r,i)||this;return l.type=a||"value",l.position=s||"bottom",l}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},t}(vf),bU=yU,wR=["single"],xU=function(){function n(t,e,r){this.type="single",this.dimension="single",this.dimensions=wR,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var i=this.dimension,a=new bU(i,Sb(t),[0,0],t.get("type"),t.get("position")),s=a.type==="category";a.onBand=s&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(t,e){t.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();Object(y.each)(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),yg(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=ks({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,r=e.isHorizontal(),i=r?[0,t.width]:[0,t.height],a=e.reverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,r?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var r=t.getExtent(),i=r[0]+r[1],a=t.isHorizontal();t.toGlobalCoord=a?function(s){return s+e}:function(s){return i-s+e},t.toLocalCoord=a?function(s){return s-e}:function(s){return i-s+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),r=this.getRect(),i=[],a=e.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[a]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2,i},n.prototype.convertToPixel=function(t,e,r){var i=MR(e);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var i=MR(e);return i===this?this.pointToData(r):null},n}();function MR(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var SU=xU;function wU(n,t){var e=[];return n.eachComponent("singleAxis",function(r,i){var a=new SU(r,n,t);a.name="single_"+i,a.resize(r,t),r.coordinateSystem=a,e.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",Wo).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),e}var MU={create:wU,dimensions:wR},_U=MU,_R=["x","y"],CU=["width","height"],TU=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,r,i,a,s){var l=i.axis,u=l.coordinateSystem,f=wT(u,1-nw(l)),d=u.dataToPoint(r)[0],h=a.get("type");if(h&&h!=="none"){var v=hT(a),g=OU[h](l,d,f);g.style=v,e.graphicKey=g.type,e.pointer=g}var b=xT(i);iR(r,e,b,i,a,s)},t.prototype.getHandleTransform=function(e,r,i){var a=xT(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=pT(r.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,a){var s=i.axis,l=s.coordinateSystem,u=nw(s),f=wT(l,u),d=[e.x,e.y];d[u]+=r[u],d[u]=Math.min(f[1],d[u]),d[u]=Math.max(f[0],d[u]);var h=wT(l,1-u),v=(h[1]+h[0])/2,g=[v,v];return g[u]=d[u],{x:d[0],y:d[1],rotation:e.rotation,cursorPoint:g,tooltipOption:{verticalAlign:"middle"}}},t}(dT),OU={line:function(n,t,e){var r=vT([t,e[0]],[t,e[1]],nw(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,t,e){var r=n.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:aR([t-r/2,e[0]],[r,i],nw(n))}}};function nw(n){return n.isHorizontal()?0:1}function wT(n,t){var e=n.getRect();return[e[_R[t]],e[_R[t]]+e[CU[t]]]}var EU=TU,AU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t}(Xo);function PU(n){ea(Qb),Og.registerAxisPointerClass("SingleAxisPointer",EU),n.registerComponentView(AU),n.registerComponentView(mU),n.registerComponentModel(ST),iy(n,"single",ST,ST.defaultOption),n.registerCoordinateSystem("single",_U)}var LU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r,i){var a=hh(e);n.prototype.init.apply(this,arguments),CR(e,a)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),CR(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(xa);function CR(n,t){var e=n.cellSize,r;y.isArray(e)?r=e:r=n.cellSize=[e,e],r.length===1&&(r[1]=r[0]);var i=y.map([0,1],function(a){return zx(t,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});bd(n,t,{type:"box",ignoreSize:i})}var DU=LU,RU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){var a=this.group;a.removeAll();var s=e.coordinateSystem,l=s.getRangeInfo(),u=s.getOrient(),f=r.getLocaleModel();this._renderDayRect(e,l,a),this._renderLines(e,l,u,a),this._renderYearText(e,l,u,a),this._renderMonthText(e,f,u,a),this._renderWeekText(e,f,l,u,a)},t.prototype._renderDayRect=function(e,r,i){for(var a=e.coordinateSystem,s=e.getModel("itemStyle").getItemStyle(),l=a.getCellWidth(),u=a.getCellHeight(),f=r.start.time;f<=r.end.time;f=a.getNextNDay(f,1).time){var d=a.dataToRect([f],!1).tl,h=new Bi({shape:{x:d[0],y:d[1],width:l,height:u},cursor:"default",style:s});i.add(h)}},t.prototype._renderLines=function(e,r,i,a){var s=this,l=e.coordinateSystem,u=e.getModel(["splitLine","lineStyle"]).getLineStyle(),f=e.get(["splitLine","show"]),d=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=r.start,v=0;h.time<=r.end.time;v++){b(h.formatedDate),v===0&&(h=l.getDateInfo(r.start.y+"-"+r.start.m));var g=h.date;g.setMonth(g.getMonth()+1),h=l.getDateInfo(g)}b(l.getNextNDay(r.end.time,1).formatedDate);function b(S){s._firstDayOfMonth.push(l.getDateInfo(S)),s._firstDayPoints.push(l.dataToRect([S],!1).tl);var M=s._getLinePointsOfOneWeek(e,S,i);s._tlpoints.push(M[0]),s._blpoints.push(M[M.length-1]),f&&s._drawSplitline(M,u,a)}f&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,d,i),u,a),f&&this._drawSplitline(s._getEdgesPoints(s._blpoints,d,i),u,a)},t.prototype._getEdgesPoints=function(e,r,i){var a=[e[0].slice(),e[e.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-r/2,a[1][s]=a[1][s]+r/2,a},t.prototype._drawSplitline=function(e,r,i){var a=new Mu({z2:20,shape:{points:e},style:r});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,r,i){for(var a=e.coordinateSystem,s=a.getDateInfo(r),l=[],u=0;u<7;u++){var f=a.getNextNDay(s.time,u),d=a.dataToRect([f.time],!1);l[2*f.day]=d.tl,l[2*f.day+1]=d[i==="horizontal"?"bl":"tr"]}return l},t.prototype._formatterLabel=function(e,r){return Object(y.isString)(e)&&e?dp(e,r):Object(y.isFunction)(e)?e(r):r.nameMap},t.prototype._yearTextPositionControl=function(e,r,i,a,s){var l=r[0],u=r[1],f=["center","bottom"];a==="bottom"?(u+=s,f=["center","top"]):a==="left"?l-=s:a==="right"?(l+=s,f=["center","top"]):u-=s;var d=0;return(a==="left"||a==="right")&&(d=Math.PI/2),{rotation:d,x:l,y:u,style:{align:f[0],verticalAlign:f[1]}}},t.prototype._renderYearText=function(e,r,i,a){var s=e.getModel("yearLabel");if(!!s.get("show")){var l=s.get("margin"),u=s.get("position");u||(u=i!=="horizontal"?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],d=(f[0][0]+f[1][0])/2,h=(f[0][1]+f[1][1])/2,v=i==="horizontal"?0:1,g={top:[d,f[v][1]],bottom:[d,f[1-v][1]],left:[f[1-v][0],h],right:[f[v][0],h]},b=r.start.y;+r.end.y>+r.start.y&&(b=b+"-"+r.end.y);var S=s.get("formatter"),M={start:r.start.y,end:r.end.y,nameMap:b},C=this._formatterLabel(S,M),O=new Fi({z2:30,style:bs(s,{text:C})});O.attr(this._yearTextPositionControl(O,g[u],i,u,l)),a.add(O)}},t.prototype._monthTextPositionControl=function(e,r,i,a,s){var l="left",u="top",f=e[0],d=e[1];return i==="horizontal"?(d=d+s,r&&(l="center"),a==="start"&&(u="bottom")):(f=f+s,r&&(u="middle"),a==="start"&&(l="right")),{x:f,y:d,align:l,verticalAlign:u}},t.prototype._renderMonthText=function(e,r,i,a){var s=e.getModel("monthLabel");if(!!s.get("show")){var l=s.get("nameMap"),u=s.get("margin"),f=s.get("position"),d=s.get("align"),h=[this._tlpoints,this._blpoints];(!l||Object(y.isString)(l))&&(l&&(r=o0(l)||r),l=r.get(["time","monthAbbr"])||[]);var v=f==="start"?0:1,g=i==="horizontal"?0:1;u=f==="start"?-u:u;for(var b=d==="center",S=0;S<h[v].length-1;S++){var M=h[v][S].slice(),C=this._firstDayOfMonth[S];if(b){var O=this._firstDayPoints[S];M[g]=(O[g]+h[0][S+1][g])/2}var E=s.get("formatter"),I=l[+C.m-1],W={yyyy:C.y,yy:(C.y+"").slice(2),MM:C.m,M:+C.m,nameMap:I},H=this._formatterLabel(E,W),Q=new Fi({z2:30,style:Object(y.extend)(bs(s,{text:H}),this._monthTextPositionControl(M,b,i,f,u))});a.add(Q)}}},t.prototype._weekTextPositionControl=function(e,r,i,a,s){var l="center",u="middle",f=e[0],d=e[1],h=i==="start";return r==="horizontal"?(f=f+a+(h?1:-1)*s[0]/2,l=h?"right":"left"):(d=d+a+(h?1:-1)*s[1]/2,u=h?"bottom":"top"),{x:f,y:d,align:l,verticalAlign:u}},t.prototype._renderWeekText=function(e,r,i,a,s){var l=e.getModel("dayLabel");if(!!l.get("show")){var u=e.coordinateSystem,f=l.get("position"),d=l.get("nameMap"),h=l.get("margin"),v=u.getFirstDayOfWeek();if(!d||Object(y.isString)(d)){d&&(r=o0(d)||r);var g=r.get(["time","dayOfWeekShort"]);d=g||Object(y.map)(r.get(["time","dayOfWeekAbbr"]),function(W){return W[0]})}var b=u.getNextNDay(i.end.time,7-i.lweek).time,S=[u.getCellWidth(),u.getCellHeight()];h=Yn(h,Math.min(S[1],S[0])),f==="start"&&(b=u.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var M=0;M<7;M++){var C=u.getNextNDay(b,M),O=u.dataToRect([C.time],!1).center,E=M;E=Math.abs((M+v)%7);var I=new Fi({z2:30,style:Object(y.extend)(bs(l,{text:d[E]}),this._weekTextPositionControl(O,a,f,h,S))});s.add(I)}}},t.type="calendar",t}(Xo),IU=RU,MT=864e5,NU=function(){function n(t,e,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){t=pl(t);var e=t.getFullYear(),r=t.getMonth()+1,i=r<10?"0"+r:""+r,a=t.getDate(),s=a<10?"0"+a:""+a,l=t.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:s,day:l,time:t.getTime(),formatedDate:e+"-"+i+"-"+s,date:t}},n.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),l=this._orient==="horizontal"?[r,7]:[7,r];y.each([0,1],function(h){d(a,h)&&(s[i[h]]=a[h]*l[h])});var u={width:e.getWidth(),height:e.getHeight()},f=this._rect=ks(s,u);y.each([0,1],function(h){d(a,h)||(a[h]=f[i[h]]/l[h])});function d(h,v){return h[v]!=null&&h[v]!=="auto"}this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(t,e){y.isArray(t)&&(t=t[0]),e==null&&(e=!0);var r=this.getDateInfo(t),i=this._rangeInfo,a=r.formatedDate;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+MT))return[NaN,NaN];var s=r.day,l=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]:[this._rect.x+l*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,e-1,i):this._getDateByWeeksAndDay(e,r-1,i)},n.prototype.convertToPixel=function(t,e,r){var i=TR(e);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var i=TR(e);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(y.isArray(t)&&t.length===1&&(t=t[0]),y.isArray(t))e=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(e=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);e=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(e=[r,r])}if(!e)return t;var l=this._getRangeInfo(e);return l.start.time>l.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;e[0].time>e[1].time&&(r=!0,e.reverse());var i=Math.floor(e[1].time/MT)-Math.floor(e[0].time/MT)+1,a=new Date(e[0].time),s=a.getDate(),l=e[1].date.getDate();a.setDate(s+i-1);var u=a.getDate();if(u!==l)for(var f=a.getTime()-e[1].time>0?1:-1;(u=a.getDate())!==l&&(a.getTime()-e[1].time)*f>0;)i-=f,a.setDate(u-f);var d=Math.floor((i+e[0].day+6)/7),h=r?-d+1:d-1;return r&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:d,nthWeek:h,fweek:e[0].day,lweek:e[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},n.create=function(t,e){var r=[];return t.eachComponent("calendar",function(i){var a=new n(i,t,e);r.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function TR(n){var t=n.calendarModel,e=n.seriesModel,r=t?t.coordinateSystem:e?e.coordinateSystem:null;return r}var kU=NU;function jU(n){n.registerComponentModel(DU),n.registerComponentView(IU),n.registerCoordinateSystem("calendar",kU)}function BU(n,t){var e=n.existing;if(t.id=n.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function OR(n,t){var e;return y.each(t,function(r){n[r]!=null&&n[r]!=="auto"&&(e=!0)}),e}function FU(n,t,e){var r=y.extend({},e),i=n[t],a=e.$action||"merge";if(a==="merge")if(i){if(!1)var s;y.merge(i,r,!0),bd(i,r,{ignoreSize:!0}),zv(e,i),rw(e,i),rw(e,i,"shape"),rw(e,i,"style"),rw(e,i,"extra"),e.clipPath=i.clipPath}else n[t]=r;else a==="replace"?n[t]=r:a==="remove"&&i&&(n[t]=null)}var ER=["transition","enterFrom","leaveTo"],zU=ER.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function rw(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),!(!n||!t))for(var r=e?ER:zU,i=0;i<r.length;i++){var a=r[i];n[a]==null&&t[a]!=null&&(n[a]=t[a])}}function VU(n,t){if(!!n&&(n.hv=t.hv=[OR(t,["left","right"]),OR(t,["top","bottom"])],n.type==="group")){var e=n,r=t;e.width==null&&(e.width=r.width=0),e.height==null&&(e.height=r.height=0)}}var HU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,r),this.option.elements=i},t.prototype.optionUpdated=function(e,r){var i=this.option,a=(r?i:e).elements,s=i.elements=r?[]:i.elements,l=[];this._flatten(a,l,null);var u=Wh(s,l,"normalMerge"),f=this._elOptionsToUpdate=[];y.each(u,function(d,h){var v=d.newOption;!v||(f.push(v),BU(d,v),FU(s,h,v),VU(s[h],v))},this),i.elements=y.filter(s,function(d){return d&&delete d.$action,d!=null})},t.prototype._flatten=function(e,r,i){y.each(e,function(a){if(!!a){i&&(a.parentOption=i),r.push(a);var s=a.children;a.type==="group"&&s&&this._flatten(s,r,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(xa),AR={path:null,compoundPath:null,group:Wr,image:cs,text:Fi},xf=Yi(),GU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=y.createHashMap()},t.prototype.render=function(e,r,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(!!r){var i=this._elMap,a=this.group,s=e.get("z"),l=e.get("zlevel");y.each(r,function(u){var f=Fo(u.id,null),d=f!=null?i.get(f):null,h=Fo(u.parentId,null),v=h!=null?i.get(h):a,g=u.type,b=u.style;g==="text"&&b&&u.hv&&u.hv[1]&&(b.textVerticalAlign=b.textBaseline=b.verticalAlign=b.align=null);var S=u.textContent,M=u.textConfig;if(b&&DD(b,g,!!M,!!S)){var C=RD(b,g,!0);!M&&C.textConfig&&(M=u.textConfig=C.textConfig),!S&&C.textContent&&(S=C.textContent)}var O=UU(u),E=u.$action||"merge",I=E==="merge",W=E==="replace";if(I){var H=!d,Q=d;H?Q=PR(f,v,u.type,i):(Q&&(xf(Q).isNew=!1),GD(Q)),Q&&(ZS(Q,O,e,{isInit:H}),LR(Q,u,s,l))}else if(W){iw(d,u,i,e);var se=PR(f,v,u.type,i);se&&(ZS(se,O,e,{isInit:!0}),LR(se,u,s,l))}else E==="remove"&&(FD(d,u),iw(d,u,i,e));var le=i.get(f);if(le&&S)if(I){var Me=le.getTextContent();Me?Me.attr(S):le.setTextContent(new Fi(S))}else W&&le.setTextContent(new Fi(S));if(le){var xe=u.clipPath;if(xe){var Be=xe.type,ze=void 0,H=!1;if(I){var it=le.getClipPath();H=!it||xf(it).type!==Be,ze=H?_T(Be):it}else W&&(H=!0,ze=_T(Be));le.setClipPath(ze),ZS(ze,xe,e,{isInit:H}),JS(ze,xe.keyframeAnimation,e)}var pt=xf(le);le.setTextConfig(M),pt.option=u,WU(le,e,u),L({el:le,componentModel:e,itemName:le.name,itemTooltipOption:u.tooltip}),JS(le,u.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,r){for(var i=e.option.elements,a=this.group,s=this._elMap,l=r.getWidth(),u=r.getHeight(),f=["x","y"],d=0;d<i.length;d++){var h=i[d],v=Fo(h.id,null),g=v!=null?s.get(v):null;if(!(!g||!g.isGroup)){var b=g.parent,S=b===a,M=xf(g),C=xf(b);M.width=Yn(M.option.width,S?l:C.width)||0,M.height=Yn(M.option.height,S?u:C.height)||0}}for(var d=i.length-1;d>=0;d--){var h=i[d],v=Fo(h.id,null),g=v!=null?s.get(v):null;if(!!g){var b=g.parent,C=xf(b),O=b===a?{width:l,height:u}:{width:C.width,height:C.height},E={},I=Fv(g,h,O,null,{hv:h.hv,boundingMode:h.bounding},E);if(!xf(g).isNew&&I){for(var W=h.transition,H={},Q=0;Q<f.length;Q++){var se=f[Q],le=E[se];W&&(kg(W)||y.indexOf(W,se)>=0)?H[se]=le:g[se]=le}Ea(g,H,e,0)}else g.attr(E)}}},t.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(i){iw(i,xf(i).option,r,e._lastGraphicModel)}),this._elMap=y.createHashMap()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Xo);function _T(n){var t=y.hasOwn(AR,n)?AR[n]:lb(n),e=new t({});return xf(e).type=n,e}function PR(n,t,e,r){var i=_T(e);return t.add(i),r.set(n,i),xf(i).id=n,xf(i).isNew=!0,i}function iw(n,t,e,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(a){iw(a,t,e,r)}),$S(n,t,r),e.removeKey(xf(n).id))}function LR(n,t,e,r){if(!n.isGroup){var i=n;i.z=y.retrieve2(t.z,e||0),i.zlevel=y.retrieve2(t.zlevel,r||0);var a=t.z2;a!=null&&(i.z2=a||0)}y.each(y.keys(t),function(s){var l=t[s];s.indexOf("on")===0&&y.isFunction(l)&&(n[s]=l)}),n.draggable=t.draggable,t.name!=null&&(n.name=t.name),t.id!=null&&(n.id=t.id)}function UU(n){return n=y.extend({},n),y.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(d0),function(t){delete n[t]}),n}function WU(n,t,e){var r=Yr(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Yr(n).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:n.name}),r&&(r.info=e.info)}function KU(n){n.registerComponentModel(HU),n.registerComponentView(GU),n.registerPreprocessor(function(t){var e=t.graphic;Object(y.isArray)(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var DR=["x","y","radius","angle","single"],YU=["cartesian2d","polar","singleAxis"];function XU(n){var t=n.get("coordinateSystem");return Object(y.indexOf)(YU,t)>=0}function Jp(n){return n+"Axis"}function UY(n){return n+"AxisIndex"}function WY(n){return n+"AxisId"}function ZU(n,t){var e=Object(y.createHashMap)(),r=[],i=Object(y.createHashMap)();n.eachComponent({mainType:"dataZoom",query:t},function(d){i.get(d.uid)||l(d)});var a;do a=!1,n.eachComponent("dataZoom",s);while(a);function s(d){!i.get(d.uid)&&u(d)&&(l(d),a=!0)}function l(d){i.set(d.uid,!0),r.push(d),f(d)}function u(d){var h=!1;return d.eachTargetAxis(function(v,g){var b=e.get(v);b&&b[g]&&(h=!0)}),h}function f(d){d.eachTargetAxis(function(h,v){(e.get(h)||e.set(h,[]))[v]=!0})}return r}function RR(n){var t=n.ecModel,e={infoList:[],infoMap:Object(y.createHashMap)()};return n.eachTargetAxis(function(r,i){var a=t.getComponent(Jp(r),i);if(!!a){var s=a.getCoordSysModel();if(!!s){var l=s.uid,u=e.infoMap.get(l);u||(u={model:s,axisModels:[]},e.infoList.push(u),e.infoMap.set(l,u)),u.axisModels.push(a)}}}),e}var CT=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),$U=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,i){var a=IR(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var r=IR(e);Object(y.merge)(this.option,e,!0),Object(y.merge)(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;Object(y.each)([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=Object(y.createHashMap)(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return Object(y.each)(DR,function(i){var a=this.getReferringComponents(Jp(i),nc);if(!!a.specified){r=!0;var s=new CT;Object(y.each)(a.models,function(l){s.add(l.componentIndex)}),e.set(i,s)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var i=this.ecModel,a=!0;if(a){var s=r==="vertical"?"y":"x",l=i.findComponents({mainType:s+"Axis"});u(l,s)}if(a){var l=i.findComponents({mainType:"singleAxis",filter:function(d){return d.get("orient",!0)===r}});u(l,"single")}function u(f,d){var h=f[0];if(!!h){var v=new CT;if(v.add(h.componentIndex),e.set(d,v),a=!1,d==="x"||d==="y"){var g=h.getReferringComponents("grid",Wo).models[0];g&&Object(y.each)(f,function(b){h.componentIndex!==b.componentIndex&&g===b.getReferringComponents("grid",Wo).models[0]&&v.add(b.componentIndex)})}}}a&&Object(y.each)(DR,function(f){if(!!a){var d=i.findComponents({mainType:Jp(f),filter:function(v){return v.get("type",!0)==="category"}});if(d[0]){var h=new CT;h.add(d[0].componentIndex),e.set(f,h),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,i=this.get("rangeMode");Object(y.each)([["start","startValue"],["end","endValue"]],function(a,s){var l=e[a[0]]!=null,u=e[a[1]]!=null;l&&!u?r[s]="percent":!l&&u?r[s]="value":i?r[s]=i[s]:l&&(r[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,i){e==null&&(e=this.ecModel.getComponent(Jp(r),i))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(i,a){Object(y.each)(i.indexList,function(s){e.call(r,a,s)})})},t.prototype.getAxisProxy=function(e,r){var i=this.getAxisModel(e,r);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[r])return this.ecModel.getComponent(Jp(e),r)},t.prototype.setRawRange=function(e){var r=this.option,i=this.settledOption;Object(y.each)([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(r[a[0]]=i[a[0]]=e[a[0]],r[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;Object(y.each)(["start","startValue","end","endValue"],function(i){r[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],l=this._targetAxisInfoMap.get(s),u=0;u<l.indexList.length;u++){var f=this.getAxisProxy(s,l.indexList[u]);if(f.hostedBy(this))return f;r||(r=f)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(xa);function IR(n){var t={};return Object(y.each)(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var qb=$U,JU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(qb),QU=JU,qU=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i,a){this.dataZoomModel=e,this.ecModel=r,this.api=i},t.type="dataZoom",t}(Xo),TT=qU,eW=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(TT),tW=eW,hy=y.each,NR=ms,nW=function(){function n(t,e,r,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(XU(e)){var r=Jp(this._dimName),i=e.getReferringComponents(r,Wo).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return y.clone(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],l=[],u=[],f;hy(["start","end"],function(v,g){var b=t[v],S=t[v+"Value"];a[g]==="percent"?(b==null&&(b=s[g]),S=i.parse(Da(b,s,e))):(f=!0,S=S==null?e[g]:i.parse(S),b=Da(S,e,s)),u[g]=S,l[g]=b}),NR(u),NR(l);var d=this._minMaxSpan;f?h(u,l,e,s,!1):h(l,u,s,e,!0);function h(v,g,b,S,M){var C=M?"Span":"ValueSpan";Rg(0,v,b,"all",d["min"+C],d["max"+C]);for(var O=0;O<2;O++)g[O]=Da(v[O],b,S,!0),M&&(g[O]=i.parse(g[O]))}return{valueWindow:u,percentWindow:l}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=rW(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),s=this._valueWindow;if(a==="none")return;hy(i,function(u){var f=u.getData(),d=f.mapDimensionsAll(r);if(!!d.length){if(a==="weakFilter"){var h=f.getStore(),v=y.map(d,function(g){return f.getDimensionIndex(g)},f);f.filterSelf(function(g){for(var b,S,M,C=0;C<d.length;C++){var O=h.get(v[C],g),E=!isNaN(O),I=O<s[0],W=O>s[1];if(E&&!I&&!W)return!0;E&&(M=!0),I&&(b=!0),W&&(S=!0)}return M&&b&&S})}else hy(d,function(g){if(a==="empty")u.setData(f=f.map(g,function(S){return l(S)?S:NaN}));else{var b={};b[g]=s,f.selectRange(b)}});hy(d,function(g){f.setApproximateExtent(s,g)})}});function l(u){return u>=s[0]&&u<=s[1]}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;hy(["min","max"],function(i){var a=e.get(i+"Span"),s=e.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=Da(r[0]+s,r,[0,100],!0):a!=null&&(s=Da(a,[0,100],r,!0)-r[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(!!e){var i=Va(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n}();function rW(n,t,e){var r=[Infinity,-Infinity];hy(e,function(s){gk(r,s.getData(),t)});var i=n.getAxisModel(),a=WE(i.axis.scale,i,r).calculate();return[a.min,a.max]}var iW=nW,aW={getTargetSeries:function(n){function t(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,l){var u=n.getComponent(Jp(s),l);i(s,l,u,a)})})}t(function(i,a,s,l){s.__dzAxisProxy=null});var e=[];t(function(i,a,s,l){s.__dzAxisProxy||(s.__dzAxisProxy=new iW(i,a,l,n),e.push(s.__dzAxisProxy))});var r=Object(y.createHashMap)();return Object(y.each)(e,function(i){Object(y.each)(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).reset(e)}),e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}},oW=aW;function sW(n){n.registerAction("dataZoom",function(t,e){var r=ZU(e,t);Object(y.each)(r,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var kR=!1;function OT(n){kR||(kR=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,oW),sW(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function lW(n){n.registerComponentModel(QU),n.registerComponentView(tW),OT(n)}var Sf=function(){function n(){}return n}(),jR={};function py(n,t){jR[n]=t}function BR(n){return jR[n]}var uW=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;y.each(this.option.feature,function(r,i){var a=BR(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),y.merge(r,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(xa),cW=uW;function fW(n,t,e){var r=t.getBoxLayoutParams(),i=t.get("padding"),a={width:e.getWidth(),height:e.getHeight()},s=ks(r,a,i);zf(t.get("orient"),n,t.get("itemGap"),s.width,s.height),Fv(n,r,a,i)}function FR(n,t){var e=nf(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),n=new Bi({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var dW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,r,i,a){var s=this.group;if(s.removeAll(),!e.get("show"))return;var l=+e.get("itemSize"),u=e.get("feature")||{},f=this._features||(this._features={}),d=[];y.each(u,function(g,b){d.push(b)}),new Oh(this._featureNames||[],d).add(h).update(h).remove(y.curry(h,null)).execute(),this._featureNames=d;function h(g,b){var S=d[g],M=d[b],C=u[S],O=new Mo(C,e,e.ecModel),E;if(a&&a.newTitle!=null&&a.featureName===S&&(C.title=a.newTitle),S&&!M){if(hW(S))E={onclick:O.option.onclick,featureName:S};else{var I=BR(S);if(!I)return;E=new I}f[S]=E}else if(E=f[M],!E)return;E.uid=sp("toolbox-feature"),E.model=O,E.ecModel=r,E.api=i;var W=E instanceof Sf;if(!S&&M){W&&E.dispose&&E.dispose(r,i);return}if(!O.get("show")||W&&E.unusable){W&&E.remove&&E.remove(r,i);return}v(O,E,S),O.setIconStatus=function(H,Q){var se=this.option,le=this.iconPaths;se.iconStatus=se.iconStatus||{},se.iconStatus[H]=Q,le[H]&&(Q==="emphasis"?Hu:Ql)(le[H])},E instanceof Sf&&E.render&&E.render(O,r,i,a)}function v(g,b,S){var M=g.getModel("iconStyle"),C=g.getModel(["emphasis","iconStyle"]),O=b instanceof Sf&&b.getIcons?b.getIcons():g.get("icon"),E=g.get("title")||{},I,W;y.isString(O)?(I={},I[S]=O):I=O,y.isString(E)?(W={},W[S]=E):W=E;var H=g.iconPaths={};y.each(I,function(Q,se){var le=m(Q,{},{x:-l/2,y:-l/2,width:l,height:l});le.setStyle(M.getItemStyle());var Me=le.ensureState("emphasis");Me.style=C.getItemStyle();var xe=new Fi({style:{text:W[se],align:C.get("textAlign"),borderRadius:C.get("textBorderRadius"),padding:C.get("textPadding"),fill:null},ignore:!0});le.setTextContent(xe),L({el:le,componentModel:e,itemName:se,formatterParamsExtra:{title:W[se]}}),le.__title=W[se],le.on("mouseover",function(){var Be=C.getItemStyle(),ze=e.get("orient")==="vertical"?e.get("right")==null?"right":"left":e.get("bottom")==null?"bottom":"top";xe.setStyle({fill:C.get("textFill")||Be.fill||Be.stroke||"#000",backgroundColor:C.get("textBackgroundColor")}),le.setTextConfig({position:C.get("textPosition")||ze}),xe.ignore=!e.get("showTitle"),Hu(this)}).on("mouseout",function(){g.get(["iconStatus",se])!=="emphasis"&&Ql(this),xe.hide()}),(g.get(["iconStatus",se])==="emphasis"?Hu:Ql)(le),s.add(le),le.on("click",y.bind(b.onclick,b,r,i,se)),H[se]=le})}fW(s,e,i),s.add(FR(s.getBoundingRect(),e)),s.eachChild(function(g){var b=g.__title,S=g.ensureState("emphasis"),M=S.textConfig||(S.textConfig={}),C=g.getTextContent(),O=C&&C.states.emphasis;if(O&&!y.isFunction(O)&&b){var E=O.style||(O.style={}),I=wc(b,Fi.makeFont(E)),W=g.x+s.x,H=g.y+s.y+l,Q=!1;H+I.height>i.getHeight()&&(M.position="top",Q=!0);var se=Q?-5-I.height:l+8;W+I.width/2>i.getWidth()?(M.position=["100%",se],E.align="right"):W-I.width/2<0&&(M.position=[0,se],E.align="left")}})},t.prototype.updateView=function(e,r,i,a){y.each(this._features,function(s){s instanceof Sf&&s.updateView&&s.updateView(s.model,r,i,a)})},t.prototype.remove=function(e,r){y.each(this._features,function(i){i instanceof Sf&&i.remove&&i.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){y.each(this._features,function(i){i instanceof Sf&&i.dispose&&i.dispose(e,r)})},t.type="toolbox",t}(Xo);function hW(n){return n.indexOf("my")===0}var pW=dW,vW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",s=r.getZr().painter.getType()==="svg",l=s?"svg":i.get("type",!0)||"png",u=r.getConnectedDataURL({type:l,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),f=en.a.browser;if(Object(y.isFunction)(MouseEvent)&&(f.newEdge||!f.ie&&!f.edge)){var d=document.createElement("a");d.download=a+"."+l,d.target="_blank",d.href=u;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||s){var v=u.split(","),g=v[0].indexOf("base64")>-1,b=s?decodeURIComponent(v[1]):v[1];g&&(b=window.atob(b));var S=a+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var M=b.length,C=new Uint8Array(M);M--;)C[M]=b.charCodeAt(M);var O=new Blob([C]);window.navigator.msSaveOrOpenBlob(O,S)}else{var E=document.createElement("iframe");document.body.appendChild(E);var I=E.contentWindow,W=I.document;W.open("image/svg+xml","replace"),W.write(b),W.close(),I.focus(),W.execCommand("SaveAs",!0,S),document.body.removeChild(E)}}else{var H=i.get("lang"),Q='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(H&&H[0]||"")+'" /></body>',se=window.open();se.document.write(Q),se.document.title=a}},t.getDefaultOption=function(e){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(Sf),gW=vW,zR="__ec_magicType_stack__",KY=["line","bar","stack"],YY=["line","bar","stack","tiled"],mW=[["line","bar"],["stack"]],yW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),i={};return y.each(e.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},t.getDefaultOption=function(e){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(e,r,i){var a=this.model,s=a.get(["seriesIndex",i]);if(!!VR[i]){var l={series:[]},u=function(h){var v=h.subType,g=h.id,b=VR[i](v,g,h,a);b&&(y.defaults(b,h.option),l.series.push(b));var S=h.coordinateSystem;if(S&&S.type==="cartesian2d"&&(i==="line"||i==="bar")){var M=S.getAxesByScale("ordinal")[0];if(M){var C=M.dim,O=C+"Axis",E=h.getReferringComponents(O,Wo).models[0],I=E.componentIndex;l[O]=l[O]||[];for(var W=0;W<=I;W++)l[O][I]=l[O][I]||{};l[O][I].boundaryGap=i==="bar"}}};y.each(mW,function(h){y.indexOf(h,i)>=0&&y.each(h,function(v){a.setIconStatus(v,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},u);var f,d=i;i==="stack"&&(f=y.merge({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(d="tiled")),r.dispatchAction({type:"changeMagicType",currentType:d,newOption:l,newTitle:f,featureName:"magicType"})}},t}(Sf),VR={line:function(n,t,e,r){if(n==="bar")return y.merge({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,t,e,r){if(n==="line")return y.merge({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,t,e,r){var i=e.get("stack")===zR;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),y.merge({id:t,stack:i?"":zR},r.get(["option","stack"])||{},!0)}};Zf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var bW=yW,aw=new Array(60).join("-"),vy="	";function xW(n){var t={},e=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var l=s.dim+"_"+s.index;t[l]||(t[l]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},r.push({axisDim:s.dim,axisIndex:s.index})),t[l].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:r}}function SW(n){var t=[];return y.each(n,function(e,r){var i=e.categoryAxis,a=e.valueAxis,s=a.dim,l=[" "].concat(y.map(e.series,function(g){return g.name})),u=[i.model.getCategories()];y.each(e.series,function(g){var b=g.getRawData();u.push(g.getRawData().mapArray(b.mapDimension(s),function(S){return S}))});for(var f=[l.join(vy)],d=0;d<u[0].length;d++){for(var h=[],v=0;v<u.length;v++)h.push(u[v][d]);f.push(h.join(vy))}t.push(f.join(`
`))}),t.join(`

`+aw+`

`)}function wW(n){return y.map(n,function(t){var e=t.getRawData(),r=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],l=e.getName(s),u=0;u<a-1;u++)i[u]=arguments[u];r.push((l?l+vy:"")+i.join(vy))}),r.join(`
`)}).join(`

`+aw+`

`)}function MW(n){var t=xW(n);return{value:y.filter([SW(t.seriesGroupByCategoryAxis),wW(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+aw+`

`),meta:t.meta}}function ow(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _W(n){var t=n.slice(0,n.indexOf(`
`));if(t.indexOf(vy)>=0)return!0}var ET=new RegExp("["+vy+"]+","g");function CW(n){for(var t=n.split(/\n+/g),e=ow(t.shift()).split(ET),r=[],i=y.map(e,function(u){return{name:u,data:[]}}),a=0;a<t.length;a++){var s=ow(t[a]).split(ET);r.push(s.shift());for(var l=0;l<s.length;l++)i[l]&&(i[l].data[a]=s[l])}return{series:i,categories:r}}function TW(n){for(var t=n.split(/\n+/g),e=ow(t.shift()),r=[],i=0;i<t.length;i++){var a=ow(t[i]);if(!!a){var s=a.split(ET),l="",u=void 0,f=!1;isNaN(s[0])?(f=!0,l=s[0],s=s.slice(1),r[i]={name:l,value:[]},u=r[i].value):u=r[i]=[];for(var d=0;d<s.length;d++)u.push(+s[d]);u.length===1&&(f?r[i].value=u[0]:r[i]=u[0])}}return{name:e,data:r}}function OW(n,t){var e=n.split(new RegExp(`
*`+aw+`
*`,"g")),r={series:[]};return y.each(e,function(i,a){if(_W(i)){var s=CW(i),l=t[a],u=l.axisDim+"Axis";l&&(r[u]=r[u]||[],r[u][l.axisIndex]={data:s.categories},r.series=r.series.concat(s.series))}else{var s=TW(i);r.series.push(s)}}),r}var EW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=a.get("lang")||[];l.innerHTML=u[0]||a.get("title"),l.style.cssText="margin: 10px 20px;",l.style.color=a.get("textColor");var f=document.createElement("div"),d=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var h=a.get("optionToContent"),v=a.get("contentToOption"),g=MW(e);if(y.isFunction(h)){var b=h(r.getOption());y.isString(b)?f.innerHTML=b:y.isDom(b)&&f.appendChild(b)}else f.appendChild(d),d.readOnly=a.get("readOnly"),d.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",d.style.color=a.get("textColor"),d.style.borderColor=a.get("textareaBorderColor"),d.style.backgroundColor=a.get("textareaColor"),d.value=g.value;var S=g.meta,M=document.createElement("div");M.style.cssText="position:absolute;bottom:0;left:0;right:0;";var C="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",O=document.createElement("div"),E=document.createElement("div");C+=";background-color:"+a.get("buttonColor"),C+=";color:"+a.get("buttonTextColor");var I=this;function W(){i.removeChild(s),I._dom=null}Es(O,"click",W),Es(E,"click",function(){if(v==null&&h!=null||v!=null&&h==null){W();return}var H;try{y.isFunction(v)?H=v(f,r.getOption()):H=OW(d.value,S)}catch(Q){throw W(),new Error("Data view format error "+Q)}H&&r.dispatchAction({type:"changeDataView",newOption:H}),W()}),O.innerHTML=u[1],E.innerHTML=u[2],E.style.cssText=C,O.style.cssText=C,!a.get("readOnly")&&M.appendChild(E),M.appendChild(O),s.appendChild(l),s.appendChild(f),s.appendChild(M),f.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(Sf);function AW(n,t){return y.map(n,function(e,r){var i=t&&t[r];if(y.isObject(i)&&!y.isArray(i)){var a=y.isObject(e)&&!y.isArray(e);a||(e={value:e});var s=i.name!=null&&e.name==null;return e=y.defaults(e,i),s&&delete e.name,e}else return e})}Zf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];y.each(n.newOption.series,function(r){var i=t.getSeriesByName(r.name)[0];if(!i)e.push(y.extend({type:"scatter"},r));else{var a=i.get("data");e.push({name:r.name,data:AW(r.data,a)})}}),t.mergeOption(y.defaults({series:e},n.newOption))});var PW=EW,HR=y.each,GR=Yi();function LW(n,t){var e=AT(n);HR(t,function(r,i){for(var a=e.length-1;a>=0;a--){var s=e[a];if(s[i])break}if(a<0){var l=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(l){var u=l.getPercentRange();e[0][i]={dataZoomId:i,start:u[0],end:u[1]}}}}),e.push(t)}function DW(n){var t=AT(n),e=t[t.length-1];t.length>1&&t.pop();var r={};return HR(e,function(i,a){for(var s=t.length-1;s>=0;s--)if(i=t[s][a],i){r[a]=i;break}}),r}function RW(n){GR(n).snapshots=null}function IW(n){return AT(n).length}function AT(n){var t=GR(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var NW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){RW(e),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(Sf);Zf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var kW=NW,jW=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BW=function(){function n(t,e,r){var i=this;this._targetInfoList=[];var a=UR(e,t);Object(y.each)(FW,function(s,l){(!r||!r.include||Object(y.indexOf)(r.include,l)>=0)&&s(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var s=LT[r.brushType](0,a,i);r.__rangeOffset={offset:XR[r.brushType](s.values,r.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,r){Object(y.each)(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&Object(y.each)(a.coordSyses,function(s){var l=LT[i.brushType](1,s,i.range,!0);r(i,l.values,s,e)})},this)},n.prototype.setInputRanges=function(t,e){Object(y.each)(t,function(r){var i=this.findTargetInfo(r,e);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=LT[r.brushType](0,i.coordSys,r.coordRange),s=r.__rangeOffset;r.range=s?XR[r.brushType](a.values,s.offset,zW(a.xyMinMax,s.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(t,e){return Object(y.map)(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:WL(i),isTargetByCursor:YL(i,t,r.coordSysModel),getLinearBrushOtherExtent:KL(i)}})},n.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return i===!0||i&&Object(y.indexOf)(i.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,i=UR(e,t),a=0;a<r.length;a++){var s=r[a],l=t.panelId;if(l){if(s.panelId===l)return s}else for(var u=0;u<WR.length;u++)if(WR[u](i,s))return s}return!0},n}();function PT(n){return n[0]>n[1]&&n.reverse(),n}function UR(n,t){return no(n,t,{includeMainTypes:jW})}var FW={grid:function(n,t){var e=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=Object(y.createHashMap)(),s={},l={};!e&&!r&&!i||(Object(y.each)(e,function(u){var f=u.axis.grid.model;a.set(f.id,f),s[f.id]=!0}),Object(y.each)(r,function(u){var f=u.axis.grid.model;a.set(f.id,f),l[f.id]=!0}),Object(y.each)(i,function(u){a.set(u.id,u),s[u.id]=!0,l[u.id]=!0}),a.each(function(u){var f=u.coordinateSystem,d=[];Object(y.each)(f.getCartesians(),function(h,v){(Object(y.indexOf)(e,h.getAxis("x").model)>=0||Object(y.indexOf)(r,h.getAxis("y").model)>=0)&&d.push(h)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:d[0],coordSyses:d,getPanelRect:KR.grid,xAxisDeclared:s[u.id],yAxisDeclared:l[u.id]})}))},geo:function(n,t){Object(y.each)(n.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:KR.geo})})}},WR=[function(n,t){var e=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],KR={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(wh(n)),t}},LT={lineX:Object(y.curry)(YR,0),lineY:Object(y.curry)(YR,1),rect:function(n,t,e,r){var i=n?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),a=n?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),s=[PT([i[0],a[0]]),PT([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(n,t,e,r){var i=[[Infinity,-Infinity],[Infinity,-Infinity]],a=Object(y.map)(e,function(s){var l=n?t.pointToData(s,r):t.dataToPoint(s,r);return i[0][0]=Math.min(i[0][0],l[0]),i[1][0]=Math.min(i[1][0],l[1]),i[0][1]=Math.max(i[0][1],l[0]),i[1][1]=Math.max(i[1][1],l[1]),l});return{values:a,xyMinMax:i}}};function YR(n,t,e,r){var i=e.getAxis(["x","y"][n]),a=PT(Object(y.map)([0,1],function(l){return t?i.coordToData(i.toLocalCoord(r[l]),!0):i.toGlobalCoord(i.dataToCoord(r[l]))})),s=[];return s[n]=a,s[1-n]=[NaN,NaN],{values:a,xyMinMax:s}}var XR={lineX:Object(y.curry)(ZR,0),lineY:Object(y.curry)(ZR,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return Object(y.map)(n,function(r,i){return[r[0]-e[0]*t[i][0],r[1]-e[1]*t[i][1]]})}};function ZR(n,t,e,r){return[t[0]-r[n]*e[0],t[1]-r[n]*e[1]]}function zW(n,t){var e=$R(n),r=$R(t),i=[e[0]/r[0],e[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function $R(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var DT=BW,RT=y.each,VW=sd("toolbox-dataZoom_"),XY=["zoom","back"],HW=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,r,i,a){this._brushController||(this._brushController=new HC(i.getZr()),this._brushController.on("brush",y.bind(this._onBrush,this)).mount()),WW(e,r,this,a,i),UW(e,r)},t.prototype.onclick=function(e,r,i){GW[i].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var r=e.areas;if(!e.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new DT(IT(this.model),a,{include:["grid"]});s.matchOutputRanges(r,a,function(f,d,h){if(h.type==="cartesian2d"){var v=f.brushType;v==="rect"?(l("x",h,d[0]),l("y",h,d[1])):l({lineX:"x",lineY:"y"}[v],h,d)}}),LW(a,i),this._dispatchZoomAction(i);function l(f,d,h){var v=d.getAxis(f),g=v.model,b=u(f,g,a),S=b.findRepresentativeAxisProxy(g).getMinMaxSpan();(S.minValueSpan!=null||S.maxValueSpan!=null)&&(h=Rg(0,h.slice(),v.scale.getExtent(),0,S.minValueSpan,S.maxValueSpan)),b&&(i[b.id]={dataZoomId:b.id,startValue:h[0],endValue:h[1]})}function u(f,d,h){var v;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(g){var b=g.getAxisModel(f,d.componentIndex);b&&(v=g)}),v}},t.prototype._dispatchZoomAction=function(e){var r=[];RT(e,function(i,a){r.push(y.clone(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(Sf),GW={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(DW(this.ecModel))}};function IT(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function UW(n,t){n.setIconStatus("back",IW(t)>1?"emphasis":"normal")}function WW(n,t,e,r,i){var a=e._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),e._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var s=new DT(IT(n),t,{include:["grid"]}),l=s.makePanelOpts(i,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(l).enableBrush(a&&l.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}ym("dataZoom",function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var r=t.getModel(e),i=[],a=IT(r),s=no(n,a);RT(s.xAxisModels,function(u){return l(u,"xAxis","xAxisIndex")}),RT(s.yAxisModels,function(u){return l(u,"yAxis","yAxisIndex")});function l(u,f,d){var h=u.componentIndex,v={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:VW+f+h};v[d]=h,i.push(v)}return i});var KW=HW;function YW(n){n.registerComponentModel(cW),n.registerComponentView(pW),py("saveAsImage",gW),py("magicType",bW),py("dataView",PW),py("dataZoom",KW),py("restore",kW),ea(lW)}var XW=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(xa),ZW=XW;function JR(n){var t=n.get("confine");return t!=null?!!t:n.get("renderMode")==="richText"}function QR(n){if(!!en.a.domSupported){for(var t=document.documentElement.style,e=0,r=n.length;e<r;e++)if(n[e]in t)return n[e]}}var qR=QR(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$W=QR(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function eI(n,t){if(!n)return t;t=fp(t,!0);var e=n.indexOf(t);return n=e===-1?t:"-"+n.slice(0,e)+"-"+t,n.toLowerCase()}function JW(n,t){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?t?e[t]:e:null}var QW=eI($W,"transition"),NT=eI(qR,"transform"),qW="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(en.a.transform3dSupported?"will-change:transform;":"");function e7(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function t7(n,t,e){if(!Object(y.isString)(e)||e==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");t=rf(t);var a=e7(e),s=Math.max(Math.round(i)*1.5,6),l="",u=NT+":",f;Object(y.indexOf)(["left","right"],a)>-1?(l+="top:50%",u+="translateY(-50%) rotate("+(f=a==="left"?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(f=a==="top"?225:45)+"deg)");var d=f*Math.PI/180,h=s+i,v=h*Math.abs(Math.cos(d))+h*Math.abs(Math.sin(d)),g=Math.round(((v-Math.SQRT2*i)/2+Math.SQRT2*i-(v-h)/2)*100)/100;l+=";"+a+":-"+g+"px";var b=t+" solid "+i+"px;",S=["position:absolute;width:"+s+"px;height:"+s+"px;",l+";"+u+";","border-bottom:"+b,"border-right:"+b,"background-color:"+r+";"];return'<div style="'+S.join("")+'"></div>'}function n7(n,t){var e="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+e,i="opacity"+r+",visibility"+r;return t||(r=" "+n+"s "+e,i+=en.a.transformSupported?","+NT+r:",left"+r+",top"+r),QW+":"+i}function tI(n,t,e){var r=n.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!en.a.transformSupported)return e?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=en.a.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+NT+":"+s+";":[["top",0],["left",0],[qR,s]]}function r7(n){var t=[],e=n.get("fontSize"),r=n.getTextColor();r&&t.push("color:"+r),t.push("font:"+n.getFont()),e&&t.push("line-height:"+Math.round(e*3/2)+"px");var i=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return i&&a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+i),Object(y.each)(["decoration","align"],function(u){var f=n.get(u);f&&t.push("text-"+u+":"+f)}),t.join(";")}function i7(n,t,e){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),s=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),f=n.get("shadowOffsetY"),d=n.getModel("textStyle"),h=K0(n,"html"),v=u+"px "+f+"px "+s+"px "+l;return r.push("box-shadow:"+v),t&&i&&r.push(n7(i,e)),a&&r.push("background-color:"+a),Object(y.each)(["width","color","radius"],function(g){var b="border-"+g,S=fp(b),M=n.get(S);M!=null&&r.push(b+":"+M+(g==="color"?"":"px"))}),r.push(r7(d)),h!=null&&r.push("padding:"+nf(h).join("px ")+"px"),r.join(";")+";"}function nI(n,t,e,r,i){var a=t&&t.painter;if(e){var s=a&&a.getViewportRoot();s&&mr(n,s,document.body,r,i)}else{n[0]=r,n[1]=i;var l=a&&a.getViewportRootOffset();l&&(n[0]+=l.offsetLeft,n[1]+=l.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var a7=function(){function n(t,e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,en.a.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=e.getZr(),s=this._appendToBody=r&&r.appendToBody;nI(this._styleCoord,a,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(i):t.appendChild(i),this._container=t;var l=this;i.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!l._enterable){var f=a.handler,d=a.painter.getViewportRoot();Go(d,u,!0),f.dispatch("mousemove",u)}},i.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return n.prototype.update=function(t){var e=this._container,r=JW(e,"position"),i=e.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=qW+i7(t,!this._firstShow,this._longHide)+tI(a[0],a[1],!0)+("border-color:"+rf(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,r,i,a){var s=this.el;if(t==null){s.innerHTML="";return}var l="";if(Object(y.isString)(a)&&r.get("trigger")==="item"&&!JR(r)&&(l=t7(r,i,a)),Object(y.isString)(t))s.innerHTML=t+l;else if(t){s.innerHTML="",Object(y.isArray)(t)||(t=[t]);for(var u=0;u<t.length;u++)Object(y.isDom)(t[u])&&t[u].parentNode!==s&&s.appendChild(t[u]);if(l&&s.childNodes.length){var f=document.createElement("div");f.innerHTML=l,s.appendChild(f)}}},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var r=this._styleCoord;if(nI(r,this._zr,this._appendToBody,t,e),r[0]!=null&&r[1]!=null){var i=this.el.style,a=tI(r[0],r[1]);Object(y.each)(a,function(s){i[s[0]]=s[1]})}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",en.a.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(y.bind)(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),o7=a7,s7=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),iI(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,r,i,a){var s=this;y.isObject(t)&&Za(""),this.el&&this._zr.remove(this.el);var l=r.getModel("textStyle");this.el=new Fi({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:l.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:K0(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),y.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){s.el.style[f]=r.get(f)}),y.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){s.el.style[f]=l.get(f)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),r=rI(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},n.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;iI(i,this._zr,t,e),t=i[0],e=i[1];var a=r.style,s=Qp(a.borderWidth||0),l=rI(a);r.x=t+s+l.left,r.y=e+s+l.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(y.bind(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function Qp(n){return Math.max(0,n)}function rI(n){var t=Qp(n.shadowBlur||0),e=Qp(n.shadowOffsetX||0),r=Qp(n.shadowOffsetY||0);return{left:Qp(t-e),right:Qp(t+e),top:Qp(t-r),bottom:Qp(t+r)}}function iI(n,t,e,r){n[0]=e,n[1]=r,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var l7=s7,u7=new Bi({shape:{x:-1,y:-1,width:2,height:2}}),c7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){if(!(en.a.node||!r.getDom())){var i=e.getComponent("tooltip"),a=this._renderMode=Oy(i.get("renderMode"));this._tooltipContent=a==="richText"?new l7(r):new o7(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(e,r,i){if(!(en.a.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=i,this._alwaysShowContent=e.get("alwaysShowContent");var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?dn(this,"_updatePosition",50,"fixRate"):qt(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,r=e.get("triggerOn");uR("itemTooltip",this._api,Object(y.bind)(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,i=this._api;if(this._lastX!=null&&this._lastY!=null&&e.get("triggerOn")!=="none"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(e,r,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,r,i,a){if(!(a.from===this.uid||en.a.node||!i.getDom())){var s=aI(a,i);this._ticket="";var l=a.dataByCoordSys,u=p7(a,r,i);if(u){var f=u.el.getBoundingRect().clone();f.applyTransform(u.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:u.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var d=u7;d.x=a.x,d.y=a.y,d.update(),Yr(d).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:d},s)}else if(l)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:l,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,r,i,a))return;var h=fR(a,r),v=h.point[0],g=h.point[1];v!=null&&g!=null&&this._tryShow({offsetX:v,offsetY:g,target:h.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},t.prototype.manuallyHideTip=function(e,r,i,a){var s=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(aI(a,i))},t.prototype._manuallyAxisShowTip=function(e,r,i,a){var s=a.seriesIndex,l=a.dataIndex,u=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||l==null||u==null)){var f=r.getSeriesByIndex(s);if(!!f){var d=f.getData(),h=ex([d.getItemModel(l),f,(f.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:l,position:a.position}),!0}}},t.prototype._tryShow=function(e,r){var i=e.target,a=this._tooltipModel;if(!!a){this._lastX=e.offsetX,this._lastY=e.offsetY;var s=e.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,e);else if(i){this._lastDataByCoordSys=null;var l,u;_u(i,function(f){if(Yr(f).dataIndex!=null)return l=f,!0;if(Yr(f).tooltipConfig!=null)return u=f,!0},!0),l?this._showSeriesItemTooltip(e,l,r):u?this._showComponentItemTooltip(e,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(e,r){var i=e.get("showDelay");r=Object(y.bind)(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(e,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],l=ex([r.tooltipOption],a),u=this._renderMode,f=[],d=Ys("section",{blocks:[],noHeader:!0}),h=[],v=new Lp;Object(y.each)(e,function(O){Object(y.each)(O.dataByAxis,function(E){var I=i.getComponent(E.axisDim+"Axis",E.axisIndex),W=E.value;if(!(!I||W==null)){var H=rR(W,I.axis,i,E.seriesDataIndices,E.valueLabelOpt),Q=Ys("section",{header:H,noHeader:!Object(y.trim)(H),sortBlocks:!0,blocks:[]});d.blocks.push(Q),Object(y.each)(E.seriesDataIndices,function(se){var le=i.getSeriesByIndex(se.seriesIndex),Me=se.dataIndexInside,xe=le.getDataParams(Me);if(!(xe.dataIndex<0)){xe.axisDim=E.axisDim,xe.axisIndex=E.axisIndex,xe.axisType=E.axisType,xe.axisId=E.axisId,xe.axisValue=a_(I.axis,{value:W}),xe.axisValueLabel=H,xe.marker=v.makeTooltipMarker("item",rf(xe.color),u);var Be=j0(le.formatTooltip(Me,!0,null)),ze=Be.frag;if(ze){var it=ex([le],a).get("valueFormatter");Q.blocks.push(it?Object(y.extend)({valueFormatter:it},ze):ze)}Be.text&&h.push(Be.text),f.push(xe)}})}})}),d.blocks.reverse(),h.reverse();var g=r.position,b=l.get("order"),S=b1(d,v,u,b,i.get("useUTC"),l.get("textStyle"));S&&h.unshift(S);var M=u==="richText"?`

`:"<br/>",C=h.join(M);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(e,f)?this._updatePosition(l,g,s[0],s[1],this._tooltipContent,f):this._showTooltipContent(l,C,f,Math.random()+"",s[0],s[1],g,null,v)})},t.prototype._showSeriesItemTooltip=function(e,r,i){var a=this._ecModel,s=Yr(r),l=s.seriesIndex,u=a.getSeriesByIndex(l),f=s.dataModel||u,d=s.dataIndex,h=s.dataType,v=f.getData(h),g=this._renderMode,b=e.positionDefault,S=ex([v.getItemModel(d),f,u&&(u.coordinateSystem||{}).model],this._tooltipModel,b?{position:b}:null),M=S.get("trigger");if(!(M!=null&&M!=="item")){var C=f.getDataParams(d,h),O=new Lp;C.marker=O.makeTooltipMarker("item",rf(C.color),g);var E=j0(f.formatTooltip(d,!1,h)),I=S.get("order"),W=S.get("valueFormatter"),H=E.frag,Q=H?b1(W?Object(y.extend)({valueFormatter:W},H):H,O,g,I,a.get("useUTC"),S.get("textStyle")):E.text,se="item_"+f.name+"_"+d;this._showOrMove(S,function(){this._showTooltipContent(S,Q,C,se,e.offsetX,e.offsetY,e.position,e.target,O)}),i({type:"showTip",dataIndexInside:d,dataIndex:v.getRawIndex(d),seriesIndex:l,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,r,i){var a=Yr(r),s=a.tooltipConfig,l=s.option||{};if(Object(y.isString)(l)){var u=l;l={content:u,formatter:u}}var f=[l],d=this._ecModel.getComponent(a.componentMainType,a.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=e.positionDefault,v=ex(f,this._tooltipModel,h?{position:h}:null),g=v.get("content"),b=Math.random()+"",S=new Lp;this._showOrMove(v,function(){var M=Object(y.clone)(v.get("formatterParams")||{});this._showTooltipContent(v,g,M,b,e.offsetX,e.offsetY,e.position,r,S)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,r,i,a,s,l,u,f,d){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var h=this._tooltipContent,v=e.get("formatter");u=u||e.get("position");var g=r,b=this._getNearestPoint([s,l],i,e.get("trigger"),e.get("borderColor")),S=b.color;if(v)if(Object(y.isString)(v)){var M=e.ecModel.get("useUTC"),C=Object(y.isArray)(i)?i[0]:i,O=C&&C.axisType&&C.axisType.indexOf("time")>=0;g=v,O&&(g=Iv(C.axisValue,g,M)),g=md(g,i,!0)}else if(Object(y.isFunction)(v)){var E=Object(y.bind)(function(I,W){I===this._ticket&&(h.setContent(W,d,e,S,u),this._updatePosition(e,u,s,l,h,i,f))},this);this._ticket=a,g=v(i,a,E)}else g=v;h.setContent(g,d,e,S,u),h.show(e,S),this._updatePosition(e,u,s,l,h,i,f)}},t.prototype._getNearestPoint=function(e,r,i,a){if(i==="axis"||Object(y.isArray)(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Object(y.isArray)(r))return{color:a||r.color||r.borderColor}},t.prototype._updatePosition=function(e,r,i,a,s,l,u){var f=this._api.getWidth(),d=this._api.getHeight();r=r||e.get("position");var h=s.getSize(),v=e.get("align"),g=e.get("verticalAlign"),b=u&&u.getBoundingRect().clone();if(u&&b.applyTransform(u.transform),Object(y.isFunction)(r)&&(r=r([i,a],l,s.el,b,{viewSize:[f,d],contentSize:h.slice()})),Object(y.isArray)(r))i=Yn(r[0],f),a=Yn(r[1],d);else if(Object(y.isObject)(r)){var S=r;S.width=h[0],S.height=h[1];var M=ks(S,{width:f,height:d});i=M.x,a=M.y,v=null,g=null}else if(Object(y.isString)(r)&&u){var C=h7(r,b,h,e.get("borderWidth"));i=C[0],a=C[1]}else{var C=f7(i,a,s,f,d,v?null:20,g?null:20);i=C[0],a=C[1]}if(v&&(i-=oI(v)?h[0]/2:v==="right"?h[0]:0),g&&(a-=oI(g)?h[1]/2:g==="bottom"?h[1]:0),JR(e)){var C=d7(i,a,s,f,d);i=C[0],a=C[1]}s.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===e.length;return s&&Object(y.each)(i,function(l,u){var f=l.dataByAxis||[],d=e[u]||{},h=d.dataByAxis||[];s=s&&f.length===h.length,s&&Object(y.each)(f,function(v,g){var b=h[g]||{},S=v.seriesDataIndices||[],M=b.seriesDataIndices||[];s=s&&v.value===b.value&&v.axisType===b.axisType&&v.axisId===b.axisId&&S.length===M.length,s&&Object(y.each)(S,function(C,O){var E=M[O];s=s&&C.seriesIndex===E.seriesIndex&&C.dataIndex===E.dataIndex}),a&&Object(y.each)(v.seriesDataIndices,function(C){var O=C.seriesIndex,E=r[O],I=a[O];E&&I&&I.data!==E.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!s},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,r){en.a.node||!r.getDom()||(qt(this,"_updatePosition"),this._tooltipContent.dispose(),gT("itemTooltip",r))},t.type="tooltip",t}(Xo);function ex(n,t,e){var r=t.ecModel,i;e?(i=new Mo(e,r,r),i=new Mo(t.option,i,r)):i=t;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Mo&&(s=s.get("tooltip",!0)),Object(y.isString)(s)&&(s={formatter:s}),s&&(i=new Mo(s,i,r)))}return i}function aI(n,t){return n.dispatchAction||Object(y.bind)(t.dispatchAction,t)}function f7(n,t,e,r,i,a,s){var l=e.getSize(),u=l[0],f=l[1];return a!=null&&(n+u+a+2>r?n-=u+a:n+=a),s!=null&&(t+f+s>i?t-=f+s:t+=s),[n,t]}function d7(n,t,e,r,i){var a=e.getSize(),s=a[0],l=a[1];return n=Math.min(n+s,r)-s,t=Math.min(t+l,i)-l,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function h7(n,t,e,r){var i=e[0],a=e[1],s=Math.ceil(Math.SQRT2*r)+8,l=0,u=0,f=t.width,d=t.height;switch(n){case"inside":l=t.x+f/2-i/2,u=t.y+d/2-a/2;break;case"top":l=t.x+f/2-i/2,u=t.y-a-s;break;case"bottom":l=t.x+f/2-i/2,u=t.y+d+s;break;case"left":l=t.x-i-s,u=t.y+d/2-a/2;break;case"right":l=t.x+f+s,u=t.y+d/2-a/2}return[l,u]}function oI(n){return n==="center"||n==="middle"}function p7(n,t,e){var r=$c(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=Oc(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(!!s){var l=e.getViewOfComponentModel(s),u;if(l.group.traverse(function(f){var d=Yr(f).tooltipConfig;if(d&&d.name===n.name)return u=f,!0}),u)return{componentMainType:i,componentIndex:s.componentIndex,el:u}}}}var v7=c7;function g7(n){ea(Qb),n.registerComponentModel(ZW),n.registerComponentView(v7),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},y.noop),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},y.noop)}var m7=["rect","polygon","keep","clear"];function y7(n,t){var e=Xa(n?n.brush:[]);if(!!e.length){var r=[];y.each(e,function(u){var f=u.hasOwnProperty("toolbox")?u.toolbox:[];f instanceof Array&&(r=r.concat(f))});var i=n&&n.toolbox;y.isArray(i)&&(i=i[0]),i||(i={feature:{}},n.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),l=s.type||(s.type=[]);l.push.apply(l,r),b7(l),t&&!l.length&&l.push.apply(l,m7)}}function b7(n){var t={};y.each(n,function(e){t[e]=1}),n.length=0,y.each(t,function(e,r){n.push(r)})}var sI=y.each;function lI(n){if(n){for(var t in n)if(n.hasOwnProperty(t))return!0}}function kT(n,t,e){var r={};return sI(t,function(a){var s=r[a]=i();sI(n[a],function(l,u){if(!!tu.isValidType(u)){var f={type:u,visual:l};e&&e(f,a),s[u]=new tu(f),u==="opacity"&&(f=y.clone(f),f.type="colorAlpha",s.__hidden.__alphaForOpacity=new tu(f))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function uI(n,t,e){var r;y.each(e,function(i){t.hasOwnProperty(i)&&lI(t[i])&&(r=!0)}),r&&y.each(e,function(i){t.hasOwnProperty(i)&&lI(t[i])?n[i]=y.clone(t[i]):delete n[i]})}function x7(n,t,e,r,i,a){var s={};y.each(n,function(h){var v=tu.prepareVisualTypes(t[h]);s[h]=v});var l;function u(h){return hi(e,l,h)}function f(h,v){xl(e,l,h,v)}a==null?e.each(d):e.each([a],d);function d(h,v){l=a==null?h:v;var g=e.getRawDataItem(l);if(!(g&&g.visualMap===!1))for(var b=r.call(i,h),S=t[b],M=s[b],C=0,O=M.length;C<O;C++){var E=M[C];S[E]&&S[E].applyVisual(h,u,f)}}}function S7(n,t,e,r){var i={};return y.each(n,function(a){var s=tu.prepareVisualTypes(t[a]);i[a]=s}),{progress:function(s,l){var u;r!=null&&(u=l.getDimensionIndex(r));function f(W){return hi(l,h,W)}function d(W,H){xl(l,h,W,H)}for(var h,v=l.getStore();(h=s.next())!=null;){var g=l.getRawDataItem(h);if(!(g&&g.visualMap===!1))for(var b=r!=null?v.get(u,h):h,S=e(b),M=t[S],C=i[S],O=0,E=C.length;O<E;O++){var I=C[O];M[I]&&M[I].applyVisual(b,f,d)}}}}}function w7(n){var t=n.brushType,e={point:function(r){return jT[t].point(r,e,n)},rect:function(r){return jT[t].rect(r,e,n)}};return e}var jT={lineX:cI(0),lineY:cI(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&bg(e.range,n[0],n[1])},rect:function(n,t,e){var r=e.range;if(!n||r.length<=1)return!1;var i=n.x,a=n.y,s=n.width,l=n.height,u=r[0];if(bg(r,i,a)||bg(r,i+s,a)||bg(r,i,a+l)||bg(r,i+s,a+l)||Hn.create(n).contain(u[0],u[1])||x(i,a,i+s,a,r)||x(i,a,i,a+l,r)||x(i+s,a,i+s,a+l,r)||x(i,a+l,i+s,a+l,r))return!0}}};function cI(n){var t=["x","y"],e=["width","height"];return{point:function(r,i,a){if(r){var s=a.range,l=r[n];return tx(l,s)}},rect:function(r,i,a){if(r){var s=a.range,l=[r[t[n]],r[t[n]]+r[e[n]]];return l[1]<l[0]&&l.reverse(),tx(l[0],s)||tx(l[1],s)||tx(s[0],l)||tx(s[1],l)}}}}function tx(n,t){return t[0]<=n&&n<=t[1]}var ZY=jT,fI=["inBrush","outOfBrush"],BT="__ecBrushSelect",FT="__ecInBrushSelectEvent";function dI(n){n.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new DT(t.option,n);e.setInputRanges(t.areas,n)})}function M7(n,t,e){var r=[],i,a;n.eachComponent({mainType:"brush"},function(s){e&&e.type==="takeGlobalCursor"&&s.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),dI(n),n.eachComponent({mainType:"brush"},function(s,l){var u={brushId:s.id,brushIndex:l,brushName:s.name,areas:y.clone(s.areas),selected:[]};r.push(u);var f=s.option,d=f.brushLink,h=[],v=[],g=[],b=!1;l||(i=f.throttleType,a=f.throttleDelay);var S=y.map(s.areas,function(W){var H=O7[W.brushType],Q=y.defaults({boundingRect:H?H(W):void 0},W);return Q.selectors=w7(Q),Q}),M=kT(s.option,fI,function(W){W.mappingMethod="fixed"});y.isArray(d)&&y.each(d,function(W){h[W]=1});function C(W){return d==="all"||!!h[W]}function O(W){return!!W.length}n.eachSeries(function(W,H){var Q=g[H]=[];W.subType==="parallel"?E(W,H):I(W,H,Q)});function E(W,H){var Q=W.coordinateSystem;b=b||Q.hasAxisBrushed(),C(H)&&Q.eachActiveState(W.getData(),function(se,le){se==="active"&&(v[le]=1)})}function I(W,H,Q){if(!(!W.brushSelector||T7(s,H))&&(y.each(S,function(le){s.brushTargetManager.controlSeries(le,W,n)&&Q.push(le),b=b||O(Q)}),C(H)&&O(Q))){var se=W.getData();se.each(function(le){hI(W,Q,se,le)&&(v[le]=1)})}}n.eachSeries(function(W,H){var Q={seriesId:W.id,seriesIndex:H,seriesName:W.name,dataIndex:[]};u.selected.push(Q);var se=g[H],le=W.getData(),Me=C(H)?function(xe){return v[xe]?(Q.dataIndex.push(le.getRawIndex(xe)),"inBrush"):"outOfBrush"}:function(xe){return hI(W,se,le,xe)?(Q.dataIndex.push(le.getRawIndex(xe)),"inBrush"):"outOfBrush"};(C(H)?b:O(se))&&x7(fI,M,le,Me)})}),_7(t,i,a,r,e)}function _7(n,t,e,r,i){if(!!i){var a=n.getZr();if(!a[FT]){a[BT]||(a[BT]=C7);var s=dn(a,BT,e,t);s(n,r)}}}function C7(n,t){if(!n.isDisposed()){var e=n.getZr();e[FT]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[FT]=!1}}function hI(n,t,e,r){for(var i=0,a=t.length;i<a;i++){var s=t[i];if(n.brushSelector(r,e,s.selectors,s))return!0}}function T7(n,t){var e=n.option.seriesIndex;return e!=null&&e!=="all"&&(y.isArray(e)?y.indexOf(e,t)<0:t!==e)}var O7={rect:function(n){return pI(n.range)},polygon:function(n){for(var t,e=n.range,r=0,i=e.length;r<i;r++){t=t||[[Infinity,-Infinity],[Infinity,-Infinity]];var a=e[r];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&pI(t)}};function pI(n){return new Hn(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var E7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){this.ecModel=e,this.api=r,this.model,(this._brushController=new HC(r.getZr())).on("brush",y.bind(this._onBrush,this)).mount()},t.prototype.render=function(e,r,i,a){this.model=e,this._updateController(e,r,i,a)},t.prototype.updateTransform=function(e,r,i,a){dI(r),this._updateController(e,r,i,a)},t.prototype.updateVisual=function(e,r,i,a){this.updateTransform(e,r,i,a)},t.prototype.updateView=function(e,r,i,a){this._updateController(e,r,i,a)},t.prototype._updateController=function(e,r,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:y.clone(i),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:y.clone(i),$from:r})},t.type="brush",t}(Xo),A7=E7,P7="#ddd",L7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,r){var i=this.option;!r&&uI(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:P7},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){!e||(this.areas=y.map(e,function(r){return vI(this.option,r)},this))},t.prototype.setBrushOption=function(e){this.brushOption=vI(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(xa);function vI(n,t){return y.merge({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Mo(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var D7=L7,R7=["rect","polygon","lineX","lineY","keep","clear"],I7=function(n){ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(e,r,i){var a,s,l;r.eachComponent({mainType:"brush"},function(u){a=u.brushType,s=u.brushOption.brushMode||"single",l=l||!!u.areas.length}),this._brushType=a,this._brushMode=s,y.each(e.get("type",!0),function(u){e.setIconStatus(u,(u==="keep"?s==="multiple":u==="clear"?l:u===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,r,i){this.render(e,r,i)},t.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),i={};return y.each(e.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},t.prototype.onclick=function(e,r,i){var a=this._brushType,s=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},t.getDefaultOption=function(e){var r={show:!0,type:R7.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return r},t}(Sf),N7=I7;function k7(n){n.registerComponentView(A7),n.registerComponentModel(D7),n.registerPreprocessor(y7),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,M7),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},y.noop),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},y.noop),py("brush",N7)}var j7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(xa),B7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,i){if(this.group.removeAll(),!!e.get("show")){var a=this.group,s=e.getModel("textStyle"),l=e.getModel("subtextStyle"),u=e.get("textAlign"),f=y.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),d=new Fi({style:bs(s,{text:e.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),h=d.getBoundingRect(),v=e.get("subtext"),g=new Fi({style:bs(l,{text:v,fill:l.getTextColor(),y:h.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),b=e.get("link"),S=e.get("sublink"),M=e.get("triggerEvent",!0);d.silent=!b&&!M,g.silent=!S&&!M,b&&d.on("click",function(){yd(b,"_"+e.get("target"))}),S&&g.on("click",function(){yd(S,"_"+e.get("subtarget"))}),Yr(d).eventData=Yr(g).eventData=M?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(d),v&&a.add(g);var C=a.getBoundingRect(),O=e.getBoxLayoutParams();O.width=C.width,O.height=C.height;var E=ks(O,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));u||(u=e.get("left")||e.get("right"),u==="middle"&&(u="center"),u==="right"?E.x+=E.width:u==="center"&&(E.x+=E.width/2)),f||(f=e.get("top")||e.get("bottom"),f==="center"&&(f="middle"),f==="bottom"?E.y+=E.height:f==="middle"&&(E.y+=E.height/2),f=f||"top"),a.x=E.x,a.y=E.y,a.markRedraw();var I={align:u,verticalAlign:f};d.setStyle(I),g.setStyle(I),C=a.getBoundingRect();var W=E.margin,H=e.getItemStyle(["color","opacity"]);H.fill=e.get("backgroundColor");var Q=new Bi({shape:{x:C.x-W[3],y:C.y-W[0],width:C.width+W[1]+W[3],height:C.height+W[0]+W[2],r:e.get("borderRadius")},style:H,subPixelOptimize:!0,silent:!0});a.add(Q)}},t.type="title",t}(Xo);function F7(n){n.registerComponentModel(j7),n.registerComponentView(B7)}var z7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,r=e.data||[],i=e.axisType,a=this._names=[],s;i==="category"?(s=[],Object(y.each)(r,function(f,d){var h=Fo(Rl(f),""),v;Object(y.isObject)(f)?(v=Object(y.clone)(f),v.value=d):v=d,s.push(v),a.push(h)})):s=r;var l={category:"ordinal",time:"time",value:"number"}[i]||"number",u=this._data=new Tu([{name:"value",type:l}],this);u.initData(s,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(xa),gI=z7,mI=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=Bf(gI.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(gI);Object(y.mixin)(mI,Am.prototype);var V7=mI,H7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t}(Xo),G7=H7,U7=function(n){ve(t,n);function t(e,r,i,a){var s=n.call(this,e,r,i)||this;return s.type=a||"value",s}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(vf),W7=U7,zT=Math.PI,yI=Yi(),K7=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){this.api=r},t.prototype.render=function(e,r,i){if(this.model=e,this.api=i,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),s=this._createGroup("_mainGroup"),l=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(a,e);e.formatTooltip=function(f){var d=u.scale.getLabel({value:f});return Ys("nameValue",{noName:!0,value:d})},Object(y.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](a,s,u,e)},this),this._renderAxisLabel(a,l,u,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,r){var i=e.get(["label","position"]),a=e.get("orient"),s=X7(e,r),l;i==null||i==="auto"?l=a==="horizontal"?s.y+s.height/2<r.getHeight()/2?"-":"+":s.x+s.width/2<r.getWidth()/2?"+":"-":Object(y.isString)(i)?l={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:l=i;var u={horizontal:"center",vertical:l>=0||l==="+"?"left":"right"},f={horizontal:l>=0||l==="+"?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:zT/2},h=a==="vertical"?s.height:s.width,v=e.getModel("controlStyle"),g=v.get("show",!0),b=g?v.get("itemSize"):0,S=g?v.get("itemGap"):0,M=b+S,C=e.get(["label","rotate"])||0;C=C*zT/180;var O,E,I,W=v.get("position",!0),H=g&&v.get("showPlayBtn",!0),Q=g&&v.get("showPrevBtn",!0),se=g&&v.get("showNextBtn",!0),le=0,Me=h;W==="left"||W==="bottom"?(H&&(O=[0,0],le+=M),Q&&(E=[le,0],le+=M),se&&(I=[Me-b,0],Me-=M)):(H&&(O=[Me-b,0],Me-=M),Q&&(E=[0,0],le+=M),se&&(I=[Me-b,0],Me-=M));var xe=[le,Me];return e.get("inverse")&&xe.reverse(),{viewRect:s,mainLength:h,orient:a,rotation:d[a],labelRotation:C,labelPosOpt:l,labelAlign:e.get(["label","align"])||u[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||f[a],playPosition:O,prevBtnPosition:E,nextBtnPosition:I,axisExtent:xe,controlSize:b,controlGap:S}},t.prototype._position=function(e,r){var i=this._mainGroup,a=this._labelGroup,s=e.viewRect;if(e.orient==="vertical"){var l=Ze(),u=s.x,f=s.y+s.height;Bo(l,l,[-u,-f]),fl(l,l,-zT/2),Bo(l,l,[u,f]),s=s.clone(),s.applyTransform(l)}var d=O(s),h=O(i.getBoundingRect()),v=O(a.getBoundingRect()),g=[i.x,i.y],b=[a.x,a.y];b[0]=g[0]=d[0][0];var S=e.labelPosOpt;if(S==null||Object(y.isString)(S)){var M=S==="+"?0:1;E(g,h,d,1,M),E(b,v,d,1,1-M)}else{var M=S>=0?0:1;E(g,h,d,1,M),b[1]=g[1]+S}i.setPosition(g),a.setPosition(b),i.rotation=a.rotation=e.rotation,C(i),C(a);function C(I){I.originX=d[0][0]-I.x,I.originY=d[1][0]-I.y}function O(I){return[[I.x,I.x+I.width],[I.y,I.y+I.height]]}function E(I,W,H,Q,se){I[Q]+=H[Q][se]-W[Q][se]}},t.prototype._createAxis=function(e,r){var i=r.getData(),a=r.get("axisType"),s=Y7(r,a);s.getTicks=function(){return i.mapArray(["value"],function(f){return{value:f}})};var l=i.getDataExtent("value");s.setExtent(l[0],l[1]),s.calcNiceTicks();var u=new W7("value",s,e.axisExtent,a);return u.model=r,u},t.prototype._createGroup=function(e){var r=this[e]=new Wr;return this.group.add(r),r},t.prototype._renderAxisLine=function(e,r,i,a){var s=i.getExtent();if(!!a.get(["lineStyle","show"])){var l=new ll({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Object(y.extend)({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(l);var u=this._progressLine=new ll({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:Object(y.defaults)({lineCap:"round",lineWidth:l.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(u)}},t.prototype._renderAxisTick=function(e,r,i,a){var s=this,l=a.getData(),u=i.scale.getTicks();this._tickSymbols=[],Object(y.each)(u,function(f){var d=i.dataToCoord(f.value),h=l.getItemModel(f.value),v=h.getModel("itemStyle"),g=h.getModel(["emphasis","itemStyle"]),b=h.getModel(["progress","itemStyle"]),S={x:d,y:0,onclick:Object(y.bind)(s._changeTimeline,s,f.value)},M=bI(h,v,r,S);M.ensureState("emphasis").style=g.getItemStyle(),M.ensureState("progress").style=b.getItemStyle(),jf(M);var C=Yr(M);h.get("tooltip")?(C.dataIndex=f.value,C.dataModel=a):C.dataIndex=C.dataModel=null,s._tickSymbols.push(M)})},t.prototype._renderAxisLabel=function(e,r,i,a){var s=this,l=i.getLabelModel();if(!!l.get("show")){var u=a.getData(),f=i.getViewLabels();this._tickLabels=[],Object(y.each)(f,function(d){var h=d.tickValue,v=u.getItemModel(h),g=v.getModel("label"),b=v.getModel(["emphasis","label"]),S=v.getModel(["progress","label"]),M=i.dataToCoord(d.tickValue),C=new Fi({x:M,y:0,rotation:e.labelRotation-e.rotation,onclick:Object(y.bind)(s._changeTimeline,s,h),silent:!1,style:bs(g,{text:d.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});C.ensureState("emphasis").style=bs(b),C.ensureState("progress").style=bs(S),r.add(C),jf(C),yI(C).dataIndex=h,s._tickLabels.push(C)})}},t.prototype._renderControl=function(e,r,i,a){var s=e.controlSize,l=e.rotation,u=a.getModel("controlStyle").getItemStyle(),f=a.getModel(["emphasis","controlStyle"]).getItemStyle(),d=a.getPlayState(),h=a.get("inverse",!0);v(e.nextBtnPosition,"next",Object(y.bind)(this._changeTimeline,this,h?"-":"+")),v(e.prevBtnPosition,"prev",Object(y.bind)(this._changeTimeline,this,h?"+":"-")),v(e.playPosition,d?"stop":"play",Object(y.bind)(this._handlePlayClick,this,!d),!0);function v(g,b,S,M){if(!!g){var C=Al(Object(y.retrieve2)(a.get(["controlStyle",b+"BtnSize"]),s),s),O=[0,-C/2,C,C],E=Z7(a,b+"Icon",O,{x:g[0],y:g[1],originX:s/2,originY:0,rotation:M?-l:0,rectHover:!0,style:u,onclick:S});E.ensureState("emphasis").style=f,r.add(E),jf(E)}}},t.prototype._renderCurrentPointer=function(e,r,i,a){var s=a.getData(),l=a.getCurrentIndex(),u=s.getItemModel(l).getModel("checkpointStyle"),f=this,d={onCreate:function(h){h.draggable=!0,h.drift=Object(y.bind)(f._handlePointerDrag,f),h.ondragend=Object(y.bind)(f._handlePointerDragend,f),xI(h,f._progressLine,l,i,a,!0)},onUpdate:function(h){xI(h,f._progressLine,l,i,a)}};this._currentPointer=bI(u,u,this._mainGroup,{},this._currentPointer,d)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,r){var i=this._toAxisCoord(e)[0],a=this._axis,s=ms(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw(),this._progressLine.shape.x2=i,this._progressLine.dirty();var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var r=this._mainGroup.getLocalTransform();return df(e,r,!0)},t.prototype._findNearestTick=function(e){var r=this.model.getData(),i=Infinity,a,s=this._axis;return r.each(["value"],function(l,u){var f=s.dataToCoord(l),d=Math.abs(f-e);d<i&&(i=d,a=u)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();e==="+"?e=r+1:e==="-"&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",yI(i[a]).dataIndex<=e)},t.type="timeline.slider",t}(G7);function Y7(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new e_({ordinalMeta:n.getCategories(),extent:[Infinity,-Infinity]});case"time":return new HE({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Hp}}function X7(n,t){return ks(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}function Z7(n,t,e,r){var i=r.style,a=m(n.get(["controlStyle",t]),r||{},new Hn(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function bI(n,t,e,r,i,a){var s=t.get("color");if(i)i.setColor(s),e.add(i),a&&a.onUpdate(i);else{var l=n.get("symbol");i=Ts(l,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var u=t.getItemStyle(["color"]);i.setStyle(u),r=Object(y.merge)({rectHover:!0,z2:100},r,!0);var f=pg(n.get("symbolSize"));r.scaleX=f[0]/2,r.scaleY=f[1]/2;var d=gt(n.get("symbolOffset"),f);d&&(r.x=(r.x||0)+d[0],r.y=(r.y||0)+d[1]);var h=n.get("symbolRotate");return r.rotation=(h||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function xI(n,t,e,r,i,a){if(!n.dragging){var s=i.getModel("checkpointStyle"),l=r.dataToCoord(i.getData().get("value",e));if(a||!s.get("animation",!0))n.attr({x:l,y:0}),t&&t.attr({shape:{x2:l}});else{var u={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:l,y:0},u),t&&t.animateTo({shape:{x2:l}},u)}}}var $7=K7;function J7(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Object(y.defaults)({currentIndex:i.option.currentIndex},t)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}function Q7(n){var t=n&&n.timeline;y.isArray(t)||(t=t?[t]:[]),y.each(t,function(e){!e||q7(e)})}function q7(n){var t=n.type,e={number:"value",time:"time"};if(e[t]&&(n.axisType=e[t],delete n.type),SI(n),Bg(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});Bg(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!Bg(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}y.each(n.data||[],function(i){y.isObject(i)&&!y.isArray(i)&&(!Bg(i,"value")&&Bg(i,"name")&&(i.value=i.name),SI(i))})}function SI(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};y.each(r,function(s,l){!a[l]&&!Bg(i,l)&&(i[l]=s)}),e.label&&!Bg(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function Bg(n,t){return n.hasOwnProperty(t)}function e9(n){n.registerComponentModel(V7),n.registerComponentView($7),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),J7(n),n.registerPreprocessor(Q7)}function VT(n,t){if(!n)return!1;for(var e=Object(y.isArray)(n)?n:[n],r=0;r<e.length;r++)if(e[r]&&e[r][t])return!0;return!1}function sw(n){Dl(n,"label",["show"])}var lw=Yi(),wI=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(en.a.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},t.prototype._mergeOption=function(e,r,i,a){var s=this.mainType;i||r.eachSeries(function(l){var u=l.get(this.mainType,!0),f=lw(l)[s];if(!u||!u.data){lw(l)[s]=null;return}f?f._mergeOption(u,r,!0):(a&&sw(u),y.each(u.data,function(d){d instanceof Array?(sw(d[0]),sw(d[1])):sw(d)}),f=this.createMarkerModelFromSeries(u,this,r),y.extend(f,{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),f.__hostSeries=l),lw(l)[s]=f},this)},t.prototype.formatTooltip=function(e,r,i){var a=this.getData(),s=this.getRawValue(e),l=a.getName(e);return Ys("section",{header:this.name,blocks:[Ys("nameValue",{name:l,value:s,noName:!l,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,r){return lw(e)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(xa);y.mixin(wI,Am.prototype);var qp=wI,t9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(qp),n9=t9;function r9(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function i9(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function uw(n,t,e,r,i,a){var s=[],l=Eh(t,r),u=l?t.getCalculationInfo("stackResultDimension"):r,f=GT(t,u,n),d=t.indicesOfNearest(u,f)[0];s[i]=t.get(e,d),s[a]=t.get(u,d);var h=t.get(r,d),v=Ra(t.get(r,d));return v=Math.min(v,20),v>=0&&(s[a]=+s[a].toFixed(v)),[s,h]}var HT={min:Object(y.curry)(uw,"min"),max:Object(y.curry)(uw,"max"),average:Object(y.curry)(uw,"average"),median:Object(y.curry)(uw,"median")};function nx(n,t){var e=n.getData(),r=n.coordinateSystem;if(t&&!i9(t)&&!Object(y.isArray)(t.coord)&&r){var i=r.dimensions,a=MI(t,e,r,n);if(t=Object(y.clone)(t),t.type&&HT[t.type]&&a.baseAxis&&a.valueAxis){var s=Object(y.indexOf)(i,a.baseAxis.dim),l=Object(y.indexOf)(i,a.valueAxis.dim),u=HT[t.type](e,a.baseDataDim,a.valueDataDim,s,l);t.coord=u[0],t.value=u[1]}else{for(var f=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis],d=0;d<2;d++)HT[f[d]]&&(f[d]=GT(e,e.mapDimension(i[d]),f[d]));t.coord=f}}return t}function MI(n,t,e,r){var i={};return n.valueIndex!=null||n.valueDim!=null?(i.valueDataDim=n.valueIndex!=null?t.getDimension(n.valueIndex):n.valueDim,i.valueAxis=e.getAxis(a9(r,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function a9(n,t){var e=n.getData().getDimensionInfo(t);return e&&e.coordDim}function rx(n,t){return n&&n.containData&&t.coord&&!r9(t)?n.containData(t.coord):!0}function _I(n,t){return n?function(e,r,i,a){var s=a<2?e.coord&&e.coord[a]:e.value;return zl(s,t[a])}:function(e,r,i,a){return zl(e.value,t[a])}}function GT(n,t,e){if(e==="average"){var r=0,i=0;return n.each(t,function(a,s){isNaN(a)||(r+=a,i++)}),r/i}else return e==="median"?n.getMedian(t):n.getDataExtent(t)[e==="max"?1:0]}var UT=Yi(),o9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Object(y.createHashMap)()},t.prototype.render=function(e,r,i){var a=this,s=this.markerGroupMap;s.each(function(l){UT(l).keep=!1}),r.eachSeries(function(l){var u=qp.getMarkerModelFromSeries(l,a.type);u&&a.renderSeries(l,u,r,i)}),s.each(function(l){!UT(l).keep&&a.group.remove(l.group)})},t.prototype.markKeep=function(e){UT(e).keep=!0},t.prototype.blurSeries=function(e){var r=this;Object(y.each)(e,function(i){var a=qp.getMarkerModelFromSeries(i,r.type);if(a){var s=a.getData();s.eachItemGraphicEl(function(l){l&&Cv(l)})}})},t.type="marker",t}(Xo),WT=o9;function CI(n,t,e){var r=t.coordinateSystem;n.each(function(i){var a=n.getItemModel(i),s,l=Yn(a.get("x"),e.getWidth()),u=Yn(a.get("y"),e.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else if(t.getMarkerPosition)s=t.getMarkerPosition(n.getValues(n.dimensions,i));else if(r){var f=n.get(r.dimensions[0],i),d=n.get(r.dimensions[1],i);s=r.dataToPoint([f,d])}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u),n.setItemLayout(i,s)})}var s9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var s=qp.getMarkerModelFromSeries(a,"markPoint");s&&(CI(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,r,i,a){var s=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,d=f.get(l)||f.set(l,new Pb),h=l9(s,e,r);r.setData(h),CI(r.getData(),e,a),h.each(function(v){var g=h.getItemModel(v),b=g.getShallow("symbol"),S=g.getShallow("symbolSize"),M=g.getShallow("symbolRotate"),C=g.getShallow("symbolOffset"),O=g.getShallow("symbolKeepAspect");if(Object(y.isFunction)(b)||Object(y.isFunction)(S)||Object(y.isFunction)(M)||Object(y.isFunction)(C)){var E=r.getRawValue(v),I=r.getDataParams(v);Object(y.isFunction)(b)&&(b=b(E,I)),Object(y.isFunction)(S)&&(S=S(E,I)),Object(y.isFunction)(M)&&(M=M(E,I)),Object(y.isFunction)(C)&&(C=C(E,I))}var W=g.getModel("itemStyle").getItemStyle(),H=ja(u,"color");W.fill||(W.fill=H),h.setItemVisual(v,{symbol:b,symbolSize:S,symbolRotate:M,symbolOffset:C,symbolKeepAspect:O,style:W})}),d.updateData(h),this.group.add(d.group),h.eachItemGraphicEl(function(v){v.traverse(function(g){Yr(g).dataModel=r})}),this.markKeep(d),d.group.silent=r.get("silent")||e.get("silent")},t.type="markPoint",t}(WT);function l9(n,t,e){var r;n?r=Object(y.map)(n&&n.dimensions,function(l){var u=t.getData().getDimensionInfo(t.getData().mapDimension(l))||{};return Object(y.extend)(Object(y.extend)({},u),{name:l,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Tu(r,e),a=Object(y.map)(e.get("data"),Object(y.curry)(nx,t));n&&(a=Object(y.filter)(a,Object(y.curry)(rx,n)));var s=_I(!!n,r);return i.initData(a,null,s),i}var u9=s9;function c9(n){n.registerComponentModel(n9),n.registerComponentView(u9),n.registerPreprocessor(function(t){VT(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var f9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(qp),d9=f9,cw=Yi(),h9=function(n,t,e,r){var i=n.getData(),a;if(Object(y.isArray)(r))a=r;else{var s=r.type;if(s==="min"||s==="max"||s==="average"||s==="median"||r.xAxis!=null||r.yAxis!=null){var l=void 0,u=void 0;if(r.yAxis!=null||r.xAxis!=null)l=t.getAxis(r.yAxis!=null?"y":"x"),u=Object(y.retrieve)(r.yAxis,r.xAxis);else{var f=MI(r,i,t,n);l=f.valueAxis;var d=$M(i,f.valueDataDim);u=GT(i,d,s)}var h=l.dim==="x"?0:1,v=1-h,g=Object(y.clone)(r),b={coord:[]};g.type=null,g.coord=[],g.coord[v]=-Infinity,b.coord[v]=Infinity;var S=e.get("precision");S>=0&&Object(y.isNumber)(u)&&(u=+u.toFixed(Math.min(S,20))),g.coord[h]=b.coord[h]=u,a=[g,b,{type:s,valueIndex:r.valueIndex,value:u}]}else a=[]}var M=[nx(n,a[0]),nx(n,a[1]),Object(y.extend)({},a[2])];return M[2].type=M[2].type||null,Object(y.merge)(M[2],M[0]),Object(y.merge)(M[2],M[1]),M};function fw(n){return!isNaN(n)&&!isFinite(n)}function TI(n,t,e,r){var i=1-n,a=r.dimensions[n];return fw(t[i])&&fw(e[i])&&t[n]===e[n]&&r.getAxis(a).containData(t[n])}function p9(n,t){if(n.type==="cartesian2d"){var e=t[0].coord,r=t[1].coord;if(e&&r&&(TI(1,e,r,n)||TI(0,e,r,n)))return!0}return rx(n,t[0])&&rx(n,t[1])}function KT(n,t,e,r,i){var a=r.coordinateSystem,s=n.getItemModel(t),l,u=Yn(s.get("x"),i.getWidth()),f=Yn(s.get("y"),i.getHeight());if(!isNaN(u)&&!isNaN(f))l=[u,f];else{if(r.getMarkerPosition)l=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var d=a.dimensions,h=n.get(d[0],t),v=n.get(d[1],t);l=a.dataToPoint([h,v])}if(Ph(a,"cartesian2d")){var g=a.getAxis("x"),b=a.getAxis("y"),d=a.dimensions;fw(n.get(d[0],t))?l[0]=g.toGlobalCoord(g.getExtent()[e?0:1]):fw(n.get(d[1],t))&&(l[1]=b.toGlobalCoord(b.getExtent()[e?0:1]))}isNaN(u)||(l[0]=u),isNaN(f)||(l[1]=f)}n.setItemLayout(t,l)}var v9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var s=qp.getMarkerModelFromSeries(a,"markLine");if(s){var l=s.getData(),u=cw(s).from,f=cw(s).to;u.each(function(d){KT(u,d,!0,a,i),KT(f,d,!1,a,i)}),l.each(function(d){l.setItemLayout(d,[u.getItemLayout(d),f.getItemLayout(d)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,r,i,a){var s=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,d=f.get(l)||f.set(l,new SC);this.group.add(d.group);var h=g9(s,e,r),v=h.from,g=h.to,b=h.line;cw(r).from=v,cw(r).to=g,r.setData(b);var S=r.get("symbol"),M=r.get("symbolSize"),C=r.get("symbolRotate"),O=r.get("symbolOffset");Object(y.isArray)(S)||(S=[S,S]),Object(y.isArray)(M)||(M=[M,M]),Object(y.isArray)(C)||(C=[C,C]),Object(y.isArray)(O)||(O=[O,O]),h.from.each(function(I){E(v,I,!0),E(g,I,!1)}),b.each(function(I){var W=b.getItemModel(I).getModel("lineStyle").getLineStyle();b.setItemLayout(I,[v.getItemLayout(I),g.getItemLayout(I)]),W.stroke==null&&(W.stroke=v.getItemVisual(I,"style").fill),b.setItemVisual(I,{fromSymbolKeepAspect:v.getItemVisual(I,"symbolKeepAspect"),fromSymbolOffset:v.getItemVisual(I,"symbolOffset"),fromSymbolRotate:v.getItemVisual(I,"symbolRotate"),fromSymbolSize:v.getItemVisual(I,"symbolSize"),fromSymbol:v.getItemVisual(I,"symbol"),toSymbolKeepAspect:g.getItemVisual(I,"symbolKeepAspect"),toSymbolOffset:g.getItemVisual(I,"symbolOffset"),toSymbolRotate:g.getItemVisual(I,"symbolRotate"),toSymbolSize:g.getItemVisual(I,"symbolSize"),toSymbol:g.getItemVisual(I,"symbol"),style:W})}),d.updateData(b),h.line.eachItemGraphicEl(function(I,W){I.traverse(function(H){Yr(H).dataModel=r})});function E(I,W,H){var Q=I.getItemModel(W);KT(I,W,H,e,a);var se=Q.getModel("itemStyle").getItemStyle();se.fill==null&&(se.fill=ja(u,"color")),I.setItemVisual(W,{symbolKeepAspect:Q.get("symbolKeepAspect"),symbolOffset:Object(y.retrieve2)(Q.get("symbolOffset",!0),O[H?0:1]),symbolRotate:Object(y.retrieve2)(Q.get("symbolRotate",!0),C[H?0:1]),symbolSize:Object(y.retrieve2)(Q.get("symbolSize"),M[H?0:1]),symbol:Object(y.retrieve2)(Q.get("symbol",!0),S[H?0:1]),style:se})}this.markKeep(d),d.group.silent=r.get("silent")||e.get("silent")},t.type="markLine",t}(WT);function g9(n,t,e){var r;n?r=Object(y.map)(n&&n.dimensions,function(f){var d=t.getData().getDimensionInfo(t.getData().mapDimension(f))||{};return Object(y.extend)(Object(y.extend)({},d),{name:f,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Tu(r,e),a=new Tu(r,e),s=new Tu([],e),l=Object(y.map)(e.get("data"),Object(y.curry)(h9,t,n,e));n&&(l=Object(y.filter)(l,Object(y.curry)(p9,n)));var u=_I(!!n,r);return i.initData(Object(y.map)(l,function(f){return f[0]}),null,u),a.initData(Object(y.map)(l,function(f){return f[1]}),null,u),s.initData(Object(y.map)(l,function(f){return f[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}var m9=v9;function y9(n){n.registerComponentModel(d9),n.registerComponentView(m9),n.registerPreprocessor(function(t){VT(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var b9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(qp),x9=b9,dw=Yi(),S9=function(n,t,e,r){var i=nx(n,r[0]),a=nx(n,r[1]),s=i.coord,l=a.coord;s[0]=Object(y.retrieve)(s[0],-Infinity),s[1]=Object(y.retrieve)(s[1],-Infinity),l[0]=Object(y.retrieve)(l[0],Infinity),l[1]=Object(y.retrieve)(l[1],Infinity);var u=Object(y.mergeAll)([{},i,a]);return u.coord=[i.coord,a.coord],u.x0=i.x,u.y0=i.y,u.x1=a.x,u.y1=a.y,u};function hw(n){return!isNaN(n)&&!isFinite(n)}function OI(n,t,e,r){var i=1-n;return hw(t[i])&&hw(e[i])}function w9(n,t){var e=t.coord[0],r=t.coord[1];return Ph(n,"cartesian2d")&&e&&r&&(OI(1,e,r,n)||OI(0,e,r,n))?!0:rx(n,{coord:e,x:t.x0,y:t.y0})||rx(n,{coord:r,x:t.x1,y:t.y1})}function EI(n,t,e,r,i){var a=r.coordinateSystem,s=n.getItemModel(t),l,u=Yn(s.get(e[0]),i.getWidth()),f=Yn(s.get(e[1]),i.getHeight());if(!isNaN(u)&&!isNaN(f))l=[u,f];else{if(r.getMarkerPosition)l=r.getMarkerPosition(n.getValues(e,t));else{var d=n.get(e[0],t),h=n.get(e[1],t),v=[d,h];a.clampData&&a.clampData(v,v),l=a.dataToPoint(v,!0)}if(Ph(a,"cartesian2d")){var g=a.getAxis("x"),b=a.getAxis("y"),d=n.get(e[0],t),h=n.get(e[1],t);hw(d)?l[0]=g.toGlobalCoord(g.getExtent()[e[0]==="x0"?0:1]):hw(h)&&(l[1]=b.toGlobalCoord(b.getExtent()[e[1]==="y0"?0:1]))}isNaN(u)||(l[0]=u),isNaN(f)||(l[1]=f)}return l}var AI=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],M9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(a){var s=qp.getMarkerModelFromSeries(a,"markArea");if(s){var l=s.getData();l.each(function(u){var f=Object(y.map)(AI,function(h){return EI(l,u,h,a,i)});l.setItemLayout(u,f);var d=l.getItemGraphicEl(u);d.setShape("points",f)})}},this)},t.prototype.renderSeries=function(e,r,i,a){var s=e.coordinateSystem,l=e.id,u=e.getData(),f=this.markerGroupMap,d=f.get(l)||f.set(l,{group:new Wr});this.group.add(d.group),this.markKeep(d);var h=_9(s,e,r);r.setData(h),h.each(function(v){var g=Object(y.map)(AI,function(se){return EI(h,v,se,e,a)}),b=s.getAxis("x").scale,S=s.getAxis("y").scale,M=b.getExtent(),C=S.getExtent(),O=[b.parse(h.get("x0",v)),b.parse(h.get("x1",v))],E=[S.parse(h.get("y0",v)),S.parse(h.get("y1",v))];ms(O),ms(E);var I=!(M[0]>O[1]||M[1]<O[0]||C[0]>E[1]||C[1]<E[0]),W=!I;h.setItemLayout(v,{points:g,allClipped:W});var H=h.getItemModel(v).getModel("itemStyle").getItemStyle(),Q=ja(u,"color");H.fill||(H.fill=Q,Object(y.isString)(H.fill)&&(H.fill=oa.modifyAlpha(H.fill,.4))),H.stroke||(H.stroke=Q),h.setItemVisual(v,"style",H)}),h.diff(dw(d).data).add(function(v){var g=h.getItemLayout(v);if(!g.allClipped){var b=new sl({shape:{points:g.points}});h.setItemGraphicEl(v,b),d.group.add(b)}}).update(function(v,g){var b=dw(d).data.getItemGraphicEl(g),S=h.getItemLayout(v);S.allClipped?b&&d.group.remove(b):(b?Ea(b,{shape:{points:S.points}},r,v):b=new sl({shape:{points:S.points}}),h.setItemGraphicEl(v,b),d.group.add(b))}).remove(function(v){var g=dw(d).data.getItemGraphicEl(v);d.group.remove(g)}).execute(),h.eachItemGraphicEl(function(v,g){var b=h.getItemModel(g),S=h.getItemVisual(g,"style");v.useStyle(h.getItemVisual(g,"style")),jl(v,al(b),{labelFetcher:r,labelDataIndex:g,defaultText:h.getName(g)||"",inheritColor:Object(y.isString)(S.fill)?oa.modifyAlpha(S.fill,1):"#000"}),ml(v,b),ys(v,null,null,b.get(["emphasis","disabled"])),Yr(v).dataModel=r}),dw(d).data=h,d.group.silent=r.get("silent")||e.get("silent")},t.type="markArea",t}(WT);function _9(n,t,e){var r,i,a=["x0","y0","x1","y1"];if(n){var s=Object(y.map)(n&&n.dimensions,function(f){var d=t.getData(),h=d.getDimensionInfo(d.mapDimension(f))||{};return Object(y.extend)(Object(y.extend)({},h),{name:f,ordinalMeta:null})});i=Object(y.map)(a,function(f,d){return{name:f,type:s[d%2].type}}),r=new Tu(i,e)}else i=[{name:"value",type:"float"}],r=new Tu(i,e);var l=Object(y.map)(e.get("data"),Object(y.curry)(S9,t,n,e));n&&(l=Object(y.filter)(l,Object(y.curry)(w9,n)));var u=n?function(f,d,h,v){var g=f.coord[Math.floor(v/2)][v%2];return zl(g,i[v])}:function(f,d,h,v){return zl(f.value,i[v])};return r.initData(l,null,u),r.hasItemOption=!0,r}var C9=M9;function T9(n){n.registerComponentModel(x9),n.registerComponentView(C9),n.registerPreprocessor(function(t){VT(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var O9=function(n,t){if(t==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},E9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,i=this.ecModel;r===!0&&(r=e.selector=["all","inverse"]),y.isArray(r)&&y.each(r,function(a,s){y.isString(a)&&(a={type:a}),r[s]=y.merge(a,O9(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var f;if(l.legendVisualProvider){var d=l.legendVisualProvider,h=d.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):f=!0}else f=!0;f&&pu(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=y.map(a,function(l){return(y.isString(l)||y.isNumber(l))&&(l={name:l}),new Mo(l,this,this.ecModel)},this);this._data=s},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;y.each(a,function(s){r[s.get("name")]=!1})}r[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,r=this.option.selected;y.each(e,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,r=this.option.selected;y.each(e,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&y.indexOf(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(xa),YT=E9,gy=y.curry,XT=y.each,pw=Wr,A9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new pw),this.group.add(this._selectorGroup=new pw),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var s=e.get("align"),l=e.get("orient");(!s||s==="auto")&&(s=e.get("left")==="right"&&l==="vertical"?"right":"left");var u=e.get("selector",!0),f=e.get("selectorPosition",!0);u&&(!f||f==="auto")&&(f=l==="horizontal"?"end":"start"),this.renderInner(s,e,r,i,u,l,f);var d=e.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},v=e.get("padding"),g=ks(d,h,v),b=this.layoutInner(e,s,g,a,u,f),S=ks(y.defaults({width:b.width,height:b.height},d),h,v);this.group.x=S.x-b.x,this.group.y=S.y-b.y,this.group.markRedraw(),this.group.add(this._backgroundEl=FR(b,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,i,a,s,l,u){var f=this.getContentGroup(),d=y.createHashMap(),h=r.get("selectedMode"),v=[];i.eachRawSeries(function(g){!g.get("legendHoverLink")&&v.push(g.id)}),XT(r.getData(),function(g,b){var S=g.get("name");if(!this.newlineDisabled&&(S===""||S===`
`)){var M=new pw;M.newline=!0,f.add(M);return}var C=i.getSeriesByName(S)[0];if(!d.get(S))if(C){var O=C.getData(),E=O.getVisual("legendLineStyle")||{},I=O.getVisual("legendIcon"),W=O.getVisual("style"),H=this._createItem(C,S,b,g,r,e,E,W,I,h);H.on("click",gy(PI,S,null,a,v)).on("mouseover",gy(ZT,C.name,null,a,v)).on("mouseout",gy($T,C.name,null,a,v)),d.set(S,!0)}else i.eachRawSeries(function(Q){if(!d.get(S)&&Q.legendVisualProvider){var se=Q.legendVisualProvider;if(!se.containName(S))return;var le=se.indexOfName(S),Me=se.getItemVisual(le,"style"),xe=se.getItemVisual(le,"legendIcon"),Be=Object(oa.parse)(Me.fill);Be&&Be[3]===0&&(Be[3]=.2,Me=y.extend(y.extend({},Me),{fill:Object(oa.stringify)(Be,"rgba")}));var ze=this._createItem(Q,S,b,g,r,e,{},Me,xe,h);ze.on("click",gy(PI,null,S,a,v)).on("mouseover",gy(ZT,null,S,a,v)).on("mouseout",gy($T,null,S,a,v)),d.set(S,!0)}},this)},this),s&&this._createSelector(s,r,a,l,u)},t.prototype._createSelector=function(e,r,i,a,s){var l=this.getSelectorGroup();XT(e,function(f){var d=f.type,h=new Fi({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:d==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(h);var v=r.getModel("selectorLabel"),g=r.getModel(["emphasis","selectorLabel"]);jl(h,{normal:v,emphasis:g},{defaultText:f.title}),jf(h)})},t.prototype._createItem=function(e,r,i,a,s,l,u,f,d,h){var v=e.visualDrawType,g=s.get("itemWidth"),b=s.get("itemHeight"),S=s.isSelected(r),M=a.get("symbolRotate"),C=a.get("symbolKeepAspect"),O=a.get("icon");d=O||d||"roundRect";var E=P9(d,a,u,f,v,S),I=new pw,W=a.getModel("textStyle");if(y.isFunction(e.getLegendIcon)&&(!O||O==="inherit"))I.add(e.getLegendIcon({itemWidth:g,itemHeight:b,icon:d,iconRotate:M,itemStyle:E.itemStyle,lineStyle:E.lineStyle,symbolKeepAspect:C}));else{var H=O==="inherit"&&e.getData().getVisual("symbol")?M==="inherit"?e.getData().getVisual("symbolRotate"):M:0;I.add(L9({itemWidth:g,itemHeight:b,icon:d,iconRotate:H,itemStyle:E.itemStyle,lineStyle:E.lineStyle,symbolKeepAspect:C}))}var Q=l==="left"?g+5:-5,se=l,le=s.get("formatter"),Me=r;y.isString(le)&&le?Me=le.replace("{name}",r!=null?r:""):y.isFunction(le)&&(Me=le(r));var xe=a.get("inactiveColor");I.add(new Fi({style:bs(W,{text:Me,x:Q,y:b/2,fill:S?W.getTextColor():xe,align:se,verticalAlign:"middle"})}));var Be=new Bi({shape:I.getBoundingRect(),invisible:!0}),ze=a.getModel("tooltip");return ze.get("show")&&L({el:Be,componentModel:s,itemName:r,itemTooltipOption:ze.option}),I.add(Be),I.eachChild(function(it){it.silent=!0}),Be.silent=!h,this.getContentGroup().add(I),jf(I),I.__legendDataIndex=i,I},t.prototype.layoutInner=function(e,r,i,a,s,l){var u=this.getContentGroup(),f=this.getSelectorGroup();zf(e.get("orient"),u,e.get("itemGap"),i.width,i.height);var d=u.getBoundingRect(),h=[-d.x,-d.y];if(f.markRedraw(),u.markRedraw(),s){zf("horizontal",f,e.get("selectorItemGap",!0));var v=f.getBoundingRect(),g=[-v.x,-v.y],b=e.get("selectorButtonGap",!0),S=e.getOrient().index,M=S===0?"width":"height",C=S===0?"height":"width",O=S===0?"y":"x";l==="end"?g[S]+=d[M]+b:h[S]+=v[M]+b,g[1-S]+=d[C]/2-v[C]/2,f.x=g[0],f.y=g[1],u.x=h[0],u.y=h[1];var E={x:0,y:0};return E[M]=d[M]+b+v[M],E[C]=Math.max(d[C],v[C]),E[O]=Math.min(0,v[O]+g[1-S]),E}else return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Xo);function P9(n,t,e,r,i,a){function s(b,S){b.lineWidth==="auto"&&(b.lineWidth=S.lineWidth>0?2:0),XT(b,function(M,C){b[C]==="inherit"&&(b[C]=S[C])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),f=n.lastIndexOf("empty",0)===0?"fill":"stroke";u.decal=r.decal,u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[f]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:e).opacity),s(u,r);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,e),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var v=t.get("inactiveBorderWidth"),g=u[f];u.lineWidth=v==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function L9(n){var t=n.icon||"roundRect",e=Ts(t,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function PI(n,t,e,r){$T(n,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:n!=null?n:t}),ZT(n,t,e,r)}function LI(n){for(var t=n.getZr().storage.getDisplayList(),e,r=0,i=t.length;r<i&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function ZT(n,t,e,r){LI(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:r})}function $T(n,t,e,r){LI(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:r})}var DI=A9;function D9(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function ix(n,t,e){var r={},i=n==="toggleSelected",a;return e.eachComponent("legend",function(s){i&&a!=null?s[a?"select":"unSelect"](t.name):n==="allSelect"||n==="inverseSelect"?s[n]():(s[n](t.name),a=s.isSelected(t.name));var l=s.getData();Object(y.each)(l,function(u){var f=u.get("name");if(!(f===`
`||f==="")){var d=s.isSelected(f);r.hasOwnProperty(f)?r[f]=r[f]&&d:r[f]=d}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function R9(n){n.registerAction("legendToggleSelect","legendselectchanged",Object(y.curry)(ix,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Object(y.curry)(ix,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Object(y.curry)(ix,"inverseSelect")),n.registerAction("legendSelect","legendselected",Object(y.curry)(ix,"select")),n.registerAction("legendUnSelect","legendunselected",Object(y.curry)(ix,"unSelect"))}function RI(n){n.registerComponentModel(YT),n.registerComponentView(DI),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,D9),n.registerSubTypeDefaulter("legend",function(){return"plain"}),R9(n)}var I9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,i){var a=hh(e);n.prototype.init.call(this,e,r,i),II(this,e,a)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),II(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Bf(YT.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(YT);function II(n,t,e){var r=n.getOrient(),i=[1,1];i[r.index]=0,bd(t,e,{type:"box",ignoreSize:!!i})}var N9=I9,NI=Wr,JT=["width","height"],QT=["x","y"],k9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new NI),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new NI)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,i,a,s,l,u){var f=this;n.prototype.renderInner.call(this,e,r,i,a,s,l,u);var d=this._controllerGroup,h=r.get("pageIconSize",!0),v=y.isArray(h)?h:[h,h];b("pagePrev",0);var g=r.getModel("pageTextStyle");d.add(new Fi({name:"pageText",style:{text:"xx/xx",fill:g.getTextColor(),font:g.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),b("pageNext",1);function b(S,M){var C=S+"DataIndex",O=m(r.get("pageIcons",!0)[r.getOrient().name][M],{onclick:y.bind(f._pageGo,f,C,r,a)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});O.name=S,d.add(O)}},t.prototype.layoutInner=function(e,r,i,a,s,l){var u=this.getSelectorGroup(),f=e.getOrient().index,d=JT[f],h=QT[f],v=JT[1-f],g=QT[1-f];s&&zf("horizontal",u,e.get("selectorItemGap",!0));var b=e.get("selectorButtonGap",!0),S=u.getBoundingRect(),M=[-S.x,-S.y],C=y.clone(i);s&&(C[d]=i[d]-S[d]-b);var O=this._layoutContentAndController(e,a,C,f,d,v,g,h);if(s){if(l==="end")M[f]+=O[d]+b;else{var E=S[d]+b;M[f]-=E,O[h]-=E}O[d]+=S[d]+b,M[1-f]+=O[g]+O[v]/2-S[v]/2,O[v]=Math.max(O[v],S[v]),O[g]=Math.min(O[g],S[g]+M[1-f]),u.x=M[0],u.y=M[1],u.markRedraw()}return O},t.prototype._layoutContentAndController=function(e,r,i,a,s,l,u,f){var d=this.getContentGroup(),h=this._containerGroup,v=this._controllerGroup;zf(e.get("orient"),d,e.get("itemGap"),a?i.width:null,a?null:i.height),zf("horizontal",v,e.get("pageButtonItemGap",!0));var g=d.getBoundingRect(),b=v.getBoundingRect(),S=this._showController=g[s]>i[s],M=[-g.x,-g.y];r||(M[a]=d[f]);var C=[0,0],O=[-b.x,-b.y],E=y.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(S){var I=e.get("pageButtonPosition",!0);I==="end"?O[a]+=i[s]-b[s]:C[a]+=b[s]+E}O[1-a]+=g[l]/2-b[l]/2,d.setPosition(M),h.setPosition(C),v.setPosition(O);var W={x:0,y:0};if(W[s]=S?i[s]:g[s],W[l]=Math.max(g[l],b[l]),W[u]=Math.min(0,b[u]+O[1-a]),h.__rectSize=i[s],S){var H={x:0,y:0};H[s]=Math.max(i[s]-b[s]-E,0),H[l]=W[l],h.setClipPath(new Bi({shape:H})),h.__rectSize=H[s]}else v.eachChild(function(se){se.attr({invisible:!0,silent:!0})});var Q=this._getPageInfo(e);return Q.pageIndex!=null&&Ea(d,{x:Q.contentPosition[0],y:Q.contentPosition[1]},S?e:null),this._updatePageInfoView(e,Q),W},t.prototype._pageGo=function(e,r,i){var a=this._getPageInfo(r)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var i=this._controllerGroup;y.each(["pagePrev","pageNext"],function(d){var h=d+"DataIndex",v=r[h]!=null,g=i.childOfName(d);g&&(g.setStyle("fill",v?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),g.cursor=v?"pointer":"default")});var a=i.childOfName("pageText"),s=e.get("pageFormatter"),l=r.pageIndex,u=l!=null?l+1:0,f=r.pageCount;a&&s&&a.setStyle("text",y.isString(s)?s.replace("{current}",u==null?"":u+"").replace("{total}",f==null?"":f+""):s({current:u,total:f}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=e.getOrient().index,l=JT[s],u=QT[s],f=this._findTargetItemIndex(r),d=i.children(),h=d[f],v=d.length,g=v?1:0,b={contentPosition:[i.x,i.y],pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return b;var S=I(h);b.contentPosition[s]=-S.s;for(var M=f+1,C=S,O=S,E=null;M<=v;++M)E=I(d[M]),(!E&&O.e>C.s+a||E&&!W(E,C.s))&&(O.i>C.i?C=O:C=E,C&&(b.pageNextDataIndex==null&&(b.pageNextDataIndex=C.i),++b.pageCount)),O=E;for(var M=f-1,C=S,O=S,E=null;M>=-1;--M)E=I(d[M]),(!E||!W(O,E.s))&&C.i<O.i&&(O=C,b.pagePrevDataIndex==null&&(b.pagePrevDataIndex=C.i),++b.pageCount,++b.pageIndex),C=E;return b;function I(H){if(H){var Q=H.getBoundingRect(),se=Q[u]+H[u];return{s:se,e:se+Q[l],i:H.__legendDataIndex}}}function W(H,Q){return H.e>=Q&&H.s<=Q+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,l){var u=s.__legendDataIndex;a==null&&u!=null&&(a=l),u===e&&(r=l)}),r!=null?r:a},t.type="legend.scroll",t}(DI),j9=k9;function B9(n){n.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}function F9(n){ea(RI),n.registerComponentModel(N9),n.registerComponentView(j9),B9(n)}function z9(n){ea(RI),ea(F9)}var V9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Bf(qb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(qb),H9=V9,qT=Yi();function G9(n,t,e){qT(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function U9(n,t){for(var e=qT(n).coordSysRecordMap,r=e.keys(),i=0;i<r.length;i++){var a=r[i],s=e.get(a),l=s.dataZoomInfoMap;if(l){var u=t.uid,f=l.get(u);f&&(l.removeKey(u),l.keys().length||kI(e,s))}}}function kI(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function W9(n,t){var e={model:t,containsPoint:Object(y.curry)(Y9,t),dispatchAction:Object(y.curry)(K9,n),dataZoomInfoMap:null,controller:null},r=e.controller=new kb(n.getZr());return Object(y.each)(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var s=[];e.dataZoomInfoMap.each(function(l){if(!!a.isAvailableBehavior(l.model.option)){var u=(l.getRange||{})[i],f=u&&u(l.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!l.model.get("disabled",!0)&&f&&s.push({dataZoomId:l.model.id,start:f[0],end:f[1]})}}),s.length&&e.dispatchAction(s)})}),e}function K9(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Y9(n,t,e,r){return n.coordinateSystem.containPoint([e,r])}function X9(n){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(a){var s=a.model,l=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;r[e+l]>r[e+t]&&(t=l),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function Z9(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=qT(e),i=r.coordSysRecordMap||(r.coordSysRecordMap=Object(y.createHashMap)());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=RR(a);Object(y.each)(s.infoList,function(l){var u=l.model.uid,f=i.get(u)||i.set(u,W9(e,l.model)),d=f.dataZoomInfoMap||(f.dataZoomInfoMap=Object(y.createHashMap)());d.set(a.uid,{dzReferCoordSysInfo:l,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,l,u=a.dataZoomInfoMap;if(u){var f=u.keys()[0];f!=null&&(l=u.get(f))}if(!l){kI(i,a);return}var d=X9(u);s.enable(d.controlType,d.opt),s.setPointerChecker(a.containsPoint),dn(a,"dispatchAction",l.model.get("throttle",!0),"fixRate")})})}var $9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,r,i){if(n.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),G9(i,e,{pan:Object(y.bind)(eO.pan,this),zoom:Object(y.bind)(eO.zoom,this),scrollMove:Object(y.bind)(eO.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){U9(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(TT),eO={zoom:function(n,t,e,r){var i=this.range,a=i.slice(),s=n.axisModels[0];if(!!s){var l=tO[t](null,[r.originX,r.originY],s,e,n),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],f=Math.max(1/r.scale,0);a[0]=(a[0]-u)*f+u,a[1]=(a[1]-u)*f+u;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Rg(0,a,[0,100],0,d.minSpan,d.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:jI(function(n,t,e,r,i,a){var s=tO[r]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:jI(function(n,t,e,r,i,a){var s=tO[r]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return s.signal*(n[1]-n[0])*a.scrollDelta})};function jI(n){return function(t,e,r,i){var a=this.range,s=a.slice(),l=t.axisModels[0];if(!!l){var u=n(s,l,t,e,r,i);if(Rg(u,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var tO={grid:function(n,t,e,r,i){var a=e.axis,s={},l=i.model.coordinateSystem.getRect();return n=n||[0,0],a.dim==="x"?(s.pixel=t[0]-n[0],s.pixelLength=l.width,s.pixelStart=l.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=l.height,s.pixelStart=l.y,s.signal=a.inverse?-1:1),s},polar:function(n,t,e,r,i){var a=e.axis,s={},l=i.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),f=l.getAngleAxis().getExtent();return n=n?l.pointToCoord(n):[0,0],t=l.pointToCoord(t),e.mainType==="radiusAxis"?(s.pixel=t[0]-n[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=f[1]-f[0],s.pixelStart=f[0],s.signal=a.inverse?-1:1),s},singleAxis:function(n,t,e,r,i){var a=e.axis,s=i.model.coordinateSystem.getRect(),l={};return n=n||[0,0],a.orient==="horizontal"?(l.pixel=t[0]-n[0],l.pixelLength=s.width,l.pixelStart=s.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-n[1],l.pixelLength=s.height,l.pixelStart=s.y,l.signal=a.inverse?-1:1),l}},J9=$9;function BI(n){OT(n),n.registerComponentModel(H9),n.registerComponentView(J9),Z9(n)}var Q9=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Bf(qb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(qb),q9=Q9,ax=Bi,FI=7,eK=1,nO=30,tK=7,ox="horizontal",zI="vertical",nK=5,rK=["line","bar","candlestick","scatter"],iK={easing:"cubicOut",duration:100,delay:0},aK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,r){this.api=r,this._onBrush=Object(y.bind)(this._onBrush,this),this._onBrushEnd=Object(y.bind)(this._onBrushEnd,this)},t.prototype.render=function(e,r,i,a){if(n.prototype.render.apply(this,arguments),dn(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){qt(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Wr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,i=e.get("brushSelect"),a=i?tK:0,s=this._findCoordRect(),l={width:r.getWidth(),height:r.getHeight()},u=this._orient===ox?{right:l.width-s.x-s.width,top:l.height-nO-FI-a,width:s.width,height:nO}:{right:FI,top:s.y,width:nO,height:s.height},f=hh(e.option);Object(y.each)(["right","top","width","height"],function(h){f[h]==="ph"&&(f[h]=u[h])});var d=ks(f,l);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],this._orient===zI&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),l=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(i===ox&&!s?{scaleY:u?1:-1,scaleX:1}:i===ox&&s?{scaleY:u?1:-1,scaleX:-1}:i===zI&&!s?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var f=e.getBoundingRect([l]);e.x=r.x-f.x,e.y=r.y-f.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new ax({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var s=new ax({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Object(y.bind)(this._onClickPanel,this)}),l=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",l.on("mousemove",this._onBrush),l.on("mouseup",this._onBrushEnd)):(l.off("mousemove",this._onBrush),l.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var r=this._size,i=this._shadowSize||[],a=e.series,s=a.getRawData(),l=a.getShadowDim?a.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,f=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var d=s.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var v=[0,r[1]],g=[0,r[0]],b=[[r[0],0],[0,0]],S=[],M=g[1]/(s.count()-1),C=0,O=Math.round(s.count()/r[0]),E;s.each([l],function(se,le){if(O>0&&le%O){C+=M;return}var Me=se==null||isNaN(se)||se==="",xe=Me?0:Da(se,d,v,!0);Me&&!E&&le?(b.push([b[b.length-1][0],0]),S.push([S[S.length-1][0],0])):!Me&&E&&(b.push([C,0]),S.push([C,0])),b.push([C,xe]),S.push([C,xe]),C+=M,E=Me}),u=this._shadowPolygonPts=b,f=this._shadowPolylinePts=S}this._shadowData=s,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var I=this.dataZoomModel;function W(se){var le=I.getModel(se?"selectedDataBackground":"dataBackground"),Me=new Wr,xe=new sl({shape:{points:u},segmentIgnoreThreshold:1,style:le.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Be=new Mu({shape:{points:f},segmentIgnoreThreshold:1,style:le.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Me.add(xe),Me.add(Be),Me}for(var H=0;H<3;H++){var Q=W(H===1);this._displayables.sliderGroup.add(Q),this._displayables.dataShadowSegs.push(Q)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(s,l){var u=e.getAxisProxy(s,l).getTargetSeriesModels();Object(y.each)(u,function(f){if(!i&&!(r!==!0&&Object(y.indexOf)(rK,f.get("type"))<0)){var d=a.getComponent(Jp(s),l).axis,h=oK(s),v,g=f.coordinateSystem;h!=null&&g.getOtherAxis&&(v=g.getOtherAxis(d).inverse),h=f.getData().mapDimension(h),i={thisAxis:d,series:f,thisDim:s,otherDim:h,otherAxisInverse:v}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],s=this._displayables.sliderGroup,l=this._size,u=this.dataZoomModel,f=this.api,d=u.get("borderRadius")||0,h=u.get("brushSelect"),v=r.filler=new ax({silent:h,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});s.add(v),s.add(new ax({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:l[0],height:l[1],r:d},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:eK,fill:"rgba(0,0,0,0)"}})),Object(y.each)([0,1],function(E){var I=u.get("handleIcon");!jp[I]&&I.indexOf("path://")<0&&I.indexOf("image://")<0&&(I="path://"+I);var W=Ts(I,-1,0,2,2,null,!0);W.attr({cursor:VI(this._orient),draggable:!0,drift:Object(y.bind)(this._onDragMove,this,E),ondragend:Object(y.bind)(this._onDragEnd,this),onmouseover:Object(y.bind)(this._showDataInfo,this,!0),onmouseout:Object(y.bind)(this._showDataInfo,this,!1),z2:5});var H=W.getBoundingRect(),Q=u.get("handleSize");this._handleHeight=Yn(Q,this._size[1]),this._handleWidth=H.width/H.height*this._handleHeight,W.setStyle(u.getModel("handleStyle").getItemStyle()),W.style.strokeNoScale=!0,W.rectHover=!0,W.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),jf(W);var se=u.get("handleColor");se!=null&&(W.style.fill=se),s.add(i[E]=W);var le=u.getModel("textStyle");e.add(a[E]=new Fi({silent:!0,invisible:!0,style:bs(le,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:le.getTextColor(),font:le.getFont()}),z2:10}))},this);var g=v;if(h){var b=Yn(u.get("moveHandleSize"),l[1]),S=r.moveHandle=new Bi({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:l[1]-.5,height:b}}),M=b*.8,C=r.moveHandleIcon=Ts(u.get("moveHandleIcon"),-M/2,-M/2,M,M,"#fff",!0);C.silent=!0,C.y=l[1]+b/2-.5,S.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var O=Math.min(l[1]/2,Math.max(b,10));g=r.moveZone=new Bi({invisible:!0,shape:{y:l[1]-O,height:b+O}}),g.on("mouseover",function(){f.enterEmphasis(S)}).on("mouseout",function(){f.leaveEmphasis(S)}),s.add(S),s.add(C),s.add(g)}g.attr({draggable:!0,cursor:VI(this._orient),drift:Object(y.bind)(this._onDragMove,this,"all"),ondragstart:Object(y.bind)(this._showDataInfo,this,!0),ondragend:Object(y.bind)(this._onDragEnd,this),onmouseover:Object(y.bind)(this._showDataInfo,this,!0),onmouseout:Object(y.bind)(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Da(e[0],[0,100],r,!0),Da(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),l=i.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Rg(r,a,s,i.get("zoomLock")?"all":e,l.minSpan!=null?Da(l.minSpan,u,s,!0):null,l.maxSpan!=null?Da(l.maxSpan,u,s,!0):null);var f=this._range,d=this._range=ms([Da(a[0],s,u,!0),Da(a[1],s,u,!0)]);return!f||f[0]!==d[0]||f[1]!==d[1]},t.prototype._updateView=function(e){var r=this._displayables,i=this._handleEnds,a=ms(i.slice()),s=this._size;Object(y.each)([0,1],function(g){var b=r.handles[g],S=this._handleHeight;b.attr({scaleX:S/2,scaleY:S/2,x:i[g]+(g?-1:1),y:s[1]/2-S/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var l={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(l),r.moveZone.setShape(l),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",l.x+l.width/2));for(var u=r.dataShadowSegs,f=[0,a[0],a[1],s[0]],d=0;d<u.length;d++){var h=u[d],v=h.getClipPath();v||(v=new Bi,h.setClipPath(v)),v.setShape({x:f[d],y:0,width:f[d+1]-f[d],height:s[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,l=["",""];if(r.get("showDetail")){var u=r.findRepresentativeAxisProxy();if(u){var f=u.getAxisModel().axis,d=this._range,h=e?u.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:u.getDataValueWindow();l=[this._formatLabel(h[0],f),this._formatLabel(h[1],f)]}}var v=ms(this._handleEnds.slice());g.call(this,0),g.call(this,1);function g(b){var S=wh(i.handles[b].parent,this.group),M=cb(b===0?"right":"left",S),C=this._handleWidth/2+nK,O=df([v[b]+(b===0?-C:C),this._size[1]/2],S);a[b].setStyle({x:O[0],y:O[1],verticalAlign:s===ox?"middle":M,align:s===ox?M:"center",text:l[b]})}},t.prototype._formatLabel=function(e,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=r.getPixelPrecision());var l=e==null||isNaN(e)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(s,20));return Object(y.isFunction)(a)?a(e,l):Object(y.isString)(a)?a.replace("{value}",l):l},t.prototype._showDataInfo=function(e){e=this._dragging||e;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!e),i[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,i,a){this._dragging=!0,Lo(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),l=df([r,i],s,!0),u=this._updateInterval(e,l[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),u&&f&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,l=this._updateInterval("all",i[0]-s);this._updateView(),l&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var r=e.offsetX,i=e.offsetY;this._brushStart=new mi(r,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(!!this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),l=[0,100];this._range=ms([Da(i.x,s,l,!0),Da(i.x+i.width,s,l,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Lo(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new ax({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var l=this._brushStart,u=this._displayables.sliderGroup,f=u.transformCoordToLocal(e,r),d=u.transformCoordToLocal(l.x,l.y),h=this._size;f[0]=Math.max(Math.min(h[0],f[0]),0),s.setShape({x:d[0],y:0,width:f[0]-d[0],height:h[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?iK:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=RR(this.dataZoomModel).infoList;if(!e&&r.length){var i=r[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),s=this.api.getHeight();e={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return e},t.type="dataZoom.slider",t}(TT);function oK(n){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[n]}function VI(n){return n==="vertical"?"ns-resize":"ew-resize"}var sK=aK;function HI(n){n.registerComponentModel(q9),n.registerComponentView(sK),OT(n)}function lK(n){ea(BI),ea(HI)}var uK={get:function(n,t,e){var r=y.clone((cK[n]||{})[t]);return e&&y.isArray(r)?r[r.length-1]:r}},cK={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},GI=uK,UI=tu.mapVisual,fK=tu.eachVisual,dK=y.isArray,WI=y.each,hK=ms,pK=Da,vK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-Infinity,Infinity],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,r){var i=this.option;!r&&uI(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var r=this.stateList;e=y.bind(e,this),this.controllerVisuals=kT(this.option.controller,r,e),this.targetVisuals=kT(this.option.target,r,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return e==null||e==="all"?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=Xa(e),r},t.prototype.eachTargetSeries=function(e,r){y.each(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(r,a)},this)},t.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(i){i===e&&(r=!0)}),r},t.prototype.formatValueText=function(e,r,i){var a=this.option,s=a.precision,l=this.dataBound,u=a.formatter,f;i=i||["<",">"],y.isArray(e)&&(e=e.slice(),f=!0);var d=r?e:f?[h(e[0]),h(e[1])]:h(e);if(y.isString(u))return u.replace("{value}",f?d[0]:d).replace("{value2}",f?d[1]:d);if(y.isFunction(u))return f?u(e[0],e[1]):u(e);if(f)return e[0]===l[0]?i[0]+" "+d[1]:e[1]===l[1]?i[1]+" "+d[0]:d[0]+" - "+d[1];return d;function h(v){return v===l[0]?"min":v===l[1]?"max":(+v).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,r=hK([e.min,e.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(r!=null)return e.getDimensionIndex(r);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var s=i[a],l=e.getDimensionInfo(s);if(!l.isCalculationCoord)return l.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),s=r.controller||(r.controller={});y.merge(a,i),y.merge(s,i);var l=this.isCategory();u.call(this,a),u.call(this,s),f.call(this,a,"inRange","outOfRange"),d.call(this,s);function u(h){dK(r.color)&&!h.inRange&&(h.inRange={color:r.color.slice().reverse()}),h.inRange=h.inRange||{color:e.get("gradientColor")}}function f(h,v,g){var b=h[v],S=h[g];b&&!S&&(S=h[g]={},WI(b,function(M,C){if(!!tu.isValidType(C)){var O=GI.get(C,"inactive",l);O!=null&&(S[C]=O,C==="color"&&!S.hasOwnProperty("opacity")&&!S.hasOwnProperty("colorAlpha")&&(S.opacity=[0,0]))}}))}function d(h){var v=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,g=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,b=this.get("inactiveColor"),S=this.getItemSymbol(),M=S||"roundRect";WI(this.stateList,function(C){var O=this.itemSize,E=h[C];E||(E=h[C]={color:l?b:[b]}),E.symbol==null&&(E.symbol=v&&y.clone(v)||(l?M:[M])),E.symbolSize==null&&(E.symbolSize=g&&y.clone(g)||(l?O[0]:[O[0],O[0]])),E.symbol=UI(E.symbol,function(H){return H==="none"?M:H});var I=E.symbolSize;if(I!=null){var W=-Infinity;fK(I,function(H){H>W&&(W=H)}),E.symbolSize=UI(I,function(H){return pK(H,[0,W],[0,O[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(xa),vw=vK,KI=[20,140],gK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=KI[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=KI[1])},t.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):y.isArray(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),y.each(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),r=ms((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},t.prototype.getValueState=function(e){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=e)&&(r[1]>=i[1]||e<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(l,u){e[0]<=l&&l<=e[1]&&a.push(u)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},t.prototype.getVisualMeta=function(e){var r=YI(this,"outOfRange",this.getExtent()),i=YI(this,"inRange",this.option.range.slice()),a=[];function s(g,b){a.push({value:g,color:e(g,b)})}for(var l=0,u=0,f=i.length,d=r.length;u<d&&(!i.length||r[u]<=i[0]);u++)r[u]<i[l]&&s(r[u],"outOfRange");for(var h=1;l<f;l++,h=0)h&&a.length&&s(i[l],"outOfRange"),s(i[l],"inRange");for(var h=1;u<d;u++)(!i.length||i[i.length-1]<r[u])&&(h&&(a.length&&s(a[a.length-1].value,"outOfRange"),h=0),s(r[u],"outOfRange"));var v=a.length;return{stops:a,outerColors:[v?a[0].color:"transparent",v?a[v-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Bf(vw.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(vw);function YI(n,t,e){if(e[0]===e[1])return e.slice();for(var r=200,i=(e[1]-e[0])/r,a=e[0],s=[],l=0;l<=r&&a<e[1];l++)s.push(a),a+=i;return s.push(e[1]),s}var mK=gK,yK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,r){this.ecModel=e,this.api=r},t.prototype.render=function(e,r,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,r,i,a)},t.prototype.renderBackground=function(e){var r=this.visualMapModel,i=nf(r.get("padding")||0),a=e.getBoundingRect();e.add(new Bi({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,r,i){i=i||{};var a=i.forceState,s=this.visualMapModel,l={};if(r==="color"){var u=s.get("contentColor");l.color=u}function f(g){return l[g]}function d(g,b){l[g]=b}var h=s.controllerVisuals[a||s.getValueState(e)],v=tu.prepareVisualTypes(h);return y.each(v,function(g){var b=h[g];i.convertOpacityToAlpha&&g==="opacity"&&(g="colorAlpha",b=h.__alphaForOpacity),tu.dependsOn(g,r)&&b&&b.applyVisual(e,f,d)}),l[r]},t.prototype.positionGroup=function(e){var r=this.visualMapModel,i=this.api;Fv(e,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,r,i,a){},t.type="visualMap",t}(Xo),XI=yK,ZI=[["left","right","width"],["top","bottom","height"]];function $I(n,t,e){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},s=r.orient==="horizontal"?1:0,l=ZI[s],u=[0,null,10],f={},d=0;d<3;d++)f[ZI[1-s][d]]=u[d],f[l[d]]=d===2?e[0]:r[l[d]];var h=[["x","width",3],["y","height",0]][s],v=ks(f,a,r.padding);return l[(v.margin[h[2]]||0)+v[h[0]]+v[h[1]]*.5<a[h[1]]*.5?0:1]}function gw(n,t){return y.each(n||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var kd=Da,bK=y.each,JI=Math.min,rO=Math.max,xK=12,SK=6,wK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.doRender=function(e,r,i,a){this._api=i,(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var i=e.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(e,r,i){if(!!r){var a=r[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,l=s.get("textGap"),u=s.itemSize,f=this._shapes.mainGroup,d=this._applyTransform([u[0]/2,i===0?-l:u[1]+l],f),h=this._applyTransform(i===0?"bottom":"top",f),v=this._orient,g=this.visualMapModel.textStyleModel;this.group.add(new Fi({style:{x:d[0],y:d[1],verticalAlign:v==="horizontal"?"middle":h,align:v==="horizontal"?h:"center",text:a,font:g.getFont(),fill:g.getTextColor()}}))}},t.prototype._renderBar=function(e){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,s=this._orient,l=this._useHandle,u=$I(r,this.api,a),f=i.mainGroup=this._createBarGroup(u),d=new Wr;f.add(d),d.add(i.outOfRange=QI()),d.add(i.inRange=QI(null,l?e3(this._orient):null,y.bind(this._dragHandle,this,"all",!1),y.bind(this._dragHandle,this,"all",!0))),d.setClipPath(new Bi({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=r.textStyleModel.getTextRect("\u56FD"),v=rO(h.width,h.height);l&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,f,0,a,v,s),this._createHandle(r,f,1,a,v,s)),this._createIndicator(r,f,a,v,s),e.add(f)},t.prototype._createHandle=function(e,r,i,a,s,l){var u=y.bind(this._dragHandle,this,i,!1),f=y.bind(this._dragHandle,this,i,!0),d=Al(e.get("handleSize"),a[0]),h=Ts(e.get("handleIcon"),-d/2,-d/2,d,d,null,!0),v=e3(this._orient);h.attr({cursor:v,draggable:!0,drift:u,ondragend:f,onmousemove:function(C){Lo(C.event)}}),h.x=a[0]/2,h.useStyle(e.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),ih(h,!0),r.add(h);var g=this.visualMapModel.textStyleModel,b=new Fi({cursor:v,draggable:!0,drift:u,onmousemove:function(C){Lo(C.event)},ondragend:f,style:{x:0,y:0,text:"",font:g.getFont(),fill:g.getTextColor()}});b.ensureState("blur").style={opacity:.1},b.stateTransition={duration:200},this.group.add(b);var S=[d,0],M=this._shapes;M.handleThumbs[i]=h,M.handleLabelPoints[i]=S,M.handleLabels[i]=b},t.prototype._createIndicator=function(e,r,i,a,s){var l=Al(e.get("indicatorSize"),i[0]),u=Ts(e.get("indicatorIcon"),-l/2,-l/2,l,l,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var f=e.getModel("indicatorStyle").getItemStyle();if(u instanceof cs){var d=u.style;u.useStyle(y.extend({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},f))}else u.useStyle(f);r.add(u);var h=this.visualMapModel.textStyleModel,v=new Fi({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});this.group.add(v);var g=[(s==="horizontal"?a/2:SK)+i[0]/2,0],b=this._shapes;b.indicator=u,b.indicatorLabel=v,b.indicatorLabelPoint=g,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,r,i,a){if(!!this._useHandle){if(this._dragging=!r,!r){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,s[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():qI(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[kd(r[0],i,a,!0),kd(r[1],i,a,!0)]},t.prototype._updateInterval=function(e,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];Rg(r,a,s,e,0);var l=i.getExtent();this._dataInterval=[kd(a[0],s,l,!0),kd(a[1],s,l,!0)]},t.prototype._updateView=function(e){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,s=[0,r.itemSize[1]],l=e?s:this._handleEnds,u=this._createBarVisual(this._dataInterval,i,l,"inRange"),f=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),a.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(l,u)},t.prototype._createBarVisual=function(e,r,i,a){var s={forceState:a,convertOpacityToAlpha:!0},l=this._makeColorGradient(e,s),u=[this.getControllerVisual(e[0],"symbolSize",s),this.getControllerVisual(e[1],"symbolSize",s)],f=this._createBarPoints(i,u);return{barColor:new hg(0,0,0,1,l),barPoints:f,handlesColor:[l[0].color,l[l.length-1].color]}},t.prototype._makeColorGradient=function(e,r){var i=100,a=[],s=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var l=1;l<i;l++){var u=e[0]+s*l;if(u>e[1])break;a.push({color:this.getControllerVisual(u,"color",r),offset:l/i})}return a.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),a},t.prototype._createBarPoints=function(e,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-r[1],e[1]]]},t.prototype._createBarGroup=function(e){var r=this._orient,i=this.visualMapModel.get("inverse");return new Wr(r==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,r){if(!!this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,l=i.handleLabels,u=a.itemSize,f=a.getExtent();bK([0,1],function(d){var h=s[d];h.setStyle("fill",r.handlesColor[d]),h.y=e[d];var v=kd(e[d],[0,u[1]],f,!0),g=this.getControllerVisual(v,"symbolSize");h.scaleX=h.scaleY=g/u[0],h.x=u[0]-g/2;var b=df(i.handleLabelPoints[d],wh(h,this.group));l[d].setStyle({x:b[0],y:b[1],text:a.formatValueText(this._dataInterval[d]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,r,i,a){var s=this.visualMapModel,l=s.getExtent(),u=s.itemSize,f=[0,u[1]],d=this._shapes,h=d.indicator;if(!!h){h.attr("invisible",!1);var v={convertOpacityToAlpha:!0},g=this.getControllerVisual(e,"color",v),b=this.getControllerVisual(e,"symbolSize"),S=kd(e,l,f,!0),M=u[0]-b/2,C={x:h.x,y:h.y};h.y=S,h.x=M;var O=df(d.indicatorLabelPoint,wh(h,this.group)),E=d.indicatorLabel;E.attr("invisible",!1);var I=this._applyTransform("left",d.mainGroup),W=this._orient,H=W==="horizontal";E.setStyle({text:(i||"")+s.formatValueText(r),verticalAlign:H?I:"middle",align:H?"center":I});var Q={x:M,y:S,style:{fill:g}},se={style:{x:O[0],y:O[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var le={duration:100,easing:"cubicInOut",additive:!0};h.x=C.x,h.y=C.y,h.animateTo(Q,le),E.animateTo(se,le)}else h.attr(Q),E.attr(se);this._firstShowIndicator=!1;var Me=this._shapes.handleLabels;if(Me)for(var xe=0;xe<Me.length;xe++)this._api.enterBlur(Me[xe])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);a[1]=JI(rO(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,r){var i=this.visualMapModel,a=i.itemSize;if(!!i.option.hoverLink){var s=[0,a[1]],l=i.getExtent();e=JI(rO(s[0],e),s[1]);var u=MK(i,l,s),f=[e-u,e+u],d=kd(e,s,l,!0),h=[kd(f[0],s,l,!0),kd(f[1],s,l,!0)];f[0]<s[0]&&(h[0]=-Infinity),f[1]>s[1]&&(h[1]=Infinity),r&&(h[0]===-Infinity?this._showIndicator(d,h[1],"< ",u):h[1]===Infinity?this._showIndicator(d,h[0],"> ",u):this._showIndicator(d,d,"\u2248 ",u));var v=this._hoverLinkDataIndices,g=[];(r||qI(i))&&(g=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var b=Ty(v,g);this._dispatchHighDown("downplay",gw(b[0],i)),this._dispatchHighDown("highlight",gw(b[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var r=e.target,i=this.visualMapModel;if(!(!r||Yr(r).dataIndex==null)){var a=Yr(r),s=this.ecModel.getSeriesByIndex(a.seriesIndex);if(!!i.isTargetSeries(s)){var l=s.getData(a.dataType),u=l.getStore().get(i.getDataDimensionIndex(l),a.dataIndex);isNaN(u)||this._showIndicator(u,u)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",gw(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,r,i,a){var s=wh(r,a?null:this.group);return y.isArray(e)?df(e,s,i):cb(e,s,i)},t.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(XI);function QI(n,t,e,r){return new sl({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Lo(i.event)},ondragend:r})}function MK(n,t,e){var r=xK/2,i=n.get("hoverLinkDataSize");return i&&(r=kd(i,t,e,!0)/2),r}function qI(n){var t=n.get("hoverLinkOnHandle");return!!(t==null?n.get("realtime"):t)}function e3(n){return n==="vertical"?"ns-resize":"ew-resize"}var _K=wK,CK={type:"selectDataRange",event:"dataRangeSelected",update:"update"},TK=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},OK=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||e.push(S7(r.stateList,r.targetVisuals,y.bind(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),r=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta(y.bind(EK,null,n,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(e);s>=0&&(a.dimension=s,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function EK(n,t,e,r){for(var i=t.targetVisuals[r],a=tu.prepareVisualTypes(i),s={color:ja(n.getData(),"color")},l=0,u=a.length;l<u;l++){var f=a[l],d=i[f==="opacity"?"__alphaForOpacity":f];d&&d.applyVisual(e,h,v)}return s.color;function h(g){return s[g]}function v(g,b){s[g]=b}}var t3=y.each;function AK(n){var t=n&&n.visualMap;y.isArray(t)||(t=t?[t]:[]),t3(t,function(e){if(!!e){my(e,"splitList")&&!my(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&y.isArray(r)&&t3(r,function(i){y.isObject(i)&&(my(i,"start")&&!my(i,"min")&&(i.min=i.start),my(i,"end")&&!my(i,"max")&&(i.max=i.end))})}})}function my(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var n3=!1;function r3(n){n3||(n3=!0,n.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),n.registerAction(CK,TK),Object(y.each)(OK,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(AK))}function i3(n){n.registerComponentModel(mK),n.registerComponentView(_K),r3(n)}var PK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],LK[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(s,l){i==="categories"?(s.mappingMethod="category",s.categories=y.clone(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=y.map(this._pieceList,function(u){return u=y.clone(u),l!=="inRange"&&(u.visual=null),u}))})},t.prototype.completeVisualOption=function(){var e=this.option,r={},i=tu.listVisualTypes(),a=this.isCategory();y.each(e.pieces,function(l){y.each(i,function(u){l.hasOwnProperty(u)&&(r[u]=1)})}),y.each(r,function(l,u){var f=!1;y.each(this.stateList,function(d){f=f||s(e,d,u)||s(e.target,d,u)},this),!f&&y.each(this.stateList,function(d){(e[d]||(e[d]={}))[u]=GI.get(u,d==="inRange"?"active":"inactive",a)})},this);function s(l,u,f){return l&&l[u]&&l[u].hasOwnProperty(f)}n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,r){var i=this.option,a=this._pieceList,s=(r?i:e).selected||{};if(i.selected=s,y.each(a,function(u,f){var d=this.getSelectedMapKey(u);s.hasOwnProperty(d)||(s[d]=!0)},this),i.selectedMode==="single"){var l=!1;y.each(a,function(u,f){var d=this.getSelectedMapKey(u);s[d]&&(l?s[d]=!1:l=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=y.clone(e)},t.prototype.getValueState=function(e){var r=tu.findPieceIndex(e,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],l=a.getData();l.each(this.getDataDimensionIndex(l),function(u,f){var d=tu.findPieceIndex(u,i);d===e&&s.push(f)},this),r.push({seriesId:a.id,dataIndex:s})},this),r},t.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(e.value!=null)r=e.value;else{var i=e.interval||[];r=i[0]===-Infinity&&i[1]===Infinity?0:(i[0]+i[1])/2}return r},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var r=[],i=["",""],a=this;function s(d,h){var v=a.getRepresentValue({interval:d});h||(h=a.getValueState(v));var g=e(v,h);d[0]===-Infinity?i[0]=g:d[1]===Infinity?i[1]=g:r.push({value:d[0],color:g},{value:d[1],color:g})}var l=this._pieceList.slice();if(!l.length)l.push({interval:[-Infinity,Infinity]});else{var u=l[0].interval[0];u!==-Infinity&&l.unshift({interval:[-Infinity,u]}),u=l[l.length-1].interval[1],u!==Infinity&&l.push({interval:[u,Infinity]})}var f=-Infinity;return y.each(l,function(d){var h=d.interval;h&&(h[0]>f&&s([f,h[0]],"outOfRange"),s(h.slice()),f=h[1])},this),{stops:r,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Bf(vw.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(vw),LK={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&n.push({interval:[-Infinity,r[0]],close:[0,0]});for(var s=0,l=r[0];s<i;l+=a,s++){var u=s===i-1?r[1]:l+a;n.push({interval:[l,u],close:[1,1]})}t.maxOpen&&n.push({interval:[r[1],Infinity],close:[0,0]}),vl(n),y.each(n,function(f,d){f.index=d,f.text=this.formatValueText(f.interval)},this)},categories:function(n){var t=this.option;y.each(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),a3(t,n)},pieces:function(n){var t=this.option;y.each(t.pieces,function(e,r){y.isObject(e)||(e={value:e});var i={text:"",index:r};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],l=i.close=[0,0],u=[1,0,1],f=[-Infinity,Infinity],d=[],h=0;h<2;h++){for(var v=[["gte","gt","min"],["lte","lt","max"]][h],g=0;g<3&&s[h]==null;g++)s[h]=e[v[g]],l[h]=u[g],d[h]=g===2;s[h]==null&&(s[h]=f[h])}d[0]&&s[1]===Infinity&&(l[0]=0),d[1]&&s[0]===-Infinity&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(i.value=s[0])}i.visual=tu.retrieveVisuals(e),n.push(i)},this),a3(t,n),vl(n),y.each(n,function(e){var r=e.close,i=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function a3(n,t){var e=n.inverse;(n.orient==="vertical"?!e:e)&&t.reverse()}var DK=PK,RK=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,s=a.getFont(),l=a.getTextColor(),u=this._getItemAlign(),f=r.itemSize,d=this._getViewData(),h=d.endsText,v=y.retrieve(r.get("showLabel",!0),!h);h&&this._renderEndsText(e,h[0],f,v,u),y.each(d.viewPieceList,function(g){var b=g.piece,S=new Wr;S.onclick=y.bind(this._onItemClick,this,b),this._enableHoverLink(S,g.indexInModelPieceList);var M=r.getRepresentValue(b);if(this._createItemSymbol(S,M,[0,0,f[0],f[1]]),v){var C=this.visualMapModel.getValueState(M);S.add(new Fi({style:{x:u==="right"?-i:f[0]+i,y:f[1]/2,text:b.text,verticalAlign:"middle",align:u,font:s,fill:l,opacity:C==="outOfRange"?.5:1}}))}e.add(S)},this),h&&this._renderEndsText(e,h[1],f,v,u),zf(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,r){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var l=i.visualMapModel;l.option.hoverLink&&i.api.dispatchAction({type:s,batch:gw(l.findTargetDataIndices(r),l)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if(r.orient==="vertical")return $I(e,this.api,e.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,r,i,a,s){if(!!r){var l=new Wr,u=this.visualMapModel.textStyleModel;l.add(new Fi({style:{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:r,font:u.getFont(),fill:u.getTextColor()}})),e.add(l)}},t.prototype._getViewData=function(){var e=this.visualMapModel,r=y.map(e.getPieceList(),function(l,u){return{piece:l,indexInModelPieceList:u}}),i=e.get("text"),a=e.get("orient"),s=e.get("inverse");return(a==="horizontal"?s:!s)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},t.prototype._createItemSymbol=function(e,r,i){e.add(Ts(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},t.prototype._onItemClick=function(e){var r=this.visualMapModel,i=r.option,a=y.clone(i.selected),s=r.getSelectedMapKey(e);i.selectedMode==="single"?(a[s]=!0,y.each(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})},t.type="visualMap.piecewise",t}(XI),IK=RK;function o3(n){n.registerComponentModel(DK),n.registerComponentView(IK),r3(n)}function NK(n){ea(i3),ea(o3)}var kK={label:{enabled:!0},decal:{show:!1}},s3=Yi(),jK={};function BK(n,t){var e=n.getModel("aria");if(!e.get("enabled"))return;var r=y.clone(kK);y.merge(r.label,n.getLocaleModel().get("aria"),!1),y.merge(e.option,r,!1),i(),a();function i(){var f=e.getModel("decal"),d=f.get("show");if(d){var h=y.createHashMap();n.eachSeries(function(v){if(!v.isColorBySeries()){var g=h.get(v.type);g||(g={},h.set(v.type,g)),s3(v).scope=g}}),n.eachRawSeries(function(v){if(n.isSeriesFiltered(v))return;if(y.isFunction(v.enableAriaDecal)){v.enableAriaDecal();return}var g=v.getData();if(v.isColorBySeries()){var O=x0(v.ecModel,v.name,jK,n.getSeriesCount()),E=g.getVisual("decal");g.setVisual("decal",I(E,O))}else{var b=v.getRawData(),S={},M=s3(v).scope;g.each(function(W){var H=g.getRawIndex(W);S[H]=W});var C=b.count();b.each(function(W){var H=S[W],Q=b.getName(W)||W+"",se=x0(v.ecModel,Q,M,C),le=g.getItemVisual(H,"decal");g.setItemVisual(H,"decal",I(le,se))})}function I(W,H){var Q=W?y.extend(y.extend({},H),W):H;return Q.dirty=!0,Q}})}}function a(){var f=n.getLocaleModel().get("aria"),d=e.getModel("label");if(d.option=y.defaults(d.option,f),!!d.get("enabled")){var h=t.getZr().dom;if(d.get("description")){h.setAttribute("aria-label",d.get("description"));return}var v=n.getSeriesCount(),g=d.get(["data","maxCount"])||10,b=d.get(["series","maxCount"])||10,S=Math.min(v,b),M;if(!(v<1)){var C=l();if(C){var O=d.get(["general","withTitle"]);M=s(O,{title:C})}else M=d.get(["general","withoutTitle"]);var E=[],I=v>1?d.get(["series","multiple","prefix"]):d.get(["series","single","prefix"]);M+=s(I,{seriesCount:v}),n.eachSeries(function(se,le){if(le<S){var Me=void 0,xe=se.get("name"),Be=xe?"withName":"withoutName";Me=v>1?d.get(["series","multiple",Be]):d.get(["series","single",Be]),Me=s(Me,{seriesId:se.seriesIndex,seriesName:se.get("name"),seriesType:u(se.subType)});var ze=se.getData();if(ze.count()>g){var it=d.get(["data","partialData"]);Me+=s(it,{displayCnt:g})}else Me+=d.get(["data","allData"]);for(var pt=d.get(["data","separator","middle"]),At=d.get(["data","separator","end"]),ln=[],Qt=0;Qt<ze.count();Qt++)if(Qt<g){var vn=ze.getName(Qt),Gn=ze.getValues(Qt),fr=d.get(["data",vn?"withName":"withoutName"]);ln.push(s(fr,{name:vn,value:Gn.join(pt)}))}Me+=ln.join(pt)+At,E.push(Me)}});var W=d.getModel(["series","multiple","separator"]),H=W.get("middle"),Q=W.get("end");M+=E.join(H)+Q,h.setAttribute("aria-label",M)}}}function s(f,d){if(!y.isString(f))return f;var h=f;return y.each(d,function(v,g){h=h.replace(new RegExp("\\{\\s*"+g+"\\s*\\}","g"),v)}),h}function l(){var f=n.get("title");return f&&f.length&&(f=f[0]),f&&f.text}function u(f){return n.getLocaleModel().get(["series","typeNames"])[f]||"\u81EA\u5B9A\u4E49\u56FE"}}function FK(n){if(!(!n||!n.aria)){var t=n.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},y.each(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function zK(n){n.registerPreprocessor(FK),n.registerVisual(n.PRIORITY.VISUAL.ARIA,BK)}var l3={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},VK=function(){function n(t){var e=this._condVal=Object(y.isString)(t)?new RegExp(t):Object(y.isRegExp)(t)?t:null;if(e==null){var r="";Za(r)}}return n.prototype.evaluate=function(t){var e=typeof t;return Object(y.isString)(e)?this._condVal.test(t):Object(y.isNumber)(e)?this._condVal.test(t+""):!1},n}(),HK=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),GK=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),UK=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),WK=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),KK=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,r=e(this.valueGetterParam),i=t?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:r))return!1;return!0},n}();function iO(n,t){if(n===!0||n===!1){var e=new HK;return e.value=n,e}var r="";return c3(n)||Za(r),n.and?u3("and",n,t):n.or?u3("or",n,t):n.not?YK(n,t):XK(n,t)}function u3(n,t,e){var r=t[n],i="";Object(y.isArray)(r)||Za(i),r.length||Za(i);var a=n==="and"?new GK:new UK;return a.children=Object(y.map)(r,function(s){return iO(s,e)}),a.children.length||Za(i),a}function YK(n,t){var e=n.not,r="";c3(e)||Za(r);var i=new WK;return i.child=iO(e,t),i.child||Za(r),i}function XK(n,t){for(var e="",r=t.prepareGetValue(n),i=[],a=Object(y.keys)(n),s=n.parser,l=s?B0(s):null,u=0;u<a.length;u++){var f=a[u];if(!(f==="parser"||t.valueGetterAttrMap.get(f))){var d=Object(y.hasOwn)(l3,f)?l3[f]:f,h=n[f],v=l?l(h):h,g=ng(d,v)||d==="reg"&&new VK(v);g||Za(e),i.push(g)}}i.length||Za(e);var b=new KK;return b.valueGetterParam=r,b.valueParser=l,b.getValue=t.getValue,b.subCondList=i,b}function c3(n){return Object(y.isObject)(n)&&!Object(y.isArrayLike)(n)}var ZK=function(){function n(t,e){this._cond=iO(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}();function $K(n,t){return new ZK(n,t)}var JK={type:"echarts:filter",transform:function(n){for(var t=n.upstream,e,r=$K(n.config,{valueGetterAttrMap:Object(y.createHashMap)({dimension:!0}),prepareGetValue:function(l){var u="",f=l.dimension;Object(y.hasOwn)(l,"dimension")||Za(u);var d=t.getDimensionInfo(f);return d||Za(u),{dimIdx:d.index}},getValue:function(l){return t.retrieveValueFromItem(e,l.dimIdx)}}),i=[],a=0,s=t.count();a<s;a++)e=t.getRawDataItem(a),r.evaluate()&&i.push(e);return{data:i}}},$Y="",QK={type:"echarts:sort",transform:function(n){var t=n.upstream,e=n.config,r="",i=Xa(e);i.length||Za(r);var a=[];Object(y.each)(i,function(d){var h=d.dimension,v=d.order,g=d.parser,b=d.incomparable;if(h==null&&Za(r),v!=="asc"&&v!=="desc"&&Za(r),b&&b!=="min"&&b!=="max"){var S="";Za(S)}if(v!=="asc"&&v!=="desc"){var M="";Za(M)}var C=t.getDimensionInfo(h);C||Za(r);var O=g?B0(g):null;g&&!O&&Za(r),a.push({dimIdx:C.index,parser:O,comparator:new gh(v,b)})});var s=t.sourceFormat;s!==Ws&&s!==wu&&Za(r);for(var l=[],u=0,f=t.count();u<f;u++)l.push(t.getRawDataItem(u));return l.sort(function(d,h){for(var v=0;v<a.length;v++){var g=a[v],b=t.retrieveValueFromItem(d,g.dimIdx),S=t.retrieveValueFromItem(h,g.dimIdx);g.parser&&(b=g.parser(b),S=g.parser(S));var M=g.comparator.evaluate(b,S);if(M!==0)return M}return 0}),{data:l}}};function qK(n){n.registerTransform(JK),n.registerTransform(QK)}var eY=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,r,i){n.prototype.init.call(this,e,r,i),this._sourceManager=new Lm(this),V0(this)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),V0(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Nc},t}(xa),tY=function(n){ve(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t}(Xo);function nY(n){n.registerComponentModel(eY),n.registerComponentView(tY)}var jd=Jn.CMD;function yy(n,t){return Math.abs(n-t)<1e-5}function aO(n){var t=n.data,e=n.len(),r=[],i,a=0,s=0,l=0,u=0;function f(ze,it){i&&i.length>2&&r.push(i),i=[ze,it]}function d(ze,it,pt,At){yy(ze,pt)&&yy(it,At)||i.push(ze,it,pt,At,pt,At)}function h(ze,it,pt,At,ln,Qt){var vn=Math.abs(it-ze),Gn=Math.tan(vn/4)*4/3,fr=it<ze?-1:1,Er=Math.cos(ze),li=Math.sin(ze),na=Math.cos(it),go=Math.sin(it),co=Er*ln+pt,ha=li*Qt+At,ui=na*ln+pt,ga=go*Qt+At,Zi=ln*Gn*fr,kr=Qt*Gn*fr;i.push(co-Zi*li,ha+kr*Er,ui+Zi*go,ga-kr*na,ui,ga)}for(var v,g,b,S,M=0;M<e;){var C=t[M++],O=M===1;switch(O&&(a=t[M],s=t[M+1],l=a,u=s,(C===jd.L||C===jd.C||C===jd.Q)&&(i=[l,u])),C){case jd.M:a=l=t[M++],s=u=t[M++],f(l,u);break;case jd.L:v=t[M++],g=t[M++],d(a,s,v,g),a=v,s=g;break;case jd.C:i.push(t[M++],t[M++],t[M++],t[M++],a=t[M++],s=t[M++]);break;case jd.Q:v=t[M++],g=t[M++],b=t[M++],S=t[M++],i.push(a+2/3*(v-a),s+2/3*(g-s),b+2/3*(v-b),S+2/3*(g-S),b,S),a=b,s=S;break;case jd.A:var E=t[M++],I=t[M++],W=t[M++],H=t[M++],Q=t[M++],se=t[M++]+Q;M+=1;var le=!t[M++];v=Math.cos(Q)*W+E,g=Math.sin(Q)*H+I,O?(l=v,u=g,f(l,u)):d(a,s,v,g),a=Math.cos(se)*W+E,s=Math.sin(se)*H+I;for(var Me=(le?-1:1)*Math.PI/2,xe=Q;le?xe>se:xe<se;xe+=Me){var Be=le?Math.max(xe+Me,se):Math.min(xe+Me,se);h(xe,Be,E,I,W,H)}break;case jd.R:l=a=t[M++],u=s=t[M++],v=l+t[M++],g=u+t[M++],f(v,u),d(v,u,v,g),d(v,g,l,g),d(l,g,l,u),d(l,u,v,u);break;case jd.Z:i&&d(a,s,l,u),a=l,s=u;break}}return i&&i.length>2&&r.push(i),r}function oO(n,t,e,r,i,a,s,l,u,f){if(yy(n,e)&&yy(t,r)&&yy(i,s)&&yy(a,l)){u.push(s,l);return}var d=2/f,h=d*d,v=s-n,g=l-t,b=Math.sqrt(v*v+g*g);v/=b,g/=b;var S=e-n,M=r-t,C=i-s,O=a-l,E=S*S+M*M,I=C*C+O*O;if(E<h&&I<h){u.push(s,l);return}var W=v*S+g*M,H=-v*C-g*O,Q=E-W*W,se=I-H*H;if(Q<h&&W>=0&&se<h&&H>=0){u.push(s,l);return}var le=[],Me=[];rs(n,e,i,s,.5,le),rs(t,r,a,l,.5,Me),oO(le[0],Me[0],le[1],Me[1],le[2],Me[2],le[3],Me[3],u,f),oO(le[4],Me[4],le[5],Me[5],le[6],Me[6],le[7],Me[7],u,f)}function rY(n,t){var e=aO(n),r=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],s=[],l=a[0],u=a[1];s.push(l,u);for(var f=2;f<a.length;){var d=a[f++],h=a[f++],v=a[f++],g=a[f++],b=a[f++],S=a[f++];oO(l,u,d,h,v,g,b,S,s,t),l=b,u=S}r.push(s)}return r}function f3(n,t,e){var r=n[t],i=n[1-t],a=Math.abs(r/i),s=Math.ceil(Math.sqrt(a*e)),l=Math.floor(e/s);l===0&&(l=1,s=e);for(var u=[],f=0;f<s;f++)u.push(l);var d=s*l,h=e-d;if(h>0)for(var f=0;f<h;f++)u[f%s]+=1;return u}function d3(n,t,e){for(var r=n.r0,i=n.r,a=n.startAngle,s=n.endAngle,l=Math.abs(s-a),u=l*i,f=i-r,d=u>Math.abs(f),h=f3([u,f],d?0:1,t),v=(d?l:f)/h.length,g=0;g<h.length;g++)for(var b=(d?f:l)/h[g],S=0;S<h[g];S++){var M={};d?(M.startAngle=a+v*g,M.endAngle=a+v*(g+1),M.r0=r+b*S,M.r=r+b*(S+1)):(M.startAngle=a+b*S,M.endAngle=a+b*(S+1),M.r0=r+v*g,M.r=r+v*(g+1)),M.clockwise=n.clockwise,M.cx=n.cx,M.cy=n.cy,e.push(M)}}function iY(n,t,e){for(var r=n.width,i=n.height,a=r>i,s=f3([r,i],a?0:1,t),l=a?"width":"height",u=a?"height":"width",f=a?"x":"y",d=a?"y":"x",h=n[l]/s.length,v=0;v<s.length;v++)for(var g=n[u]/s[v],b=0;b<s[v];b++){var S={};S[f]=v*h,S[d]=b*g,S[l]=h,S[u]=g,S.x+=n.x,S.y+=n.y,e.push(S)}}function h3(n,t,e,r){return n*r-e*t}function aY(n,t,e,r,i,a,s,l){var u=e-n,f=r-t,d=s-i,h=l-a,v=h3(d,h,u,f);if(Math.abs(v)<1e-6)return null;var g=n-i,b=t-a,S=h3(g,b,d,h)/v;return S<0||S>1?null:new mi(S*u+n,S*f+t)}function oY(n,t,e){var r=new mi;mi.sub(r,e,t),r.normalize();var i=new mi;mi.sub(i,n,t);var a=i.dot(r);return a}function by(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function sY(n,t,e){for(var r=n.length,i=[],a=0;a<r;a++){var s=n[a],l=n[(a+1)%r],u=aY(s[0],s[1],l[0],l[1],t.x,t.y,e.x,e.y);u&&i.push({projPt:oY(u,t,e),pt:u,idx:a})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(M,C){return M.projPt-C.projPt});var f=i[0],d=i[i.length-1];if(d.idx<f.idx){var h=f;f=d,d=h}for(var v=[f.pt.x,f.pt.y],g=[d.pt.x,d.pt.y],b=[v],S=[g],a=f.idx+1;a<=d.idx;a++)by(b,n[a].slice());by(b,g),by(b,v);for(var a=d.idx+1;a<=f.idx+r;a++)by(S,n[a%r].slice());return by(S,v),by(S,g),[{points:b},{points:S}]}function p3(n){var t=n.points,e=[],r=[];_e(t,e,r);var i=new Hn(e[0],e[1],r[0]-e[0],r[1]-e[1]),a=i.width,s=i.height,l=i.x,u=i.y,f=new mi,d=new mi;return a>s?(f.x=d.x=l+a/2,f.y=u,d.y=u+s):(f.y=d.y=u+s/2,f.x=l,d.x=l+a),sY(t,f,d)}function mw(n,t,e,r){if(e===1)r.push(t);else{var i=Math.floor(e/2),a=n(t);mw(n,a[0],i,r),mw(n,a[1],e-i,r)}return r}function lY(n,t){for(var e=[],r=0;r<t;r++)e.push(R1(n));return e}function uY(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function cY(n){for(var t=[],e=0;e<n.length;)t.push([n[e++],n[e++]]);return t}function fY(n,t){var e=[],r=n.shape,i;switch(n.type){case"rect":iY(r,t,e),i=Bi;break;case"sector":d3(r,t,e),i=Vl;break;case"circle":d3({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},t,e),i=Vl;break;default:var a=n.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,l=Object(y.map)(rY(n.getUpdatedPathProxy(),s),function(C){return cY(C)}),u=l.length;if(u===0)mw(p3,{points:l[0]},t,e);else if(u===t)for(var f=0;f<u;f++)e.push({points:l[f]});else{var d=0,h=Object(y.map)(l,function(C){var O=[],E=[];_e(C,O,E);var I=(E[1]-O[1])*(E[0]-O[0]);return d+=I,{poly:C,area:I}});h.sort(function(C,O){return O.area-C.area});for(var v=t,f=0;f<u;f++){var g=h[f];if(v<=0)break;var b=f===u-1?v:Math.ceil(g.area/d*t);b<0||(mw(p3,{points:g.poly},b,e),v-=b)}}i=sl;break}if(!i)return lY(n,t);for(var S=[],f=0;f<e.length;f++){var M=new i;M.setShape(e[f]),uY(n,M),S.push(M)}return S}function dY(n,t){var e=n.length,r=t.length;if(e===r)return[n,t];for(var i=[],a=[],s=e<r?n:t,l=Math.min(e,r),u=Math.abs(r-e)/6,f=(l-2)/6,d=Math.ceil(u/f)+1,h=[s[0],s[1]],v=u,g=2;g<l;){var b=s[g-2],S=s[g-1],M=s[g++],C=s[g++],O=s[g++],E=s[g++],I=s[g++],W=s[g++];if(v<=0){h.push(M,C,O,E,I,W);continue}for(var H=Math.min(v,d-1)+1,Q=1;Q<=H;Q++){var se=Q/H;rs(b,M,O,I,se,i),rs(S,C,E,W,se,a),b=i[3],S=a[3],h.push(i[1],a[1],i[2],a[2],b,S),M=i[5],C=a[5],O=i[6],E=a[6]}v-=H-1}return s===n?[h,t]:[n,h]}function v3(n,t){for(var e=n.length,r=n[e-2],i=n[e-1],a=[],s=0;s<t.length;)a[s++]=r,a[s++]=i;return a}function hY(n,t){for(var e,r,i,a=[],s=[],l=0;l<Math.max(n.length,t.length);l++){var u=n[l],f=t[l],d=void 0,h=void 0;u?f?(e=dY(u,f),d=e[0],h=e[1],r=d,i=h):(h=v3(i||u,u),d=u):(d=v3(r||f,f),h=f),a.push(d),s.push(h)}return[a,s]}function g3(n){for(var t=0,e=0,r=0,i=n.length,a=0,s=i-2;a<i;s=a,a+=2){var l=n[s],u=n[s+1],f=n[a],d=n[a+1],h=l*d-f*u;t+=h,e+=(l+f)*h,r+=(u+d)*h}return t===0?[n[0]||0,n[1]||0]:[e/t/3,r/t/3,t]}function pY(n,t,e,r){for(var i=(n.length-2)/6,a=Infinity,s=0,l=n.length,u=l-2,f=0;f<i;f++){for(var d=f*6,h=0,v=0;v<l;v+=2){var g=v===0?d:(d+v-2)%u+2,b=n[g]-e[0],S=n[g+1]-e[1],M=t[v]-r[0],C=t[v+1]-r[1],O=M-b,E=C-S;h+=O*O+E*E}h<a&&(a=h,s=f)}return s}function vY(n){for(var t=[],e=n.length,r=0;r<e;r+=2)t[r]=n[e-r-2],t[r+1]=n[e-r-1];return t}function gY(n,t,e,r){for(var i=[],a,s=0;s<n.length;s++){var l=n[s],u=t[s],f=g3(l),d=g3(u);a==null&&(a=f[2]<0!=d[2]<0);var h=[],v=[],g=0,b=Infinity,S=[],M=l.length;a&&(l=vY(l));for(var C=pY(l,u,f,d)*6,O=M-2,E=0;E<O;E+=2){var I=(C+E)%O+2;h[E+2]=l[I]-f[0],h[E+3]=l[I+1]-f[1]}if(h[0]=l[C]-f[0],h[1]=l[C+1]-f[1],e>0)for(var W=r/e,H=-r/2;H<=r/2;H+=W){for(var Q=Math.sin(H),se=Math.cos(H),le=0,E=0;E<l.length;E+=2){var Me=h[E],xe=h[E+1],Be=u[E]-d[0],ze=u[E+1]-d[1],it=Be*se-ze*Q,pt=Be*Q+ze*se;S[E]=it,S[E+1]=pt;var At=it-Me,ln=pt-xe;le+=At*At+ln*ln}if(le<b){b=le,g=H;for(var Qt=0;Qt<S.length;Qt++)v[Qt]=S[Qt]}}else for(var vn=0;vn<M;vn+=2)v[vn]=u[vn]-d[0],v[vn+1]=u[vn+1]-d[1];i.push({from:h,to:v,fromCp:f,toCp:d,rotation:-g})}return i}function yw(n){return n.__isCombineMorphing}function JY(n){return n.__morphT>=0}var m3="__mOriginal_";function bw(n,t,e){var r=m3+t,i=n[r]||n[t];n[r]||(n[r]=n[t]);var a=e.replace,s=e.after,l=e.before;n[t]=function(){var u=arguments,f;return l&&l.apply(this,u),a?f=a.apply(this,u):f=i.apply(this,u),s&&s.apply(this,u),f}}function sx(n,t){var e=m3+t;n[e]&&(n[t]=n[e],n[e]=null)}function y3(n,t){for(var e=0;e<n.length;e++)for(var r=n[e],i=0;i<r.length;){var a=r[i],s=r[i+1];r[i++]=t[0]*a+t[2]*s+t[4],r[i++]=t[1]*a+t[3]*s+t[5]}}function b3(n,t){var e=n.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=hY(aO(e),aO(r)),a=i[0],s=i[1],l=n.getComputedTransform(),u=t.getComputedTransform();function f(){this.transform=null}l&&y3(a,l),u&&y3(s,u),bw(t,"updateTransform",{replace:f}),t.transform=null;var d=gY(a,s,10,Math.PI),h=[];bw(t,"buildPath",{replace:function(v){for(var g=t.__morphT,b=1-g,S=[],M=0;M<d.length;M++){var C=d[M],O=C.from,E=C.to,I=C.rotation*g,W=C.fromCp,H=C.toCp,Q=Math.sin(I),se=Math.cos(I);nn(S,W,H,g);for(var le=0;le<O.length;le+=2){var Me=O[le],xe=O[le+1],Be=E[le],ze=E[le+1],it=Me*b+Be*g,pt=xe*b+ze*g;h[le]=it*se-pt*Q+S[0],h[le+1]=it*Q+pt*se+S[1]}var At=h[0],ln=h[1];v.moveTo(At,ln);for(var le=2;le<O.length;){var Be=h[le++],ze=h[le++],Qt=h[le++],vn=h[le++],Gn=h[le++],fr=h[le++];At===Be&&ln===ze&&Qt===Gn&&vn===fr?v.lineTo(Gn,fr):v.bezierCurveTo(Be,ze,Qt,vn,Gn,fr),At=Gn,ln=fr}}}})}function sO(n,t,e){if(!n||!t)return t;var r=e.done,i=e.during;b3(n,t),t.__morphT=0;function a(){sx(t,"buildPath"),sx(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Object(y.defaults)({during:function(s){t.dirtyShape(),i&&i(s)},done:function(){a(),r&&r()}},e)),t}function mY(n,t,e,r,i,a){var s=16;n=i===e?0:Math.round(32767*(n-e)/(i-e)),t=a===r?0:Math.round(32767*(t-r)/(a-r));for(var l=0,u,f=(1<<s)/2;f>0;f/=2){var d=0,h=0;(n&f)>0&&(d=1),(t&f)>0&&(h=1),l+=f*f*(3*d^h),h===0&&(d===1&&(n=f-1-n,t=f-1-t),u=n,n=t,t=u)}return l}function xw(n){var t=Infinity,e=Infinity,r=-Infinity,i=-Infinity,a=Object(y.map)(n,function(l){var u=l.getBoundingRect(),f=l.getComputedTransform(),d=u.x+u.width/2+(f?f[4]:0),h=u.y+u.height/2+(f?f[5]:0);return t=Math.min(d,t),e=Math.min(h,e),r=Math.max(d,r),i=Math.max(h,i),[d,h]}),s=Object(y.map)(a,function(l,u){return{cp:l,z:mY(l[0],l[1],t,e,r,i),path:n[u]}});return s.sort(function(l,u){return l.z-u.z}).map(function(l){return l.path})}function x3(n){return fY(n.path,n.count)}function lO(){return{fromIndividuals:[],toIndividuals:[],count:0}}function yY(n,t,e){var r=[];function i(W){for(var H=0;H<W.length;H++){var Q=W[H];yw(Q)?i(Q.childrenRef()):Q instanceof ir&&r.push(Q)}}i(n);var a=r.length;if(!a)return lO();var s=e.dividePath||x3,l=s({path:t,count:a});if(l.length!==a)return console.error("Invalid morphing: unmatched splitted path"),lO();r=xw(r),l=xw(l);for(var u=e.done,f=e.during,d=e.individualDelay,h=new $u,v=0;v<a;v++){var g=r[v],b=l[v];b.parent=t,b.copyTransform(h),d||b3(g,b)}t.__isCombineMorphing=!0,t.childrenRef=function(){return l};function S(W){for(var H=0;H<l.length;H++)l[H].addSelfToZr(W)}bw(t,"addSelfToZr",{after:function(W){S(W)}}),bw(t,"removeSelfFromZr",{after:function(W){for(var H=0;H<l.length;H++)l[H].removeSelfFromZr(W)}});function M(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,sx(t,"addSelfToZr"),sx(t,"removeSelfFromZr")}var C=l.length;if(d)for(var O=C,E=function(){O--,O===0&&(M(),u&&u())},v=0;v<C;v++){var I=d?Object(y.defaults)({delay:(e.delay||0)+d(v,C,r[v],l[v]),done:E},e):e;sO(r[v],l[v],I)}else t.__morphT=0,t.animateTo({__morphT:1},Object(y.defaults)({during:function(W){for(var H=0;H<C;H++){var Q=l[H];Q.__morphT=t.__morphT,Q.dirtyShape()}f&&f(W)},done:function(){M();for(var W=0;W<n.length;W++)sx(n[W],"updateTransform");u&&u()}},e));return t.__zr&&S(t.__zr),{fromIndividuals:r,toIndividuals:l,count:C}}function bY(n,t,e){var r=t.length,i=[],a=e.dividePath||x3;function s(g){for(var b=0;b<g.length;b++){var S=g[b];yw(S)?s(S.childrenRef()):S instanceof ir&&i.push(S)}}if(yw(n)){s(n.childrenRef());var l=i.length;if(l<r)for(var u=0,f=l;f<r;f++)i.push(R1(i[u++%l]));i.length=r}else{i=a({path:n,count:r});for(var d=n.getComputedTransform(),f=0;f<i.length;f++)i[f].setLocalTransform(d);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),lO()}i=xw(i),t=xw(t);for(var h=e.individualDelay,f=0;f<r;f++){var v=h?Object(y.defaults)({delay:(e.delay||0)+h(f,r,i[f],t[f])},e):e;sO(i[f],t[f],v)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function S3(n){return Object(y.isArray)(n[0])}function w3(n,t){for(var e=[],r=n.length,i=0;i<r;i++)e.push({one:n[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,s=void 0;for(s=0;s<a;s++)e[s%r].many.push(t[i][s])}for(var l=0,i=r-1;i>=0;i--)if(!e[i].many.length){var u=e[l].many;if(u.length<=1)if(l)l=0;else return e;var a=u.length,f=Math.ceil(a/2);e[i].many=u.slice(f,a),e[l].many=u.slice(0,f),l++}return e}var xY={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=R1(n.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function uO(n,t,e,r,i,a){if(!n.length||!t.length)return;var s=ip("update",r,i);if(!(s&&s.duration>0))return;var l=r.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},s),f,d;S3(n)&&(f=n,d=t),S3(t)&&(f=t,d=n);function h(C,O,E,I,W){var H=C.many,Q=C.one;if(H.length===1&&!W){var se=O?H[0]:Q,le=O?Q:H[0];if(yw(se))h({many:[se],one:le},!0,E,I,!0);else{var Me=l?Object(y.defaults)({delay:l(E,I)},u):u;sO(se,le,Me),a(se,le,se,le,Me)}}else for(var xe=Object(y.defaults)({dividePath:xY[e],individualDelay:l&&function(ln,Qt,vn,Gn){return l(ln+E,I)}},u),Be=O?yY(H,Q,xe):bY(Q,H,xe),ze=Be.fromIndividuals,it=Be.toIndividuals,pt=ze.length,At=0;At<pt;At++){var Me=l?Object(y.defaults)({delay:l(At,pt)},u):u;a(ze[At],it[At],O?H[At]:C.one,O?C.one:H[At],Me)}}for(var v=f?f===n:n.length>t.length,g=f?w3(d,f):w3(v?t:n,[v?n:t]),b=0,S=0;S<g.length;S++)b+=g[S].many.length;for(var M=0,S=0;S<g.length;S++)h(g[S],v,M,b),M+=g[S].many.length}function Fg(n){if(!n)return[];if(Object(y.isArray)(n)){for(var t=[],e=0;e<n.length;e++)t.push(Fg(n[e]));return t}var r=[];return n.traverse(function(i){i instanceof ir&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var M3=1e4,SY=Yi();function wY(n){for(var t=n.dimensions,e=0;e<t.length;e++){var r=n.getDimensionInfo(t[e]);if(r&&r.otherDims.itemGroupId===0)return t[e]}}function _3(n){var t=[];return Object(y.each)(n,function(e){var r=e.data;if(!(r.count()>M3))for(var i=r.getIndices(),a=wY(r),s=0;s<i.length;s++)t.push({data:r,dim:e.dim||a,divide:e.divide,dataIndex:s})}),t}function cO(n,t,e){n.traverse(function(r){r instanceof ir&&Jo(r,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function fO(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function xy(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function MY(n,t,e){var r=ip("update",e,t);r&&n.traverse(function(i){if(i instanceof N){var a=Ow(i);a&&i.animateFrom({style:a},r)}})}function _Y(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++){var i=n[r],a=t[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function C3(n,t,e){var r=_3(n),i=_3(t);function a(C,O,E,I,W){(E||C)&&O.animateFrom({style:E&&E!==C?Object(y.extend)(Object(y.extend)({},E.style),C.style):C.style},W)}function s(C){for(var O=0;O<C.length;O++)if(C[O].dim)return C[O].dim}var l=s(r),u=s(i),f=!1;function d(C,O){return function(E){var I=E.data,W=E.dataIndex;if(O)return I.getId(W);var H=I.hostModel&&I.hostModel.get("dataGroupId"),Q=C?l||u:u||l,se=Q&&I.getDimensionInfo(Q),le=se&&se.ordinalMeta;if(se){var Me=I.get(se.name,W);return le&&le.categories[Me]||Me+""}var xe=I.getRawDataItem(W);return xe&&xe.groupId?xe.groupId+"":H||I.getId(W)}}var h=_Y(r,i),v={};if(!h)for(var g=0;g<i.length;g++){var b=i[g],S=b.data.getItemGraphicEl(b.dataIndex);S&&(v[S.id]=!0)}function M(C,O){var E=r[O],I=i[C],W=I.data.hostModel,H=E.data.getItemGraphicEl(E.dataIndex),Q=I.data.getItemGraphicEl(I.dataIndex);if(H===Q){Q&&MY(Q,I.dataIndex,W);return}H&&v[H.id]||Q&&(xy(Q),H?(xy(H),fO(H),f=!0,uO(Fg(H),Fg(Q),I.divide,W,C,a)):cO(Q,W,C))}new Oh(r,i,d(!0,h),d(!1,h),null,"multiple").update(M).updateManyToOne(function(C,O){var E=i[C],I=E.data,W=I.hostModel,H=I.getItemGraphicEl(E.dataIndex),Q=Object(y.filter)(Object(y.map)(O,function(se){return r[se].data.getItemGraphicEl(r[se].dataIndex)}),function(se){return se&&se!==H&&!v[se.id]});H&&(xy(H),Q.length?(Object(y.each)(Q,function(se){xy(se),fO(se)}),f=!0,uO(Fg(Q),Fg(H),E.divide,W,C,a)):cO(H,W,E.dataIndex))}).updateOneToMany(function(C,O){var E=r[O],I=E.data.getItemGraphicEl(E.dataIndex);if(!(I&&v[I.id])){var W=Object(y.filter)(Object(y.map)(C,function(Q){return i[Q].data.getItemGraphicEl(i[Q].dataIndex)}),function(Q){return Q&&Q!==I}),H=i[C[0]].data.hostModel;W.length&&(Object(y.each)(W,function(Q){return xy(Q)}),I?(xy(I),fO(I),f=!0,uO(Fg(I),Fg(W),E.divide,H,C[0],a)):Object(y.each)(W,function(Q){return cO(Q,H,C[0])}))}}).updateManyToMany(function(C,O){new Oh(O,C,function(E){return r[E].data.getId(r[E].dataIndex)},function(E){return i[E].data.getId(i[E].dataIndex)}).update(function(E,I){M(C[E],O[I])}).execute()}).execute(),f&&Object(y.each)(t,function(C){var O=C.data,E=O.hostModel,I=E&&e.getViewOfSeriesModel(E),W=ip("update",E,0);I&&E.isAnimationEnabled()&&W&&W.duration>0&&I.group.traverse(function(H){H instanceof ir&&!H.animators.length&&H.animateFrom({style:{opacity:0}},W)})})}function T3(n){var t=n.getModel("universalTransition").get("seriesKey");return t||n.id}function O3(n){return Object(y.isArray)(n)?n.sort().join(","):n}function ev(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function CY(n,t){var e=Object(y.createHashMap)(),r=Object(y.createHashMap)(),i=Object(y.createHashMap)();Object(y.each)(n.oldSeries,function(s,l){var u=n.oldData[l],f=T3(s),d=O3(f);r.set(d,u),Object(y.isArray)(f)&&Object(y.each)(f,function(h){i.set(h,{data:u,key:d})})});function a(s){e.get(s)&&w0("Duplicated seriesKey in universalTransition "+s)}return Object(y.each)(t.updatedSeries,function(s){if(s.isUniversalTransitionEnabled()&&s.isAnimationEnabled()){var l=s.getData(),u=T3(s),f=O3(u),d=r.get(f);if(d)e.set(f,{oldSeries:[{divide:ev(d),data:d}],newSeries:[{divide:ev(l),data:l}]});else if(Object(y.isArray)(u)){var h=[];Object(y.each)(u,function(b){var S=r.get(b);S&&h.push({divide:ev(S),data:S})}),h.length&&e.set(f,{oldSeries:h,newSeries:[{data:l,divide:ev(l)}]})}else{var v=i.get(u);if(v){var g=e.get(v.key);g||(g={oldSeries:[{data:v.data,divide:ev(v.data)}],newSeries:[]},e.set(v.key,g)),g.newSeries.push({data:l,divide:ev(l)})}}}}),e}function E3(n,t){for(var e=0;e<n.length;e++){var r=t.seriesIndex!=null&&t.seriesIndex===n[e].seriesIndex||t.seriesId!=null&&t.seriesId===n[e].id;if(r)return e}}function TY(n,t,e,r){var i=[],a=[];Object(y.each)(Xa(n.from),function(s){var l=E3(t.oldSeries,s);l>=0&&i.push({data:t.oldData[l],divide:ev(t.oldData[l]),dim:s.dimension})}),Object(y.each)(Xa(n.to),function(s){var l=E3(e.updatedSeries,s);if(l>=0){var u=e.updatedSeries[l].getData();a.push({data:u,divide:ev(u),dim:s.dimension})}}),i.length>0&&a.length>0&&C3(i,a,r)}function OY(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){Object(y.each)(Xa(r.seriesTransition),function(i){Object(y.each)(Xa(i.to),function(a){for(var s=r.updatedSeries,l=0;l<s.length;l++)(a.seriesIndex!=null&&a.seriesIndex===s[l].seriesIndex||a.seriesId!=null&&a.seriesId===s[l].id)&&(s[l][sg]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,r){var i=SY(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)Object(y.each)(Xa(a),function(v){TY(v,i,r,e)});else{var s=CY(i,r);Object(y.each)(s.keys(),function(v){var g=s.get(v);C3(g.oldSeries,g.newSeries,e)})}Object(y.each)(r.updatedSeries,function(v){v[sg]&&(v[sg]=!1)})}for(var l=t.getSeries(),u=i.oldSeries=[],f=i.oldData=[],d=0;d<l.length;d++){var h=l[d].getData();h.count()<M3&&(u.push(l[d]),f.push(h))}})}ea([sj]),ea([Hj]),ea([d5,P5,H5,PB,YB,VF,b4,az,Rz,Hz,qz,rH,PH,UH,u6,g6,I6,U6,r8,f8,_8,lG]),ea(LG),ea(dU),ea(CP),ea(PU),ea(XL),ea(jU),ea(KU),ea(YW),ea(g7),ea(Qb),ea(k7),ea(F7),ea(e9),ea(c9),ea(y9),ea(T9),ea(z9),ea(lK),ea(BI),ea(HI),ea(NK),ea(i3),ea(o3),ea(zK),ea(qK),ea(nY),ea(OY),ea(y2)},NK00:function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return be});var Y=D("Womt");class be extends Y.F{constructor(De){super(De);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(Ae){return new je(Ae)}),this.register(function(Ae){return new dt(Ae)}),this.register(function(Ae){return new at(Ae)}),this.register(function(Ae){return new de(Ae)}),this.register(function(Ae){return new tt(Ae)}),this.register(function(Ae){return new Z(Ae)}),this.register(function(Ae){return new Pe(Ae)}),this.register(function(Ae){return new ve(Ae)}),this.register(function(Ae){return new P(Ae)}),this.register(function(Ae){return new Pt(Ae)})}load(De,Ae,st,Xe){const ie=this;let V;this.resourcePath!==""?V=this.resourcePath:this.path!==""?V=this.path:V=Y.G.extractUrlBase(De),this.manager.itemStart(De);const B=function(Oe){Xe?Xe(Oe):console.error(Oe),ie.manager.itemError(De),ie.manager.itemEnd(De)},J=new Y.p(this.manager);J.setPath(this.path),J.setResponseType("arraybuffer"),J.setRequestHeader(this.requestHeader),J.setWithCredentials(this.withCredentials),J.load(De,function(Oe){try{ie.parse(Oe,V,function(nt){Ae(nt),ie.manager.itemEnd(De)},B)}catch(nt){B(nt)}},st,B)}setDRACOLoader(De){return this.dracoLoader=De,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(De){return this.ktx2Loader=De,this}setMeshoptDecoder(De){return this.meshoptDecoder=De,this}register(De){return this.pluginCallbacks.indexOf(De)===-1&&this.pluginCallbacks.push(De),this}unregister(De){return this.pluginCallbacks.indexOf(De)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(De),1),this}parse(De,Ae,st,Xe){let ie;const V={},B={};if(typeof De=="string")ie=De;else if(Y.G.decodeText(new Uint8Array(De,0,4))===Ft){try{V[re.KHR_BINARY_GLTF]=new he(De)}catch(ut){Xe&&Xe(ut);return}ie=V[re.KHR_BINARY_GLTF].content}else ie=Y.G.decodeText(new Uint8Array(De));const J=JSON.parse(ie);if(J.asset===void 0||J.asset.version[0]<2){Xe&&Xe(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Oe=new Sr(J,{path:Ae||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Oe.fileLoader.setRequestHeader(this.requestHeader);for(let nt=0;nt<this.pluginCallbacks.length;nt++){const ut=this.pluginCallbacks[nt](Oe);B[ut.name]=ut,V[ut.name]=!0}if(J.extensionsUsed)for(let nt=0;nt<J.extensionsUsed.length;++nt){const ut=J.extensionsUsed[nt],Jt=J.extensionsRequired||[];switch(ut){case re.KHR_MATERIALS_UNLIT:V[ut]=new X;break;case re.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:V[ut]=new Ut;break;case re.KHR_DRACO_MESH_COMPRESSION:V[ut]=new Ve(J,this.dracoLoader);break;case re.KHR_TEXTURE_TRANSFORM:V[ut]=new yt;break;case re.KHR_MESH_QUANTIZATION:V[ut]=new It;break;default:Jt.indexOf(ut)>=0&&B[ut]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ut+'".')}}Oe.setExtensions(V),Oe.setPlugins(B),Oe.parse(st,Xe)}}function F(){let wn={};return{get:function(De){return wn[De]},add:function(De,Ae){wn[De]=Ae},remove:function(De){delete wn[De]},removeAll:function(){wn={}}}}const re={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class P{constructor(De){this.parser=De,this.name=re.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const De=this.parser,Ae=this.parser.json.nodes||[];for(let st=0,Xe=Ae.length;st<Xe;st++){const ie=Ae[st];ie.extensions&&ie.extensions[this.name]&&ie.extensions[this.name].light!==void 0&&De._addNodeRef(this.cache,ie.extensions[this.name].light)}}_loadLight(De){const Ae=this.parser,st="light:"+De;let Xe=Ae.cache.get(st);if(Xe)return Xe;const ie=Ae.json,J=((ie.extensions&&ie.extensions[this.name]||{}).lights||[])[De];let Oe;const nt=new Y.l(16777215);J.color!==void 0&&nt.fromArray(J.color);const ut=J.range!==void 0?J.range:0;switch(J.type){case"directional":Oe=new Y.m(nt),Oe.target.position.set(0,0,-1),Oe.add(Oe.target);break;case"point":Oe=new Y.Z(nt),Oe.distance=ut;break;case"spot":Oe=new Y.nb(nt),Oe.distance=ut,J.spot=J.spot||{},J.spot.innerConeAngle=J.spot.innerConeAngle!==void 0?J.spot.innerConeAngle:0,J.spot.outerConeAngle=J.spot.outerConeAngle!==void 0?J.spot.outerConeAngle:Math.PI/4,Oe.angle=J.spot.outerConeAngle,Oe.penumbra=1-J.spot.innerConeAngle/J.spot.outerConeAngle,Oe.target.position.set(0,0,-1),Oe.add(Oe.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+J.type)}return Oe.position.set(0,0,0),Oe.decay=2,J.intensity!==void 0&&(Oe.intensity=J.intensity),Oe.name=Ae.createUniqueName(J.name||"light_"+De),Xe=Promise.resolve(Oe),Ae.cache.add(st,Xe),Xe}createNodeAttachment(De){const Ae=this,st=this.parser,ie=st.json.nodes[De],B=(ie.extensions&&ie.extensions[this.name]||{}).light;return B===void 0?null:this._loadLight(B).then(function(J){return st._getNodeRef(Ae.cache,B,J)})}}class X{constructor(){this.name=re.KHR_MATERIALS_UNLIT}getMaterialType(){return Y.M}extendParams(De,Ae,st){const Xe=[];De.color=new Y.l(1,1,1),De.opacity=1;const ie=Ae.pbrMetallicRoughness;if(ie){if(Array.isArray(ie.baseColorFactor)){const V=ie.baseColorFactor;De.color.fromArray(V),De.opacity=V[3]}ie.baseColorTexture!==void 0&&Xe.push(st.assignTexture(De,"map",ie.baseColorTexture))}return Promise.all(Xe)}}class je{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_CLEARCOAT}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const st=this.parser,Xe=st.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=[],V=Xe.extensions[this.name];if(V.clearcoatFactor!==void 0&&(Ae.clearcoat=V.clearcoatFactor),V.clearcoatTexture!==void 0&&ie.push(st.assignTexture(Ae,"clearcoatMap",V.clearcoatTexture)),V.clearcoatRoughnessFactor!==void 0&&(Ae.clearcoatRoughness=V.clearcoatRoughnessFactor),V.clearcoatRoughnessTexture!==void 0&&ie.push(st.assignTexture(Ae,"clearcoatRoughnessMap",V.clearcoatRoughnessTexture)),V.clearcoatNormalTexture!==void 0&&(ie.push(st.assignTexture(Ae,"clearcoatNormalMap",V.clearcoatNormalTexture)),V.clearcoatNormalTexture.scale!==void 0)){const B=V.clearcoatNormalTexture.scale;Ae.clearcoatNormalScale=new Y.ub(B,B)}return Promise.all(ie)}}class de{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_SHEEN}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const st=this.parser,Xe=st.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=[];Ae.sheenColor=new Y.l(0,0,0),Ae.sheenRoughness=0,Ae.sheen=1;const V=Xe.extensions[this.name];return V.sheenColorFactor!==void 0&&Ae.sheenColor.fromArray(V.sheenColorFactor),V.sheenRoughnessFactor!==void 0&&(Ae.sheenRoughness=V.sheenRoughnessFactor),V.sheenColorTexture!==void 0&&ie.push(st.assignTexture(Ae,"sheenColorMap",V.sheenColorTexture)),V.sheenRoughnessTexture!==void 0&&ie.push(st.assignTexture(Ae,"sheenRoughnessMap",V.sheenRoughnessTexture)),Promise.all(ie)}}class tt{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_TRANSMISSION}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const st=this.parser,Xe=st.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=[],V=Xe.extensions[this.name];return V.transmissionFactor!==void 0&&(Ae.transmission=V.transmissionFactor),V.transmissionTexture!==void 0&&ie.push(st.assignTexture(Ae,"transmissionMap",V.transmissionTexture)),Promise.all(ie)}}class Z{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_VOLUME}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const st=this.parser,Xe=st.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=[],V=Xe.extensions[this.name];Ae.thickness=V.thicknessFactor!==void 0?V.thicknessFactor:0,V.thicknessTexture!==void 0&&ie.push(st.assignTexture(Ae,"thicknessMap",V.thicknessTexture)),Ae.attenuationDistance=V.attenuationDistance||0;const B=V.attenuationColor||[1,1,1];return Ae.attenuationColor=new Y.l(B[0],B[1],B[2]),Promise.all(ie)}}class Pe{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_IOR}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const Xe=this.parser.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=Xe.extensions[this.name];return Ae.ior=ie.ior!==void 0?ie.ior:1.5,Promise.resolve()}}class ve{constructor(De){this.parser=De,this.name=re.KHR_MATERIALS_SPECULAR}getMaterialType(De){const st=this.parser.json.materials[De];return!st.extensions||!st.extensions[this.name]?null:Y.O}extendMaterialParams(De,Ae){const st=this.parser,Xe=st.json.materials[De];if(!Xe.extensions||!Xe.extensions[this.name])return Promise.resolve();const ie=[],V=Xe.extensions[this.name];Ae.specularIntensity=V.specularFactor!==void 0?V.specularFactor:1,V.specularTexture!==void 0&&ie.push(st.assignTexture(Ae,"specularIntensityMap",V.specularTexture));const B=V.specularColorFactor||[1,1,1];return Ae.specularColor=new Y.l(B[0],B[1],B[2]),V.specularColorTexture!==void 0&&ie.push(st.assignTexture(Ae,"specularColorMap",V.specularColorTexture).then(function(J){J.encoding=Y.yb})),Promise.all(ie)}}class dt{constructor(De){this.parser=De,this.name=re.KHR_TEXTURE_BASISU}loadTexture(De){const Ae=this.parser,st=Ae.json,Xe=st.textures[De];if(!Xe.extensions||!Xe.extensions[this.name])return null;const ie=Xe.extensions[this.name],V=st.images[ie.source],B=Ae.options.ktx2Loader;if(!B){if(st.extensionsRequired&&st.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return Ae.loadTextureImage(De,V,B)}}class at{constructor(De){this.parser=De,this.name=re.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(De){const Ae=this.name,st=this.parser,Xe=st.json,ie=Xe.textures[De];if(!ie.extensions||!ie.extensions[Ae])return null;const V=ie.extensions[Ae],B=Xe.images[V.source];let J=st.textureLoader;if(B.uri){const Oe=st.options.manager.getHandler(B.uri);Oe!==null&&(J=Oe)}return this.detectSupport().then(function(Oe){if(Oe)return st.loadTextureImage(De,B,J);if(Xe.extensionsRequired&&Xe.extensionsRequired.indexOf(Ae)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return st.loadTexture(De)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(De){const Ae=new Image;Ae.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",Ae.onload=Ae.onerror=function(){De(Ae.height===1)}})),this.isSupported}}class Pt{constructor(De){this.name=re.EXT_MESHOPT_COMPRESSION,this.parser=De}loadBufferView(De){const Ae=this.parser.json,st=Ae.bufferViews[De];if(st.extensions&&st.extensions[this.name]){const Xe=st.extensions[this.name],ie=this.parser.getDependency("buffer",Xe.buffer),V=this.parser.options.meshoptDecoder;if(!V||!V.supported){if(Ae.extensionsRequired&&Ae.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([ie,V.ready]).then(function(B){const J=Xe.byteOffset||0,Oe=Xe.byteLength||0,nt=Xe.count,ut=Xe.byteStride,Jt=new ArrayBuffer(nt*ut),pn=new Uint8Array(B[0],J,Oe);return V.decodeGltfBuffer(new Uint8Array(Jt),nt,ut,pn,Xe.mode,Xe.filter),Jt})}else return null}}const Ft="glTF",bt=12,Ct={JSON:1313821514,BIN:5130562};class he{constructor(De){this.name=re.KHR_BINARY_GLTF,this.content=null,this.body=null;const Ae=new DataView(De,0,bt);if(this.header={magic:Y.G.decodeText(new Uint8Array(De.slice(0,4))),version:Ae.getUint32(4,!0),length:Ae.getUint32(8,!0)},this.header.magic!==Ft)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const st=this.header.length-bt,Xe=new DataView(De,bt);let ie=0;for(;ie<st;){const V=Xe.getUint32(ie,!0);ie+=4;const B=Xe.getUint32(ie,!0);if(ie+=4,B===Ct.JSON){const J=new Uint8Array(De,bt+ie,V);this.content=Y.G.decodeText(J)}else if(B===Ct.BIN){const J=bt+ie;this.body=De.slice(J,J+V)}ie+=V}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ve{constructor(De,Ae){if(!Ae)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=re.KHR_DRACO_MESH_COMPRESSION,this.json=De,this.dracoLoader=Ae,this.dracoLoader.preload()}decodePrimitive(De,Ae){const st=this.json,Xe=this.dracoLoader,ie=De.extensions[this.name].bufferView,V=De.extensions[this.name].attributes,B={},J={},Oe={};for(const nt in V){const ut=un[nt]||nt.toLowerCase();B[ut]=V[nt]}for(const nt in De.attributes){const ut=un[nt]||nt.toLowerCase();if(V[nt]!==void 0){const Jt=st.accessors[De.attributes[nt]],pn=xt[Jt.componentType];Oe[ut]=pn,J[ut]=Jt.normalized===!0}}return Ae.getDependency("bufferView",ie).then(function(nt){return new Promise(function(ut){Xe.decodeDracoFile(nt,function(Jt){for(const pn in Jt.attributes){const hn=Jt.attributes[pn],Ln=J[pn];Ln!==void 0&&(hn.normalized=Ln)}ut(Jt)},B,Oe)})})}}class yt{constructor(){this.name=re.KHR_TEXTURE_TRANSFORM}extendTexture(De,Ae){return Ae.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),Ae.offset===void 0&&Ae.rotation===void 0&&Ae.scale===void 0||(De=De.clone(),Ae.offset!==void 0&&De.offset.fromArray(Ae.offset),Ae.rotation!==void 0&&(De.rotation=Ae.rotation),Ae.scale!==void 0&&De.repeat.fromArray(Ae.scale),De.needsUpdate=!0),De}}class Mt extends Y.P{constructor(De){super();this.isGLTFSpecularGlossinessMaterial=!0;const Ae=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),st=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),Xe=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	texelSpecular = sRGBToLinear( texelSpecular );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),ie=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),V=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),B={specular:{value:new Y.l().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=B,this.onBeforeCompile=function(J){for(const Oe in B)J.uniforms[Oe]=B[Oe];J.fragmentShader=J.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",Ae).replace("#include <metalnessmap_pars_fragment>",st).replace("#include <roughnessmap_fragment>",Xe).replace("#include <metalnessmap_fragment>",ie).replace("#include <lights_physical_fragment>",V)},Object.defineProperties(this,{specular:{get:function(){return B.specular.value},set:function(J){B.specular.value=J}},specularMap:{get:function(){return B.specularMap.value},set:function(J){B.specularMap.value=J,J?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return B.glossiness.value},set:function(J){B.glossiness.value=J}},glossinessMap:{get:function(){return B.glossinessMap.value},set:function(J){B.glossinessMap.value=J,J?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(De)}copy(De){return super.copy(De),this.specularMap=De.specularMap,this.specular.copy(De.specular),this.glossinessMap=De.glossinessMap,this.glossiness=De.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Ut{constructor(){this.name=re.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Mt}extendParams(De,Ae,st){const Xe=Ae.extensions[this.name];De.color=new Y.l(1,1,1),De.opacity=1;const ie=[];if(Array.isArray(Xe.diffuseFactor)){const V=Xe.diffuseFactor;De.color.fromArray(V),De.opacity=V[3]}if(Xe.diffuseTexture!==void 0&&ie.push(st.assignTexture(De,"map",Xe.diffuseTexture)),De.emissive=new Y.l(0,0,0),De.glossiness=Xe.glossinessFactor!==void 0?Xe.glossinessFactor:1,De.specular=new Y.l(1,1,1),Array.isArray(Xe.specularFactor)&&De.specular.fromArray(Xe.specularFactor),Xe.specularGlossinessTexture!==void 0){const V=Xe.specularGlossinessTexture;ie.push(st.assignTexture(De,"glossinessMap",V)),ie.push(st.assignTexture(De,"specularMap",V))}return Promise.all(ie)}createMaterial(De){const Ae=new Mt(De);return Ae.fog=!0,Ae.color=De.color,Ae.map=De.map===void 0?null:De.map,Ae.lightMap=null,Ae.lightMapIntensity=1,Ae.aoMap=De.aoMap===void 0?null:De.aoMap,Ae.aoMapIntensity=1,Ae.emissive=De.emissive,Ae.emissiveIntensity=1,Ae.emissiveMap=De.emissiveMap===void 0?null:De.emissiveMap,Ae.bumpMap=De.bumpMap===void 0?null:De.bumpMap,Ae.bumpScale=1,Ae.normalMap=De.normalMap===void 0?null:De.normalMap,Ae.normalMapType=Y.pb,De.normalScale&&(Ae.normalScale=De.normalScale),Ae.displacementMap=null,Ae.displacementScale=1,Ae.displacementBias=0,Ae.specularMap=De.specularMap===void 0?null:De.specularMap,Ae.specular=De.specular,Ae.glossinessMap=De.glossinessMap===void 0?null:De.glossinessMap,Ae.glossiness=De.glossiness,Ae.alphaMap=null,Ae.envMap=De.envMap===void 0?null:De.envMap,Ae.envMapIntensity=1,Ae.refractionRatio=.98,Ae}}class It{constructor(){this.name=re.KHR_MESH_QUANTIZATION}}class Yt extends Y.v{constructor(De,Ae,st,Xe){super(De,Ae,st,Xe)}copySampleValue_(De){const Ae=this.resultBuffer,st=this.sampleValues,Xe=this.valueSize,ie=De*Xe*3+Xe;for(let V=0;V!==Xe;V++)Ae[V]=st[ie+V];return Ae}}Yt.prototype.beforeStart_=Yt.prototype.copySampleValue_,Yt.prototype.afterEnd_=Yt.prototype.copySampleValue_,Yt.prototype.interpolate_=function(wn,De,Ae,st){const Xe=this.resultBuffer,ie=this.sampleValues,V=this.valueSize,B=V*2,J=V*3,Oe=st-De,nt=(Ae-De)/Oe,ut=nt*nt,Jt=ut*nt,pn=wn*J,hn=pn-J,Ln=-2*Jt+3*ut,Se=Jt-ut,Ee=1-Ln,Ue=Se-ut+nt;for(let Ie=0;Ie!==V;Ie++){const Re=ie[hn+Ie+V],Ke=ie[hn+Ie+B]*Oe,We=ie[pn+Ie+V],ht=ie[pn+Ie]*Oe;Xe[Ie]=Ee*Re+Ue*Ke+Ln*We+Se*ht}return Xe};const Gt=new Y.db;class an extends Yt{interpolate_(De,Ae,st,Xe){const ie=super.interpolate_(De,Ae,st,Xe);return Gt.fromArray(ie).normalize().toArray(ie),ie}}const et={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},xt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},mt={9728:Y.R,9729:Y.C,9984:Y.T,9985:Y.E,9986:Y.S,9987:Y.D},Kt={33071:Y.j,33648:Y.Q,10497:Y.gb},$t={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},un={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Sn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},on={CUBICSPLINE:void 0,LINEAR:Y.x,STEP:Y.w},zt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function en(wn){return wn.DefaultMaterial===void 0&&(wn.DefaultMaterial=new Y.P({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Y.q})),wn.DefaultMaterial}function y(wn,De,Ae){for(const st in Ae.extensions)wn[st]===void 0&&(De.userData.gltfExtensions=De.userData.gltfExtensions||{},De.userData.gltfExtensions[st]=Ae.extensions[st])}function _n(wn,De){De.extras!==void 0&&(typeof De.extras=="object"?Object.assign(wn.userData,De.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+De.extras))}function An(wn,De,Ae){let st=!1,Xe=!1;for(let B=0,J=De.length;B<J;B++){const Oe=De[B];if(Oe.POSITION!==void 0&&(st=!0),Oe.NORMAL!==void 0&&(Xe=!0),st&&Xe)break}if(!st&&!Xe)return Promise.resolve(wn);const ie=[],V=[];for(let B=0,J=De.length;B<J;B++){const Oe=De[B];if(st){const nt=Oe.POSITION!==void 0?Ae.getDependency("accessor",Oe.POSITION):wn.attributes.position;ie.push(nt)}if(Xe){const nt=Oe.NORMAL!==void 0?Ae.getDependency("accessor",Oe.NORMAL):wn.attributes.normal;V.push(nt)}}return Promise.all([Promise.all(ie),Promise.all(V)]).then(function(B){const J=B[0],Oe=B[1];return st&&(wn.morphAttributes.position=J),Xe&&(wn.morphAttributes.normal=Oe),wn.morphTargetsRelative=!0,wn})}function Fn(wn,De){if(wn.updateMorphTargets(),De.weights!==void 0)for(let Ae=0,st=De.weights.length;Ae<st;Ae++)wn.morphTargetInfluences[Ae]=De.weights[Ae];if(De.extras&&Array.isArray(De.extras.targetNames)){const Ae=De.extras.targetNames;if(wn.morphTargetInfluences.length===Ae.length){wn.morphTargetDictionary={};for(let st=0,Xe=Ae.length;st<Xe;st++)wn.morphTargetDictionary[Ae[st]]=st}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Wn(wn){const De=wn.extensions&&wn.extensions[re.KHR_DRACO_MESH_COMPRESSION];let Ae;return De?Ae="draco:"+De.bufferView+":"+De.indices+":"+zn(De.attributes):Ae=wn.indices+":"+zn(wn.attributes)+":"+wn.mode,Ae}function zn(wn){let De="";const Ae=Object.keys(wn).sort();for(let st=0,Xe=Ae.length;st<Xe;st++)De+=Ae[st]+":"+wn[Ae[st]]+";";return De}function or(wn){switch(wn){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Sr{constructor(De={},Ae={}){this.json=De,this.extensions={},this.plugins={},this.options=Ae,this.cache=new F,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox/.test(navigator.userAgent)===!1?this.textureLoader=new Y.s(this.options.manager):this.textureLoader=new Y.rb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Y.p(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(De){this.extensions=De}setPlugins(De){this.plugins=De}parse(De,Ae){const st=this,Xe=this.json,ie=this.extensions;this.cache.removeAll(),this._invokeAll(function(V){return V._markDefs&&V._markDefs()}),Promise.all(this._invokeAll(function(V){return V.beforeRoot&&V.beforeRoot()})).then(function(){return Promise.all([st.getDependencies("scene"),st.getDependencies("animation"),st.getDependencies("camera")])}).then(function(V){const B={scene:V[0][Xe.scene||0],scenes:V[0],animations:V[1],cameras:V[2],asset:Xe.asset,parser:st,userData:{}};y(ie,B,Xe),_n(B,Xe),Promise.all(st._invokeAll(function(J){return J.afterRoot&&J.afterRoot(B)})).then(function(){De(B)})}).catch(Ae)}_markDefs(){const De=this.json.nodes||[],Ae=this.json.skins||[],st=this.json.meshes||[];for(let Xe=0,ie=Ae.length;Xe<ie;Xe++){const V=Ae[Xe].joints;for(let B=0,J=V.length;B<J;B++)De[V[B]].isBone=!0}for(let Xe=0,ie=De.length;Xe<ie;Xe++){const V=De[Xe];V.mesh!==void 0&&(this._addNodeRef(this.meshCache,V.mesh),V.skin!==void 0&&(st[V.mesh].isSkinnedMesh=!0)),V.camera!==void 0&&this._addNodeRef(this.cameraCache,V.camera)}}_addNodeRef(De,Ae){Ae!==void 0&&(De.refs[Ae]===void 0&&(De.refs[Ae]=De.uses[Ae]=0),De.refs[Ae]++)}_getNodeRef(De,Ae,st){if(De.refs[Ae]<=1)return st;const Xe=st.clone(),ie=(V,B)=>{const J=this.associations.get(V);J!=null&&this.associations.set(B,J);for(const[Oe,nt]of V.children.entries())ie(nt,B.children[Oe])};return ie(st,Xe),Xe.name+="_instance_"+De.uses[Ae]++,Xe}_invokeOne(De){const Ae=Object.values(this.plugins);Ae.push(this);for(let st=0;st<Ae.length;st++){const Xe=De(Ae[st]);if(Xe)return Xe}return null}_invokeAll(De){const Ae=Object.values(this.plugins);Ae.unshift(this);const st=[];for(let Xe=0;Xe<Ae.length;Xe++){const ie=De(Ae[Xe]);ie&&st.push(ie)}return st}getDependency(De,Ae){const st=De+":"+Ae;let Xe=this.cache.get(st);if(!Xe){switch(De){case"scene":Xe=this.loadScene(Ae);break;case"node":Xe=this.loadNode(Ae);break;case"mesh":Xe=this._invokeOne(function(ie){return ie.loadMesh&&ie.loadMesh(Ae)});break;case"accessor":Xe=this.loadAccessor(Ae);break;case"bufferView":Xe=this._invokeOne(function(ie){return ie.loadBufferView&&ie.loadBufferView(Ae)});break;case"buffer":Xe=this.loadBuffer(Ae);break;case"material":Xe=this._invokeOne(function(ie){return ie.loadMaterial&&ie.loadMaterial(Ae)});break;case"texture":Xe=this._invokeOne(function(ie){return ie.loadTexture&&ie.loadTexture(Ae)});break;case"skin":Xe=this.loadSkin(Ae);break;case"animation":Xe=this.loadAnimation(Ae);break;case"camera":Xe=this.loadCamera(Ae);break;default:throw new Error("Unknown type: "+De)}this.cache.add(st,Xe)}return Xe}getDependencies(De){let Ae=this.cache.get(De);if(!Ae){const st=this,Xe=this.json[De+(De==="mesh"?"es":"s")]||[];Ae=Promise.all(Xe.map(function(ie,V){return st.getDependency(De,V)})),this.cache.add(De,Ae)}return Ae}loadBuffer(De){const Ae=this.json.buffers[De],st=this.fileLoader;if(Ae.type&&Ae.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+Ae.type+" buffer type is not supported.");if(Ae.uri===void 0&&De===0)return Promise.resolve(this.extensions[re.KHR_BINARY_GLTF].body);const Xe=this.options;return new Promise(function(ie,V){st.load(Y.G.resolveURL(Ae.uri,Xe.path),ie,void 0,function(){V(new Error('THREE.GLTFLoader: Failed to load buffer "'+Ae.uri+'".'))})})}loadBufferView(De){const Ae=this.json.bufferViews[De];return this.getDependency("buffer",Ae.buffer).then(function(st){const Xe=Ae.byteLength||0,ie=Ae.byteOffset||0;return st.slice(ie,ie+Xe)})}loadAccessor(De){const Ae=this,st=this.json,Xe=this.json.accessors[De];if(Xe.bufferView===void 0&&Xe.sparse===void 0)return Promise.resolve(null);const ie=[];return Xe.bufferView!==void 0?ie.push(this.getDependency("bufferView",Xe.bufferView)):ie.push(null),Xe.sparse!==void 0&&(ie.push(this.getDependency("bufferView",Xe.sparse.indices.bufferView)),ie.push(this.getDependency("bufferView",Xe.sparse.values.bufferView))),Promise.all(ie).then(function(V){const B=V[0],J=$t[Xe.type],Oe=xt[Xe.componentType],nt=Oe.BYTES_PER_ELEMENT,ut=nt*J,Jt=Xe.byteOffset||0,pn=Xe.bufferView!==void 0?st.bufferViews[Xe.bufferView].byteStride:void 0,hn=Xe.normalized===!0;let Ln,Se;if(pn&&pn!==ut){const Ee=Math.floor(Jt/pn),Ue="InterleavedBuffer:"+Xe.bufferView+":"+Xe.componentType+":"+Ee+":"+Xe.count;let Ie=Ae.cache.get(Ue);Ie||(Ln=new Oe(B,Ee*pn,Xe.count*pn/nt),Ie=new Y.t(Ln,pn/nt),Ae.cache.add(Ue,Ie)),Se=new Y.u(Ie,J,Jt%pn/nt,hn)}else B===null?Ln=new Oe(Xe.count*J):Ln=new Oe(B,Jt,Xe.count*J),Se=new Y.g(Ln,J,hn);if(Xe.sparse!==void 0){const Ee=$t.SCALAR,Ue=xt[Xe.sparse.indices.componentType],Ie=Xe.sparse.indices.byteOffset||0,Re=Xe.sparse.values.byteOffset||0,Ke=new Ue(V[1],Ie,Xe.sparse.count*Ee),We=new Oe(V[2],Re,Xe.sparse.count*J);B!==null&&(Se=new Y.g(Se.array.slice(),Se.itemSize,Se.normalized));for(let ht=0,ot=Ke.length;ht<ot;ht++){const oe=Ke[ht];if(Se.setX(oe,We[ht*J]),J>=2&&Se.setY(oe,We[ht*J+1]),J>=3&&Se.setZ(oe,We[ht*J+2]),J>=4&&Se.setW(oe,We[ht*J+3]),J>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return Se})}loadTexture(De){const Ae=this.json,st=this.options,Xe=Ae.textures[De],ie=Ae.images[Xe.source];let V=this.textureLoader;if(ie.uri){const B=st.manager.getHandler(ie.uri);B!==null&&(V=B)}return this.loadTextureImage(De,ie,V)}loadTextureImage(De,Ae,st){const Xe=this,ie=this.json,V=this.options,B=ie.textures[De],J=(Ae.uri||Ae.bufferView)+":"+B.sampler;if(this.textureCache[J])return this.textureCache[J];const Oe=self.URL||self.webkitURL;let nt=Ae.uri||"",ut=!1;if(Ae.bufferView!==void 0)nt=Xe.getDependency("bufferView",Ae.bufferView).then(function(pn){ut=!0;const hn=new Blob([pn],{type:Ae.mimeType});return nt=Oe.createObjectURL(hn),nt});else if(Ae.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+De+" is missing URI and bufferView");const Jt=Promise.resolve(nt).then(function(pn){return new Promise(function(hn,Ln){let Se=hn;st.isImageBitmapLoader===!0&&(Se=function(Ee){const Ue=new Y.qb(Ee);Ue.needsUpdate=!0,hn(Ue)}),st.load(Y.G.resolveURL(pn,V.path),Se,void 0,Ln)})}).then(function(pn){ut===!0&&Oe.revokeObjectURL(nt),pn.flipY=!1,B.name&&(pn.name=B.name);const Ln=(ie.samplers||{})[B.sampler]||{};return pn.magFilter=mt[Ln.magFilter]||Y.C,pn.minFilter=mt[Ln.minFilter]||Y.D,pn.wrapS=Kt[Ln.wrapS]||Y.gb,pn.wrapT=Kt[Ln.wrapT]||Y.gb,Xe.associations.set(pn,{textures:De}),pn}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",nt),null});return this.textureCache[J]=Jt,Jt}assignTexture(De,Ae,st){const Xe=this;return this.getDependency("texture",st.index).then(function(ie){if(st.texCoord!==void 0&&st.texCoord!=0&&!(Ae==="aoMap"&&st.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+st.texCoord+" for texture "+Ae+" not yet supported."),Xe.extensions[re.KHR_TEXTURE_TRANSFORM]){const V=st.extensions!==void 0?st.extensions[re.KHR_TEXTURE_TRANSFORM]:void 0;if(V){const B=Xe.associations.get(ie);ie=Xe.extensions[re.KHR_TEXTURE_TRANSFORM].extendTexture(ie,V),Xe.associations.set(ie,B)}}return De[Ae]=ie,ie})}assignFinalMaterial(De){const Ae=De.geometry;let st=De.material;const Xe=Ae.attributes.tangent===void 0,ie=Ae.attributes.color!==void 0,V=Ae.attributes.normal===void 0;if(De.isPoints){const B="PointsMaterial:"+st.uuid;let J=this.cache.get(B);J||(J=new Y.bb,Y.I.prototype.copy.call(J,st),J.color.copy(st.color),J.map=st.map,J.sizeAttenuation=!1,this.cache.add(B,J)),st=J}else if(De.isLine){const B="LineBasicMaterial:"+st.uuid;let J=this.cache.get(B);J||(J=new Y.z,Y.I.prototype.copy.call(J,st),J.color.copy(st.color),this.cache.add(B,J)),st=J}if(Xe||ie||V){let B="ClonedMaterial:"+st.uuid+":";st.isGLTFSpecularGlossinessMaterial&&(B+="specular-glossiness:"),Xe&&(B+="derivative-tangents:"),ie&&(B+="vertex-colors:"),V&&(B+="flat-shading:");let J=this.cache.get(B);J||(J=st.clone(),ie&&(J.vertexColors=!0),V&&(J.flatShading=!0),Xe&&(J.normalScale&&(J.normalScale.y*=-1),J.clearcoatNormalScale&&(J.clearcoatNormalScale.y*=-1)),this.cache.add(B,J),this.associations.set(J,this.associations.get(st))),st=J}st.aoMap&&Ae.attributes.uv2===void 0&&Ae.attributes.uv!==void 0&&Ae.setAttribute("uv2",Ae.attributes.uv),De.material=st}getMaterialType(){return Y.P}loadMaterial(De){const Ae=this,st=this.json,Xe=this.extensions,ie=st.materials[De];let V;const B={},J=ie.extensions||{},Oe=[];if(J[re.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const ut=Xe[re.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];V=ut.getMaterialType(),Oe.push(ut.extendParams(B,ie,Ae))}else if(J[re.KHR_MATERIALS_UNLIT]){const ut=Xe[re.KHR_MATERIALS_UNLIT];V=ut.getMaterialType(),Oe.push(ut.extendParams(B,ie,Ae))}else{const ut=ie.pbrMetallicRoughness||{};if(B.color=new Y.l(1,1,1),B.opacity=1,Array.isArray(ut.baseColorFactor)){const Jt=ut.baseColorFactor;B.color.fromArray(Jt),B.opacity=Jt[3]}ut.baseColorTexture!==void 0&&Oe.push(Ae.assignTexture(B,"map",ut.baseColorTexture)),B.metalness=ut.metallicFactor!==void 0?ut.metallicFactor:1,B.roughness=ut.roughnessFactor!==void 0?ut.roughnessFactor:1,ut.metallicRoughnessTexture!==void 0&&(Oe.push(Ae.assignTexture(B,"metalnessMap",ut.metallicRoughnessTexture)),Oe.push(Ae.assignTexture(B,"roughnessMap",ut.metallicRoughnessTexture))),V=this._invokeOne(function(Jt){return Jt.getMaterialType&&Jt.getMaterialType(De)}),Oe.push(Promise.all(this._invokeAll(function(Jt){return Jt.extendMaterialParams&&Jt.extendMaterialParams(De,B)})))}ie.doubleSided===!0&&(B.side=Y.n);const nt=ie.alphaMode||zt.OPAQUE;if(nt===zt.BLEND?(B.transparent=!0,B.depthWrite=!1):(B.format=Y.fb,B.transparent=!1,nt===zt.MASK&&(B.alphaTest=ie.alphaCutoff!==void 0?ie.alphaCutoff:.5)),ie.normalTexture!==void 0&&V!==Y.M&&(Oe.push(Ae.assignTexture(B,"normalMap",ie.normalTexture)),B.normalScale=new Y.ub(1,1),ie.normalTexture.scale!==void 0)){const ut=ie.normalTexture.scale;B.normalScale.set(ut,ut)}return ie.occlusionTexture!==void 0&&V!==Y.M&&(Oe.push(Ae.assignTexture(B,"aoMap",ie.occlusionTexture)),ie.occlusionTexture.strength!==void 0&&(B.aoMapIntensity=ie.occlusionTexture.strength)),ie.emissiveFactor!==void 0&&V!==Y.M&&(B.emissive=new Y.l().fromArray(ie.emissiveFactor)),ie.emissiveTexture!==void 0&&V!==Y.M&&Oe.push(Ae.assignTexture(B,"emissiveMap",ie.emissiveTexture)),Promise.all(Oe).then(function(){let ut;return V===Mt?ut=Xe[re.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(B):ut=new V(B),ie.name&&(ut.name=ie.name),ut.map&&(ut.map.encoding=Y.yb),ut.emissiveMap&&(ut.emissiveMap.encoding=Y.yb),_n(ut,ie),Ae.associations.set(ut,{materials:De}),ie.extensions&&y(Xe,ut,ie),ut})}createUniqueName(De){const Ae=Y.cb.sanitizeNodeName(De||"");let st=Ae;for(let Xe=1;this.nodeNamesUsed[st];++Xe)st=Ae+"_"+Xe;return this.nodeNamesUsed[st]=!0,st}loadGeometries(De){const Ae=this,st=this.extensions,Xe=this.primitiveCache;function ie(B){return st[re.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(B,Ae).then(function(J){return jr(J,B,Ae)})}const V=[];for(let B=0,J=De.length;B<J;B++){const Oe=De[B],nt=Wn(Oe),ut=Xe[nt];if(ut)V.push(ut.promise);else{let Jt;Oe.extensions&&Oe.extensions[re.KHR_DRACO_MESH_COMPRESSION]?Jt=ie(Oe):Jt=jr(new Y.h,Oe,Ae),Xe[nt]={primitive:Oe,promise:Jt},V.push(Jt)}}return Promise.all(V)}loadMesh(De){const Ae=this,st=this.json,Xe=this.extensions,ie=st.meshes[De],V=ie.primitives,B=[];for(let J=0,Oe=V.length;J<Oe;J++){const nt=V[J].material===void 0?en(this.cache):this.getDependency("material",V[J].material);B.push(nt)}return B.push(Ae.loadGeometries(V)),Promise.all(B).then(function(J){const Oe=J.slice(0,J.length-1),nt=J[J.length-1],ut=[];for(let pn=0,hn=nt.length;pn<hn;pn++){const Ln=nt[pn],Se=V[pn];let Ee;const Ue=Oe[pn];if(Se.mode===et.TRIANGLES||Se.mode===et.TRIANGLE_STRIP||Se.mode===et.TRIANGLE_FAN||Se.mode===void 0)Ee=ie.isSkinnedMesh===!0?new Y.kb(Ln,Ue):new Y.L(Ln,Ue),Ee.isSkinnedMesh===!0&&!Ee.geometry.attributes.skinWeight.normalized&&Ee.normalizeSkinWeights(),Se.mode===et.TRIANGLE_STRIP?Ee.geometry=Mi(Ee.geometry,Y.tb):Se.mode===et.TRIANGLE_FAN&&(Ee.geometry=Mi(Ee.geometry,Y.sb));else if(Se.mode===et.LINES)Ee=new Y.B(Ln,Ue);else if(Se.mode===et.LINE_STRIP)Ee=new Y.y(Ln,Ue);else if(Se.mode===et.LINE_LOOP)Ee=new Y.A(Ln,Ue);else if(Se.mode===et.POINTS)Ee=new Y.ab(Ln,Ue);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Se.mode);Object.keys(Ee.geometry.morphAttributes).length>0&&Fn(Ee,ie),Ee.name=Ae.createUniqueName(ie.name||"mesh_"+De),_n(Ee,ie),Se.extensions&&y(Xe,Ee,Se),Ae.assignFinalMaterial(Ee),ut.push(Ee)}for(let pn=0,hn=ut.length;pn<hn;pn++)Ae.associations.set(ut[pn],{meshes:De,primitives:pn});if(ut.length===1)return ut[0];const Jt=new Y.r;Ae.associations.set(Jt,{meshes:De});for(let pn=0,hn=ut.length;pn<hn;pn++)Jt.add(ut[pn]);return Jt})}loadCamera(De){let Ae;const st=this.json.cameras[De],Xe=st[st.type];if(!Xe){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return st.type==="perspective"?Ae=new Y.Y(Y.J.radToDeg(Xe.yfov),Xe.aspectRatio||1,Xe.znear||1,Xe.zfar||2e6):st.type==="orthographic"&&(Ae=new Y.X(-Xe.xmag,Xe.xmag,Xe.ymag,-Xe.ymag,Xe.znear,Xe.zfar)),st.name&&(Ae.name=this.createUniqueName(st.name)),_n(Ae,st),Promise.resolve(Ae)}loadSkin(De){const Ae=this.json.skins[De],st={joints:Ae.joints};return Ae.inverseBindMatrices===void 0?Promise.resolve(st):this.getDependency("accessor",Ae.inverseBindMatrices).then(function(Xe){return st.inverseBindMatrices=Xe,st})}loadAnimation(De){const st=this.json.animations[De],Xe=[],ie=[],V=[],B=[],J=[];for(let Oe=0,nt=st.channels.length;Oe<nt;Oe++){const ut=st.channels[Oe],Jt=st.samplers[ut.sampler],pn=ut.target,hn=pn.node!==void 0?pn.node:pn.id,Ln=st.parameters!==void 0?st.parameters[Jt.input]:Jt.input,Se=st.parameters!==void 0?st.parameters[Jt.output]:Jt.output;Xe.push(this.getDependency("node",hn)),ie.push(this.getDependency("accessor",Ln)),V.push(this.getDependency("accessor",Se)),B.push(Jt),J.push(pn)}return Promise.all([Promise.all(Xe),Promise.all(ie),Promise.all(V),Promise.all(B),Promise.all(J)]).then(function(Oe){const nt=Oe[0],ut=Oe[1],Jt=Oe[2],pn=Oe[3],hn=Oe[4],Ln=[];for(let Ee=0,Ue=nt.length;Ee<Ue;Ee++){const Ie=nt[Ee],Re=ut[Ee],Ke=Jt[Ee],We=pn[Ee],ht=hn[Ee];if(Ie===void 0)continue;Ie.updateMatrix(),Ie.matrixAutoUpdate=!0;let ot;switch(Sn[ht.path]){case Sn.weights:ot=Y.V;break;case Sn.rotation:ot=Y.eb;break;case Sn.position:case Sn.scale:default:ot=Y.wb;break}const oe=Ie.name?Ie.name:Ie.uuid,ue=We.interpolation!==void 0?on[We.interpolation]:Y.x,$e=[];Sn[ht.path]===Sn.weights?Ie.traverse(function(Ce){Ce.isMesh===!0&&Ce.morphTargetInfluences&&$e.push(Ce.name?Ce.name:Ce.uuid)}):$e.push(oe);let k=Ke.array;if(Ke.normalized){const Ce=or(k.constructor),ge=new Float32Array(k.length);for(let we=0,ct=k.length;we<ct;we++)ge[we]=k[we]*Ce;k=ge}for(let Ce=0,ge=$e.length;Ce<ge;Ce++){const we=new ot($e[Ce]+"."+Sn[ht.path],Re.array,k,ue);We.interpolation==="CUBICSPLINE"&&(we.createInterpolant=function(Rt){const Wt=this instanceof Y.eb?an:Yt;return new Wt(this.times,this.values,this.getValueSize()/3,Rt)},we.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),Ln.push(we)}}const Se=st.name?st.name:"animation_"+De;return new Y.b(Se,void 0,Ln)})}createNodeMesh(De){const Ae=this.json,st=this,Xe=Ae.nodes[De];return Xe.mesh===void 0?null:st.getDependency("mesh",Xe.mesh).then(function(ie){const V=st._getNodeRef(st.meshCache,Xe.mesh,ie);return Xe.weights!==void 0&&V.traverse(function(B){if(!!B.isMesh)for(let J=0,Oe=Xe.weights.length;J<Oe;J++)B.morphTargetInfluences[J]=Xe.weights[J]}),V})}loadNode(De){const Ae=this.json,st=this.extensions,Xe=this,ie=Ae.nodes[De],V=ie.name?Xe.createUniqueName(ie.name):"";return function(){const B=[],J=Xe._invokeOne(function(Oe){return Oe.createNodeMesh&&Oe.createNodeMesh(De)});return J&&B.push(J),ie.camera!==void 0&&B.push(Xe.getDependency("camera",ie.camera).then(function(Oe){return Xe._getNodeRef(Xe.cameraCache,ie.camera,Oe)})),Xe._invokeAll(function(Oe){return Oe.createNodeAttachment&&Oe.createNodeAttachment(De)}).forEach(function(Oe){B.push(Oe)}),Promise.all(B)}().then(function(B){let J;if(ie.isBone===!0?J=new Y.e:B.length>1?J=new Y.r:B.length===1?J=B[0]:J=new Y.W,J!==B[0])for(let Oe=0,nt=B.length;Oe<nt;Oe++)J.add(B[Oe]);if(ie.name&&(J.userData.name=ie.name,J.name=V),_n(J,ie),ie.extensions&&y(st,J,ie),ie.matrix!==void 0){const Oe=new Y.K;Oe.fromArray(ie.matrix),J.applyMatrix4(Oe)}else ie.translation!==void 0&&J.position.fromArray(ie.translation),ie.rotation!==void 0&&J.quaternion.fromArray(ie.rotation),ie.scale!==void 0&&J.scale.fromArray(ie.scale);return Xe.associations.has(J)||Xe.associations.set(J,{}),Xe.associations.get(J).nodes=De,J})}loadScene(De){const Ae=this.json,st=this.extensions,Xe=this.json.scenes[De],ie=this,V=new Y.r;Xe.name&&(V.name=ie.createUniqueName(Xe.name)),_n(V,Xe),Xe.extensions&&y(st,V,Xe);const B=Xe.nodes||[],J=[];for(let Oe=0,nt=B.length;Oe<nt;Oe++)J.push(pr(B[Oe],V,Ae,ie));return Promise.all(J).then(function(){const Oe=nt=>{const ut=new Map;for(const[Jt,pn]of ie.associations)(Jt instanceof Y.I||Jt instanceof Y.qb)&&ut.set(Jt,pn);return nt.traverse(Jt=>{const pn=ie.associations.get(Jt);pn!=null&&ut.set(Jt,pn)}),ut};return ie.associations=Oe(V),V})}}function pr(wn,De,Ae,st){const Xe=Ae.nodes[wn];return st.getDependency("node",wn).then(function(ie){if(Xe.skin===void 0)return ie;let V;return st.getDependency("skin",Xe.skin).then(function(B){V=B;const J=[];for(let Oe=0,nt=V.joints.length;Oe<nt;Oe++)J.push(st.getDependency("node",V.joints[Oe]));return Promise.all(J)}).then(function(B){return ie.traverse(function(J){if(!J.isMesh)return;const Oe=[],nt=[];for(let ut=0,Jt=B.length;ut<Jt;ut++){const pn=B[ut];if(pn){Oe.push(pn);const hn=new Y.K;V.inverseBindMatrices!==void 0&&hn.fromArray(V.inverseBindMatrices.array,ut*16),nt.push(hn)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',V.joints[ut])}J.bind(new Y.jb(Oe,nt),J.matrixWorld)}),ie})}).then(function(ie){De.add(ie);const V=[];if(Xe.children){const B=Xe.children;for(let J=0,Oe=B.length;J<Oe;J++){const nt=B[J];V.push(pr(nt,ie,Ae,st))}}return Promise.all(V)})}function Jr(wn,De,Ae){const st=De.attributes,Xe=new Y.f;if(st.POSITION!==void 0){const B=Ae.json.accessors[st.POSITION],J=B.min,Oe=B.max;if(J!==void 0&&Oe!==void 0){if(Xe.set(new Y.vb(J[0],J[1],J[2]),new Y.vb(Oe[0],Oe[1],Oe[2])),B.normalized){const nt=or(xt[B.componentType]);Xe.min.multiplyScalar(nt),Xe.max.multiplyScalar(nt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const ie=De.targets;if(ie!==void 0){const B=new Y.vb,J=new Y.vb;for(let Oe=0,nt=ie.length;Oe<nt;Oe++){const ut=ie[Oe];if(ut.POSITION!==void 0){const Jt=Ae.json.accessors[ut.POSITION],pn=Jt.min,hn=Jt.max;if(pn!==void 0&&hn!==void 0){if(J.setX(Math.max(Math.abs(pn[0]),Math.abs(hn[0]))),J.setY(Math.max(Math.abs(pn[1]),Math.abs(hn[1]))),J.setZ(Math.max(Math.abs(pn[2]),Math.abs(hn[2]))),Jt.normalized){const Ln=or(xt[Jt.componentType]);J.multiplyScalar(Ln)}B.max(J)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}Xe.expandByVector(B)}wn.boundingBox=Xe;const V=new Y.lb;Xe.getCenter(V.center),V.radius=Xe.min.distanceTo(Xe.max)/2,wn.boundingSphere=V}function jr(wn,De,Ae){const st=De.attributes,Xe=[];function ie(V,B){return Ae.getDependency("accessor",V).then(function(J){wn.setAttribute(B,J)})}for(const V in st){const B=un[V]||V.toLowerCase();B in wn.attributes||Xe.push(ie(st[V],B))}if(De.indices!==void 0&&!wn.index){const V=Ae.getDependency("accessor",De.indices).then(function(B){wn.setIndex(B)});Xe.push(V)}return _n(wn,De),Jr(wn,De,Ae),Promise.all(Xe).then(function(){return De.targets!==void 0?An(wn,De.targets,Ae):wn})}function Mi(wn,De){let Ae=wn.getIndex();if(Ae===null){const V=[],B=wn.getAttribute("position");if(B!==void 0){for(let J=0;J<B.count;J++)V.push(J);wn.setIndex(V),Ae=wn.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),wn}const st=Ae.count-2,Xe=[];if(De===Y.sb)for(let V=1;V<=st;V++)Xe.push(Ae.getX(0)),Xe.push(Ae.getX(V)),Xe.push(Ae.getX(V+1));else for(let V=0;V<st;V++)V%2==0?(Xe.push(Ae.getX(V)),Xe.push(Ae.getX(V+1)),Xe.push(Ae.getX(V+2))):(Xe.push(Ae.getX(V+2)),Xe.push(Ae.getX(V+1)),Xe.push(Ae.getX(V)));Xe.length/3!==st&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const ie=wn.clone();return ie.setIndex(Xe),ie}},OaEy:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("bKJz"),re=D.n(F),P=D("R9oj")},OnYD:function(Cr,Ne,D){},PArb:function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("rePB"),F=D("q1tI"),re=D.n(F),P=D("TSYQ"),X=D.n(P),je=D("H84U"),de=function(Z,Pe){var ve={};for(var dt in Z)Object.prototype.hasOwnProperty.call(Z,dt)&&Pe.indexOf(dt)<0&&(ve[dt]=Z[dt]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,dt=Object.getOwnPropertySymbols(Z);at<dt.length;at++)Pe.indexOf(dt[at])<0&&Object.prototype.propertyIsEnumerable.call(Z,dt[at])&&(ve[dt[at]]=Z[dt[at]]);return ve},tt=function(Pe){return F.createElement(je.a,null,function(ve){var dt,at=ve.getPrefixCls,Pt=ve.direction,Ft=Pe.prefixCls,bt=Pe.type,Ct=bt===void 0?"horizontal":bt,he=Pe.orientation,Ve=he===void 0?"center":he,yt=Pe.orientationMargin,Mt=Pe.className,Ut=Pe.children,It=Pe.dashed,Yt=Pe.plain,Gt=de(Pe,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),an=at("divider",Ft),et=Ve.length>0?"-".concat(Ve):Ve,xt=!!Ut,mt=Ve==="left"&&yt!=null,Kt=Ve==="right"&&yt!=null,$t=X()(an,"".concat(an,"-").concat(Ct),(dt={},Object(be.a)(dt,"".concat(an,"-with-text"),xt),Object(be.a)(dt,"".concat(an,"-with-text").concat(et),xt),Object(be.a)(dt,"".concat(an,"-dashed"),!!It),Object(be.a)(dt,"".concat(an,"-plain"),!!Yt),Object(be.a)(dt,"".concat(an,"-rtl"),Pt==="rtl"),Object(be.a)(dt,"".concat(an,"-no-default-orientation-margin-left"),mt),Object(be.a)(dt,"".concat(an,"-no-default-orientation-margin-right"),Kt),dt),Mt),un=Object(Y.a)(Object(Y.a)({},mt&&{marginLeft:yt}),Kt&&{marginRight:yt});return F.createElement("div",Object(Y.a)({className:$t},Gt,{role:"separator"}),Ut&&F.createElement("span",{className:"".concat(an,"-inner-text"),style:un},Ut))})};Ne.a=tt},PQMj:function(Cr,Ne,D){},Qe9p:function(Cr,Ne,D){"use strict";D.r(Ne),D.d(Ne,"parse",function(){return Pt}),D.d(Ne,"lift",function(){return Ct}),D.d(Ne,"toHex",function(){return he}),D.d(Ne,"fastLerp",function(){return Ve}),D.d(Ne,"fastMapToColor",function(){return yt}),D.d(Ne,"lerp",function(){return Mt}),D.d(Ne,"mapToColor",function(){return Ut}),D.d(Ne,"modifyHSL",function(){return It}),D.d(Ne,"modifyAlpha",function(){return Yt}),D.d(Ne,"stringify",function(){return Gt}),D.d(Ne,"lum",function(){return an}),D.d(Ne,"random",function(){return et});var Y=D("1RvN"),be={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function F(xt){return xt=Math.round(xt),xt<0?0:xt>255?255:xt}function re(xt){return xt=Math.round(xt),xt<0?0:xt>360?360:xt}function P(xt){return xt<0?0:xt>1?1:xt}function X(xt){var mt=xt;return mt.length&&mt.charAt(mt.length-1)==="%"?F(parseFloat(mt)/100*255):F(parseInt(mt,10))}function je(xt){var mt=xt;return mt.length&&mt.charAt(mt.length-1)==="%"?P(parseFloat(mt)/100):P(parseFloat(mt))}function de(xt,mt,Kt){return Kt<0?Kt+=1:Kt>1&&(Kt-=1),Kt*6<1?xt+(mt-xt)*Kt*6:Kt*2<1?mt:Kt*3<2?xt+(mt-xt)*(2/3-Kt)*6:xt}function tt(xt,mt,Kt){return xt+(mt-xt)*Kt}function Z(xt,mt,Kt,$t,un){return xt[0]=mt,xt[1]=Kt,xt[2]=$t,xt[3]=un,xt}function Pe(xt,mt){return xt[0]=mt[0],xt[1]=mt[1],xt[2]=mt[2],xt[3]=mt[3],xt}var ve=new Y.a(20),dt=null;function at(xt,mt){dt&&Pe(dt,mt),dt=ve.put(xt,dt||mt.slice())}function Pt(xt,mt){if(!!xt){mt=mt||[];var Kt=ve.get(xt);if(Kt)return Pe(mt,Kt);xt=xt+"";var $t=xt.replace(/ /g,"").toLowerCase();if($t in be)return Pe(mt,be[$t]),at(xt,mt),mt;var un=$t.length;if($t.charAt(0)==="#"){if(un===4||un===5){var Sn=parseInt($t.slice(1,4),16);if(!(Sn>=0&&Sn<=4095)){Z(mt,0,0,0,1);return}return Z(mt,(Sn&3840)>>4|(Sn&3840)>>8,Sn&240|(Sn&240)>>4,Sn&15|(Sn&15)<<4,un===5?parseInt($t.slice(4),16)/15:1),at(xt,mt),mt}else if(un===7||un===9){var Sn=parseInt($t.slice(1,7),16);if(!(Sn>=0&&Sn<=16777215)){Z(mt,0,0,0,1);return}return Z(mt,(Sn&16711680)>>16,(Sn&65280)>>8,Sn&255,un===9?parseInt($t.slice(7),16)/255:1),at(xt,mt),mt}return}var on=$t.indexOf("("),zt=$t.indexOf(")");if(on!==-1&&zt+1===un){var en=$t.substr(0,on),y=$t.substr(on+1,zt-(on+1)).split(","),_n=1;switch(en){case"rgba":if(y.length!==4)return y.length===3?Z(mt,+y[0],+y[1],+y[2],1):Z(mt,0,0,0,1);_n=je(y.pop());case"rgb":if(y.length!==3){Z(mt,0,0,0,1);return}return Z(mt,X(y[0]),X(y[1]),X(y[2]),_n),at(xt,mt),mt;case"hsla":if(y.length!==4){Z(mt,0,0,0,1);return}return y[3]=je(y[3]),Ft(y,mt),at(xt,mt),mt;case"hsl":if(y.length!==3){Z(mt,0,0,0,1);return}return Ft(y,mt),at(xt,mt),mt;default:return}}Z(mt,0,0,0,1)}}function Ft(xt,mt){var Kt=(parseFloat(xt[0])%360+360)%360/360,$t=je(xt[1]),un=je(xt[2]),Sn=un<=.5?un*($t+1):un+$t-un*$t,on=un*2-Sn;return mt=mt||[],Z(mt,F(de(on,Sn,Kt+1/3)*255),F(de(on,Sn,Kt)*255),F(de(on,Sn,Kt-1/3)*255),1),xt.length===4&&(mt[3]=xt[3]),mt}function bt(xt){if(!!xt){var mt=xt[0]/255,Kt=xt[1]/255,$t=xt[2]/255,un=Math.min(mt,Kt,$t),Sn=Math.max(mt,Kt,$t),on=Sn-un,zt=(Sn+un)/2,en,y;if(on===0)en=0,y=0;else{zt<.5?y=on/(Sn+un):y=on/(2-Sn-un);var _n=((Sn-mt)/6+on/2)/on,An=((Sn-Kt)/6+on/2)/on,Fn=((Sn-$t)/6+on/2)/on;mt===Sn?en=Fn-An:Kt===Sn?en=1/3+_n-Fn:$t===Sn&&(en=2/3+An-_n),en<0&&(en+=1),en>1&&(en-=1)}var Wn=[en*360,y,zt];return xt[3]!=null&&Wn.push(xt[3]),Wn}}function Ct(xt,mt){var Kt=Pt(xt);if(Kt){for(var $t=0;$t<3;$t++)mt<0?Kt[$t]=Kt[$t]*(1-mt)|0:Kt[$t]=(255-Kt[$t])*mt+Kt[$t]|0,Kt[$t]>255?Kt[$t]=255:Kt[$t]<0&&(Kt[$t]=0);return Gt(Kt,Kt.length===4?"rgba":"rgb")}}function he(xt){var mt=Pt(xt);if(mt)return((1<<24)+(mt[0]<<16)+(mt[1]<<8)+ +mt[2]).toString(16).slice(1)}function Ve(xt,mt,Kt){if(!(!(mt&&mt.length)||!(xt>=0&&xt<=1))){Kt=Kt||[];var $t=xt*(mt.length-1),un=Math.floor($t),Sn=Math.ceil($t),on=mt[un],zt=mt[Sn],en=$t-un;return Kt[0]=F(tt(on[0],zt[0],en)),Kt[1]=F(tt(on[1],zt[1],en)),Kt[2]=F(tt(on[2],zt[2],en)),Kt[3]=P(tt(on[3],zt[3],en)),Kt}}var yt=Ve;function Mt(xt,mt,Kt){if(!(!(mt&&mt.length)||!(xt>=0&&xt<=1))){var $t=xt*(mt.length-1),un=Math.floor($t),Sn=Math.ceil($t),on=Pt(mt[un]),zt=Pt(mt[Sn]),en=$t-un,y=Gt([F(tt(on[0],zt[0],en)),F(tt(on[1],zt[1],en)),F(tt(on[2],zt[2],en)),P(tt(on[3],zt[3],en))],"rgba");return Kt?{color:y,leftIndex:un,rightIndex:Sn,value:$t}:y}}var Ut=Mt;function It(xt,mt,Kt,$t){var un=Pt(xt);if(xt)return un=bt(un),mt!=null&&(un[0]=re(mt)),Kt!=null&&(un[1]=je(Kt)),$t!=null&&(un[2]=je($t)),Gt(Ft(un),"rgba")}function Yt(xt,mt){var Kt=Pt(xt);if(Kt&&mt!=null)return Kt[3]=P(mt),Gt(Kt,"rgba")}function Gt(xt,mt){if(!(!xt||!xt.length)){var Kt=xt[0]+","+xt[1]+","+xt[2];return(mt==="rgba"||mt==="hsva"||mt==="hsla")&&(Kt+=","+xt[3]),mt+"("+Kt+")"}}function an(xt,mt){var Kt=Pt(xt);return Kt?(.299*Kt[0]+.587*Kt[1]+.114*Kt[2])*Kt[3]/255+(1-Kt[3])*mt:0}function et(){return Gt([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}},QeVK:function(Cr,Ne,D){},R9oj:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("pwpV"),re=D.n(F)},RyHr:function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return P});var Y=D("Womt");const be={type:"change"},F={type:"start"},re={type:"end"};class P extends Y.o{constructor(de,tt){super();tt===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),tt===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=de,this.domElement=tt,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Y.vb,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Y.H.ROTATE,MIDDLE:Y.H.DOLLY,RIGHT:Y.H.PAN},this.touches={ONE:Y.ob.ROTATE,TWO:Y.ob.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return at.phi},this.getAzimuthalAngle=function(){return at.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ue){ue.addEventListener("keydown",Ee),this._domElementKeyEvents=ue},this.saveState=function(){Z.target0.copy(Z.target),Z.position0.copy(Z.object.position),Z.zoom0=Z.object.zoom},this.reset=function(){Z.target.copy(Z.target0),Z.object.position.copy(Z.position0),Z.object.zoom=Z.zoom0,Z.object.updateProjectionMatrix(),Z.dispatchEvent(be),Z.update(),ve=Pe.NONE},this.update=function(){const ue=new Y.vb,$e=new Y.db().setFromUnitVectors(de.up,new Y.vb(0,1,0)),k=$e.clone().invert(),Ce=new Y.vb,ge=new Y.db,we=2*Math.PI;return function(){const Rt=Z.object.position;ue.copy(Rt).sub(Z.target),ue.applyQuaternion($e),at.setFromVector3(ue),Z.autoRotate&&ve===Pe.NONE&&$t(mt()),Z.enableDamping?(at.theta+=Pt.theta*Z.dampingFactor,at.phi+=Pt.phi*Z.dampingFactor):(at.theta+=Pt.theta,at.phi+=Pt.phi);let Wt=Z.minAzimuthAngle,kt=Z.maxAzimuthAngle;return isFinite(Wt)&&isFinite(kt)&&(Wt<-Math.PI?Wt+=we:Wt>Math.PI&&(Wt-=we),kt<-Math.PI?kt+=we:kt>Math.PI&&(kt-=we),Wt<=kt?at.theta=Math.max(Wt,Math.min(kt,at.theta)):at.theta=at.theta>(Wt+kt)/2?Math.max(Wt,at.theta):Math.min(kt,at.theta)),at.phi=Math.max(Z.minPolarAngle,Math.min(Z.maxPolarAngle,at.phi)),at.makeSafe(),at.radius*=Ft,at.radius=Math.max(Z.minDistance,Math.min(Z.maxDistance,at.radius)),Z.enableDamping===!0?Z.target.addScaledVector(bt,Z.dampingFactor):Z.target.add(bt),ue.setFromSpherical(at),ue.applyQuaternion(k),Rt.copy(Z.target).add(ue),Z.object.lookAt(Z.target),Z.enableDamping===!0?(Pt.theta*=1-Z.dampingFactor,Pt.phi*=1-Z.dampingFactor,bt.multiplyScalar(1-Z.dampingFactor)):(Pt.set(0,0,0),bt.set(0,0,0)),Ft=1,Ct||Ce.distanceToSquared(Z.object.position)>dt||8*(1-ge.dot(Z.object.quaternion))>dt?(Z.dispatchEvent(be),Ce.copy(Z.object.position),ge.copy(Z.object.quaternion),Ct=!1,!0):!1}}(),this.dispose=function(){Z.domElement.removeEventListener("contextmenu",Ke),Z.domElement.removeEventListener("pointerdown",Oe),Z.domElement.removeEventListener("pointercancel",Jt),Z.domElement.removeEventListener("wheel",Se),Z.domElement.removeEventListener("pointermove",nt),Z.domElement.removeEventListener("pointerup",ut),Z._domElementKeyEvents!==null&&Z._domElementKeyEvents.removeEventListener("keydown",Ee)};const Z=this,Pe={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ve=Pe.NONE;const dt=1e-6,at=new Y.mb,Pt=new Y.mb;let Ft=1;const bt=new Y.vb;let Ct=!1;const he=new Y.ub,Ve=new Y.ub,yt=new Y.ub,Mt=new Y.ub,Ut=new Y.ub,It=new Y.ub,Yt=new Y.ub,Gt=new Y.ub,an=new Y.ub,et=[],xt={};function mt(){return 2*Math.PI/60/60*Z.autoRotateSpeed}function Kt(){return Math.pow(.95,Z.zoomSpeed)}function $t(ue){Pt.theta-=ue}function un(ue){Pt.phi-=ue}const Sn=function(){const ue=new Y.vb;return function(k,Ce){ue.setFromMatrixColumn(Ce,0),ue.multiplyScalar(-k),bt.add(ue)}}(),on=function(){const ue=new Y.vb;return function(k,Ce){Z.screenSpacePanning===!0?ue.setFromMatrixColumn(Ce,1):(ue.setFromMatrixColumn(Ce,0),ue.crossVectors(Z.object.up,ue)),ue.multiplyScalar(k),bt.add(ue)}}(),zt=function(){const ue=new Y.vb;return function(k,Ce){const ge=Z.domElement;if(Z.object.isPerspectiveCamera){const we=Z.object.position;ue.copy(we).sub(Z.target);let ct=ue.length();ct*=Math.tan(Z.object.fov/2*Math.PI/180),Sn(2*k*ct/ge.clientHeight,Z.object.matrix),on(2*Ce*ct/ge.clientHeight,Z.object.matrix)}else Z.object.isOrthographicCamera?(Sn(k*(Z.object.right-Z.object.left)/Z.object.zoom/ge.clientWidth,Z.object.matrix),on(Ce*(Z.object.top-Z.object.bottom)/Z.object.zoom/ge.clientHeight,Z.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),Z.enablePan=!1)}}();function en(ue){Z.object.isPerspectiveCamera?Ft/=ue:Z.object.isOrthographicCamera?(Z.object.zoom=Math.max(Z.minZoom,Math.min(Z.maxZoom,Z.object.zoom*ue)),Z.object.updateProjectionMatrix(),Ct=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),Z.enableZoom=!1)}function y(ue){Z.object.isPerspectiveCamera?Ft*=ue:Z.object.isOrthographicCamera?(Z.object.zoom=Math.max(Z.minZoom,Math.min(Z.maxZoom,Z.object.zoom/ue)),Z.object.updateProjectionMatrix(),Ct=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),Z.enableZoom=!1)}function _n(ue){he.set(ue.clientX,ue.clientY)}function An(ue){Yt.set(ue.clientX,ue.clientY)}function Fn(ue){Mt.set(ue.clientX,ue.clientY)}function Wn(ue){Ve.set(ue.clientX,ue.clientY),yt.subVectors(Ve,he).multiplyScalar(Z.rotateSpeed);const $e=Z.domElement;$t(2*Math.PI*yt.x/$e.clientHeight),un(2*Math.PI*yt.y/$e.clientHeight),he.copy(Ve),Z.update()}function zn(ue){Gt.set(ue.clientX,ue.clientY),an.subVectors(Gt,Yt),an.y>0?en(Kt()):an.y<0&&y(Kt()),Yt.copy(Gt),Z.update()}function or(ue){Ut.set(ue.clientX,ue.clientY),It.subVectors(Ut,Mt).multiplyScalar(Z.panSpeed),zt(It.x,It.y),Mt.copy(Ut),Z.update()}function Sr(){}function pr(ue){ue.deltaY<0?y(Kt()):ue.deltaY>0&&en(Kt()),Z.update()}function Jr(ue){let $e=!1;switch(ue.code){case Z.keys.UP:zt(0,Z.keyPanSpeed),$e=!0;break;case Z.keys.BOTTOM:zt(0,-Z.keyPanSpeed),$e=!0;break;case Z.keys.LEFT:zt(Z.keyPanSpeed,0),$e=!0;break;case Z.keys.RIGHT:zt(-Z.keyPanSpeed,0),$e=!0;break}$e&&(ue.preventDefault(),Z.update())}function jr(){if(et.length===1)he.set(et[0].pageX,et[0].pageY);else{const ue=.5*(et[0].pageX+et[1].pageX),$e=.5*(et[0].pageY+et[1].pageY);he.set(ue,$e)}}function Mi(){if(et.length===1)Mt.set(et[0].pageX,et[0].pageY);else{const ue=.5*(et[0].pageX+et[1].pageX),$e=.5*(et[0].pageY+et[1].pageY);Mt.set(ue,$e)}}function wn(){const ue=et[0].pageX-et[1].pageX,$e=et[0].pageY-et[1].pageY,k=Math.sqrt(ue*ue+$e*$e);Yt.set(0,k)}function De(){Z.enableZoom&&wn(),Z.enablePan&&Mi()}function Ae(){Z.enableZoom&&wn(),Z.enableRotate&&jr()}function st(ue){if(et.length==1)Ve.set(ue.pageX,ue.pageY);else{const k=oe(ue),Ce=.5*(ue.pageX+k.x),ge=.5*(ue.pageY+k.y);Ve.set(Ce,ge)}yt.subVectors(Ve,he).multiplyScalar(Z.rotateSpeed);const $e=Z.domElement;$t(2*Math.PI*yt.x/$e.clientHeight),un(2*Math.PI*yt.y/$e.clientHeight),he.copy(Ve)}function Xe(ue){if(et.length===1)Ut.set(ue.pageX,ue.pageY);else{const $e=oe(ue),k=.5*(ue.pageX+$e.x),Ce=.5*(ue.pageY+$e.y);Ut.set(k,Ce)}It.subVectors(Ut,Mt).multiplyScalar(Z.panSpeed),zt(It.x,It.y),Mt.copy(Ut)}function ie(ue){const $e=oe(ue),k=ue.pageX-$e.x,Ce=ue.pageY-$e.y,ge=Math.sqrt(k*k+Ce*Ce);Gt.set(0,ge),an.set(0,Math.pow(Gt.y/Yt.y,Z.zoomSpeed)),en(an.y),Yt.copy(Gt)}function V(ue){Z.enableZoom&&ie(ue),Z.enablePan&&Xe(ue)}function B(ue){Z.enableZoom&&ie(ue),Z.enableRotate&&st(ue)}function J(){}function Oe(ue){Z.enabled!==!1&&(et.length===0&&(Z.domElement.setPointerCapture(ue.pointerId),Z.domElement.addEventListener("pointermove",nt),Z.domElement.addEventListener("pointerup",ut)),We(ue),ue.pointerType==="touch"?Ue(ue):pn(ue))}function nt(ue){Z.enabled!==!1&&(ue.pointerType==="touch"?Ie(ue):hn(ue))}function ut(ue){Z.enabled!==!1&&(ue.pointerType==="touch"?Re():Ln(ue),ht(ue),et.length===0&&(Z.domElement.releasePointerCapture(ue.pointerId),Z.domElement.removeEventListener("pointermove",nt),Z.domElement.removeEventListener("pointerup",ut)))}function Jt(ue){ht(ue)}function pn(ue){let $e;switch(ue.button){case 0:$e=Z.mouseButtons.LEFT;break;case 1:$e=Z.mouseButtons.MIDDLE;break;case 2:$e=Z.mouseButtons.RIGHT;break;default:$e=-1}switch($e){case Y.H.DOLLY:if(Z.enableZoom===!1)return;An(ue),ve=Pe.DOLLY;break;case Y.H.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(Z.enablePan===!1)return;Fn(ue),ve=Pe.PAN}else{if(Z.enableRotate===!1)return;_n(ue),ve=Pe.ROTATE}break;case Y.H.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(Z.enableRotate===!1)return;_n(ue),ve=Pe.ROTATE}else{if(Z.enablePan===!1)return;Fn(ue),ve=Pe.PAN}break;default:ve=Pe.NONE}ve!==Pe.NONE&&Z.dispatchEvent(F)}function hn(ue){if(Z.enabled!==!1)switch(ve){case Pe.ROTATE:if(Z.enableRotate===!1)return;Wn(ue);break;case Pe.DOLLY:if(Z.enableZoom===!1)return;zn(ue);break;case Pe.PAN:if(Z.enablePan===!1)return;or(ue);break}}function Ln(ue){Sr(ue),Z.dispatchEvent(re),ve=Pe.NONE}function Se(ue){Z.enabled===!1||Z.enableZoom===!1||ve!==Pe.NONE||(ue.preventDefault(),Z.dispatchEvent(F),pr(ue),Z.dispatchEvent(re))}function Ee(ue){Z.enabled===!1||Z.enablePan===!1||Jr(ue)}function Ue(ue){switch(ot(ue),et.length){case 1:switch(Z.touches.ONE){case Y.ob.ROTATE:if(Z.enableRotate===!1)return;jr(),ve=Pe.TOUCH_ROTATE;break;case Y.ob.PAN:if(Z.enablePan===!1)return;Mi(),ve=Pe.TOUCH_PAN;break;default:ve=Pe.NONE}break;case 2:switch(Z.touches.TWO){case Y.ob.DOLLY_PAN:if(Z.enableZoom===!1&&Z.enablePan===!1)return;De(),ve=Pe.TOUCH_DOLLY_PAN;break;case Y.ob.DOLLY_ROTATE:if(Z.enableZoom===!1&&Z.enableRotate===!1)return;Ae(),ve=Pe.TOUCH_DOLLY_ROTATE;break;default:ve=Pe.NONE}break;default:ve=Pe.NONE}ve!==Pe.NONE&&Z.dispatchEvent(F)}function Ie(ue){switch(ot(ue),ve){case Pe.TOUCH_ROTATE:if(Z.enableRotate===!1)return;st(ue),Z.update();break;case Pe.TOUCH_PAN:if(Z.enablePan===!1)return;Xe(ue),Z.update();break;case Pe.TOUCH_DOLLY_PAN:if(Z.enableZoom===!1&&Z.enablePan===!1)return;V(ue),Z.update();break;case Pe.TOUCH_DOLLY_ROTATE:if(Z.enableZoom===!1&&Z.enableRotate===!1)return;B(ue),Z.update();break;default:ve=Pe.NONE}}function Re(ue){J(ue),Z.dispatchEvent(re),ve=Pe.NONE}function Ke(ue){Z.enabled!==!1&&ue.preventDefault()}function We(ue){et.push(ue)}function ht(ue){delete xt[ue.pointerId];for(let $e=0;$e<et.length;$e++)if(et[$e].pointerId==ue.pointerId){et.splice($e,1);return}}function ot(ue){let $e=xt[ue.pointerId];$e===void 0&&($e=new Y.ub,xt[ue.pointerId]=$e),$e.set(ue.pageX,ue.pageY)}function oe(ue){const $e=ue.pointerId===et[0].pointerId?et[1]:et[0];return xt[$e.pointerId]}Z.domElement.addEventListener("contextmenu",Ke),Z.domElement.addEventListener("pointerdown",Oe),Z.domElement.addEventListener("pointercancel",Jt),Z.domElement.addEventListener("wheel",Se,{passive:!1}),this.update()}}class X extends P{constructor(de,tt){super(de,tt);this.screenSpacePanning=!1,this.mouseButtons.LEFT=Y.H.PAN,this.mouseButtons.RIGHT=Y.H.ROTATE,this.touches.ONE=Y.ob.PAN,this.touches.TWO=Y.ob.DOLLY_ROTATE}}},TGP4:function(Cr,Ne,D){"use strict";var Y=D("VTBJ"),be=D("q1tI"),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]},name:"heart",theme:"filled"},re=F,P=D("6VBw"),X=function(tt,Z){return be.createElement(P.a,Object(Y.a)(Object(Y.a)({},tt),{},{ref:Z,icon:re}))};X.displayName="HeartFilled";var je=Ne.a=be.forwardRef(X)},Urep:function(Cr,Ne,D){},Womt:function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return Rm}),D.d(Ne,"b",function(){return ig}),D.d(Ne,"c",function(){return $0}),D.d(Ne,"d",function(){return eu}),D.d(Ne,"e",function(){return gm}),D.d(Ne,"f",function(){return ho}),D.d(Ne,"g",function(){return Va}),D.d(Ne,"h",function(){return _i}),D.d(Ne,"i",function(){return vp}),D.d(Ne,"j",function(){return hn}),D.d(Ne,"k",function(){return w1}),D.d(Ne,"l",function(){return nr}),D.d(Ne,"m",function(){return og}),D.d(Ne,"n",function(){return at}),D.d(Ne,"o",function(){return bo}),D.d(Ne,"p",function(){return cf}),D.d(Ne,"q",function(){return ve}),D.d(Ne,"r",function(){return tf}),D.d(Ne,"s",function(){return K0}),D.d(Ne,"t",function(){return lh}),D.d(Ne,"u",function(){return Ns}),D.d(Ne,"v",function(){return zl}),D.d(Ne,"w",function(){return si}),D.d(Ne,"x",function(){return Or}),D.d(Ne,"y",function(){return of}),D.d(Ne,"z",function(){return Qo}),D.d(Ne,"A",function(){return Hv}),D.d(Ne,"B",function(){return Bl}),D.d(Ne,"C",function(){return Ke}),D.d(Ne,"D",function(){return ot}),D.d(Ne,"E",function(){return We}),D.d(Ne,"F",function(){return bl}),D.d(Ne,"G",function(){return Nm}),D.d(Ne,"H",function(){return be}),D.d(Ne,"I",function(){return Ps}),D.d(Ne,"J",function(){return Vd}),D.d(Ne,"K",function(){return Hn}),D.d(Ne,"L",function(){return _s}),D.d(Ne,"M",function(){return ms}),D.d(Ne,"N",function(){return Cd}),D.d(Ne,"O",function(){return tg}),D.d(Ne,"P",function(){return eg}),D.d(Ne,"Q",function(){return Ln}),D.d(Ne,"R",function(){return Se}),D.d(Ne,"S",function(){return Ie}),D.d(Ne,"T",function(){return Ee}),D.d(Ne,"U",function(){return Ct}),D.d(Ne,"V",function(){return ng}),D.d(Ne,"W",function(){return La}),D.d(Ne,"X",function(){return Rs}),D.d(Ne,"Y",function(){return no}),D.d(Ne,"Z",function(){return G0}),D.d(Ne,"ab",function(){return Gv}),D.d(Ne,"bb",function(){return ph}),D.d(Ne,"cb",function(){return po}),D.d(Ne,"db",function(){return Oo}),D.d(Ne,"eb",function(){return Cp}),D.d(Ne,"fb",function(){return tn}),D.d(Ne,"gb",function(){return pn}),D.d(Ne,"hb",function(){return nf}),D.d(Ne,"ib",function(){return Yi}),D.d(Ne,"jb",function(){return Vv}),D.d(Ne,"kb",function(){return zv}),D.d(Ne,"lb",function(){return uu}),D.d(Ne,"mb",function(){return Bc}),D.d(Ne,"nb",function(){return Ap}),D.d(Ne,"ob",function(){return F}),D.d(Ne,"pb",function(){return Uo}),D.d(Ne,"qb",function(){return ri}),D.d(Ne,"rb",function(){return Ep}),D.d(Ne,"sb",function(){return Tr}),D.d(Ne,"tb",function(){return Aa}),D.d(Ne,"ub",function(){return Vn}),D.d(Ne,"vb",function(){return Ze}),D.d(Ne,"wb",function(){return rg}),D.d(Ne,"xb",function(){return Ro}),D.d(Ne,"yb",function(){return Ya});/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Y="134",be={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},F={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},re=0,P=1,X=2,je=3,de=0,tt=1,Z=2,Pe=3,ve=0,dt=1,at=2,Pt=1,Ft=2,bt=0,Ct=1,he=2,Ve=3,yt=4,Mt=5,Ut=100,It=101,Yt=102,Gt=103,an=104,et=200,xt=201,mt=202,Kt=203,$t=204,un=205,Sn=206,on=207,zt=208,en=209,y=210,_n=0,An=1,Fn=2,Wn=3,zn=4,or=5,Sr=6,pr=7,Jr=0,jr=1,Mi=2,wn=0,De=1,Ae=2,st=3,Xe=4,ie=5,V=300,B=301,J=302,Oe=303,nt=304,ut=306,Jt=307,pn=1e3,hn=1001,Ln=1002,Se=1003,Ee=1004,Ue=1004,Ie=1005,Re=1005,Ke=1006,We=1007,ht=1007,ot=1008,oe=1008,ue=1009,$e=1010,k=1011,Ce=1012,ge=1013,we=1014,ct=1015,Rt=1016,Wt=1017,kt=1018,nn=1019,cn=1020,gn=1021,tn=1022,fn=1023,qe=1024,Qe=1025,vt=fn,Je=1026,me=1027,Ye=1028,Tt=1029,Tn=1030,tr=1031,mr=1032,ni=1033,$i=33776,Li=33777,eo=33778,Ho=33779,No=35840,Ei=35841,Br=35842,Ma=35843,to=36196,Go=37492,es=37496,Es=37808,Co=37809,Lo=37810,Vt=37811,Lt=37812,Nn=37813,bn=37814,hr=37815,ur=37816,Hr=37817,Xr=37818,Ir=37819,Ur=37820,Nr=37821,br=36492,Pr=37840,ai=37841,Gi=37842,ra=37843,Ar=37844,cr=37845,ci=37846,ua=37847,Wa=37848,Ai=37849,Ii=37850,ma=37851,ya=37852,ia=37853,ba=2200,pa=2201,aa=2202,si=2300,Or=2301,Lr=2302,pi=2400,Ui=2401,Ca=2402,Ka=2500,mo=2501,ko=0,Aa=1,Tr=2,Fr=3e3,Ya=3001,Pa=3007,$a=3002,ro=3003,io=3004,zs=3005,ns=3006,To=3200,za=3201,Uo=0,As=1,qs=0,rs=7680,yo=7681,is=7682,Ta=7683,nu=34055,wf=34056,Ml=5386,ul=512,vc=513,gc=514,Eu=515,_l=516,Au=517,el=518,oa=519,Wi=35044,Cl=35048,cl=35040,Hl=35045,Qf=35049,Gl=35041,qf=35046,ed=35050,td=35042,ru="100",Tl="300 es";class bo{addEventListener(o,c){this._listeners===void 0&&(this._listeners={});const p=this._listeners;p[o]===void 0&&(p[o]=[]),p[o].indexOf(c)===-1&&p[o].push(c)}hasEventListener(o,c){if(this._listeners===void 0)return!1;const p=this._listeners;return p[o]!==void 0&&p[o].indexOf(c)!==-1}removeEventListener(o,c){if(this._listeners===void 0)return;const m=this._listeners[o];if(m!==void 0){const x=m.indexOf(c);x!==-1&&m.splice(x,1)}}dispatchEvent(o){if(this._listeners===void 0)return;const p=this._listeners[o.type];if(p!==void 0){o.target=this;const m=p.slice(0);for(let x=0,_=m.length;x<_;x++)m[x].call(this,o);o.target=null}}}let iu=1234567;const as=Math.PI/180,gs=180/Math.PI,qr=[];for(let w=0;w<256;w++)qr[w]=(w<16?"0":"")+w.toString(16);const Di=typeof crypto!="undefined"&&"randomUUID"in crypto;function Zr(){if(Di)return crypto.randomUUID().toUpperCase();const w=Math.random()*4294967295|0,o=Math.random()*4294967295|0,c=Math.random()*4294967295|0,p=Math.random()*4294967295|0;return(qr[w&255]+qr[w>>8&255]+qr[w>>16&255]+qr[w>>24&255]+"-"+qr[o&255]+qr[o>>8&255]+"-"+qr[o>>16&15|64]+qr[o>>24&255]+"-"+qr[c&63|128]+qr[c>>8&255]+"-"+qr[c>>16&255]+qr[c>>24&255]+qr[p&255]+qr[p>>8&255]+qr[p>>16&255]+qr[p>>24&255]).toUpperCase()}function gi(w,o,c){return Math.max(o,Math.min(c,w))}function fo(w,o){return(w%o+o)%o}function xo(w,o,c,p,m){return p+(w-o)*(m-p)/(c-o)}function ao(w,o,c){return w!==o?(c-w)/(o-w):0}function Vs(w,o,c){return(1-c)*w+c*o}function tl(w,o,c,p){return Vs(w,o,1-Math.exp(-c*p))}function au(w,o=1){return o-Math.abs(fo(w,o*2)-o)}function Ul(w,o,c){return w<=o?0:w>=c?1:(w=(w-o)/(c-o),w*w*(3-2*w))}function Ku(w,o,c){return w<=o?0:w>=c?1:(w=(w-o)/(c-o),w*w*w*(w*(w*6-15)+10))}function Bd(w,o){return w+Math.floor(Math.random()*(o-w+1))}function ou(w,o){return w+Math.random()*(o-w)}function Pu(w){return w*(.5-Math.random())}function nd(w){return w!==void 0&&(iu=w%2147483647),iu=iu*16807%2147483647,(iu-1)/2147483646}function Fd(w){return w*as}function zd(w){return w*gs}function Mf(w){return(w&w-1)==0&&w!==0}function Lu(w){return Math.pow(2,Math.ceil(Math.log(w)/Math.LN2))}function rd(w){return Math.pow(2,Math.floor(Math.log(w)/Math.LN2))}function nv(w,o,c,p,m){const x=Math.cos,_=Math.sin,T=x(c/2),A=_(c/2),L=x((o+p)/2),z=_((o+p)/2),U=x((o-p)/2),G=_((o-p)/2),K=x((p-o)/2),te=_((p-o)/2);switch(m){case"XYX":w.set(T*z,A*U,A*G,T*L);break;case"YZY":w.set(A*G,T*z,A*U,T*L);break;case"ZXZ":w.set(A*U,A*G,T*z,T*L);break;case"XZX":w.set(T*z,A*te,A*K,T*L);break;case"YXY":w.set(A*K,T*z,A*te,T*L);break;case"ZYZ":w.set(A*te,A*K,T*z,T*L);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+m)}}var Vd=Object.freeze({__proto__:null,DEG2RAD:as,RAD2DEG:gs,generateUUID:Zr,clamp:gi,euclideanModulo:fo,mapLinear:xo,inverseLerp:ao,lerp:Vs,damp:tl,pingpong:au,smoothstep:Ul,smootherstep:Ku,randInt:Bd,randFloat:ou,randFloatSpread:Pu,seededRandom:nd,degToRad:Fd,radToDeg:zd,isPowerOfTwo:Mf,ceilPowerOfTwo:Lu,floorPowerOfTwo:rd,setQuaternionFromProperEuler:nv});class Vn{constructor(o=0,c=0){this.x=o,this.y=c}get width(){return this.x}set width(o){this.x=o}get height(){return this.y}set height(o){this.y=o}set(o,c){return this.x=o,this.y=c,this}setScalar(o){return this.x=o,this.y=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setComponent(o,c){switch(o){case 0:this.x=c;break;case 1:this.y=c;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y)}copy(o){return this.x=o.x,this.y=o.y,this}add(o,c){return c!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(o,c)):(this.x+=o.x,this.y+=o.y,this)}addScalar(o){return this.x+=o,this.y+=o,this}addVectors(o,c){return this.x=o.x+c.x,this.y=o.y+c.y,this}addScaledVector(o,c){return this.x+=o.x*c,this.y+=o.y*c,this}sub(o,c){return c!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(o,c)):(this.x-=o.x,this.y-=o.y,this)}subScalar(o){return this.x-=o,this.y-=o,this}subVectors(o,c){return this.x=o.x-c.x,this.y=o.y-c.y,this}multiply(o){return this.x*=o.x,this.y*=o.y,this}multiplyScalar(o){return this.x*=o,this.y*=o,this}divide(o){return this.x/=o.x,this.y/=o.y,this}divideScalar(o){return this.multiplyScalar(1/o)}applyMatrix3(o){const c=this.x,p=this.y,m=o.elements;return this.x=m[0]*c+m[3]*p+m[6],this.y=m[1]*c+m[4]*p+m[7],this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this}clamp(o,c){return this.x=Math.max(o.x,Math.min(c.x,this.x)),this.y=Math.max(o.y,Math.min(c.y,this.y)),this}clampScalar(o,c){return this.x=Math.max(o,Math.min(c,this.x)),this.y=Math.max(o,Math.min(c,this.y)),this}clampLength(o,c){const p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(o,Math.min(c,p)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(o){return this.x*o.x+this.y*o.y}cross(o){return this.x*o.y-this.y*o.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const c=this.x-o.x,p=this.y-o.y;return c*c+p*p}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,c){return this.x+=(o.x-this.x)*c,this.y+=(o.y-this.y)*c,this}lerpVectors(o,c,p){return this.x=o.x+(c.x-o.x)*p,this.y=o.y+(c.y-o.y)*p,this}equals(o){return o.x===this.x&&o.y===this.y}fromArray(o,c=0){return this.x=o[c],this.y=o[c+1],this}toArray(o=[],c=0){return o[c]=this.x,o[c+1]=this.y,o}fromBufferAttribute(o,c,p){return p!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=o.getX(c),this.y=o.getY(c),this}rotateAround(o,c){const p=Math.cos(c),m=Math.sin(c),x=this.x-o.x,_=this.y-o.y;return this.x=x*p-_*m+o.x,this.y=x*m+_*p+o.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Vn.prototype.isVector2=!0;class oo{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(o,c,p,m,x,_,T,A,L){const z=this.elements;return z[0]=o,z[1]=m,z[2]=T,z[3]=c,z[4]=x,z[5]=A,z[6]=p,z[7]=_,z[8]=L,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(o){const c=this.elements,p=o.elements;return c[0]=p[0],c[1]=p[1],c[2]=p[2],c[3]=p[3],c[4]=p[4],c[5]=p[5],c[6]=p[6],c[7]=p[7],c[8]=p[8],this}extractBasis(o,c,p){return o.setFromMatrix3Column(this,0),c.setFromMatrix3Column(this,1),p.setFromMatrix3Column(this,2),this}setFromMatrix4(o){const c=o.elements;return this.set(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10]),this}multiply(o){return this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,c){const p=o.elements,m=c.elements,x=this.elements,_=p[0],T=p[3],A=p[6],L=p[1],z=p[4],U=p[7],G=p[2],K=p[5],te=p[8],ce=m[0],Le=m[3],ne=m[6],q=m[1],Fe=m[4],Te=m[7],lt=m[2],Ot=m[5],He=m[8];return x[0]=_*ce+T*q+A*lt,x[3]=_*Le+T*Fe+A*Ot,x[6]=_*ne+T*Te+A*He,x[1]=L*ce+z*q+U*lt,x[4]=L*Le+z*Fe+U*Ot,x[7]=L*ne+z*Te+U*He,x[2]=G*ce+K*q+te*lt,x[5]=G*Le+K*Fe+te*Ot,x[8]=G*ne+K*Te+te*He,this}multiplyScalar(o){const c=this.elements;return c[0]*=o,c[3]*=o,c[6]*=o,c[1]*=o,c[4]*=o,c[7]*=o,c[2]*=o,c[5]*=o,c[8]*=o,this}determinant(){const o=this.elements,c=o[0],p=o[1],m=o[2],x=o[3],_=o[4],T=o[5],A=o[6],L=o[7],z=o[8];return c*_*z-c*T*L-p*x*z+p*T*A+m*x*L-m*_*A}invert(){const o=this.elements,c=o[0],p=o[1],m=o[2],x=o[3],_=o[4],T=o[5],A=o[6],L=o[7],z=o[8],U=z*_-T*L,G=T*A-z*x,K=L*x-_*A,te=c*U+p*G+m*K;if(te===0)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/te;return o[0]=U*ce,o[1]=(m*L-z*p)*ce,o[2]=(T*p-m*_)*ce,o[3]=G*ce,o[4]=(z*c-m*A)*ce,o[5]=(m*x-T*c)*ce,o[6]=K*ce,o[7]=(p*A-L*c)*ce,o[8]=(_*c-p*x)*ce,this}transpose(){let o;const c=this.elements;return o=c[1],c[1]=c[3],c[3]=o,o=c[2],c[2]=c[6],c[6]=o,o=c[5],c[5]=c[7],c[7]=o,this}getNormalMatrix(o){return this.setFromMatrix4(o).invert().transpose()}transposeIntoArray(o){const c=this.elements;return o[0]=c[0],o[1]=c[3],o[2]=c[6],o[3]=c[1],o[4]=c[4],o[5]=c[7],o[6]=c[2],o[7]=c[5],o[8]=c[8],this}setUvTransform(o,c,p,m,x,_,T){const A=Math.cos(x),L=Math.sin(x);return this.set(p*A,p*L,-p*(A*_+L*T)+_+o,-m*L,m*A,-m*(-L*_+A*T)+T+c,0,0,1),this}scale(o,c){const p=this.elements;return p[0]*=o,p[3]*=o,p[6]*=o,p[1]*=c,p[4]*=c,p[7]*=c,this}rotate(o){const c=Math.cos(o),p=Math.sin(o),m=this.elements,x=m[0],_=m[3],T=m[6],A=m[1],L=m[4],z=m[7];return m[0]=c*x+p*A,m[3]=c*_+p*L,m[6]=c*T+p*z,m[1]=-p*x+c*A,m[4]=-p*_+c*L,m[7]=-p*T+c*z,this}translate(o,c){const p=this.elements;return p[0]+=o*p[2],p[3]+=o*p[5],p[6]+=o*p[8],p[1]+=c*p[2],p[4]+=c*p[5],p[7]+=c*p[8],this}equals(o){const c=this.elements,p=o.elements;for(let m=0;m<9;m++)if(c[m]!==p[m])return!1;return!0}fromArray(o,c=0){for(let p=0;p<9;p++)this.elements[p]=o[p+c];return this}toArray(o=[],c=0){const p=this.elements;return o[c]=p[0],o[c+1]=p[1],o[c+2]=p[2],o[c+3]=p[3],o[c+4]=p[4],o[c+5]=p[5],o[c+6]=p[6],o[c+7]=p[7],o[c+8]=p[8],o}clone(){return new this.constructor().fromArray(this.elements)}}oo.prototype.isMatrix3=!0;function Yu(w){if(w.length===0)return-Infinity;let o=w[0];for(let c=1,p=w.length;c<p;++c)w[c]>o&&(o=w[c]);return o}const Hd={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wl(w,o){return new Hd[w](o)}function Xu(w){return document.createElementNS("http://www.w3.org/1999/xhtml",w)}function Kl(w,o=0){let c=3735928559^o,p=1103547991^o;for(let m=0,x;m<w.length;m++)x=w.charCodeAt(m),c=Math.imul(c^x,2654435761),p=Math.imul(p^x,1597334677);return c=Math.imul(c^c>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),p=Math.imul(p^p>>>16,2246822507)^Math.imul(c^c>>>13,3266489909),4294967296*(2097151&p)+(c>>>0)}let Du;class Ru{static getDataURL(o){if(/^data:/i.test(o.src)||typeof HTMLCanvasElement=="undefined")return o.src;let c;if(o instanceof HTMLCanvasElement)c=o;else{Du===void 0&&(Du=Xu("canvas")),Du.width=o.width,Du.height=o.height;const p=Du.getContext("2d");o instanceof ImageData?p.putImageData(o,0,0):p.drawImage(o,0,0,o.width,o.height),c=Du}return c.width>2048||c.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",o),c.toDataURL("image/jpeg",.6)):c.toDataURL("image/png")}}let _f=0;class ri extends bo{constructor(o=ri.DEFAULT_IMAGE,c=ri.DEFAULT_MAPPING,p=hn,m=hn,x=Ke,_=ot,T=fn,A=ue,L=1,z=Fr){super();Object.defineProperty(this,"id",{value:_f++}),this.uuid=Zr(),this.name="",this.image=o,this.mipmaps=[],this.mapping=c,this.wrapS=p,this.wrapT=m,this.magFilter=x,this.minFilter=_,this.anisotropy=L,this.format=T,this.internalFormat=null,this.type=A,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new oo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=z,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(o){return this.name=o.name,this.image=o.image,this.mipmaps=o.mipmaps.slice(0),this.mapping=o.mapping,this.wrapS=o.wrapS,this.wrapT=o.wrapT,this.magFilter=o.magFilter,this.minFilter=o.minFilter,this.anisotropy=o.anisotropy,this.format=o.format,this.internalFormat=o.internalFormat,this.type=o.type,this.offset.copy(o.offset),this.repeat.copy(o.repeat),this.center.copy(o.center),this.rotation=o.rotation,this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrix.copy(o.matrix),this.generateMipmaps=o.generateMipmaps,this.premultiplyAlpha=o.premultiplyAlpha,this.flipY=o.flipY,this.unpackAlignment=o.unpackAlignment,this.encoding=o.encoding,this.userData=JSON.parse(JSON.stringify(o.userData)),this}toJSON(o){const c=o===void 0||typeof o=="string";if(!c&&o.textures[this.uuid]!==void 0)return o.textures[this.uuid];const p={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const m=this.image;if(m.uuid===void 0&&(m.uuid=Zr()),!c&&o.images[m.uuid]===void 0){let x;if(Array.isArray(m)){x=[];for(let _=0,T=m.length;_<T;_++)m[_].isDataTexture?x.push(ca(m[_].image)):x.push(ca(m[_]))}else x=ca(m);o.images[m.uuid]={uuid:m.uuid,url:x}}p.image=m.uuid}return JSON.stringify(this.userData)!=="{}"&&(p.userData=this.userData),c||(o.textures[this.uuid]=p),p}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(o){if(this.mapping!==V)return o;if(o.applyMatrix3(this.matrix),o.x<0||o.x>1)switch(this.wrapS){case pn:o.x=o.x-Math.floor(o.x);break;case hn:o.x=o.x<0?0:1;break;case Ln:Math.abs(Math.floor(o.x)%2)===1?o.x=Math.ceil(o.x)-o.x:o.x=o.x-Math.floor(o.x);break}if(o.y<0||o.y>1)switch(this.wrapT){case pn:o.y=o.y-Math.floor(o.y);break;case hn:o.y=o.y<0?0:1;break;case Ln:Math.abs(Math.floor(o.y)%2)===1?o.y=Math.ceil(o.y)-o.y:o.y=o.y-Math.floor(o.y);break}return this.flipY&&(o.y=1-o.y),o}set needsUpdate(o){o===!0&&this.version++}}ri.DEFAULT_IMAGE=void 0,ri.DEFAULT_MAPPING=V,ri.prototype.isTexture=!0;function ca(w){return typeof HTMLImageElement!="undefined"&&w instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&w instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&w instanceof ImageBitmap?Ru.getDataURL(w):w.data?{data:Array.prototype.slice.call(w.data),width:w.width,height:w.height,type:w.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Ki{constructor(o=0,c=0,p=0,m=1){this.x=o,this.y=c,this.z=p,this.w=m}get width(){return this.z}set width(o){this.z=o}get height(){return this.w}set height(o){this.w=o}set(o,c,p,m){return this.x=o,this.y=c,this.z=p,this.w=m,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this.w=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setW(o){return this.w=o,this}setComponent(o,c){switch(o){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;case 3:this.w=c;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this.w=o.w!==void 0?o.w:1,this}add(o,c){return c!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(o,c)):(this.x+=o.x,this.y+=o.y,this.z+=o.z,this.w+=o.w,this)}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this.w+=o,this}addVectors(o,c){return this.x=o.x+c.x,this.y=o.y+c.y,this.z=o.z+c.z,this.w=o.w+c.w,this}addScaledVector(o,c){return this.x+=o.x*c,this.y+=o.y*c,this.z+=o.z*c,this.w+=o.w*c,this}sub(o,c){return c!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(o,c)):(this.x-=o.x,this.y-=o.y,this.z-=o.z,this.w-=o.w,this)}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this.w-=o,this}subVectors(o,c){return this.x=o.x-c.x,this.y=o.y-c.y,this.z=o.z-c.z,this.w=o.w-c.w,this}multiply(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z,this.w*=o.w,this}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this}applyMatrix4(o){const c=this.x,p=this.y,m=this.z,x=this.w,_=o.elements;return this.x=_[0]*c+_[4]*p+_[8]*m+_[12]*x,this.y=_[1]*c+_[5]*p+_[9]*m+_[13]*x,this.z=_[2]*c+_[6]*p+_[10]*m+_[14]*x,this.w=_[3]*c+_[7]*p+_[11]*m+_[15]*x,this}divideScalar(o){return this.multiplyScalar(1/o)}setAxisAngleFromQuaternion(o){this.w=2*Math.acos(o.w);const c=Math.sqrt(1-o.w*o.w);return c<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=o.x/c,this.y=o.y/c,this.z=o.z/c),this}setAxisAngleFromRotationMatrix(o){let c,p,m,x;const _=.01,T=.1,A=o.elements,L=A[0],z=A[4],U=A[8],G=A[1],K=A[5],te=A[9],ce=A[2],Le=A[6],ne=A[10];if(Math.abs(z-G)<_&&Math.abs(U-ce)<_&&Math.abs(te-Le)<_){if(Math.abs(z+G)<T&&Math.abs(U+ce)<T&&Math.abs(te+Le)<T&&Math.abs(L+K+ne-3)<T)return this.set(1,0,0,0),this;c=Math.PI;const Fe=(L+1)/2,Te=(K+1)/2,lt=(ne+1)/2,Ot=(z+G)/4,He=(U+ce)/4,Bt=(te+Le)/4;return Fe>Te&&Fe>lt?Fe<_?(p=0,m=.707106781,x=.707106781):(p=Math.sqrt(Fe),m=Ot/p,x=He/p):Te>lt?Te<_?(p=.707106781,m=0,x=.707106781):(m=Math.sqrt(Te),p=Ot/m,x=Bt/m):lt<_?(p=.707106781,m=.707106781,x=0):(x=Math.sqrt(lt),p=He/x,m=Bt/x),this.set(p,m,x,c),this}let q=Math.sqrt((Le-te)*(Le-te)+(U-ce)*(U-ce)+(G-z)*(G-z));return Math.abs(q)<.001&&(q=1),this.x=(Le-te)/q,this.y=(U-ce)/q,this.z=(G-z)/q,this.w=Math.acos((L+K+ne-1)/2),this}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this.w=Math.min(this.w,o.w),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this.w=Math.max(this.w,o.w),this}clamp(o,c){return this.x=Math.max(o.x,Math.min(c.x,this.x)),this.y=Math.max(o.y,Math.min(c.y,this.y)),this.z=Math.max(o.z,Math.min(c.z,this.z)),this.w=Math.max(o.w,Math.min(c.w,this.w)),this}clampScalar(o,c){return this.x=Math.max(o,Math.min(c,this.x)),this.y=Math.max(o,Math.min(c,this.y)),this.z=Math.max(o,Math.min(c,this.z)),this.w=Math.max(o,Math.min(c,this.w)),this}clampLength(o,c){const p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(o,Math.min(c,p)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,c){return this.x+=(o.x-this.x)*c,this.y+=(o.y-this.y)*c,this.z+=(o.z-this.z)*c,this.w+=(o.w-this.w)*c,this}lerpVectors(o,c,p){return this.x=o.x+(c.x-o.x)*p,this.y=o.y+(c.y-o.y)*p,this.z=o.z+(c.z-o.z)*p,this.w=o.w+(c.w-o.w)*p,this}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z&&o.w===this.w}fromArray(o,c=0){return this.x=o[c],this.y=o[c+1],this.z=o[c+2],this.w=o[c+3],this}toArray(o=[],c=0){return o[c]=this.x,o[c+1]=this.y,o[c+2]=this.z,o[c+3]=this.w,o}fromBufferAttribute(o,c,p){return p!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=o.getX(c),this.y=o.getY(c),this.z=o.getZ(c),this.w=o.getW(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Ki.prototype.isVector4=!0;class jo extends bo{constructor(o,c,p={}){super();this.width=o,this.height=c,this.depth=1,this.scissor=new Ki(0,0,o,c),this.scissorTest=!1,this.viewport=new Ki(0,0,o,c),this.texture=new ri(void 0,p.mapping,p.wrapS,p.wrapT,p.magFilter,p.minFilter,p.format,p.type,p.anisotropy,p.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:o,height:c,depth:1},this.texture.generateMipmaps=p.generateMipmaps!==void 0?p.generateMipmaps:!1,this.texture.internalFormat=p.internalFormat!==void 0?p.internalFormat:null,this.texture.minFilter=p.minFilter!==void 0?p.minFilter:Ke,this.depthBuffer=p.depthBuffer!==void 0?p.depthBuffer:!0,this.stencilBuffer=p.stencilBuffer!==void 0?p.stencilBuffer:!1,this.depthTexture=p.depthTexture!==void 0?p.depthTexture:null}setTexture(o){o.image={width:this.width,height:this.height,depth:this.depth},this.texture=o}setSize(o,c,p=1){(this.width!==o||this.height!==c||this.depth!==p)&&(this.width=o,this.height=c,this.depth=p,this.texture.image.width=o,this.texture.image.height=c,this.texture.image.depth=p,this.dispose()),this.viewport.set(0,0,o,c),this.scissor.set(0,0,o,c)}clone(){return new this.constructor().copy(this)}copy(o){return this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.copy(o.viewport),this.texture=o.texture.clone(),this.texture.image=L3({},this.texture.image),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.depthTexture=o.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}jo.prototype.isWebGLRenderTarget=!0;class Zo extends jo{constructor(o,c,p){super(o,c);const m=this.texture;this.texture=[];for(let x=0;x<p;x++)this.texture[x]=m.clone()}setSize(o,c,p=1){if(this.width!==o||this.height!==c||this.depth!==p){this.width=o,this.height=c,this.depth=p;for(let m=0,x=this.texture.length;m<x;m++)this.texture[m].image.width=o,this.texture[m].image.height=c,this.texture[m].image.depth=p;this.dispose()}return this.viewport.set(0,0,o,c),this.scissor.set(0,0,o,c),this}copy(o){this.dispose(),this.width=o.width,this.height=o.height,this.depth=o.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=o.depthBuffer,this.stencilBuffer=o.stencilBuffer,this.depthTexture=o.depthTexture,this.texture.length=0;for(let c=0,p=o.texture.length;c<p;c++)this.texture[c]=o.texture[c].clone();return this}}Zo.prototype.isWebGLMultipleRenderTargets=!0;class Hs extends jo{constructor(o,c,p){super(o,c,p);this.samples=4}copy(o){return super.copy.call(this,o),this.samples=o.samples,this}}Hs.prototype.isWebGLMultisampleRenderTarget=!0;class Oo{constructor(o=0,c=0,p=0,m=1){this._x=o,this._y=c,this._z=p,this._w=m}static slerp(o,c,p,m){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),p.slerpQuaternions(o,c,m)}static slerpFlat(o,c,p,m,x,_,T){let A=p[m+0],L=p[m+1],z=p[m+2],U=p[m+3];const G=x[_+0],K=x[_+1],te=x[_+2],ce=x[_+3];if(T===0){o[c+0]=A,o[c+1]=L,o[c+2]=z,o[c+3]=U;return}if(T===1){o[c+0]=G,o[c+1]=K,o[c+2]=te,o[c+3]=ce;return}if(U!==ce||A!==G||L!==K||z!==te){let Le=1-T;const ne=A*G+L*K+z*te+U*ce,q=ne>=0?1:-1,Fe=1-ne*ne;if(Fe>Number.EPSILON){const lt=Math.sqrt(Fe),Ot=Math.atan2(lt,ne*q);Le=Math.sin(Le*Ot)/lt,T=Math.sin(T*Ot)/lt}const Te=T*q;if(A=A*Le+G*Te,L=L*Le+K*Te,z=z*Le+te*Te,U=U*Le+ce*Te,Le===1-T){const lt=1/Math.sqrt(A*A+L*L+z*z+U*U);A*=lt,L*=lt,z*=lt,U*=lt}}o[c]=A,o[c+1]=L,o[c+2]=z,o[c+3]=U}static multiplyQuaternionsFlat(o,c,p,m,x,_){const T=p[m],A=p[m+1],L=p[m+2],z=p[m+3],U=x[_],G=x[_+1],K=x[_+2],te=x[_+3];return o[c]=T*te+z*U+A*K-L*G,o[c+1]=A*te+z*G+L*U-T*K,o[c+2]=L*te+z*K+T*G-A*U,o[c+3]=z*te-T*U-A*G-L*K,o}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get w(){return this._w}set w(o){this._w=o,this._onChangeCallback()}set(o,c,p,m){return this._x=o,this._y=c,this._z=p,this._w=m,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(o){return this._x=o.x,this._y=o.y,this._z=o.z,this._w=o.w,this._onChangeCallback(),this}setFromEuler(o,c){if(!(o&&o.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const p=o._x,m=o._y,x=o._z,_=o._order,T=Math.cos,A=Math.sin,L=T(p/2),z=T(m/2),U=T(x/2),G=A(p/2),K=A(m/2),te=A(x/2);switch(_){case"XYZ":this._x=G*z*U+L*K*te,this._y=L*K*U-G*z*te,this._z=L*z*te+G*K*U,this._w=L*z*U-G*K*te;break;case"YXZ":this._x=G*z*U+L*K*te,this._y=L*K*U-G*z*te,this._z=L*z*te-G*K*U,this._w=L*z*U+G*K*te;break;case"ZXY":this._x=G*z*U-L*K*te,this._y=L*K*U+G*z*te,this._z=L*z*te+G*K*U,this._w=L*z*U-G*K*te;break;case"ZYX":this._x=G*z*U-L*K*te,this._y=L*K*U+G*z*te,this._z=L*z*te-G*K*U,this._w=L*z*U+G*K*te;break;case"YZX":this._x=G*z*U+L*K*te,this._y=L*K*U+G*z*te,this._z=L*z*te-G*K*U,this._w=L*z*U-G*K*te;break;case"XZY":this._x=G*z*U-L*K*te,this._y=L*K*U-G*z*te,this._z=L*z*te+G*K*U,this._w=L*z*U+G*K*te;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+_)}return c!==!1&&this._onChangeCallback(),this}setFromAxisAngle(o,c){const p=c/2,m=Math.sin(p);return this._x=o.x*m,this._y=o.y*m,this._z=o.z*m,this._w=Math.cos(p),this._onChangeCallback(),this}setFromRotationMatrix(o){const c=o.elements,p=c[0],m=c[4],x=c[8],_=c[1],T=c[5],A=c[9],L=c[2],z=c[6],U=c[10],G=p+T+U;if(G>0){const K=.5/Math.sqrt(G+1);this._w=.25/K,this._x=(z-A)*K,this._y=(x-L)*K,this._z=(_-m)*K}else if(p>T&&p>U){const K=2*Math.sqrt(1+p-T-U);this._w=(z-A)/K,this._x=.25*K,this._y=(m+_)/K,this._z=(x+L)/K}else if(T>U){const K=2*Math.sqrt(1+T-p-U);this._w=(x-L)/K,this._x=(m+_)/K,this._y=.25*K,this._z=(A+z)/K}else{const K=2*Math.sqrt(1+U-p-T);this._w=(_-m)/K,this._x=(x+L)/K,this._y=(A+z)/K,this._z=.25*K}return this._onChangeCallback(),this}setFromUnitVectors(o,c){let p=o.dot(c)+1;return p<Number.EPSILON?(p=0,Math.abs(o.x)>Math.abs(o.z)?(this._x=-o.y,this._y=o.x,this._z=0,this._w=p):(this._x=0,this._y=-o.z,this._z=o.y,this._w=p)):(this._x=o.y*c.z-o.z*c.y,this._y=o.z*c.x-o.x*c.z,this._z=o.x*c.y-o.y*c.x,this._w=p),this.normalize()}angleTo(o){return 2*Math.acos(Math.abs(gi(this.dot(o),-1,1)))}rotateTowards(o,c){const p=this.angleTo(o);if(p===0)return this;const m=Math.min(1,c/p);return this.slerp(o,m),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(o){return this._x*o._x+this._y*o._y+this._z*o._z+this._w*o._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let o=this.length();return o===0?(this._x=0,this._y=0,this._z=0,this._w=1):(o=1/o,this._x=this._x*o,this._y=this._y*o,this._z=this._z*o,this._w=this._w*o),this._onChangeCallback(),this}multiply(o,c){return c!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(o,c)):this.multiplyQuaternions(this,o)}premultiply(o){return this.multiplyQuaternions(o,this)}multiplyQuaternions(o,c){const p=o._x,m=o._y,x=o._z,_=o._w,T=c._x,A=c._y,L=c._z,z=c._w;return this._x=p*z+_*T+m*L-x*A,this._y=m*z+_*A+x*T-p*L,this._z=x*z+_*L+p*A-m*T,this._w=_*z-p*T-m*A-x*L,this._onChangeCallback(),this}slerp(o,c){if(c===0)return this;if(c===1)return this.copy(o);const p=this._x,m=this._y,x=this._z,_=this._w;let T=_*o._w+p*o._x+m*o._y+x*o._z;if(T<0?(this._w=-o._w,this._x=-o._x,this._y=-o._y,this._z=-o._z,T=-T):this.copy(o),T>=1)return this._w=_,this._x=p,this._y=m,this._z=x,this;const A=1-T*T;if(A<=Number.EPSILON){const K=1-c;return this._w=K*_+c*this._w,this._x=K*p+c*this._x,this._y=K*m+c*this._y,this._z=K*x+c*this._z,this.normalize(),this._onChangeCallback(),this}const L=Math.sqrt(A),z=Math.atan2(L,T),U=Math.sin((1-c)*z)/L,G=Math.sin(c*z)/L;return this._w=_*U+this._w*G,this._x=p*U+this._x*G,this._y=m*U+this._y*G,this._z=x*U+this._z*G,this._onChangeCallback(),this}slerpQuaternions(o,c,p){this.copy(o).slerp(c,p)}random(){const o=Math.random(),c=Math.sqrt(1-o),p=Math.sqrt(o),m=2*Math.PI*Math.random(),x=2*Math.PI*Math.random();return this.set(c*Math.cos(m),p*Math.sin(x),p*Math.cos(x),c*Math.sin(m))}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._w===this._w}fromArray(o,c=0){return this._x=o[c],this._y=o[c+1],this._z=o[c+2],this._w=o[c+3],this._onChangeCallback(),this}toArray(o=[],c=0){return o[c]=this._x,o[c+1]=this._y,o[c+2]=this._z,o[c+3]=this._w,o}fromBufferAttribute(o,c){return this._x=o.getX(c),this._y=o.getY(c),this._z=o.getZ(c),this._w=o.getW(c),this}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}}Oo.prototype.isQuaternion=!0;class Ze{constructor(o=0,c=0,p=0){this.x=o,this.y=c,this.z=p}set(o,c,p){return p===void 0&&(p=this.z),this.x=o,this.y=c,this.z=p,this}setScalar(o){return this.x=o,this.y=o,this.z=o,this}setX(o){return this.x=o,this}setY(o){return this.y=o,this}setZ(o){return this.z=o,this}setComponent(o,c){switch(o){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;default:throw new Error("index is out of range: "+o)}return this}getComponent(o){switch(o){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+o)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(o){return this.x=o.x,this.y=o.y,this.z=o.z,this}add(o,c){return c!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(o,c)):(this.x+=o.x,this.y+=o.y,this.z+=o.z,this)}addScalar(o){return this.x+=o,this.y+=o,this.z+=o,this}addVectors(o,c){return this.x=o.x+c.x,this.y=o.y+c.y,this.z=o.z+c.z,this}addScaledVector(o,c){return this.x+=o.x*c,this.y+=o.y*c,this.z+=o.z*c,this}sub(o,c){return c!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(o,c)):(this.x-=o.x,this.y-=o.y,this.z-=o.z,this)}subScalar(o){return this.x-=o,this.y-=o,this.z-=o,this}subVectors(o,c){return this.x=o.x-c.x,this.y=o.y-c.y,this.z=o.z-c.z,this}multiply(o,c){return c!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(o,c)):(this.x*=o.x,this.y*=o.y,this.z*=o.z,this)}multiplyScalar(o){return this.x*=o,this.y*=o,this.z*=o,this}multiplyVectors(o,c){return this.x=o.x*c.x,this.y=o.y*c.y,this.z=o.z*c.z,this}applyEuler(o){return o&&o.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(su.setFromEuler(o))}applyAxisAngle(o,c){return this.applyQuaternion(su.setFromAxisAngle(o,c))}applyMatrix3(o){const c=this.x,p=this.y,m=this.z,x=o.elements;return this.x=x[0]*c+x[3]*p+x[6]*m,this.y=x[1]*c+x[4]*p+x[7]*m,this.z=x[2]*c+x[5]*p+x[8]*m,this}applyNormalMatrix(o){return this.applyMatrix3(o).normalize()}applyMatrix4(o){const c=this.x,p=this.y,m=this.z,x=o.elements,_=1/(x[3]*c+x[7]*p+x[11]*m+x[15]);return this.x=(x[0]*c+x[4]*p+x[8]*m+x[12])*_,this.y=(x[1]*c+x[5]*p+x[9]*m+x[13])*_,this.z=(x[2]*c+x[6]*p+x[10]*m+x[14])*_,this}applyQuaternion(o){const c=this.x,p=this.y,m=this.z,x=o.x,_=o.y,T=o.z,A=o.w,L=A*c+_*m-T*p,z=A*p+T*c-x*m,U=A*m+x*p-_*c,G=-x*c-_*p-T*m;return this.x=L*A+G*-x+z*-T-U*-_,this.y=z*A+G*-_+U*-x-L*-T,this.z=U*A+G*-T+L*-_-z*-x,this}project(o){return this.applyMatrix4(o.matrixWorldInverse).applyMatrix4(o.projectionMatrix)}unproject(o){return this.applyMatrix4(o.projectionMatrixInverse).applyMatrix4(o.matrixWorld)}transformDirection(o){const c=this.x,p=this.y,m=this.z,x=o.elements;return this.x=x[0]*c+x[4]*p+x[8]*m,this.y=x[1]*c+x[5]*p+x[9]*m,this.z=x[2]*c+x[6]*p+x[10]*m,this.normalize()}divide(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z,this}divideScalar(o){return this.multiplyScalar(1/o)}min(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this}max(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this}clamp(o,c){return this.x=Math.max(o.x,Math.min(c.x,this.x)),this.y=Math.max(o.y,Math.min(c.y,this.y)),this.z=Math.max(o.z,Math.min(c.z,this.z)),this}clampScalar(o,c){return this.x=Math.max(o,Math.min(c,this.x)),this.y=Math.max(o,Math.min(c,this.y)),this.z=Math.max(o,Math.min(c,this.z)),this}clampLength(o,c){const p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(o,Math.min(c,p)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(o){return this.x*o.x+this.y*o.y+this.z*o.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(o){return this.normalize().multiplyScalar(o)}lerp(o,c){return this.x+=(o.x-this.x)*c,this.y+=(o.y-this.y)*c,this.z+=(o.z-this.z)*c,this}lerpVectors(o,c,p){return this.x=o.x+(c.x-o.x)*p,this.y=o.y+(c.y-o.y)*p,this.z=o.z+(c.z-o.z)*p,this}cross(o,c){return c!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(o,c)):this.crossVectors(this,o)}crossVectors(o,c){const p=o.x,m=o.y,x=o.z,_=c.x,T=c.y,A=c.z;return this.x=m*A-x*T,this.y=x*_-p*A,this.z=p*T-m*_,this}projectOnVector(o){const c=o.lengthSq();if(c===0)return this.set(0,0,0);const p=o.dot(this)/c;return this.copy(o).multiplyScalar(p)}projectOnPlane(o){return Zs.copy(this).projectOnVector(o),this.sub(Zs)}reflect(o){return this.sub(Zs.copy(o).multiplyScalar(2*this.dot(o)))}angleTo(o){const c=Math.sqrt(this.lengthSq()*o.lengthSq());if(c===0)return Math.PI/2;const p=this.dot(o)/c;return Math.acos(gi(p,-1,1))}distanceTo(o){return Math.sqrt(this.distanceToSquared(o))}distanceToSquared(o){const c=this.x-o.x,p=this.y-o.y,m=this.z-o.z;return c*c+p*p+m*m}manhattanDistanceTo(o){return Math.abs(this.x-o.x)+Math.abs(this.y-o.y)+Math.abs(this.z-o.z)}setFromSpherical(o){return this.setFromSphericalCoords(o.radius,o.phi,o.theta)}setFromSphericalCoords(o,c,p){const m=Math.sin(c)*o;return this.x=m*Math.sin(p),this.y=Math.cos(c)*o,this.z=m*Math.cos(p),this}setFromCylindrical(o){return this.setFromCylindricalCoords(o.radius,o.theta,o.y)}setFromCylindricalCoords(o,c,p){return this.x=o*Math.sin(c),this.y=p,this.z=o*Math.cos(c),this}setFromMatrixPosition(o){const c=o.elements;return this.x=c[12],this.y=c[13],this.z=c[14],this}setFromMatrixScale(o){const c=this.setFromMatrixColumn(o,0).length(),p=this.setFromMatrixColumn(o,1).length(),m=this.setFromMatrixColumn(o,2).length();return this.x=c,this.y=p,this.z=m,this}setFromMatrixColumn(o,c){return this.fromArray(o.elements,c*4)}setFromMatrix3Column(o,c){return this.fromArray(o.elements,c*3)}equals(o){return o.x===this.x&&o.y===this.y&&o.z===this.z}fromArray(o,c=0){return this.x=o[c],this.y=o[c+1],this.z=o[c+2],this}toArray(o=[],c=0){return o[c]=this.x,o[c+1]=this.y,o[c+2]=this.z,o}fromBufferAttribute(o,c,p){return p!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=o.getX(c),this.y=o.getY(c),this.z=o.getZ(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const o=(Math.random()-.5)*2,c=Math.random()*Math.PI*2,p=Math.sqrt(1-P3(o,2));return this.x=p*Math.cos(c),this.y=p*Math.sin(c),this.z=o,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Ze.prototype.isVector3=!0;const Zs=new Ze,su=new Oo;class ho{constructor(o=new Ze(Infinity,Infinity,Infinity),c=new Ze(-Infinity,-Infinity,-Infinity)){this.min=o,this.max=c}set(o,c){return this.min.copy(o),this.max.copy(c),this}setFromArray(o){let c=Infinity,p=Infinity,m=Infinity,x=-Infinity,_=-Infinity,T=-Infinity;for(let A=0,L=o.length;A<L;A+=3){const z=o[A],U=o[A+1],G=o[A+2];z<c&&(c=z),U<p&&(p=U),G<m&&(m=G),z>x&&(x=z),U>_&&(_=U),G>T&&(T=G)}return this.min.set(c,p,m),this.max.set(x,_,T),this}setFromBufferAttribute(o){let c=Infinity,p=Infinity,m=Infinity,x=-Infinity,_=-Infinity,T=-Infinity;for(let A=0,L=o.count;A<L;A++){const z=o.getX(A),U=o.getY(A),G=o.getZ(A);z<c&&(c=z),U<p&&(p=U),G<m&&(m=G),z>x&&(x=z),U>_&&(_=U),G>T&&(T=G)}return this.min.set(c,p,m),this.max.set(x,_,T),this}setFromPoints(o){this.makeEmpty();for(let c=0,p=o.length;c<p;c++)this.expandByPoint(o[c]);return this}setFromCenterAndSize(o,c){const p=fl.copy(c).multiplyScalar(.5);return this.min.copy(o).sub(p),this.max.copy(o).add(p),this}setFromObject(o){return this.makeEmpty(),this.expandByObject(o)}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(o){return this.isEmpty()?o.set(0,0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}expandByObject(o){o.updateWorldMatrix(!1,!1);const c=o.geometry;c!==void 0&&(c.boundingBox===null&&c.computeBoundingBox(),Kc.copy(c.boundingBox),Kc.applyMatrix4(o.matrixWorld),this.union(Kc));const p=o.children;for(let m=0,x=p.length;m<x;m++)this.expandByObject(p[m]);return this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y||o.z<this.min.z||o.z>this.max.z)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y&&this.min.z<=o.min.z&&o.max.z<=this.max.z}getParameter(o,c){return c.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y),(o.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y||o.max.z<this.min.z||o.min.z>this.max.z)}intersectsSphere(o){return this.clampPoint(o.center,fl),fl.distanceToSquared(o.center)<=o.radius*o.radius}intersectsPlane(o){let c,p;return o.normal.x>0?(c=o.normal.x*this.min.x,p=o.normal.x*this.max.x):(c=o.normal.x*this.max.x,p=o.normal.x*this.min.x),o.normal.y>0?(c+=o.normal.y*this.min.y,p+=o.normal.y*this.max.y):(c+=o.normal.y*this.max.y,p+=o.normal.y*this.min.y),o.normal.z>0?(c+=o.normal.z*this.min.z,p+=o.normal.z*this.max.z):(c+=o.normal.z*this.max.z,p+=o.normal.z*this.min.z),c<=-o.constant&&p>=-o.constant}intersectsTriangle(o){if(this.isEmpty())return!1;this.getCenter(Iu),Cf.subVectors(this.max,Iu),dl.subVectors(o.a,Iu),mc.subVectors(o.b,Iu),yc.subVectors(o.c,Iu),Zu.subVectors(mc,dl),Ol.subVectors(yc,mc),hl.subVectors(dl,yc);let c=[0,-Zu.z,Zu.y,0,-Ol.z,Ol.y,0,-hl.z,hl.y,Zu.z,0,-Zu.x,Ol.z,0,-Ol.x,hl.z,0,-hl.x,-Zu.y,Zu.x,0,-Ol.y,Ol.x,0,-hl.y,hl.x,0];return!lu(c,dl,mc,yc,Cf)||(c=[1,0,0,0,1,0,0,0,1],!lu(c,dl,mc,yc,Cf))?!1:(Tf.crossVectors(Zu,Ol),c=[Tf.x,Tf.y,Tf.z],lu(c,dl,mc,yc,Cf))}clampPoint(o,c){return c.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return fl.copy(o).clamp(this.min,this.max).sub(o).length()}getBoundingSphere(o){return this.getCenter(o.center),o.radius=this.getSize(fl).length()*.5,o}intersect(o){return this.min.max(o.min),this.max.min(o.max),this.isEmpty()&&this.makeEmpty(),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}applyMatrix4(o){return this.isEmpty()?this:(Bo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(o),Bo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(o),Bo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(o),Bo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(o),Bo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(o),Bo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(o),Bo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(o),Bo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(o),this.setFromPoints(Bo),this)}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}ho.prototype.isBox3=!0;const Bo=[new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze],fl=new Ze,Kc=new ho,dl=new Ze,mc=new Ze,yc=new Ze,Zu=new Ze,Ol=new Ze,hl=new Ze,Iu=new Ze,Cf=new Ze,Tf=new Ze,bc=new Ze;function lu(w,o,c,p,m){for(let x=0,_=w.length-3;x<=_;x+=3){bc.fromArray(w,x);const T=m.x*Math.abs(bc.x)+m.y*Math.abs(bc.y)+m.z*Math.abs(bc.z),A=o.dot(bc),L=c.dot(bc),z=p.dot(bc);if(Math.max(-Math.max(A,L,z),Math.min(A,L,z))>T)return!1}return!0}const zg=new ho,$u=new Ze,rv=new Ze,mi=new Ze;class uu{constructor(o=new Ze,c=-1){this.center=o,this.radius=c}set(o,c){return this.center.copy(o),this.radius=c,this}setFromPoints(o,c){const p=this.center;c!==void 0?p.copy(c):zg.setFromPoints(o).getCenter(p);let m=0;for(let x=0,_=o.length;x<_;x++)m=Math.max(m,p.distanceToSquared(o[x]));return this.radius=Math.sqrt(m),this}copy(o){return this.center.copy(o.center),this.radius=o.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(o){return o.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(o){return o.distanceTo(this.center)-this.radius}intersectsSphere(o){const c=this.radius+o.radius;return o.center.distanceToSquared(this.center)<=c*c}intersectsBox(o){return o.intersectsSphere(this)}intersectsPlane(o){return Math.abs(o.distanceToPoint(this.center))<=this.radius}clampPoint(o,c){const p=this.center.distanceToSquared(o);return c.copy(o),p>this.radius*this.radius&&(c.sub(this.center).normalize(),c.multiplyScalar(this.radius).add(this.center)),c}getBoundingBox(o){return this.isEmpty()?(o.makeEmpty(),o):(o.set(this.center,this.center),o.expandByScalar(this.radius),o)}applyMatrix4(o){return this.center.applyMatrix4(o),this.radius=this.radius*o.getMaxScaleOnAxis(),this}translate(o){return this.center.add(o),this}expandByPoint(o){mi.subVectors(o,this.center);const c=mi.lengthSq();if(c>this.radius*this.radius){const p=Math.sqrt(c),m=(p-this.radius)*.5;this.center.add(mi.multiplyScalar(m/p)),this.radius+=m}return this}union(o){return rv.subVectors(o.center,this.center).normalize().multiplyScalar(o.radius),this.expandByPoint($u.copy(o.center).add(rv)),this.expandByPoint($u.copy(o.center).sub(rv)),this}equals(o){return o.center.equals(this.center)&&o.radius===this.radius}clone(){return new this.constructor().copy(this)}}const cu=new Ze,Nu=new Ze,Ju=new Ze,El=new Ze,Qu=new Ze,Yc=new Ze,fu=new Ze;class Of{constructor(o=new Ze,c=new Ze(0,0,-1)){this.origin=o,this.direction=c}set(o,c){return this.origin.copy(o),this.direction.copy(c),this}copy(o){return this.origin.copy(o.origin),this.direction.copy(o.direction),this}at(o,c){return c.copy(this.direction).multiplyScalar(o).add(this.origin)}lookAt(o){return this.direction.copy(o).sub(this.origin).normalize(),this}recast(o){return this.origin.copy(this.at(o,cu)),this}closestPointToPoint(o,c){c.subVectors(o,this.origin);const p=c.dot(this.direction);return p<0?c.copy(this.origin):c.copy(this.direction).multiplyScalar(p).add(this.origin)}distanceToPoint(o){return Math.sqrt(this.distanceSqToPoint(o))}distanceSqToPoint(o){const c=cu.subVectors(o,this.origin).dot(this.direction);return c<0?this.origin.distanceToSquared(o):(cu.copy(this.direction).multiplyScalar(c).add(this.origin),cu.distanceToSquared(o))}distanceSqToSegment(o,c,p,m){Nu.copy(o).add(c).multiplyScalar(.5),Ju.copy(c).sub(o).normalize(),El.copy(this.origin).sub(Nu);const x=o.distanceTo(c)*.5,_=-this.direction.dot(Ju),T=El.dot(this.direction),A=-El.dot(Ju),L=El.lengthSq(),z=Math.abs(1-_*_);let U,G,K,te;if(z>0)if(U=_*A-T,G=_*T-A,te=x*z,U>=0)if(G>=-te)if(G<=te){const ce=1/z;U*=ce,G*=ce,K=U*(U+_*G+2*T)+G*(_*U+G+2*A)+L}else G=x,U=Math.max(0,-(_*G+T)),K=-U*U+G*(G+2*A)+L;else G=-x,U=Math.max(0,-(_*G+T)),K=-U*U+G*(G+2*A)+L;else G<=-te?(U=Math.max(0,-(-_*x+T)),G=U>0?-x:Math.min(Math.max(-x,-A),x),K=-U*U+G*(G+2*A)+L):G<=te?(U=0,G=Math.min(Math.max(-x,-A),x),K=G*(G+2*A)+L):(U=Math.max(0,-(_*x+T)),G=U>0?x:Math.min(Math.max(-x,-A),x),K=-U*U+G*(G+2*A)+L);else G=_>0?-x:x,U=Math.max(0,-(_*G+T)),K=-U*U+G*(G+2*A)+L;return p&&p.copy(this.direction).multiplyScalar(U).add(this.origin),m&&m.copy(Ju).multiplyScalar(G).add(Nu),K}intersectSphere(o,c){cu.subVectors(o.center,this.origin);const p=cu.dot(this.direction),m=cu.dot(cu)-p*p,x=o.radius*o.radius;if(m>x)return null;const _=Math.sqrt(x-m),T=p-_,A=p+_;return T<0&&A<0?null:T<0?this.at(A,c):this.at(T,c)}intersectsSphere(o){return this.distanceSqToPoint(o.center)<=o.radius*o.radius}distanceToPlane(o){const c=o.normal.dot(this.direction);if(c===0)return o.distanceToPoint(this.origin)===0?0:null;const p=-(this.origin.dot(o.normal)+o.constant)/c;return p>=0?p:null}intersectPlane(o,c){const p=this.distanceToPlane(o);return p===null?null:this.at(p,c)}intersectsPlane(o){const c=o.distanceToPoint(this.origin);return c===0||o.normal.dot(this.direction)*c<0}intersectBox(o,c){let p,m,x,_,T,A;const L=1/this.direction.x,z=1/this.direction.y,U=1/this.direction.z,G=this.origin;return L>=0?(p=(o.min.x-G.x)*L,m=(o.max.x-G.x)*L):(p=(o.max.x-G.x)*L,m=(o.min.x-G.x)*L),z>=0?(x=(o.min.y-G.y)*z,_=(o.max.y-G.y)*z):(x=(o.max.y-G.y)*z,_=(o.min.y-G.y)*z),p>_||x>m||((x>p||p!==p)&&(p=x),(_<m||m!==m)&&(m=_),U>=0?(T=(o.min.z-G.z)*U,A=(o.max.z-G.z)*U):(T=(o.max.z-G.z)*U,A=(o.min.z-G.z)*U),p>A||T>m)||((T>p||p!==p)&&(p=T),(A<m||m!==m)&&(m=A),m<0)?null:this.at(p>=0?p:m,c)}intersectsBox(o){return this.intersectBox(o,cu)!==null}intersectTriangle(o,c,p,m,x){Qu.subVectors(c,o),Yc.subVectors(p,o),fu.crossVectors(Qu,Yc);let _=this.direction.dot(fu),T;if(_>0){if(m)return null;T=1}else if(_<0)T=-1,_=-_;else return null;El.subVectors(this.origin,o);const A=T*this.direction.dot(Yc.crossVectors(El,Yc));if(A<0)return null;const L=T*this.direction.dot(Qu.cross(El));if(L<0||A+L>_)return null;const z=-T*El.dot(fu);return z<0?null:this.at(z/_,x)}applyMatrix4(o){return this.origin.applyMatrix4(o),this.direction.transformDirection(o),this}equals(o){return o.origin.equals(this.origin)&&o.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Hn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(o,c,p,m,x,_,T,A,L,z,U,G,K,te,ce,Le){const ne=this.elements;return ne[0]=o,ne[4]=c,ne[8]=p,ne[12]=m,ne[1]=x,ne[5]=_,ne[9]=T,ne[13]=A,ne[2]=L,ne[6]=z,ne[10]=U,ne[14]=G,ne[3]=K,ne[7]=te,ne[11]=ce,ne[15]=Le,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Hn().fromArray(this.elements)}copy(o){const c=this.elements,p=o.elements;return c[0]=p[0],c[1]=p[1],c[2]=p[2],c[3]=p[3],c[4]=p[4],c[5]=p[5],c[6]=p[6],c[7]=p[7],c[8]=p[8],c[9]=p[9],c[10]=p[10],c[11]=p[11],c[12]=p[12],c[13]=p[13],c[14]=p[14],c[15]=p[15],this}copyPosition(o){const c=this.elements,p=o.elements;return c[12]=p[12],c[13]=p[13],c[14]=p[14],this}setFromMatrix3(o){const c=o.elements;return this.set(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0,0,0,0,1),this}extractBasis(o,c,p){return o.setFromMatrixColumn(this,0),c.setFromMatrixColumn(this,1),p.setFromMatrixColumn(this,2),this}makeBasis(o,c,p){return this.set(o.x,c.x,p.x,0,o.y,c.y,p.y,0,o.z,c.z,p.z,0,0,0,0,1),this}extractRotation(o){const c=this.elements,p=o.elements,m=1/xc.setFromMatrixColumn(o,0).length(),x=1/xc.setFromMatrixColumn(o,1).length(),_=1/xc.setFromMatrixColumn(o,2).length();return c[0]=p[0]*m,c[1]=p[1]*m,c[2]=p[2]*m,c[3]=0,c[4]=p[4]*x,c[5]=p[5]*x,c[6]=p[6]*x,c[7]=0,c[8]=p[8]*_,c[9]=p[9]*_,c[10]=p[10]*_,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromEuler(o){o&&o.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const c=this.elements,p=o.x,m=o.y,x=o.z,_=Math.cos(p),T=Math.sin(p),A=Math.cos(m),L=Math.sin(m),z=Math.cos(x),U=Math.sin(x);if(o.order==="XYZ"){const G=_*z,K=_*U,te=T*z,ce=T*U;c[0]=A*z,c[4]=-A*U,c[8]=L,c[1]=K+te*L,c[5]=G-ce*L,c[9]=-T*A,c[2]=ce-G*L,c[6]=te+K*L,c[10]=_*A}else if(o.order==="YXZ"){const G=A*z,K=A*U,te=L*z,ce=L*U;c[0]=G+ce*T,c[4]=te*T-K,c[8]=_*L,c[1]=_*U,c[5]=_*z,c[9]=-T,c[2]=K*T-te,c[6]=ce+G*T,c[10]=_*A}else if(o.order==="ZXY"){const G=A*z,K=A*U,te=L*z,ce=L*U;c[0]=G-ce*T,c[4]=-_*U,c[8]=te+K*T,c[1]=K+te*T,c[5]=_*z,c[9]=ce-G*T,c[2]=-_*L,c[6]=T,c[10]=_*A}else if(o.order==="ZYX"){const G=_*z,K=_*U,te=T*z,ce=T*U;c[0]=A*z,c[4]=te*L-K,c[8]=G*L+ce,c[1]=A*U,c[5]=ce*L+G,c[9]=K*L-te,c[2]=-L,c[6]=T*A,c[10]=_*A}else if(o.order==="YZX"){const G=_*A,K=_*L,te=T*A,ce=T*L;c[0]=A*z,c[4]=ce-G*U,c[8]=te*U+K,c[1]=U,c[5]=_*z,c[9]=-T*z,c[2]=-L*z,c[6]=K*U+te,c[10]=G-ce*U}else if(o.order==="XZY"){const G=_*A,K=_*L,te=T*A,ce=T*L;c[0]=A*z,c[4]=-U,c[8]=L*z,c[1]=G*U+ce,c[5]=_*z,c[9]=K*U-te,c[2]=te*U-K,c[6]=T*z,c[10]=ce*U+G}return c[3]=0,c[7]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromQuaternion(o){return this.compose(Vg,o,Yl)}lookAt(o,c,p){const m=this.elements;return $s.subVectors(o,c),$s.lengthSq()===0&&($s.z=1),$s.normalize(),Sc.crossVectors(p,$s),Sc.lengthSq()===0&&(Math.abs(p.z)===1?$s.x+=1e-4:$s.z+=1e-4,$s.normalize(),Sc.crossVectors(p,$s)),Sc.normalize(),wc.crossVectors($s,Sc),m[0]=Sc.x,m[4]=wc.x,m[8]=$s.x,m[1]=Sc.y,m[5]=wc.y,m[9]=$s.y,m[2]=Sc.z,m[6]=wc.z,m[10]=$s.z,this}multiply(o,c){return c!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(o,c)):this.multiplyMatrices(this,o)}premultiply(o){return this.multiplyMatrices(o,this)}multiplyMatrices(o,c){const p=o.elements,m=c.elements,x=this.elements,_=p[0],T=p[4],A=p[8],L=p[12],z=p[1],U=p[5],G=p[9],K=p[13],te=p[2],ce=p[6],Le=p[10],ne=p[14],q=p[3],Fe=p[7],Te=p[11],lt=p[15],Ot=m[0],He=m[4],Bt=m[8],dn=m[12],qt=m[1],Ht=m[5],qn=m[9],xn=m[13],mn=m[2],En=m[6],Mn=m[10],On=m[14],_r=m[3],di=m[7],Ci=m[11],$r=m[15];return x[0]=_*Ot+T*qt+A*mn+L*_r,x[4]=_*He+T*Ht+A*En+L*di,x[8]=_*Bt+T*qn+A*Mn+L*Ci,x[12]=_*dn+T*xn+A*On+L*$r,x[1]=z*Ot+U*qt+G*mn+K*_r,x[5]=z*He+U*Ht+G*En+K*di,x[9]=z*Bt+U*qn+G*Mn+K*Ci,x[13]=z*dn+U*xn+G*On+K*$r,x[2]=te*Ot+ce*qt+Le*mn+ne*_r,x[6]=te*He+ce*Ht+Le*En+ne*di,x[10]=te*Bt+ce*qn+Le*Mn+ne*Ci,x[14]=te*dn+ce*xn+Le*On+ne*$r,x[3]=q*Ot+Fe*qt+Te*mn+lt*_r,x[7]=q*He+Fe*Ht+Te*En+lt*di,x[11]=q*Bt+Fe*qn+Te*Mn+lt*Ci,x[15]=q*dn+Fe*xn+Te*On+lt*$r,this}multiplyScalar(o){const c=this.elements;return c[0]*=o,c[4]*=o,c[8]*=o,c[12]*=o,c[1]*=o,c[5]*=o,c[9]*=o,c[13]*=o,c[2]*=o,c[6]*=o,c[10]*=o,c[14]*=o,c[3]*=o,c[7]*=o,c[11]*=o,c[15]*=o,this}determinant(){const o=this.elements,c=o[0],p=o[4],m=o[8],x=o[12],_=o[1],T=o[5],A=o[9],L=o[13],z=o[2],U=o[6],G=o[10],K=o[14],te=o[3],ce=o[7],Le=o[11],ne=o[15];return te*(+x*A*U-m*L*U-x*T*G+p*L*G+m*T*K-p*A*K)+ce*(+c*A*K-c*L*G+x*_*G-m*_*K+m*L*z-x*A*z)+Le*(+c*L*U-c*T*K-x*_*U+p*_*K+x*T*z-p*L*z)+ne*(-m*T*z-c*A*U+c*T*G+m*_*U-p*_*G+p*A*z)}transpose(){const o=this.elements;let c;return c=o[1],o[1]=o[4],o[4]=c,c=o[2],o[2]=o[8],o[8]=c,c=o[6],o[6]=o[9],o[9]=c,c=o[3],o[3]=o[12],o[12]=c,c=o[7],o[7]=o[13],o[13]=c,c=o[11],o[11]=o[14],o[14]=c,this}setPosition(o,c,p){const m=this.elements;return o.isVector3?(m[12]=o.x,m[13]=o.y,m[14]=o.z):(m[12]=o,m[13]=c,m[14]=p),this}invert(){const o=this.elements,c=o[0],p=o[1],m=o[2],x=o[3],_=o[4],T=o[5],A=o[6],L=o[7],z=o[8],U=o[9],G=o[10],K=o[11],te=o[12],ce=o[13],Le=o[14],ne=o[15],q=U*Le*L-ce*G*L+ce*A*K-T*Le*K-U*A*ne+T*G*ne,Fe=te*G*L-z*Le*L-te*A*K+_*Le*K+z*A*ne-_*G*ne,Te=z*ce*L-te*U*L+te*T*K-_*ce*K-z*T*ne+_*U*ne,lt=te*U*A-z*ce*A-te*T*G+_*ce*G+z*T*Le-_*U*Le,Ot=c*q+p*Fe+m*Te+x*lt;if(Ot===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const He=1/Ot;return o[0]=q*He,o[1]=(ce*G*x-U*Le*x-ce*m*K+p*Le*K+U*m*ne-p*G*ne)*He,o[2]=(T*Le*x-ce*A*x+ce*m*L-p*Le*L-T*m*ne+p*A*ne)*He,o[3]=(U*A*x-T*G*x-U*m*L+p*G*L+T*m*K-p*A*K)*He,o[4]=Fe*He,o[5]=(z*Le*x-te*G*x+te*m*K-c*Le*K-z*m*ne+c*G*ne)*He,o[6]=(te*A*x-_*Le*x-te*m*L+c*Le*L+_*m*ne-c*A*ne)*He,o[7]=(_*G*x-z*A*x+z*m*L-c*G*L-_*m*K+c*A*K)*He,o[8]=Te*He,o[9]=(te*U*x-z*ce*x-te*p*K+c*ce*K+z*p*ne-c*U*ne)*He,o[10]=(_*ce*x-te*T*x+te*p*L-c*ce*L-_*p*ne+c*T*ne)*He,o[11]=(z*T*x-_*U*x-z*p*L+c*U*L+_*p*K-c*T*K)*He,o[12]=lt*He,o[13]=(z*ce*m-te*U*m+te*p*G-c*ce*G-z*p*Le+c*U*Le)*He,o[14]=(te*T*m-_*ce*m-te*p*A+c*ce*A+_*p*Le-c*T*Le)*He,o[15]=(_*U*m-z*T*m+z*p*A-c*U*A-_*p*G+c*T*G)*He,this}scale(o){const c=this.elements,p=o.x,m=o.y,x=o.z;return c[0]*=p,c[4]*=m,c[8]*=x,c[1]*=p,c[5]*=m,c[9]*=x,c[2]*=p,c[6]*=m,c[10]*=x,c[3]*=p,c[7]*=m,c[11]*=x,this}getMaxScaleOnAxis(){const o=this.elements,c=o[0]*o[0]+o[1]*o[1]+o[2]*o[2],p=o[4]*o[4]+o[5]*o[5]+o[6]*o[6],m=o[8]*o[8]+o[9]*o[9]+o[10]*o[10];return Math.sqrt(Math.max(c,p,m))}makeTranslation(o,c,p){return this.set(1,0,0,o,0,1,0,c,0,0,1,p,0,0,0,1),this}makeRotationX(o){const c=Math.cos(o),p=Math.sin(o);return this.set(1,0,0,0,0,c,-p,0,0,p,c,0,0,0,0,1),this}makeRotationY(o){const c=Math.cos(o),p=Math.sin(o);return this.set(c,0,p,0,0,1,0,0,-p,0,c,0,0,0,0,1),this}makeRotationZ(o){const c=Math.cos(o),p=Math.sin(o);return this.set(c,-p,0,0,p,c,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(o,c){const p=Math.cos(c),m=Math.sin(c),x=1-p,_=o.x,T=o.y,A=o.z,L=x*_,z=x*T;return this.set(L*_+p,L*T-m*A,L*A+m*T,0,L*T+m*A,z*T+p,z*A-m*_,0,L*A-m*T,z*A+m*_,x*A*A+p,0,0,0,0,1),this}makeScale(o,c,p){return this.set(o,0,0,0,0,c,0,0,0,0,p,0,0,0,0,1),this}makeShear(o,c,p,m,x,_){return this.set(1,p,x,0,o,1,_,0,c,m,1,0,0,0,0,1),this}compose(o,c,p){const m=this.elements,x=c._x,_=c._y,T=c._z,A=c._w,L=x+x,z=_+_,U=T+T,G=x*L,K=x*z,te=x*U,ce=_*z,Le=_*U,ne=T*U,q=A*L,Fe=A*z,Te=A*U,lt=p.x,Ot=p.y,He=p.z;return m[0]=(1-(ce+ne))*lt,m[1]=(K+Te)*lt,m[2]=(te-Fe)*lt,m[3]=0,m[4]=(K-Te)*Ot,m[5]=(1-(G+ne))*Ot,m[6]=(Le+q)*Ot,m[7]=0,m[8]=(te+Fe)*He,m[9]=(Le-q)*He,m[10]=(1-(G+ce))*He,m[11]=0,m[12]=o.x,m[13]=o.y,m[14]=o.z,m[15]=1,this}decompose(o,c,p){const m=this.elements;let x=xc.set(m[0],m[1],m[2]).length();const _=xc.set(m[4],m[5],m[6]).length(),T=xc.set(m[8],m[9],m[10]).length();this.determinant()<0&&(x=-x),o.x=m[12],o.y=m[13],o.z=m[14],Eo.copy(this);const L=1/x,z=1/_,U=1/T;return Eo.elements[0]*=L,Eo.elements[1]*=L,Eo.elements[2]*=L,Eo.elements[4]*=z,Eo.elements[5]*=z,Eo.elements[6]*=z,Eo.elements[8]*=U,Eo.elements[9]*=U,Eo.elements[10]*=U,c.setFromRotationMatrix(Eo),p.x=x,p.y=_,p.z=T,this}makePerspective(o,c,p,m,x,_){_===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const T=this.elements,A=2*x/(c-o),L=2*x/(p-m),z=(c+o)/(c-o),U=(p+m)/(p-m),G=-(_+x)/(_-x),K=-2*_*x/(_-x);return T[0]=A,T[4]=0,T[8]=z,T[12]=0,T[1]=0,T[5]=L,T[9]=U,T[13]=0,T[2]=0,T[6]=0,T[10]=G,T[14]=K,T[3]=0,T[7]=0,T[11]=-1,T[15]=0,this}makeOrthographic(o,c,p,m,x,_){const T=this.elements,A=1/(c-o),L=1/(p-m),z=1/(_-x),U=(c+o)*A,G=(p+m)*L,K=(_+x)*z;return T[0]=2*A,T[4]=0,T[8]=0,T[12]=-U,T[1]=0,T[5]=2*L,T[9]=0,T[13]=-G,T[2]=0,T[6]=0,T[10]=-2*z,T[14]=-K,T[3]=0,T[7]=0,T[11]=0,T[15]=1,this}equals(o){const c=this.elements,p=o.elements;for(let m=0;m<16;m++)if(c[m]!==p[m])return!1;return!0}fromArray(o,c=0){for(let p=0;p<16;p++)this.elements[p]=o[p+c];return this}toArray(o=[],c=0){const p=this.elements;return o[c]=p[0],o[c+1]=p[1],o[c+2]=p[2],o[c+3]=p[3],o[c+4]=p[4],o[c+5]=p[5],o[c+6]=p[6],o[c+7]=p[7],o[c+8]=p[8],o[c+9]=p[9],o[c+10]=p[10],o[c+11]=p[11],o[c+12]=p[12],o[c+13]=p[13],o[c+14]=p[14],o[c+15]=p[15],o}}Hn.prototype.isMatrix4=!0;const xc=new Ze,Eo=new Hn,Vg=new Ze(0,0,0),Yl=new Ze(1,1,1),Sc=new Ze,wc=new Ze,$s=new Ze,Xc=new Hn,Gd=new Oo;class ku{constructor(o=0,c=0,p=0,m=ku.DefaultOrder){this._x=o,this._y=c,this._z=p,this._order=m}get x(){return this._x}set x(o){this._x=o,this._onChangeCallback()}get y(){return this._y}set y(o){this._y=o,this._onChangeCallback()}get z(){return this._z}set z(o){this._z=o,this._onChangeCallback()}get order(){return this._order}set order(o){this._order=o,this._onChangeCallback()}set(o,c,p,m=this._order){return this._x=o,this._y=c,this._z=p,this._order=m,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(o){return this._x=o._x,this._y=o._y,this._z=o._z,this._order=o._order,this._onChangeCallback(),this}setFromRotationMatrix(o,c=this._order,p=!0){const m=o.elements,x=m[0],_=m[4],T=m[8],A=m[1],L=m[5],z=m[9],U=m[2],G=m[6],K=m[10];switch(c){case"XYZ":this._y=Math.asin(gi(T,-1,1)),Math.abs(T)<.9999999?(this._x=Math.atan2(-z,K),this._z=Math.atan2(-_,x)):(this._x=Math.atan2(G,L),this._z=0);break;case"YXZ":this._x=Math.asin(-gi(z,-1,1)),Math.abs(z)<.9999999?(this._y=Math.atan2(T,K),this._z=Math.atan2(A,L)):(this._y=Math.atan2(-U,x),this._z=0);break;case"ZXY":this._x=Math.asin(gi(G,-1,1)),Math.abs(G)<.9999999?(this._y=Math.atan2(-U,K),this._z=Math.atan2(-_,L)):(this._y=0,this._z=Math.atan2(A,x));break;case"ZYX":this._y=Math.asin(-gi(U,-1,1)),Math.abs(U)<.9999999?(this._x=Math.atan2(G,K),this._z=Math.atan2(A,x)):(this._x=0,this._z=Math.atan2(-_,L));break;case"YZX":this._z=Math.asin(gi(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-z,L),this._y=Math.atan2(-U,x)):(this._x=0,this._y=Math.atan2(T,K));break;case"XZY":this._z=Math.asin(-gi(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(G,L),this._y=Math.atan2(T,x)):(this._x=Math.atan2(-z,K),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+c)}return this._order=c,p===!0&&this._onChangeCallback(),this}setFromQuaternion(o,c,p){return Xc.makeRotationFromQuaternion(o),this.setFromRotationMatrix(Xc,c,p)}setFromVector3(o,c=this._order){return this.set(o.x,o.y,o.z,c)}reorder(o){return Gd.setFromEuler(this),this.setFromQuaternion(Gd,o)}equals(o){return o._x===this._x&&o._y===this._y&&o._z===this._z&&o._order===this._order}fromArray(o){return this._x=o[0],this._y=o[1],this._z=o[2],o[3]!==void 0&&(this._order=o[3]),this._onChangeCallback(),this}toArray(o=[],c=0){return o[c]=this._x,o[c+1]=this._y,o[c+2]=this._z,o[c+3]=this._order,o}toVector3(o){return o?o.set(this._x,this._y,this._z):new Ze(this._x,this._y,this._z)}_onChange(o){return this._onChangeCallback=o,this}_onChangeCallback(){}}ku.prototype.isEuler=!0,ku.DefaultOrder="XYZ",ku.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Al{constructor(){this.mask=1|0}set(o){this.mask=1<<o|0}enable(o){this.mask|=1<<o|0}enableAll(){this.mask=4294967295|0}toggle(o){this.mask^=1<<o|0}disable(o){this.mask&=~(1<<o|0)}disableAll(){this.mask=0}test(o){return(this.mask&o.mask)!=0}}let Ud=0;const Wd=new Ze,Mc=new Oo,qu=new Hn,_c=new Ze,Kd=new Ze,Bh=new Ze,iv=new Oo,Fh=new Ze(1,0,0),Hg=new Ze(0,1,0),zh=new Ze(0,0,1),wy={type:"added"},Gg={type:"removed"};class La extends bo{constructor(){super();Object.defineProperty(this,"id",{value:Ud++}),this.uuid=Zr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=La.DefaultUp.clone();const o=new Ze,c=new ku,p=new Oo,m=new Ze(1,1,1);function x(){p.setFromEuler(c,!1)}function _(){c.setFromQuaternion(p,void 0,!1)}c._onChange(x),p._onChange(_),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:o},rotation:{configurable:!0,enumerable:!0,value:c},quaternion:{configurable:!0,enumerable:!0,value:p},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new Hn},normalMatrix:{value:new oo}}),this.matrix=new Hn,this.matrixWorld=new Hn,this.matrixAutoUpdate=La.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Al,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(o){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(o),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(o){return this.quaternion.premultiply(o),this}setRotationFromAxisAngle(o,c){this.quaternion.setFromAxisAngle(o,c)}setRotationFromEuler(o){this.quaternion.setFromEuler(o,!0)}setRotationFromMatrix(o){this.quaternion.setFromRotationMatrix(o)}setRotationFromQuaternion(o){this.quaternion.copy(o)}rotateOnAxis(o,c){return Mc.setFromAxisAngle(o,c),this.quaternion.multiply(Mc),this}rotateOnWorldAxis(o,c){return Mc.setFromAxisAngle(o,c),this.quaternion.premultiply(Mc),this}rotateX(o){return this.rotateOnAxis(Fh,o)}rotateY(o){return this.rotateOnAxis(Hg,o)}rotateZ(o){return this.rotateOnAxis(zh,o)}translateOnAxis(o,c){return Wd.copy(o).applyQuaternion(this.quaternion),this.position.add(Wd.multiplyScalar(c)),this}translateX(o){return this.translateOnAxis(Fh,o)}translateY(o){return this.translateOnAxis(Hg,o)}translateZ(o){return this.translateOnAxis(zh,o)}localToWorld(o){return o.applyMatrix4(this.matrixWorld)}worldToLocal(o){return o.applyMatrix4(qu.copy(this.matrixWorld).invert())}lookAt(o,c,p){o.isVector3?_c.copy(o):_c.set(o,c,p);const m=this.parent;this.updateWorldMatrix(!0,!1),Kd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qu.lookAt(Kd,_c,this.up):qu.lookAt(_c,Kd,this.up),this.quaternion.setFromRotationMatrix(qu),m&&(qu.extractRotation(m.matrixWorld),Mc.setFromRotationMatrix(qu),this.quaternion.premultiply(Mc.invert()))}add(o){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.add(arguments[c]);return this}return o===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",o),this):(o&&o.isObject3D?(o.parent!==null&&o.parent.remove(o),o.parent=this,this.children.push(o),o.dispatchEvent(wy)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",o),this)}remove(o){if(arguments.length>1){for(let p=0;p<arguments.length;p++)this.remove(arguments[p]);return this}const c=this.children.indexOf(o);return c!==-1&&(o.parent=null,this.children.splice(c,1),o.dispatchEvent(Gg)),this}removeFromParent(){const o=this.parent;return o!==null&&o.remove(this),this}clear(){for(let o=0;o<this.children.length;o++){const c=this.children[o];c.parent=null,c.dispatchEvent(Gg)}return this.children.length=0,this}attach(o){return this.updateWorldMatrix(!0,!1),qu.copy(this.matrixWorld).invert(),o.parent!==null&&(o.parent.updateWorldMatrix(!0,!1),qu.multiply(o.parent.matrixWorld)),o.applyMatrix4(qu),this.add(o),o.updateWorldMatrix(!1,!0),this}getObjectById(o){return this.getObjectByProperty("id",o)}getObjectByName(o){return this.getObjectByProperty("name",o)}getObjectByProperty(o,c){if(this[o]===c)return this;for(let p=0,m=this.children.length;p<m;p++){const _=this.children[p].getObjectByProperty(o,c);if(_!==void 0)return _}}getWorldPosition(o){return this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kd,o,Bh),o}getWorldScale(o){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kd,iv,o),o}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const c=this.matrixWorld.elements;return o.set(c[8],c[9],c[10]).normalize()}raycast(){}traverse(o){o(this);const c=this.children;for(let p=0,m=c.length;p<m;p++)c[p].traverse(o)}traverseVisible(o){if(this.visible===!1)return;o(this);const c=this.children;for(let p=0,m=c.length;p<m;p++)c[p].traverseVisible(o)}traverseAncestors(o){const c=this.parent;c!==null&&(o(c),c.traverseAncestors(o))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(o){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||o)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,o=!0);const c=this.children;for(let p=0,m=c.length;p<m;p++)c[p].updateMatrixWorld(o)}updateWorldMatrix(o,c){const p=this.parent;if(o===!0&&p!==null&&p.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),c===!0){const m=this.children;for(let x=0,_=m.length;x<_;x++)m[x].updateWorldMatrix(!1,!0)}}toJSON(o){const c=o===void 0||typeof o=="string",p={};c&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},p.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const m={};m.uuid=this.uuid,m.type=this.type,this.name!==""&&(m.name=this.name),this.castShadow===!0&&(m.castShadow=!0),this.receiveShadow===!0&&(m.receiveShadow=!0),this.visible===!1&&(m.visible=!1),this.frustumCulled===!1&&(m.frustumCulled=!1),this.renderOrder!==0&&(m.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(m.userData=this.userData),m.layers=this.layers.mask,m.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(m.matrixAutoUpdate=!1),this.isInstancedMesh&&(m.type="InstancedMesh",m.count=this.count,m.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(m.instanceColor=this.instanceColor.toJSON()));function x(T,A){return T[A.uuid]===void 0&&(T[A.uuid]=A.toJSON(o)),A.uuid}if(this.isScene)this.background&&(this.background.isColor?m.background=this.background.toJSON():this.background.isTexture&&(m.background=this.background.toJSON(o).uuid)),this.environment&&this.environment.isTexture&&(m.environment=this.environment.toJSON(o).uuid);else if(this.isMesh||this.isLine||this.isPoints){m.geometry=x(o.geometries,this.geometry);const T=this.geometry.parameters;if(T!==void 0&&T.shapes!==void 0){const A=T.shapes;if(Array.isArray(A))for(let L=0,z=A.length;L<z;L++){const U=A[L];x(o.shapes,U)}else x(o.shapes,A)}}if(this.isSkinnedMesh&&(m.bindMode=this.bindMode,m.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(x(o.skeletons,this.skeleton),m.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const T=[];for(let A=0,L=this.material.length;A<L;A++)T.push(x(o.materials,this.material[A]));m.material=T}else m.material=x(o.materials,this.material);if(this.children.length>0){m.children=[];for(let T=0;T<this.children.length;T++)m.children.push(this.children[T].toJSON(o).object)}if(this.animations.length>0){m.animations=[];for(let T=0;T<this.animations.length;T++){const A=this.animations[T];m.animations.push(x(o.animations,A))}}if(c){const T=_(o.geometries),A=_(o.materials),L=_(o.textures),z=_(o.images),U=_(o.shapes),G=_(o.skeletons),K=_(o.animations);T.length>0&&(p.geometries=T),A.length>0&&(p.materials=A),L.length>0&&(p.textures=L),z.length>0&&(p.images=z),U.length>0&&(p.shapes=U),G.length>0&&(p.skeletons=G),K.length>0&&(p.animations=K)}return p.object=m,p;function _(T){const A=[];for(const L in T){const z=T[L];delete z.metadata,A.push(z)}return A}}clone(o){return new this.constructor().copy(this,o)}copy(o,c=!0){if(this.name=o.name,this.up.copy(o.up),this.position.copy(o.position),this.rotation.order=o.rotation.order,this.quaternion.copy(o.quaternion),this.scale.copy(o.scale),this.matrix.copy(o.matrix),this.matrixWorld.copy(o.matrixWorld),this.matrixAutoUpdate=o.matrixAutoUpdate,this.matrixWorldNeedsUpdate=o.matrixWorldNeedsUpdate,this.layers.mask=o.layers.mask,this.visible=o.visible,this.castShadow=o.castShadow,this.receiveShadow=o.receiveShadow,this.frustumCulled=o.frustumCulled,this.renderOrder=o.renderOrder,this.userData=JSON.parse(JSON.stringify(o.userData)),c===!0)for(let p=0;p<o.children.length;p++){const m=o.children[p];this.add(m.clone())}return this}}La.DefaultUp=new Ze(0,1,0),La.DefaultMatrixAutoUpdate=!0,La.prototype.isObject3D=!0;const du=new Ze,ec=new Ze,Wr=new Ze,Xl=new Ze,Zl=new Ze,id=new Ze,Ug=new Ze,Vh=new Ze,Yd=new Ze,av=new Ze;class Ms{constructor(o=new Ze,c=new Ze,p=new Ze){this.a=o,this.b=c,this.c=p}static getNormal(o,c,p,m){m.subVectors(p,c),du.subVectors(o,c),m.cross(du);const x=m.lengthSq();return x>0?m.multiplyScalar(1/Math.sqrt(x)):m.set(0,0,0)}static getBarycoord(o,c,p,m,x){du.subVectors(m,c),ec.subVectors(p,c),Wr.subVectors(o,c);const _=du.dot(du),T=du.dot(ec),A=du.dot(Wr),L=ec.dot(ec),z=ec.dot(Wr),U=_*L-T*T;if(U===0)return x.set(-2,-1,-1);const G=1/U,K=(L*A-T*z)*G,te=(_*z-T*A)*G;return x.set(1-K-te,te,K)}static containsPoint(o,c,p,m){return this.getBarycoord(o,c,p,m,Xl),Xl.x>=0&&Xl.y>=0&&Xl.x+Xl.y<=1}static getUV(o,c,p,m,x,_,T,A){return this.getBarycoord(o,c,p,m,Xl),A.set(0,0),A.addScaledVector(x,Xl.x),A.addScaledVector(_,Xl.y),A.addScaledVector(T,Xl.z),A}static isFrontFacing(o,c,p,m){return du.subVectors(p,c),ec.subVectors(o,c),du.cross(ec).dot(m)<0}set(o,c,p){return this.a.copy(o),this.b.copy(c),this.c.copy(p),this}setFromPointsAndIndices(o,c,p,m){return this.a.copy(o[c]),this.b.copy(o[p]),this.c.copy(o[m]),this}setFromAttributeAndIndices(o,c,p,m){return this.a.fromBufferAttribute(o,c),this.b.fromBufferAttribute(o,p),this.c.fromBufferAttribute(o,m),this}clone(){return new this.constructor().copy(this)}copy(o){return this.a.copy(o.a),this.b.copy(o.b),this.c.copy(o.c),this}getArea(){return du.subVectors(this.c,this.b),ec.subVectors(this.a,this.b),du.cross(ec).length()*.5}getMidpoint(o){return o.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(o){return Ms.getNormal(this.a,this.b,this.c,o)}getPlane(o){return o.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(o,c){return Ms.getBarycoord(o,this.a,this.b,this.c,c)}getUV(o,c,p,m,x){return Ms.getUV(o,this.a,this.b,this.c,c,p,m,x)}containsPoint(o){return Ms.containsPoint(o,this.a,this.b,this.c)}isFrontFacing(o){return Ms.isFrontFacing(this.a,this.b,this.c,o)}intersectsBox(o){return o.intersectsTriangle(this)}closestPointToPoint(o,c){const p=this.a,m=this.b,x=this.c;let _,T;Zl.subVectors(m,p),id.subVectors(x,p),Vh.subVectors(o,p);const A=Zl.dot(Vh),L=id.dot(Vh);if(A<=0&&L<=0)return c.copy(p);Yd.subVectors(o,m);const z=Zl.dot(Yd),U=id.dot(Yd);if(z>=0&&U<=z)return c.copy(m);const G=A*U-z*L;if(G<=0&&A>=0&&z<=0)return _=A/(A-z),c.copy(p).addScaledVector(Zl,_);av.subVectors(o,x);const K=Zl.dot(av),te=id.dot(av);if(te>=0&&K<=te)return c.copy(x);const ce=K*L-A*te;if(ce<=0&&L>=0&&te<=0)return T=L/(L-te),c.copy(p).addScaledVector(id,T);const Le=z*te-K*U;if(Le<=0&&U-z>=0&&K-te>=0)return Ug.subVectors(x,m),T=(U-z)/(U-z+(K-te)),c.copy(m).addScaledVector(Ug,T);const ne=1/(Le+ce+G);return _=ce*ne,T=G*ne,c.copy(p).addScaledVector(Zl,_).addScaledVector(id,T)}equals(o){return o.a.equals(this.a)&&o.b.equals(this.b)&&o.c.equals(this.c)}}let Wg=0;class Ps extends bo{constructor(){super();Object.defineProperty(this,"id",{value:Wg++}),this.uuid=Zr(),this.name="",this.type="Material",this.fog=!0,this.blending=Ct,this.side=ve,this.vertexColors=!1,this.opacity=1,this.format=fn,this.transparent=!1,this.blendSrc=$t,this.blendDst=un,this.blendEquation=Ut,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Wn,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oa,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rs,this.stencilZFail=rs,this.stencilZPass=rs,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(o){this._alphaTest>0!=o>0&&this.version++,this._alphaTest=o}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(o){if(o!==void 0)for(const c in o){const p=o[c];if(p===void 0){console.warn("THREE.Material: '"+c+"' parameter is undefined.");continue}if(c==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=p===Pt;continue}const m=this[c];if(m===void 0){console.warn("THREE."+this.type+": '"+c+"' is not a property of this material.");continue}m&&m.isColor?m.set(p):m&&m.isVector3&&p&&p.isVector3?m.copy(p):this[c]=p}}toJSON(o){const c=o===void 0||typeof o=="string";c&&(o={textures:{},images:{}});const p={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};p.uuid=this.uuid,p.type=this.type,this.name!==""&&(p.name=this.name),this.color&&this.color.isColor&&(p.color=this.color.getHex()),this.roughness!==void 0&&(p.roughness=this.roughness),this.metalness!==void 0&&(p.metalness=this.metalness),this.sheen!==void 0&&(p.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(p.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(p.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(p.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(p.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(p.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(p.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(p.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(p.shininess=this.shininess),this.clearcoat!==void 0&&(p.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(p.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(p.clearcoatMap=this.clearcoatMap.toJSON(o).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(p.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(o).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(p.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(o).uuid,p.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(p.map=this.map.toJSON(o).uuid),this.matcap&&this.matcap.isTexture&&(p.matcap=this.matcap.toJSON(o).uuid),this.alphaMap&&this.alphaMap.isTexture&&(p.alphaMap=this.alphaMap.toJSON(o).uuid),this.lightMap&&this.lightMap.isTexture&&(p.lightMap=this.lightMap.toJSON(o).uuid,p.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(p.aoMap=this.aoMap.toJSON(o).uuid,p.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(p.bumpMap=this.bumpMap.toJSON(o).uuid,p.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(p.normalMap=this.normalMap.toJSON(o).uuid,p.normalMapType=this.normalMapType,p.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(p.displacementMap=this.displacementMap.toJSON(o).uuid,p.displacementScale=this.displacementScale,p.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(p.roughnessMap=this.roughnessMap.toJSON(o).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(p.metalnessMap=this.metalnessMap.toJSON(o).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(p.emissiveMap=this.emissiveMap.toJSON(o).uuid),this.specularMap&&this.specularMap.isTexture&&(p.specularMap=this.specularMap.toJSON(o).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(p.specularIntensityMap=this.specularIntensityMap.toJSON(o).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(p.specularColorMap=this.specularColorMap.toJSON(o).uuid),this.envMap&&this.envMap.isTexture&&(p.envMap=this.envMap.toJSON(o).uuid,this.combine!==void 0&&(p.combine=this.combine)),this.envMapIntensity!==void 0&&(p.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(p.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(p.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(p.gradientMap=this.gradientMap.toJSON(o).uuid),this.transmission!==void 0&&(p.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(p.transmissionMap=this.transmissionMap.toJSON(o).uuid),this.thickness!==void 0&&(p.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(p.thicknessMap=this.thicknessMap.toJSON(o).uuid),this.attenuationDistance!==void 0&&(p.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(p.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(p.size=this.size),this.shadowSide!==null&&(p.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(p.sizeAttenuation=this.sizeAttenuation),this.blending!==Ct&&(p.blending=this.blending),this.side!==ve&&(p.side=this.side),this.vertexColors&&(p.vertexColors=!0),this.opacity<1&&(p.opacity=this.opacity),this.format!==fn&&(p.format=this.format),this.transparent===!0&&(p.transparent=this.transparent),p.depthFunc=this.depthFunc,p.depthTest=this.depthTest,p.depthWrite=this.depthWrite,p.colorWrite=this.colorWrite,p.stencilWrite=this.stencilWrite,p.stencilWriteMask=this.stencilWriteMask,p.stencilFunc=this.stencilFunc,p.stencilRef=this.stencilRef,p.stencilFuncMask=this.stencilFuncMask,p.stencilFail=this.stencilFail,p.stencilZFail=this.stencilZFail,p.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(p.rotation=this.rotation),this.polygonOffset===!0&&(p.polygonOffset=!0),this.polygonOffsetFactor!==0&&(p.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(p.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(p.linewidth=this.linewidth),this.dashSize!==void 0&&(p.dashSize=this.dashSize),this.gapSize!==void 0&&(p.gapSize=this.gapSize),this.scale!==void 0&&(p.scale=this.scale),this.dithering===!0&&(p.dithering=!0),this.alphaTest>0&&(p.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(p.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(p.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(p.wireframe=this.wireframe),this.wireframeLinewidth>1&&(p.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(p.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(p.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(p.flatShading=this.flatShading),this.visible===!1&&(p.visible=!1),this.toneMapped===!1&&(p.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(p.userData=this.userData);function m(x){const _=[];for(const T in x){const A=x[T];delete A.metadata,_.push(A)}return _}if(c){const x=m(o.textures),_=m(o.images);x.length>0&&(p.textures=x),_.length>0&&(p.images=_)}return p}clone(){return new this.constructor().copy(this)}copy(o){this.name=o.name,this.fog=o.fog,this.blending=o.blending,this.side=o.side,this.vertexColors=o.vertexColors,this.opacity=o.opacity,this.format=o.format,this.transparent=o.transparent,this.blendSrc=o.blendSrc,this.blendDst=o.blendDst,this.blendEquation=o.blendEquation,this.blendSrcAlpha=o.blendSrcAlpha,this.blendDstAlpha=o.blendDstAlpha,this.blendEquationAlpha=o.blendEquationAlpha,this.depthFunc=o.depthFunc,this.depthTest=o.depthTest,this.depthWrite=o.depthWrite,this.stencilWriteMask=o.stencilWriteMask,this.stencilFunc=o.stencilFunc,this.stencilRef=o.stencilRef,this.stencilFuncMask=o.stencilFuncMask,this.stencilFail=o.stencilFail,this.stencilZFail=o.stencilZFail,this.stencilZPass=o.stencilZPass,this.stencilWrite=o.stencilWrite;const c=o.clippingPlanes;let p=null;if(c!==null){const m=c.length;p=new Array(m);for(let x=0;x!==m;++x)p[x]=c[x].clone()}return this.clippingPlanes=p,this.clipIntersection=o.clipIntersection,this.clipShadows=o.clipShadows,this.shadowSide=o.shadowSide,this.colorWrite=o.colorWrite,this.precision=o.precision,this.polygonOffset=o.polygonOffset,this.polygonOffsetFactor=o.polygonOffsetFactor,this.polygonOffsetUnits=o.polygonOffsetUnits,this.dithering=o.dithering,this.alphaTest=o.alphaTest,this.alphaToCoverage=o.alphaToCoverage,this.premultipliedAlpha=o.premultipliedAlpha,this.visible=o.visible,this.toneMapped=o.toneMapped,this.userData=JSON.parse(JSON.stringify(o.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(o){o===!0&&this.version++}}Ps.prototype.isMaterial=!0;const tc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pl={h:0,s:0,l:0},Xd={h:0,s:0,l:0};function Zd(w,o,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?w+(o-w)*6*c:c<1/2?o:c<2/3?w+(o-w)*6*(2/3-c):w}function Da(w){return w<.04045?w*.0773993808:Math.pow(w*.9478672986+.0521327014,2.4)}function Yn(w){return w<.0031308?w*12.92:1.055*Math.pow(w,.41666)-.055}class nr{constructor(o,c,p){return c===void 0&&p===void 0?this.set(o):this.setRGB(o,c,p)}set(o){return o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o),this}setScalar(o){return this.r=o,this.g=o,this.b=o,this}setHex(o){return o=Math.floor(o),this.r=(o>>16&255)/255,this.g=(o>>8&255)/255,this.b=(o&255)/255,this}setRGB(o,c,p){return this.r=o,this.g=c,this.b=p,this}setHSL(o,c,p){if(o=fo(o,1),c=gi(c,0,1),p=gi(p,0,1),c===0)this.r=this.g=this.b=p;else{const m=p<=.5?p*(1+c):p+c-p*c,x=2*p-m;this.r=Zd(x,m,o+1/3),this.g=Zd(x,m,o),this.b=Zd(x,m,o-1/3)}return this}setStyle(o){function c(m){m!==void 0&&parseFloat(m)<1&&console.warn("THREE.Color: Alpha component of "+o+" will be ignored.")}let p;if(p=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(o)){let m;const x=p[1],_=p[2];switch(x){case"rgb":case"rgba":if(m=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(255,parseInt(m[1],10))/255,this.g=Math.min(255,parseInt(m[2],10))/255,this.b=Math.min(255,parseInt(m[3],10))/255,c(m[4]),this;if(m=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(100,parseInt(m[1],10))/100,this.g=Math.min(100,parseInt(m[2],10))/100,this.b=Math.min(100,parseInt(m[3],10))/100,c(m[4]),this;break;case"hsl":case"hsla":if(m=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_)){const T=parseFloat(m[1])/360,A=parseInt(m[2],10)/100,L=parseInt(m[3],10)/100;return c(m[4]),this.setHSL(T,A,L)}break}}else if(p=/^\#([A-Fa-f\d]+)$/.exec(o)){const m=p[1],x=m.length;if(x===3)return this.r=parseInt(m.charAt(0)+m.charAt(0),16)/255,this.g=parseInt(m.charAt(1)+m.charAt(1),16)/255,this.b=parseInt(m.charAt(2)+m.charAt(2),16)/255,this;if(x===6)return this.r=parseInt(m.charAt(0)+m.charAt(1),16)/255,this.g=parseInt(m.charAt(2)+m.charAt(3),16)/255,this.b=parseInt(m.charAt(4)+m.charAt(5),16)/255,this}return o&&o.length>0?this.setColorName(o):this}setColorName(o){const c=tc[o.toLowerCase()];return c!==void 0?this.setHex(c):console.warn("THREE.Color: Unknown color "+o),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(o){return this.r=o.r,this.g=o.g,this.b=o.b,this}copyGammaToLinear(o,c=2){return this.r=Math.pow(o.r,c),this.g=Math.pow(o.g,c),this.b=Math.pow(o.b,c),this}copyLinearToGamma(o,c=2){const p=c>0?1/c:1;return this.r=Math.pow(o.r,p),this.g=Math.pow(o.g,p),this.b=Math.pow(o.b,p),this}convertGammaToLinear(o){return this.copyGammaToLinear(this,o),this}convertLinearToGamma(o){return this.copyLinearToGamma(this,o),this}copySRGBToLinear(o){return this.r=Da(o.r),this.g=Da(o.g),this.b=Da(o.b),this}copyLinearToSRGB(o){return this.r=Yn(o.r),this.g=Yn(o.g),this.b=Yn(o.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(o){const c=this.r,p=this.g,m=this.b,x=Math.max(c,p,m),_=Math.min(c,p,m);let T,A;const L=(_+x)/2;if(_===x)T=0,A=0;else{const z=x-_;switch(A=L<=.5?z/(x+_):z/(2-x-_),x){case c:T=(p-m)/z+(p<m?6:0);break;case p:T=(m-c)/z+2;break;case m:T=(c-p)/z+4;break}T/=6}return o.h=T,o.s=A,o.l=L,o}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(o,c,p){return this.getHSL(Pl),Pl.h+=o,Pl.s+=c,Pl.l+=p,this.setHSL(Pl.h,Pl.s,Pl.l),this}add(o){return this.r+=o.r,this.g+=o.g,this.b+=o.b,this}addColors(o,c){return this.r=o.r+c.r,this.g=o.g+c.g,this.b=o.b+c.b,this}addScalar(o){return this.r+=o,this.g+=o,this.b+=o,this}sub(o){return this.r=Math.max(0,this.r-o.r),this.g=Math.max(0,this.g-o.g),this.b=Math.max(0,this.b-o.b),this}multiply(o){return this.r*=o.r,this.g*=o.g,this.b*=o.b,this}multiplyScalar(o){return this.r*=o,this.g*=o,this.b*=o,this}lerp(o,c){return this.r+=(o.r-this.r)*c,this.g+=(o.g-this.g)*c,this.b+=(o.b-this.b)*c,this}lerpColors(o,c,p){return this.r=o.r+(c.r-o.r)*p,this.g=o.g+(c.g-o.g)*p,this.b=o.b+(c.b-o.b)*p,this}lerpHSL(o,c){this.getHSL(Pl),o.getHSL(Xd);const p=Vs(Pl.h,Xd.h,c),m=Vs(Pl.s,Xd.s,c),x=Vs(Pl.l,Xd.l,c);return this.setHSL(p,m,x),this}equals(o){return o.r===this.r&&o.g===this.g&&o.b===this.b}fromArray(o,c=0){return this.r=o[c],this.g=o[c+1],this.b=o[c+2],this}toArray(o=[],c=0){return o[c]=this.r,o[c+1]=this.g,o[c+2]=this.b,o}fromBufferAttribute(o,c){return this.r=o.getX(c),this.g=o.getY(c),this.b=o.getZ(c),o.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}nr.NAMES=tc,nr.prototype.isColor=!0,nr.prototype.r=1,nr.prototype.g=1,nr.prototype.b=1;class ms extends Ps{constructor(o){super();this.type="MeshBasicMaterial",this.color=new nr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this}}ms.prototype.isMeshBasicMaterial=!0;const Ra=new Ze,$d=new Vn;class Va{constructor(o,c,p){if(Array.isArray(o))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=o,this.itemSize=c,this.count=o!==void 0?o.length/c:0,this.normalized=p===!0,this.usage=Wi,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.name=o.name,this.array=new o.array.constructor(o.array),this.itemSize=o.itemSize,this.count=o.count,this.normalized=o.normalized,this.usage=o.usage,this}copyAt(o,c,p){o*=this.itemSize,p*=c.itemSize;for(let m=0,x=this.itemSize;m<x;m++)this.array[o+m]=c.array[p+m];return this}copyArray(o){return this.array.set(o),this}copyColorsArray(o){const c=this.array;let p=0;for(let m=0,x=o.length;m<x;m++){let _=o[m];_===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",m),_=new nr),c[p++]=_.r,c[p++]=_.g,c[p++]=_.b}return this}copyVector2sArray(o){const c=this.array;let p=0;for(let m=0,x=o.length;m<x;m++){let _=o[m];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",m),_=new Vn),c[p++]=_.x,c[p++]=_.y}return this}copyVector3sArray(o){const c=this.array;let p=0;for(let m=0,x=o.length;m<x;m++){let _=o[m];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",m),_=new Ze),c[p++]=_.x,c[p++]=_.y,c[p++]=_.z}return this}copyVector4sArray(o){const c=this.array;let p=0;for(let m=0,x=o.length;m<x;m++){let _=o[m];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",m),_=new Ki),c[p++]=_.x,c[p++]=_.y,c[p++]=_.z,c[p++]=_.w}return this}applyMatrix3(o){if(this.itemSize===2)for(let c=0,p=this.count;c<p;c++)$d.fromBufferAttribute(this,c),$d.applyMatrix3(o),this.setXY(c,$d.x,$d.y);else if(this.itemSize===3)for(let c=0,p=this.count;c<p;c++)Ra.fromBufferAttribute(this,c),Ra.applyMatrix3(o),this.setXYZ(c,Ra.x,Ra.y,Ra.z);return this}applyMatrix4(o){for(let c=0,p=this.count;c<p;c++)Ra.x=this.getX(c),Ra.y=this.getY(c),Ra.z=this.getZ(c),Ra.applyMatrix4(o),this.setXYZ(c,Ra.x,Ra.y,Ra.z);return this}applyNormalMatrix(o){for(let c=0,p=this.count;c<p;c++)Ra.x=this.getX(c),Ra.y=this.getY(c),Ra.z=this.getZ(c),Ra.applyNormalMatrix(o),this.setXYZ(c,Ra.x,Ra.y,Ra.z);return this}transformDirection(o){for(let c=0,p=this.count;c<p;c++)Ra.x=this.getX(c),Ra.y=this.getY(c),Ra.z=this.getZ(c),Ra.transformDirection(o),this.setXYZ(c,Ra.x,Ra.y,Ra.z);return this}set(o,c=0){return this.array.set(o,c),this}getX(o){return this.array[o*this.itemSize]}setX(o,c){return this.array[o*this.itemSize]=c,this}getY(o){return this.array[o*this.itemSize+1]}setY(o,c){return this.array[o*this.itemSize+1]=c,this}getZ(o){return this.array[o*this.itemSize+2]}setZ(o,c){return this.array[o*this.itemSize+2]=c,this}getW(o){return this.array[o*this.itemSize+3]}setW(o,c){return this.array[o*this.itemSize+3]=c,this}setXY(o,c,p){return o*=this.itemSize,this.array[o+0]=c,this.array[o+1]=p,this}setXYZ(o,c,p,m){return o*=this.itemSize,this.array[o+0]=c,this.array[o+1]=p,this.array[o+2]=m,this}setXYZW(o,c,p,m,x){return o*=this.itemSize,this.array[o+0]=c,this.array[o+1]=p,this.array[o+2]=m,this.array[o+3]=x,this}onUpload(o){return this.onUploadCallback=o,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const o={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(o.name=this.name),this.usage!==Wi&&(o.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(o.updateRange=this.updateRange),o}}Va.prototype.isBufferAttribute=!0;class Kg extends Va{constructor(o,c,p){super(new Int8Array(o),c,p)}}class My extends Va{constructor(o,c,p){super(new Uint8Array(o),c,p)}}class ov extends Va{constructor(o,c,p){super(new Uint8ClampedArray(o),c,p)}}class Hh extends Va{constructor(o,c,p){super(new Int16Array(o),c,p)}}class Ef extends Va{constructor(o,c,p){super(new Uint16Array(o),c,p)}}class _y extends Va{constructor(o,c,p){super(new Int32Array(o),c,p)}}class pl extends Va{constructor(o,c,p){super(new Uint32Array(o),c,p)}}class sv extends Va{constructor(o,c,p){super(new Uint16Array(o),c,p)}}sv.prototype.isFloat16BufferAttribute=!0;class ei extends Va{constructor(o,c,p){super(new Float32Array(o),c,p)}}class lv extends Va{constructor(o,c,p){super(new Float64Array(o),c,p)}}let Gh=0;const vl=new Hn,hu=new La,Js=new Ze,Ll=new ho,Af=new ho,Ls=new Ze;class _i extends bo{constructor(){super();Object.defineProperty(this,"id",{value:Gh++}),this.uuid=Zr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}getIndex(){return this.index}setIndex(o){return Array.isArray(o)?this.index=new(Yu(o)>65535?pl:Ef)(o,1):this.index=o,this}getAttribute(o){return this.attributes[o]}setAttribute(o,c){return this.attributes[o]=c,this}deleteAttribute(o){return delete this.attributes[o],this}hasAttribute(o){return this.attributes[o]!==void 0}addGroup(o,c,p=0){this.groups.push({start:o,count:c,materialIndex:p})}clearGroups(){this.groups=[]}setDrawRange(o,c){this.drawRange.start=o,this.drawRange.count=c}applyMatrix4(o){const c=this.attributes.position;c!==void 0&&(c.applyMatrix4(o),c.needsUpdate=!0);const p=this.attributes.normal;if(p!==void 0){const x=new oo().getNormalMatrix(o);p.applyNormalMatrix(x),p.needsUpdate=!0}const m=this.attributes.tangent;return m!==void 0&&(m.transformDirection(o),m.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(o){return vl.makeRotationFromQuaternion(o),this.applyMatrix4(vl),this}rotateX(o){return vl.makeRotationX(o),this.applyMatrix4(vl),this}rotateY(o){return vl.makeRotationY(o),this.applyMatrix4(vl),this}rotateZ(o){return vl.makeRotationZ(o),this.applyMatrix4(vl),this}translate(o,c,p){return vl.makeTranslation(o,c,p),this.applyMatrix4(vl),this}scale(o,c,p){return vl.makeScale(o,c,p),this.applyMatrix4(vl),this}lookAt(o){return hu.lookAt(o),hu.updateMatrix(),this.applyMatrix4(hu.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Js).negate(),this.translate(Js.x,Js.y,Js.z),this}setFromPoints(o){const c=[];for(let p=0,m=o.length;p<m;p++){const x=o[p];c.push(x.x,x.y,x.z||0)}return this.setAttribute("position",new ei(c,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ho);const o=this.attributes.position,c=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ze(-Infinity,-Infinity,-Infinity),new Ze(Infinity,Infinity,Infinity));return}if(o!==void 0){if(this.boundingBox.setFromBufferAttribute(o),c)for(let p=0,m=c.length;p<m;p++){const x=c[p];Ll.setFromBufferAttribute(x),this.morphTargetsRelative?(Ls.addVectors(this.boundingBox.min,Ll.min),this.boundingBox.expandByPoint(Ls),Ls.addVectors(this.boundingBox.max,Ll.max),this.boundingBox.expandByPoint(Ls)):(this.boundingBox.expandByPoint(Ll.min),this.boundingBox.expandByPoint(Ll.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new uu);const o=this.attributes.position,c=this.morphAttributes.position;if(o&&o.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ze,Infinity);return}if(o){const p=this.boundingSphere.center;if(Ll.setFromBufferAttribute(o),c)for(let x=0,_=c.length;x<_;x++){const T=c[x];Af.setFromBufferAttribute(T),this.morphTargetsRelative?(Ls.addVectors(Ll.min,Af.min),Ll.expandByPoint(Ls),Ls.addVectors(Ll.max,Af.max),Ll.expandByPoint(Ls)):(Ll.expandByPoint(Af.min),Ll.expandByPoint(Af.max))}Ll.getCenter(p);let m=0;for(let x=0,_=o.count;x<_;x++)Ls.fromBufferAttribute(o,x),m=Math.max(m,p.distanceToSquared(Ls));if(c)for(let x=0,_=c.length;x<_;x++){const T=c[x],A=this.morphTargetsRelative;for(let L=0,z=T.count;L<z;L++)Ls.fromBufferAttribute(T,L),A&&(Js.fromBufferAttribute(o,L),Ls.add(Js)),m=Math.max(m,p.distanceToSquared(Ls))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const o=this.index,c=this.attributes;if(o===null||c.position===void 0||c.normal===void 0||c.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const p=o.array,m=c.position.array,x=c.normal.array,_=c.uv.array,T=m.length/3;c.tangent===void 0&&this.setAttribute("tangent",new Va(new Float32Array(4*T),4));const A=c.tangent.array,L=[],z=[];for(let qt=0;qt<T;qt++)L[qt]=new Ze,z[qt]=new Ze;const U=new Ze,G=new Ze,K=new Ze,te=new Vn,ce=new Vn,Le=new Vn,ne=new Ze,q=new Ze;function Fe(qt,Ht,qn){U.fromArray(m,qt*3),G.fromArray(m,Ht*3),K.fromArray(m,qn*3),te.fromArray(_,qt*2),ce.fromArray(_,Ht*2),Le.fromArray(_,qn*2),G.sub(U),K.sub(U),ce.sub(te),Le.sub(te);const xn=1/(ce.x*Le.y-Le.x*ce.y);!isFinite(xn)||(ne.copy(G).multiplyScalar(Le.y).addScaledVector(K,-ce.y).multiplyScalar(xn),q.copy(K).multiplyScalar(ce.x).addScaledVector(G,-Le.x).multiplyScalar(xn),L[qt].add(ne),L[Ht].add(ne),L[qn].add(ne),z[qt].add(q),z[Ht].add(q),z[qn].add(q))}let Te=this.groups;Te.length===0&&(Te=[{start:0,count:p.length}]);for(let qt=0,Ht=Te.length;qt<Ht;++qt){const qn=Te[qt],xn=qn.start,mn=qn.count;for(let En=xn,Mn=xn+mn;En<Mn;En+=3)Fe(p[En+0],p[En+1],p[En+2])}const lt=new Ze,Ot=new Ze,He=new Ze,Bt=new Ze;function dn(qt){He.fromArray(x,qt*3),Bt.copy(He);const Ht=L[qt];lt.copy(Ht),lt.sub(He.multiplyScalar(He.dot(Ht))).normalize(),Ot.crossVectors(Bt,Ht);const xn=Ot.dot(z[qt])<0?-1:1;A[qt*4]=lt.x,A[qt*4+1]=lt.y,A[qt*4+2]=lt.z,A[qt*4+3]=xn}for(let qt=0,Ht=Te.length;qt<Ht;++qt){const qn=Te[qt],xn=qn.start,mn=qn.count;for(let En=xn,Mn=xn+mn;En<Mn;En+=3)dn(p[En+0]),dn(p[En+1]),dn(p[En+2])}}computeVertexNormals(){const o=this.index,c=this.getAttribute("position");if(c!==void 0){let p=this.getAttribute("normal");if(p===void 0)p=new Va(new Float32Array(c.count*3),3),this.setAttribute("normal",p);else for(let G=0,K=p.count;G<K;G++)p.setXYZ(G,0,0,0);const m=new Ze,x=new Ze,_=new Ze,T=new Ze,A=new Ze,L=new Ze,z=new Ze,U=new Ze;if(o)for(let G=0,K=o.count;G<K;G+=3){const te=o.getX(G+0),ce=o.getX(G+1),Le=o.getX(G+2);m.fromBufferAttribute(c,te),x.fromBufferAttribute(c,ce),_.fromBufferAttribute(c,Le),z.subVectors(_,x),U.subVectors(m,x),z.cross(U),T.fromBufferAttribute(p,te),A.fromBufferAttribute(p,ce),L.fromBufferAttribute(p,Le),T.add(z),A.add(z),L.add(z),p.setXYZ(te,T.x,T.y,T.z),p.setXYZ(ce,A.x,A.y,A.z),p.setXYZ(Le,L.x,L.y,L.z)}else for(let G=0,K=c.count;G<K;G+=3)m.fromBufferAttribute(c,G+0),x.fromBufferAttribute(c,G+1),_.fromBufferAttribute(c,G+2),z.subVectors(_,x),U.subVectors(m,x),z.cross(U),p.setXYZ(G+0,z.x,z.y,z.z),p.setXYZ(G+1,z.x,z.y,z.z),p.setXYZ(G+2,z.x,z.y,z.z);this.normalizeNormals(),p.needsUpdate=!0}}merge(o,c){if(!(o&&o.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",o);return}c===void 0&&(c=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const p=this.attributes;for(const m in p){if(o.attributes[m]===void 0)continue;const _=p[m].array,T=o.attributes[m],A=T.array,L=T.itemSize*c,z=Math.min(A.length,_.length-L);for(let U=0,G=L;U<z;U++,G++)_[G]=A[U]}return this}normalizeNormals(){const o=this.attributes.normal;for(let c=0,p=o.count;c<p;c++)Ls.fromBufferAttribute(o,c),Ls.normalize(),o.setXYZ(c,Ls.x,Ls.y,Ls.z)}toNonIndexed(){function o(T,A){const L=T.array,z=T.itemSize,U=T.normalized,G=new L.constructor(A.length*z);let K=0,te=0;for(let ce=0,Le=A.length;ce<Le;ce++){T.isInterleavedBufferAttribute?K=A[ce]*T.data.stride+T.offset:K=A[ce]*z;for(let ne=0;ne<z;ne++)G[te++]=L[K++]}return new Va(G,z,U)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const c=new _i,p=this.index.array,m=this.attributes;for(const T in m){const A=m[T],L=o(A,p);c.setAttribute(T,L)}const x=this.morphAttributes;for(const T in x){const A=[],L=x[T];for(let z=0,U=L.length;z<U;z++){const G=L[z],K=o(G,p);A.push(K)}c.morphAttributes[T]=A}c.morphTargetsRelative=this.morphTargetsRelative;const _=this.groups;for(let T=0,A=_.length;T<A;T++){const L=_[T];c.addGroup(L.start,L.count,L.materialIndex)}return c}toJSON(){const o={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),Object.keys(this.userData).length>0&&(o.userData=this.userData),this.parameters!==void 0){const A=this.parameters;for(const L in A)A[L]!==void 0&&(o[L]=A[L]);return o}o.data={attributes:{}};const c=this.index;c!==null&&(o.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});const p=this.attributes;for(const A in p){const L=p[A];o.data.attributes[A]=L.toJSON(o.data)}const m={};let x=!1;for(const A in this.morphAttributes){const L=this.morphAttributes[A],z=[];for(let U=0,G=L.length;U<G;U++){const K=L[U];z.push(K.toJSON(o.data))}z.length>0&&(m[A]=z,x=!0)}x&&(o.data.morphAttributes=m,o.data.morphTargetsRelative=this.morphTargetsRelative);const _=this.groups;_.length>0&&(o.data.groups=JSON.parse(JSON.stringify(_)));const T=this.boundingSphere;return T!==null&&(o.data.boundingSphere={center:T.center.toArray(),radius:T.radius}),o}clone(){return new this.constructor().copy(this)}copy(o){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const c={};this.name=o.name;const p=o.index;p!==null&&this.setIndex(p.clone(c));const m=o.attributes;for(const L in m){const z=m[L];this.setAttribute(L,z.clone(c))}const x=o.morphAttributes;for(const L in x){const z=[],U=x[L];for(let G=0,K=U.length;G<K;G++)z.push(U[G].clone(c));this.morphAttributes[L]=z}this.morphTargetsRelative=o.morphTargetsRelative;const _=o.groups;for(let L=0,z=_.length;L<z;L++){const U=_[L];this.addGroup(U.start,U.count,U.materialIndex)}const T=o.boundingBox;T!==null&&(this.boundingBox=T.clone());const A=o.boundingSphere;return A!==null&&(this.boundingSphere=A.clone()),this.drawRange.start=o.drawRange.start,this.drawRange.count=o.drawRange.count,this.userData=o.userData,o.parameters!==void 0&&(this.parameters=Object.assign({},o.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}_i.prototype.isBufferGeometry=!0;const Uh=new Hn,Pf=new Of,Xa=new uu,Dl=new Ze,Cc=new Ze,Rl=new Ze,uv=new Ze,Wh=new Ze,Kh=new Ze,ad=new Ze,Yh=new Ze,od=new Ze,Xh=new Vn,Jd=new Vn,Zc=new Vn,Tc=new Ze,Fo=new Ze;class _s extends La{constructor(o=new _i,c=new ms){super();this.type="Mesh",this.geometry=o,this.material=c,this.updateMorphTargets()}copy(o){return super.copy(o),o.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=o.morphTargetInfluences.slice()),o.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},o.morphTargetDictionary)),this.material=o.material,this.geometry=o.geometry,this}updateMorphTargets(){const o=this.geometry;if(o.isBufferGeometry){const c=o.morphAttributes,p=Object.keys(c);if(p.length>0){const m=c[p[0]];if(m!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let x=0,_=m.length;x<_;x++){const T=m[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[T]=x}}}}else{const c=o.morphTargets;c!==void 0&&c.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(o,c){const p=this.geometry,m=this.material,x=this.matrixWorld;if(m===void 0||(p.boundingSphere===null&&p.computeBoundingSphere(),Xa.copy(p.boundingSphere),Xa.applyMatrix4(x),o.ray.intersectsSphere(Xa)===!1)||(Uh.copy(x).invert(),Pf.copy(o.ray).applyMatrix4(Uh),p.boundingBox!==null&&Pf.intersectsBox(p.boundingBox)===!1))return;let _;if(p.isBufferGeometry){const T=p.index,A=p.attributes.position,L=p.morphAttributes.position,z=p.morphTargetsRelative,U=p.attributes.uv,G=p.attributes.uv2,K=p.groups,te=p.drawRange;if(T!==null)if(Array.isArray(m))for(let ce=0,Le=K.length;ce<Le;ce++){const ne=K[ce],q=m[ne.materialIndex],Fe=Math.max(ne.start,te.start),Te=Math.min(T.count,Math.min(ne.start+ne.count,te.start+te.count));for(let lt=Fe,Ot=Te;lt<Ot;lt+=3){const He=T.getX(lt),Bt=T.getX(lt+1),dn=T.getX(lt+2);_=pu(this,q,o,Pf,A,L,z,U,G,He,Bt,dn),_&&(_.faceIndex=Math.floor(lt/3),_.face.materialIndex=ne.materialIndex,c.push(_))}}else{const ce=Math.max(0,te.start),Le=Math.min(T.count,te.start+te.count);for(let ne=ce,q=Le;ne<q;ne+=3){const Fe=T.getX(ne),Te=T.getX(ne+1),lt=T.getX(ne+2);_=pu(this,m,o,Pf,A,L,z,U,G,Fe,Te,lt),_&&(_.faceIndex=Math.floor(ne/3),c.push(_))}}else if(A!==void 0)if(Array.isArray(m))for(let ce=0,Le=K.length;ce<Le;ce++){const ne=K[ce],q=m[ne.materialIndex],Fe=Math.max(ne.start,te.start),Te=Math.min(A.count,Math.min(ne.start+ne.count,te.start+te.count));for(let lt=Fe,Ot=Te;lt<Ot;lt+=3){const He=lt,Bt=lt+1,dn=lt+2;_=pu(this,q,o,Pf,A,L,z,U,G,He,Bt,dn),_&&(_.faceIndex=Math.floor(lt/3),_.face.materialIndex=ne.materialIndex,c.push(_))}}else{const ce=Math.max(0,te.start),Le=Math.min(A.count,te.start+te.count);for(let ne=ce,q=Le;ne<q;ne+=3){const Fe=ne,Te=ne+1,lt=ne+2;_=pu(this,m,o,Pf,A,L,z,U,G,Fe,Te,lt),_&&(_.faceIndex=Math.floor(ne/3),c.push(_))}}}else p.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}_s.prototype.isMesh=!0;function Cy(w,o,c,p,m,x,_,T){let A;if(o.side===dt?A=p.intersectTriangle(_,x,m,!0,T):A=p.intersectTriangle(m,x,_,o.side!==at,T),A===null)return null;Fo.copy(T),Fo.applyMatrix4(w.matrixWorld);const L=c.ray.origin.distanceTo(Fo);return L<c.near||L>c.far?null:{distance:L,point:Fo.clone(),object:w}}function pu(w,o,c,p,m,x,_,T,A,L,z,U){Dl.fromBufferAttribute(m,L),Cc.fromBufferAttribute(m,z),Rl.fromBufferAttribute(m,U);const G=w.morphTargetInfluences;if(x&&G){ad.set(0,0,0),Yh.set(0,0,0),od.set(0,0,0);for(let te=0,ce=x.length;te<ce;te++){const Le=G[te],ne=x[te];Le!==0&&(uv.fromBufferAttribute(ne,L),Wh.fromBufferAttribute(ne,z),Kh.fromBufferAttribute(ne,U),_?(ad.addScaledVector(uv,Le),Yh.addScaledVector(Wh,Le),od.addScaledVector(Kh,Le)):(ad.addScaledVector(uv.sub(Dl),Le),Yh.addScaledVector(Wh.sub(Cc),Le),od.addScaledVector(Kh.sub(Rl),Le)))}Dl.add(ad),Cc.add(Yh),Rl.add(od)}w.isSkinnedMesh&&(w.boneTransform(L,Dl),w.boneTransform(z,Cc),w.boneTransform(U,Rl));const K=Cy(w,o,c,p,Dl,Cc,Rl,Tc);if(K){T&&(Xh.fromBufferAttribute(T,L),Jd.fromBufferAttribute(T,z),Zc.fromBufferAttribute(T,U),K.uv=Ms.getUV(Tc,Dl,Cc,Rl,Xh,Jd,Zc,new Vn)),A&&(Xh.fromBufferAttribute(A,L),Jd.fromBufferAttribute(A,z),Zc.fromBufferAttribute(A,U),K.uv2=Ms.getUV(Tc,Dl,Cc,Rl,Xh,Jd,Zc,new Vn));const te={a:L,b:z,c:U,normal:new Ze,materialIndex:0};Ms.getNormal(Dl,Cc,Rl,te.normal),K.face=te}return K}class ju extends _i{constructor(o=1,c=1,p=1,m=1,x=1,_=1){super();this.type="BoxGeometry",this.parameters={width:o,height:c,depth:p,widthSegments:m,heightSegments:x,depthSegments:_};const T=this;m=Math.floor(m),x=Math.floor(x),_=Math.floor(_);const A=[],L=[],z=[],U=[];let G=0,K=0;te("z","y","x",-1,-1,p,c,o,_,x,0),te("z","y","x",1,-1,p,c,-o,_,x,1),te("x","z","y",1,1,o,p,c,m,_,2),te("x","z","y",1,-1,o,p,-c,m,_,3),te("x","y","z",1,-1,o,c,p,m,x,4),te("x","y","z",-1,-1,o,c,-p,m,x,5),this.setIndex(A),this.setAttribute("position",new ei(L,3)),this.setAttribute("normal",new ei(z,3)),this.setAttribute("uv",new ei(U,2));function te(ce,Le,ne,q,Fe,Te,lt,Ot,He,Bt,dn){const qt=Te/He,Ht=lt/Bt,qn=Te/2,xn=lt/2,mn=Ot/2,En=He+1,Mn=Bt+1;let On=0,_r=0;const di=new Ze;for(let Ci=0;Ci<Mn;Ci++){const $r=Ci*Ht-xn;for(let Sa=0;Sa<En;Sa++){const sr=Sa*qt-qn;di[ce]=sr*q,di[Le]=$r*Fe,di[ne]=mn,L.push(di.x,di.y,di.z),di[ce]=0,di[Le]=0,di[ne]=Ot>0?1:-1,z.push(di.x,di.y,di.z),U.push(Sa/He),U.push(1-Ci/Bt),On+=1}}for(let Ci=0;Ci<Bt;Ci++)for(let $r=0;$r<He;$r++){const Sa=G+$r+En*Ci,sr=G+$r+En*(Ci+1),wr=G+($r+1)+En*(Ci+1),wi=G+($r+1)+En*Ci;A.push(Sa,sr,wi),A.push(sr,wr,wi),_r+=6}T.addGroup(K,_r,dn),K+=_r,G+=On}}static fromJSON(o){return new ju(o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments)}}function sd(w){const o={};for(const c in w){o[c]={};for(const p in w[c]){const m=w[c][p];m&&(m.isColor||m.isMatrix3||m.isMatrix4||m.isVector2||m.isVector3||m.isVector4||m.isTexture||m.isQuaternion)?o[c][p]=m.clone():Array.isArray(m)?o[c][p]=m.slice():o[c][p]=m}}return o}function nl(w){const o={};for(let c=0;c<w.length;c++){const p=sd(w[c]);for(const m in p)o[m]=p[m]}return o}const Yg={clone:sd,merge:nl};var Ty=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Lf=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Yi extends Ps{constructor(o){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Ty,this.fragmentShader=Lf,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,o!==void 0&&(o.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(o))}copy(o){return super.copy(o),this.fragmentShader=o.fragmentShader,this.vertexShader=o.vertexShader,this.uniforms=sd(o.uniforms),this.defines=Object.assign({},o.defines),this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.lights=o.lights,this.clipping=o.clipping,this.extensions=Object.assign({},o.extensions),this.glslVersion=o.glslVersion,this}toJSON(o){const c=super.toJSON(o);c.glslVersion=this.glslVersion,c.uniforms={};for(const m in this.uniforms){const _=this.uniforms[m].value;_&&_.isTexture?c.uniforms[m]={type:"t",value:_.toJSON(o).uuid}:_&&_.isColor?c.uniforms[m]={type:"c",value:_.getHex()}:_&&_.isVector2?c.uniforms[m]={type:"v2",value:_.toArray()}:_&&_.isVector3?c.uniforms[m]={type:"v3",value:_.toArray()}:_&&_.isVector4?c.uniforms[m]={type:"v4",value:_.toArray()}:_&&_.isMatrix3?c.uniforms[m]={type:"m3",value:_.toArray()}:_&&_.isMatrix4?c.uniforms[m]={type:"m4",value:_.toArray()}:c.uniforms[m]={value:_}}Object.keys(this.defines).length>0&&(c.defines=this.defines),c.vertexShader=this.vertexShader,c.fragmentShader=this.fragmentShader;const p={};for(const m in this.extensions)this.extensions[m]===!0&&(p[m]=!0);return Object.keys(p).length>0&&(c.extensions=p),c}}Yi.prototype.isShaderMaterial=!0;class ld extends La{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Hn,this.projectionMatrix=new Hn,this.projectionMatrixInverse=new Hn}copy(o,c){return super.copy(o,c),this.matrixWorldInverse.copy(o.matrixWorldInverse),this.projectionMatrix.copy(o.projectionMatrix),this.projectionMatrixInverse.copy(o.projectionMatrixInverse),this}getWorldDirection(o){this.updateWorldMatrix(!0,!1);const c=this.matrixWorld.elements;return o.set(-c[8],-c[9],-c[10]).normalize()}updateMatrixWorld(o){super.updateMatrixWorld(o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(o,c){super.updateWorldMatrix(o,c),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}ld.prototype.isCamera=!0;class no extends ld{constructor(o=50,c=1,p=.1,m=2e3){super();this.type="PerspectiveCamera",this.fov=o,this.zoom=1,this.near=p,this.far=m,this.focus=10,this.aspect=c,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(o,c){return super.copy(o,c),this.fov=o.fov,this.zoom=o.zoom,this.near=o.near,this.far=o.far,this.focus=o.focus,this.aspect=o.aspect,this.view=o.view===null?null:Object.assign({},o.view),this.filmGauge=o.filmGauge,this.filmOffset=o.filmOffset,this}setFocalLength(o){const c=.5*this.getFilmHeight()/o;this.fov=gs*2*Math.atan(c),this.updateProjectionMatrix()}getFocalLength(){const o=Math.tan(as*.5*this.fov);return .5*this.getFilmHeight()/o}getEffectiveFOV(){return gs*2*Math.atan(Math.tan(as*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(o,c,p,m,x,_){this.aspect=o/c,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=c,this.view.offsetX=p,this.view.offsetY=m,this.view.width=x,this.view.height=_,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=this.near;let c=o*Math.tan(as*.5*this.fov)/this.zoom,p=2*c,m=this.aspect*p,x=-.5*m;const _=this.view;if(this.view!==null&&this.view.enabled){const A=_.fullWidth,L=_.fullHeight;x+=_.offsetX*m/A,c-=_.offsetY*p/L,m*=_.width/A,p*=_.height/L}const T=this.filmOffset;T!==0&&(x+=o*T/this.getFilmWidth()),this.projectionMatrix.makePerspective(x,x+m,c,c-p,o,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const c=super.toJSON(o);return c.object.fov=this.fov,c.object.zoom=this.zoom,c.object.near=this.near,c.object.far=this.far,c.object.focus=this.focus,c.object.aspect=this.aspect,this.view!==null&&(c.object.view=Object.assign({},this.view)),c.object.filmGauge=this.filmGauge,c.object.filmOffset=this.filmOffset,c}}no.prototype.isPerspectiveCamera=!0;const $c=90,Wo=1;class nc extends La{constructor(o,c,p){super();if(this.type="CubeCamera",p.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=p;const m=new no($c,Wo,o,c);m.layers=this.layers,m.up.set(0,-1,0),m.lookAt(new Ze(1,0,0)),this.add(m);const x=new no($c,Wo,o,c);x.layers=this.layers,x.up.set(0,-1,0),x.lookAt(new Ze(-1,0,0)),this.add(x);const _=new no($c,Wo,o,c);_.layers=this.layers,_.up.set(0,0,1),_.lookAt(new Ze(0,1,0)),this.add(_);const T=new no($c,Wo,o,c);T.layers=this.layers,T.up.set(0,0,-1),T.lookAt(new Ze(0,-1,0)),this.add(T);const A=new no($c,Wo,o,c);A.layers=this.layers,A.up.set(0,-1,0),A.lookAt(new Ze(0,0,1)),this.add(A);const L=new no($c,Wo,o,c);L.layers=this.layers,L.up.set(0,-1,0),L.lookAt(new Ze(0,0,-1)),this.add(L)}update(o,c){this.parent===null&&this.updateMatrixWorld();const p=this.renderTarget,[m,x,_,T,A,L]=this.children,z=o.xr.enabled,U=o.getRenderTarget();o.xr.enabled=!1;const G=p.texture.generateMipmaps;p.texture.generateMipmaps=!1,o.setRenderTarget(p,0),o.render(c,m),o.setRenderTarget(p,1),o.render(c,x),o.setRenderTarget(p,2),o.render(c,_),o.setRenderTarget(p,3),o.render(c,T),o.setRenderTarget(p,4),o.render(c,A),p.texture.generateMipmaps=G,o.setRenderTarget(p,5),o.render(c,L),o.setRenderTarget(U),o.xr.enabled=z}}class Oc extends ri{constructor(o,c,p,m,x,_,T,A,L,z){o=o!==void 0?o:[],c=c!==void 0?c:B,super(o,c,p,m,x,_,T,A,L,z),this.flipY=!1}get images(){return this.image}set images(o){this.image=o}}Oc.prototype.isCubeTexture=!0;class Zh extends jo{constructor(o,c,p){Number.isInteger(c)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),c=p),super(o,o,c),c=c||{},this.texture=new Oc(void 0,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=c.generateMipmaps!==void 0?c.generateMipmaps:!1,this.texture.minFilter=c.minFilter!==void 0?c.minFilter:Ke,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(o,c){this.texture.type=c.type,this.texture.format=fn,this.texture.encoding=c.encoding,this.texture.generateMipmaps=c.generateMipmaps,this.texture.minFilter=c.minFilter,this.texture.magFilter=c.magFilter;const p={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},m=new ju(5,5,5),x=new Yi({name:"CubemapFromEquirect",uniforms:sd(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,side:dt,blending:bt});x.uniforms.tEquirect.value=c;const _=new _s(m,x),T=c.minFilter;return c.minFilter===ot&&(c.minFilter=Ke),new nc(1,10,this).update(o,_),c.minFilter=T,_.geometry.dispose(),_.material.dispose(),this}clear(o,c,p,m){const x=o.getRenderTarget();for(let _=0;_<6;_++)o.setRenderTarget(this,_),o.clear(c,p,m);o.setRenderTarget(x)}}Zh.prototype.isWebGLCubeRenderTarget=!0;const cv=new Ze,Oy=new Ze,fv=new oo;class vu{constructor(o=new Ze(1,0,0),c=0){this.normal=o,this.constant=c}set(o,c){return this.normal.copy(o),this.constant=c,this}setComponents(o,c,p,m){return this.normal.set(o,c,p),this.constant=m,this}setFromNormalAndCoplanarPoint(o,c){return this.normal.copy(o),this.constant=-c.dot(this.normal),this}setFromCoplanarPoints(o,c,p){const m=cv.subVectors(p,c).cross(Oy.subVectors(o,c)).normalize();return this.setFromNormalAndCoplanarPoint(m,o),this}copy(o){return this.normal.copy(o.normal),this.constant=o.constant,this}normalize(){const o=1/this.normal.length();return this.normal.multiplyScalar(o),this.constant*=o,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(o){return this.normal.dot(o)+this.constant}distanceToSphere(o){return this.distanceToPoint(o.center)-o.radius}projectPoint(o,c){return c.copy(this.normal).multiplyScalar(-this.distanceToPoint(o)).add(o)}intersectLine(o,c){const p=o.delta(cv),m=this.normal.dot(p);if(m===0)return this.distanceToPoint(o.start)===0?c.copy(o.start):null;const x=-(o.start.dot(this.normal)+this.constant)/m;return x<0||x>1?null:c.copy(p).multiplyScalar(x).add(o.start)}intersectsLine(o){const c=this.distanceToPoint(o.start),p=this.distanceToPoint(o.end);return c<0&&p>0||p<0&&c>0}intersectsBox(o){return o.intersectsPlane(this)}intersectsSphere(o){return o.intersectsPlane(this)}coplanarPoint(o){return o.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(o,c){const p=c||fv.getNormalMatrix(o),m=this.coplanarPoint(cv).applyMatrix4(o),x=this.normal.applyMatrix3(p).normalize();return this.constant=-m.dot(x),this}translate(o){return this.constant-=o.dot(this.normal),this}equals(o){return o.normal.equals(this.normal)&&o.constant===this.constant}clone(){return new this.constructor().copy(this)}}vu.prototype.isPlane=!0;const ud=new uu,rc=new Ze;class Qd{constructor(o=new vu,c=new vu,p=new vu,m=new vu,x=new vu,_=new vu){this.planes=[o,c,p,m,x,_]}set(o,c,p,m,x,_){const T=this.planes;return T[0].copy(o),T[1].copy(c),T[2].copy(p),T[3].copy(m),T[4].copy(x),T[5].copy(_),this}copy(o){const c=this.planes;for(let p=0;p<6;p++)c[p].copy(o.planes[p]);return this}setFromProjectionMatrix(o){const c=this.planes,p=o.elements,m=p[0],x=p[1],_=p[2],T=p[3],A=p[4],L=p[5],z=p[6],U=p[7],G=p[8],K=p[9],te=p[10],ce=p[11],Le=p[12],ne=p[13],q=p[14],Fe=p[15];return c[0].setComponents(T-m,U-A,ce-G,Fe-Le).normalize(),c[1].setComponents(T+m,U+A,ce+G,Fe+Le).normalize(),c[2].setComponents(T+x,U+L,ce+K,Fe+ne).normalize(),c[3].setComponents(T-x,U-L,ce-K,Fe-ne).normalize(),c[4].setComponents(T-_,U-z,ce-te,Fe-q).normalize(),c[5].setComponents(T+_,U+z,ce+te,Fe+q).normalize(),this}intersectsObject(o){const c=o.geometry;return c.boundingSphere===null&&c.computeBoundingSphere(),ud.copy(c.boundingSphere).applyMatrix4(o.matrixWorld),this.intersectsSphere(ud)}intersectsSprite(o){return ud.center.set(0,0,0),ud.radius=.7071067811865476,ud.applyMatrix4(o.matrixWorld),this.intersectsSphere(ud)}intersectsSphere(o){const c=this.planes,p=o.center,m=-o.radius;for(let x=0;x<6;x++)if(c[x].distanceToPoint(p)<m)return!1;return!0}intersectsBox(o){const c=this.planes;for(let p=0;p<6;p++){const m=c[p];if(rc.x=m.normal.x>0?o.max.x:o.min.x,rc.y=m.normal.y>0?o.max.y:o.min.y,rc.z=m.normal.z>0?o.max.z:o.min.z,m.distanceToPoint(rc)<0)return!1}return!0}containsPoint(o){const c=this.planes;for(let p=0;p<6;p++)if(c[p].distanceToPoint(o)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Bu(){let w=null,o=!1,c=null,p=null;function m(x,_){c(x,_),p=w.requestAnimationFrame(m)}return{start:function(){o!==!0&&c!==null&&(p=w.requestAnimationFrame(m),o=!0)},stop:function(){w.cancelAnimationFrame(p),o=!1},setAnimationLoop:function(x){c=x},setContext:function(x){w=x}}}function Ey(w,o){const c=o.isWebGL2,p=new WeakMap;function m(L,z){const U=L.array,G=L.usage,K=w.createBuffer();w.bindBuffer(z,K),w.bufferData(z,U,G),L.onUploadCallback();let te=5126;return U instanceof Float32Array?te=5126:U instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):U instanceof Uint16Array?L.isFloat16BufferAttribute?c?te=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):te=5123:U instanceof Int16Array?te=5122:U instanceof Uint32Array?te=5125:U instanceof Int32Array?te=5124:U instanceof Int8Array?te=5120:(U instanceof Uint8Array||U instanceof Uint8ClampedArray)&&(te=5121),{buffer:K,type:te,bytesPerElement:U.BYTES_PER_ELEMENT,version:L.version}}function x(L,z,U){const G=z.array,K=z.updateRange;w.bindBuffer(U,L),K.count===-1?w.bufferSubData(U,0,G):(c?w.bufferSubData(U,K.offset*G.BYTES_PER_ELEMENT,G,K.offset,K.count):w.bufferSubData(U,K.offset*G.BYTES_PER_ELEMENT,G.subarray(K.offset,K.offset+K.count)),K.count=-1)}function _(L){return L.isInterleavedBufferAttribute&&(L=L.data),p.get(L)}function T(L){L.isInterleavedBufferAttribute&&(L=L.data);const z=p.get(L);z&&(w.deleteBuffer(z.buffer),p.delete(L))}function A(L,z){if(L.isGLBufferAttribute){const G=p.get(L);(!G||G.version<L.version)&&p.set(L,{buffer:L.buffer,type:L.type,bytesPerElement:L.elementSize,version:L.version});return}L.isInterleavedBufferAttribute&&(L=L.data);const U=p.get(L);U===void 0?p.set(L,m(L,z)):U.version<L.version&&(x(U.buffer,L,z),U.version=L.version)}return{get:_,remove:T,update:A}}class cd extends _i{constructor(o=1,c=1,p=1,m=1){super();this.type="PlaneGeometry",this.parameters={width:o,height:c,widthSegments:p,heightSegments:m};const x=o/2,_=c/2,T=Math.floor(p),A=Math.floor(m),L=T+1,z=A+1,U=o/T,G=c/A,K=[],te=[],ce=[],Le=[];for(let ne=0;ne<z;ne++){const q=ne*G-_;for(let Fe=0;Fe<L;Fe++){const Te=Fe*U-x;te.push(Te,-q,0),ce.push(0,0,1),Le.push(Fe/T),Le.push(1-ne/A)}}for(let ne=0;ne<A;ne++)for(let q=0;q<T;q++){const Fe=q+L*ne,Te=q+L*(ne+1),lt=q+1+L*(ne+1),Ot=q+1+L*ne;K.push(Fe,Te,Ot),K.push(Te,lt,Ot)}this.setIndex(K),this.setAttribute("position",new ei(te,3)),this.setAttribute("normal",new ei(ce,3)),this.setAttribute("uv",new ei(Le,2))}static fromJSON(o){return new cd(o.width,o.height,o.widthSegments,o.heightSegments)}}var dv=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Ay=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xg=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,hv=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Py=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ly=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Dy="vec3 transformed = vec3( position );",qd=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Df=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Ry=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Iy=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Zg=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$h=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ny=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pv=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Jh=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eh=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,fd=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vv=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,gv=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$g=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ky=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Jg=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,jy=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Qg=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,By="gl_FragColor = linearToOutputTexel( gl_FragColor );",mv=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,yv=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Fy=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zy=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Vy=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qg=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bv=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Rf=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Qh=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,em=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hy=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Gy=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,gu=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xv=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lx=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,N=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,R=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,j=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,ye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,pe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ee=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,fe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Ge=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ke=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rt=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,St=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Et=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,Dt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,wt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Nt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Zt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rn=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,sn=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kn=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,rr=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Un=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dn=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ar=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xn=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,xr=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Pn=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Qn=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Dr=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vr=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dr=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Zn=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Jn=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rr=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fi=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ni=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,yi=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ri=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ji=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Oa=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Xi=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ii=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qr=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,bi=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,So=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ki=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ja=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,so=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Qa=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zo=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Ko=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,lo=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Qi=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,sa=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,xi=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Kr=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Gr=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,wa=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ji={alphamap_fragment:dv,alphamap_pars_fragment:Ay,alphatest_fragment:Xg,alphatest_pars_fragment:hv,aomap_fragment:Py,aomap_pars_fragment:Ly,begin_vertex:Dy,beginnormal_vertex:qd,bsdfs:Df,bumpmap_pars_fragment:Ry,clipping_planes_fragment:Iy,clipping_planes_pars_fragment:Zg,clipping_planes_pars_vertex:$h,clipping_planes_vertex:Ny,color_fragment:pv,color_pars_fragment:Jh,color_pars_vertex:eh,color_vertex:fd,common:vv,cube_uv_reflection_fragment:gv,defaultnormal_vertex:$g,displacementmap_pars_vertex:ky,displacementmap_vertex:Jg,emissivemap_fragment:jy,emissivemap_pars_fragment:Qg,encodings_fragment:By,encodings_pars_fragment:mv,envmap_fragment:yv,envmap_common_pars_fragment:Fy,envmap_pars_fragment:zy,envmap_pars_vertex:Vy,envmap_physical_pars_fragment:N,envmap_vertex:qg,fog_vertex:bv,fog_pars_vertex:Rf,fog_fragment:Qh,fog_pars_fragment:em,gradientmap_pars_fragment:Hy,lightmap_fragment:Gy,lightmap_pars_fragment:gu,lights_lambert_vertex:xv,lights_pars_begin:lx,lights_toon_fragment:$,lights_toon_pars_fragment:ae,lights_phong_fragment:R,lights_phong_pars_fragment:j,lights_physical_fragment:ye,lights_physical_pars_fragment:pe,lights_fragment_begin:ee,lights_fragment_maps:fe,lights_fragment_end:_e,logdepthbuf_fragment:Ge,logdepthbuf_pars_fragment:ke,logdepthbuf_pars_vertex:rt,logdepthbuf_vertex:St,map_fragment:Et,map_pars_fragment:Dt,map_particle_fragment:wt,map_particle_pars_fragment:Nt,metalnessmap_fragment:jt,metalnessmap_pars_fragment:Zt,morphnormal_vertex:rn,morphtarget_pars_vertex:sn,morphtarget_vertex:kn,normal_fragment_begin:rr,normal_fragment_maps:Un,normal_pars_fragment:Dn,normal_pars_vertex:ar,normal_vertex:Xn,normalmap_pars_fragment:xr,clearcoat_normal_fragment_begin:Pn,clearcoat_normal_fragment_maps:Qn,clearcoat_pars_fragment:Dr,output_fragment:vr,packing:dr,premultiplied_alpha_fragment:Zn,project_vertex:Jn,dithering_fragment:Rr,dithering_pars_fragment:fi,roughnessmap_fragment:Ni,roughnessmap_pars_fragment:yi,shadowmap_pars_fragment:Ri,shadowmap_pars_vertex:Ji,shadowmap_vertex:Oa,shadowmask_pars_fragment:Xi,skinbase_vertex:ii,skinning_pars_vertex:Qr,skinning_vertex:bi,skinnormal_vertex:So,specularmap_fragment:ki,specularmap_pars_fragment:Ja,tonemapping_fragment:so,tonemapping_pars_fragment:Qa,transmission_fragment:zo,transmission_pars_fragment:Ko,uv_pars_fragment:lo,uv_pars_vertex:Qi,uv_vertex:sa,uv2_pars_fragment:xi,uv2_pars_vertex:Kr,uv2_vertex:Gr,worldpos_vertex:wa,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},yr={common:{diffuse:{value:new nr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new oo},uv2Transform:{value:new oo},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oo}},sprite:{diffuse:{value:new nr(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new oo}}},ts={basic:{uniforms:nl([yr.common,yr.specularmap,yr.envmap,yr.aomap,yr.lightmap,yr.fog]),vertexShader:ji.meshbasic_vert,fragmentShader:ji.meshbasic_frag},lambert:{uniforms:nl([yr.common,yr.specularmap,yr.envmap,yr.aomap,yr.lightmap,yr.emissivemap,yr.fog,yr.lights,{emissive:{value:new nr(0)}}]),vertexShader:ji.meshlambert_vert,fragmentShader:ji.meshlambert_frag},phong:{uniforms:nl([yr.common,yr.specularmap,yr.envmap,yr.aomap,yr.lightmap,yr.emissivemap,yr.bumpmap,yr.normalmap,yr.displacementmap,yr.fog,yr.lights,{emissive:{value:new nr(0)},specular:{value:new nr(1118481)},shininess:{value:30}}]),vertexShader:ji.meshphong_vert,fragmentShader:ji.meshphong_frag},standard:{uniforms:nl([yr.common,yr.envmap,yr.aomap,yr.lightmap,yr.emissivemap,yr.bumpmap,yr.normalmap,yr.displacementmap,yr.roughnessmap,yr.metalnessmap,yr.fog,yr.lights,{emissive:{value:new nr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ji.meshphysical_vert,fragmentShader:ji.meshphysical_frag},toon:{uniforms:nl([yr.common,yr.aomap,yr.lightmap,yr.emissivemap,yr.bumpmap,yr.normalmap,yr.displacementmap,yr.gradientmap,yr.fog,yr.lights,{emissive:{value:new nr(0)}}]),vertexShader:ji.meshtoon_vert,fragmentShader:ji.meshtoon_frag},matcap:{uniforms:nl([yr.common,yr.bumpmap,yr.normalmap,yr.displacementmap,yr.fog,{matcap:{value:null}}]),vertexShader:ji.meshmatcap_vert,fragmentShader:ji.meshmatcap_frag},points:{uniforms:nl([yr.points,yr.fog]),vertexShader:ji.points_vert,fragmentShader:ji.points_frag},dashed:{uniforms:nl([yr.common,yr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ji.linedashed_vert,fragmentShader:ji.linedashed_frag},depth:{uniforms:nl([yr.common,yr.displacementmap]),vertexShader:ji.depth_vert,fragmentShader:ji.depth_frag},normal:{uniforms:nl([yr.common,yr.bumpmap,yr.normalmap,yr.displacementmap,{opacity:{value:1}}]),vertexShader:ji.meshnormal_vert,fragmentShader:ji.meshnormal_frag},sprite:{uniforms:nl([yr.sprite,yr.fog]),vertexShader:ji.sprite_vert,fragmentShader:ji.sprite_frag},background:{uniforms:{uvTransform:{value:new oo},t2D:{value:null}},vertexShader:ji.background_vert,fragmentShader:ji.background_frag},cube:{uniforms:nl([yr.envmap,{opacity:{value:1}}]),vertexShader:ji.cube_vert,fragmentShader:ji.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ji.equirect_vert,fragmentShader:ji.equirect_frag},distanceRGBA:{uniforms:nl([yr.common,yr.displacementmap,{referencePosition:{value:new Ze},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ji.distanceRGBA_vert,fragmentShader:ji.distanceRGBA_frag},shadow:{uniforms:nl([yr.lights,yr.fog,{color:{value:new nr(0)},opacity:{value:1}}]),vertexShader:ji.shadow_vert,fragmentShader:ji.shadow_frag}};ts.physical={uniforms:nl([ts.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new nr(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new nr(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new nr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ji.meshphysical_vert,fragmentShader:ji.meshphysical_frag};function Fi(w,o,c,p,m){const x=new nr(0);let _=0,T,A,L=null,z=0,U=null;function G(te,ce){let Le=!1,ne=ce.isScene===!0?ce.background:null;ne&&ne.isTexture&&(ne=o.get(ne));const q=w.xr,Fe=q.getSession&&q.getSession();Fe&&Fe.environmentBlendMode==="additive"&&(ne=null),ne===null?K(x,_):ne&&ne.isColor&&(K(ne,1),Le=!0),(w.autoClear||Le)&&w.clear(w.autoClearColor,w.autoClearDepth,w.autoClearStencil),ne&&(ne.isCubeTexture||ne.mapping===ut)?(A===void 0&&(A=new _s(new ju(1,1,1),new Yi({name:"BackgroundCubeMaterial",uniforms:sd(ts.cube.uniforms),vertexShader:ts.cube.vertexShader,fragmentShader:ts.cube.fragmentShader,side:dt,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(Te,lt,Ot){this.matrixWorld.copyPosition(Ot.matrixWorld)},Object.defineProperty(A.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),p.update(A)),A.material.uniforms.envMap.value=ne,A.material.uniforms.flipEnvMap.value=ne.isCubeTexture&&ne.isRenderTargetTexture===!1?-1:1,(L!==ne||z!==ne.version||U!==w.toneMapping)&&(A.material.needsUpdate=!0,L=ne,z=ne.version,U=w.toneMapping),te.unshift(A,A.geometry,A.material,0,0,null)):ne&&ne.isTexture&&(T===void 0&&(T=new _s(new cd(2,2),new Yi({name:"BackgroundMaterial",uniforms:sd(ts.background.uniforms),vertexShader:ts.background.vertexShader,fragmentShader:ts.background.fragmentShader,side:ve,depthTest:!1,depthWrite:!1,fog:!1})),T.geometry.deleteAttribute("normal"),Object.defineProperty(T.material,"map",{get:function(){return this.uniforms.t2D.value}}),p.update(T)),T.material.uniforms.t2D.value=ne,ne.matrixAutoUpdate===!0&&ne.updateMatrix(),T.material.uniforms.uvTransform.value.copy(ne.matrix),(L!==ne||z!==ne.version||U!==w.toneMapping)&&(T.material.needsUpdate=!0,L=ne,z=ne.version,U=w.toneMapping),te.unshift(T,T.geometry,T.material,0,0,null))}function K(te,ce){c.buffers.color.setClear(te.r,te.g,te.b,ce,m)}return{getClearColor:function(){return x},setClearColor:function(te,ce=1){x.set(te),_=ce,K(x,_)},getClearAlpha:function(){return _},setClearAlpha:function(te){_=te,K(x,_)},render:G}}function Yr(w,o,c,p){const m=w.getParameter(34921),x=p.isWebGL2?null:o.get("OES_vertex_array_object"),_=p.isWebGL2||x!==null,T={},A=ce(null);let L=A;function z(xn,mn,En,Mn,On){let _r=!1;if(_){const di=te(Mn,En,mn);L!==di&&(L=di,G(L.object)),_r=Le(Mn,On),_r&&ne(Mn,On)}else{const di=mn.wireframe===!0;(L.geometry!==Mn.id||L.program!==En.id||L.wireframe!==di)&&(L.geometry=Mn.id,L.program=En.id,L.wireframe=di,_r=!0)}xn.isInstancedMesh===!0&&(_r=!0),On!==null&&c.update(On,34963),_r&&(He(xn,mn,En,Mn),On!==null&&w.bindBuffer(34963,c.get(On).buffer))}function U(){return p.isWebGL2?w.createVertexArray():x.createVertexArrayOES()}function G(xn){return p.isWebGL2?w.bindVertexArray(xn):x.bindVertexArrayOES(xn)}function K(xn){return p.isWebGL2?w.deleteVertexArray(xn):x.deleteVertexArrayOES(xn)}function te(xn,mn,En){const Mn=En.wireframe===!0;let On=T[xn.id];On===void 0&&(On={},T[xn.id]=On);let _r=On[mn.id];_r===void 0&&(_r={},On[mn.id]=_r);let di=_r[Mn];return di===void 0&&(di=ce(U()),_r[Mn]=di),di}function ce(xn){const mn=[],En=[],Mn=[];for(let On=0;On<m;On++)mn[On]=0,En[On]=0,Mn[On]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:mn,enabledAttributes:En,attributeDivisors:Mn,object:xn,attributes:{},index:null}}function Le(xn,mn){const En=L.attributes,Mn=xn.attributes;let On=0;for(const _r in Mn){const di=En[_r],Ci=Mn[_r];if(di===void 0||di.attribute!==Ci||di.data!==Ci.data)return!0;On++}return L.attributesNum!==On||L.index!==mn}function ne(xn,mn){const En={},Mn=xn.attributes;let On=0;for(const _r in Mn){const di=Mn[_r],Ci={};Ci.attribute=di,di.data&&(Ci.data=di.data),En[_r]=Ci,On++}L.attributes=En,L.attributesNum=On,L.index=mn}function q(){const xn=L.newAttributes;for(let mn=0,En=xn.length;mn<En;mn++)xn[mn]=0}function Fe(xn){Te(xn,0)}function Te(xn,mn){const En=L.newAttributes,Mn=L.enabledAttributes,On=L.attributeDivisors;En[xn]=1,Mn[xn]===0&&(w.enableVertexAttribArray(xn),Mn[xn]=1),On[xn]!==mn&&((p.isWebGL2?w:o.get("ANGLE_instanced_arrays"))[p.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](xn,mn),On[xn]=mn)}function lt(){const xn=L.newAttributes,mn=L.enabledAttributes;for(let En=0,Mn=mn.length;En<Mn;En++)mn[En]!==xn[En]&&(w.disableVertexAttribArray(En),mn[En]=0)}function Ot(xn,mn,En,Mn,On,_r){p.isWebGL2===!0&&(En===5124||En===5125)?w.vertexAttribIPointer(xn,mn,En,On,_r):w.vertexAttribPointer(xn,mn,En,Mn,On,_r)}function He(xn,mn,En,Mn){if(p.isWebGL2===!1&&(xn.isInstancedMesh||Mn.isInstancedBufferGeometry)&&o.get("ANGLE_instanced_arrays")===null)return;q();const On=Mn.attributes,_r=En.getAttributes(),di=mn.defaultAttributeValues;for(const Ci in _r){const $r=_r[Ci];if($r.location>=0){let Sa=On[Ci];if(Sa===void 0&&(Ci==="instanceMatrix"&&xn.instanceMatrix&&(Sa=xn.instanceMatrix),Ci==="instanceColor"&&xn.instanceColor&&(Sa=xn.instanceColor)),Sa!==void 0){const sr=Sa.normalized,wr=Sa.itemSize,wi=c.get(Sa);if(wi===void 0)continue;const jn=wi.buffer,zi=wi.type,da=wi.bytesPerElement;if(Sa.isInterleavedBufferAttribute){const oi=Sa.data,Si=oi.stride,_a=Sa.offset;if(oi&&oi.isInstancedInterleavedBuffer){for(let Bn=0;Bn<$r.locationSize;Bn++)Te($r.location+Bn,oi.meshPerAttribute);xn.isInstancedMesh!==!0&&Mn._maxInstanceCount===void 0&&(Mn._maxInstanceCount=oi.meshPerAttribute*oi.count)}else for(let Bn=0;Bn<$r.locationSize;Bn++)Fe($r.location+Bn);w.bindBuffer(34962,jn);for(let Bn=0;Bn<$r.locationSize;Bn++)Ot($r.location+Bn,wr/$r.locationSize,zi,sr,Si*da,(_a+wr/$r.locationSize*Bn)*da)}else{if(Sa.isInstancedBufferAttribute){for(let oi=0;oi<$r.locationSize;oi++)Te($r.location+oi,Sa.meshPerAttribute);xn.isInstancedMesh!==!0&&Mn._maxInstanceCount===void 0&&(Mn._maxInstanceCount=Sa.meshPerAttribute*Sa.count)}else for(let oi=0;oi<$r.locationSize;oi++)Fe($r.location+oi);w.bindBuffer(34962,jn);for(let oi=0;oi<$r.locationSize;oi++)Ot($r.location+oi,wr/$r.locationSize,zi,sr,wr*da,wr/$r.locationSize*oi*da)}}else if(di!==void 0){const sr=di[Ci];if(sr!==void 0)switch(sr.length){case 2:w.vertexAttrib2fv($r.location,sr);break;case 3:w.vertexAttrib3fv($r.location,sr);break;case 4:w.vertexAttrib4fv($r.location,sr);break;default:w.vertexAttrib1fv($r.location,sr)}}}}lt()}function Bt(){Ht();for(const xn in T){const mn=T[xn];for(const En in mn){const Mn=mn[En];for(const On in Mn)K(Mn[On].object),delete Mn[On];delete mn[En]}delete T[xn]}}function dn(xn){if(T[xn.id]===void 0)return;const mn=T[xn.id];for(const En in mn){const Mn=mn[En];for(const On in Mn)K(Mn[On].object),delete Mn[On];delete mn[En]}delete T[xn.id]}function qt(xn){for(const mn in T){const En=T[mn];if(En[xn.id]===void 0)continue;const Mn=En[xn.id];for(const On in Mn)K(Mn[On].object),delete Mn[On];delete En[xn.id]}}function Ht(){qn(),L!==A&&(L=A,G(L.object))}function qn(){A.geometry=null,A.program=null,A.wireframe=!1}return{setup:z,reset:Ht,resetDefaultState:qn,dispose:Bt,releaseStatesOfGeometry:dn,releaseStatesOfProgram:qt,initAttributes:q,enableAttribute:Fe,disableUnusedAttributes:lt}}function Qc(w,o,c,p){const m=p.isWebGL2;let x;function _(L){x=L}function T(L,z){w.drawArrays(x,L,z),c.update(z,x,1)}function A(L,z,U){if(U===0)return;let G,K;if(m)G=w,K="drawArraysInstanced";else if(G=o.get("ANGLE_instanced_arrays"),K="drawArraysInstancedANGLE",G===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}G[K](x,L,z,U),c.update(z,x,U)}this.setMode=_,this.render=T,this.renderInstances=A}function wo(w,o,c){let p;function m(){if(p!==void 0)return p;if(o.has("EXT_texture_filter_anisotropic")===!0){const He=o.get("EXT_texture_filter_anisotropic");p=w.getParameter(He.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else p=0;return p}function x(He){if(He==="highp"){if(w.getShaderPrecisionFormat(35633,36338).precision>0&&w.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";He="mediump"}return He==="mediump"&&w.getShaderPrecisionFormat(35633,36337).precision>0&&w.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const _=typeof WebGL2RenderingContext!="undefined"&&w instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&w instanceof WebGL2ComputeRenderingContext;let T=c.precision!==void 0?c.precision:"highp";const A=x(T);A!==T&&(console.warn("THREE.WebGLRenderer:",T,"not supported, using",A,"instead."),T=A);const L=_||o.has("WEBGL_draw_buffers"),z=c.logarithmicDepthBuffer===!0,U=w.getParameter(34930),G=w.getParameter(35660),K=w.getParameter(3379),te=w.getParameter(34076),ce=w.getParameter(34921),Le=w.getParameter(36347),ne=w.getParameter(36348),q=w.getParameter(36349),Fe=G>0,Te=_||o.has("OES_texture_float"),lt=Fe&&Te,Ot=_?w.getParameter(36183):0;return{isWebGL2:_,drawBuffers:L,getMaxAnisotropy:m,getMaxPrecision:x,precision:T,logarithmicDepthBuffer:z,maxTextures:U,maxVertexTextures:G,maxTextureSize:K,maxCubemapSize:te,maxAttributes:ce,maxVertexUniforms:Le,maxVaryings:ne,maxFragmentUniforms:q,vertexTextures:Fe,floatFragmentTextures:Te,floatVertexTextures:lt,maxSamples:Ot}}function ka(w){const o=this;let c=null,p=0,m=!1,x=!1;const _=new vu,T=new oo,A={value:null,needsUpdate:!1};this.uniform=A,this.numPlanes=0,this.numIntersection=0,this.init=function(U,G,K){const te=U.length!==0||G||p!==0||m;return m=G,c=z(U,K,0),p=U.length,te},this.beginShadows=function(){x=!0,z(null)},this.endShadows=function(){x=!1,L()},this.setState=function(U,G,K){const te=U.clippingPlanes,ce=U.clipIntersection,Le=U.clipShadows,ne=w.get(U);if(!m||te===null||te.length===0||x&&!Le)x?z(null):L();else{const q=x?0:p,Fe=q*4;let Te=ne.clippingState||null;A.value=Te,Te=z(te,G,Fe,K);for(let lt=0;lt!==Fe;++lt)Te[lt]=c[lt];ne.clippingState=Te,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=q}};function L(){A.value!==c&&(A.value=c,A.needsUpdate=p>0),o.numPlanes=p,o.numIntersection=0}function z(U,G,K,te){const ce=U!==null?U.length:0;let Le=null;if(ce!==0){if(Le=A.value,te!==!0||Le===null){const ne=K+ce*4,q=G.matrixWorldInverse;T.getNormalMatrix(q),(Le===null||Le.length<ne)&&(Le=new Float32Array(ne));for(let Fe=0,Te=K;Fe!==ce;++Fe,Te+=4)_.copy(U[Fe]).applyMatrix4(q,T),_.normal.toArray(Le,Te),Le[Te+3]=_.constant}A.value=Le,A.needsUpdate=!0}return o.numPlanes=ce,o.numIntersection=0,Le}}function ds(w){let o=new WeakMap;function c(_,T){return T===Oe?_.mapping=B:T===nt&&(_.mapping=J),_}function p(_){if(_&&_.isTexture&&_.isRenderTargetTexture===!1){const T=_.mapping;if(T===Oe||T===nt)if(o.has(_)){const A=o.get(_).texture;return c(A,_.mapping)}else{const A=_.image;if(A&&A.height>0){const L=w.getRenderTarget(),z=new Zh(A.height/2);return z.fromEquirectangularTexture(w,_),o.set(_,z),w.setRenderTarget(L),_.addEventListener("dispose",m),c(z.texture,_.mapping)}else return null}}return _}function m(_){const T=_.target;T.removeEventListener("dispose",m);const A=o.get(T);A!==void 0&&(o.delete(T),A.dispose())}function x(){o=new WeakMap}return{get:p,dispose:x}}class Rs extends ld{constructor(o=-1,c=1,p=1,m=-1,x=.1,_=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=o,this.right=c,this.top=p,this.bottom=m,this.near=x,this.far=_,this.updateProjectionMatrix()}copy(o,c){return super.copy(o,c),this.left=o.left,this.right=o.right,this.top=o.top,this.bottom=o.bottom,this.near=o.near,this.far=o.far,this.zoom=o.zoom,this.view=o.view===null?null:Object.assign({},o.view),this}setViewOffset(o,c,p,m,x,_){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=o,this.view.fullHeight=c,this.view.offsetX=p,this.view.offsetY=m,this.view.width=x,this.view.height=_,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const o=(this.right-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),p=(this.right+this.left)/2,m=(this.top+this.bottom)/2;let x=p-o,_=p+o,T=m+c,A=m-c;if(this.view!==null&&this.view.enabled){const L=(this.right-this.left)/this.view.fullWidth/this.zoom,z=(this.top-this.bottom)/this.view.fullHeight/this.zoom;x+=L*this.view.offsetX,_=x+L*this.view.width,T-=z*this.view.offsetY,A=T-z*this.view.height}this.projectionMatrix.makeOrthographic(x,_,T,A,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(o){const c=super.toJSON(o);return c.object.zoom=this.zoom,c.object.left=this.left,c.object.right=this.right,c.object.top=this.top,c.object.bottom=this.bottom,c.object.near=this.near,c.object.far=this.far,this.view!==null&&(c.object.view=Object.assign({},this.view)),c}}Rs.prototype.isOrthographicCamera=!0;class qa extends Yi{constructor(o){super(o);this.type="RawShaderMaterial"}}qa.prototype.isRawShaderMaterial=!0;const gl=4,Jl=8,Do=Math.pow(2,Jl),Pc=[.125,.215,.35,.446,.526,.582],hs=Jl-gl+1+Pc.length,xu=20,Il={[Fr]:0,[Ya]:1,[$a]:2,[io]:3,[zs]:4,[ns]:5,[Pa]:6},pd=new Rs,{_lodPlanes:ac,_sizeLods:th,_sigmas:qc}=Mv(),ef=new nr;let kf=null;const oc=(1+Math.sqrt(5))/2,Vu=1/oc,Sv=[new Ze(1,1,1),new Ze(-1,1,1),new Ze(1,1,-1),new Ze(-1,1,-1),new Ze(0,oc,Vu),new Ze(0,oc,-Vu),new Ze(Vu,0,oc),new Ze(-Vu,0,oc),new Ze(oc,Vu,0),new Ze(-oc,Vu,0)];class wv{constructor(o){this._renderer=o,this._pingPongRenderTarget=null,this._blurMaterial=tm(xu),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(o,c=0,p=.1,m=100){kf=this._renderer.getRenderTarget();const x=this._allocateTargets();return this._sceneToCubeUV(o,p,m,x),c>0&&this._blur(x,0,0,c),this._applyPMREM(x),this._cleanup(x),x}fromEquirectangular(o){return this._fromTexture(o)}fromCubemap(o){return this._fromTexture(o)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=rh(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=Su(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let o=0;o<ac.length;o++)ac[o].dispose()}_cleanup(o){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(kf),o.scissorTest=!1,nh(o,0,0,o.width,o.height)}_fromTexture(o){kf=this._renderer.getRenderTarget();const c=this._allocateTargets(o);return this._textureToCubeUV(o,c),this._applyPMREM(c),this._cleanup(c),c}_allocateTargets(o){const c={magFilter:Se,minFilter:Se,generateMipmaps:!1,type:ue,format:vt,encoding:ep(o)?o.encoding:$a,depthBuffer:!1},p=tp(c);return p.depthBuffer=!o,this._pingPongRenderTarget=tp(c),p}_compileMaterial(o){const c=new _s(ac[0],o);this._renderer.compile(c,pd)}_sceneToCubeUV(o,c,p,m){const x=90,_=1,T=new no(x,_,c,p),A=[1,-1,1,1,1,1],L=[1,1,1,-1,-1,-1],z=this._renderer,U=z.autoClear,G=z.outputEncoding,K=z.toneMapping;z.getClearColor(ef),z.toneMapping=wn,z.outputEncoding=Fr,z.autoClear=!1;const te=new ms({name:"PMREM.Background",side:dt,depthWrite:!1,depthTest:!1}),ce=new _s(new ju,te);let Le=!1;const ne=o.background;ne?ne.isColor&&(te.color.copy(ne),o.background=null,Le=!0):(te.color.copy(ef),Le=!0);for(let q=0;q<6;q++){const Fe=q%3;Fe==0?(T.up.set(0,A[q],0),T.lookAt(L[q],0,0)):Fe==1?(T.up.set(0,0,A[q]),T.lookAt(0,L[q],0)):(T.up.set(0,A[q],0),T.lookAt(0,0,L[q])),nh(m,Fe*Do,q>2?Do:0,Do,Do),z.setRenderTarget(m),Le&&z.render(ce,T),z.render(o,T)}ce.geometry.dispose(),ce.material.dispose(),z.toneMapping=K,z.outputEncoding=G,z.autoClear=U,o.background=ne}_setEncoding(o,c){this._renderer.capabilities.isWebGL2===!0&&c.format===fn&&c.type===ue&&c.encoding===Ya?o.value=Il[Fr]:o.value=Il[c.encoding]}_textureToCubeUV(o,c){const p=this._renderer,m=o.mapping===B||o.mapping===J;m?this._cubemapShader==null&&(this._cubemapShader=rh()):this._equirectShader==null&&(this._equirectShader=Su());const x=m?this._cubemapShader:this._equirectShader,_=new _s(ac[0],x),T=x.uniforms;T.envMap.value=o,m||T.texelSize.value.set(1/o.image.width,1/o.image.height),this._setEncoding(T.inputEncoding,o),this._setEncoding(T.outputEncoding,c.texture),nh(c,0,0,3*Do,2*Do),p.setRenderTarget(c),p.render(_,pd)}_applyPMREM(o){const c=this._renderer,p=c.autoClear;c.autoClear=!1;for(let m=1;m<hs;m++){const x=Math.sqrt(qc[m]*qc[m]-qc[m-1]*qc[m-1]),_=Sv[(m-1)%Sv.length];this._blur(o,m-1,m,x,_)}c.autoClear=p}_blur(o,c,p,m,x){const _=this._pingPongRenderTarget;this._halfBlur(o,_,c,p,m,"latitudinal",x),this._halfBlur(_,o,p,p,m,"longitudinal",x)}_halfBlur(o,c,p,m,x,_,T){const A=this._renderer,L=this._blurMaterial;_!=="latitudinal"&&_!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const z=3,U=new _s(ac[m],L),G=L.uniforms,K=th[p]-1,te=isFinite(x)?Math.PI/(2*K):2*Math.PI/(2*xu-1),ce=x/te,Le=isFinite(x)?1+Math.floor(z*ce):xu;Le>xu&&console.warn(`sigmaRadians, ${x}, is too large and will clip, as it requested ${Le} samples when the maximum is set to ${xu}`);const ne=[];let q=0;for(let Ot=0;Ot<xu;++Ot){const He=Ot/ce,Bt=Math.exp(-He*He/2);ne.push(Bt),Ot==0?q+=Bt:Ot<Le&&(q+=2*Bt)}for(let Ot=0;Ot<ne.length;Ot++)ne[Ot]=ne[Ot]/q;G.envMap.value=o.texture,G.samples.value=Le,G.weights.value=ne,G.latitudinal.value=_==="latitudinal",T&&(G.poleAxis.value=T),G.dTheta.value=te,G.mipInt.value=Jl-p,this._setEncoding(G.inputEncoding,o.texture),this._setEncoding(G.outputEncoding,o.texture);const Fe=th[m],Te=3*Math.max(0,Do-2*Fe),lt=(m===0?0:2*Do)+2*Fe*(m>Jl-gl?m-Jl+gl:0);nh(c,Te,lt,3*Fe,2*Fe),A.setRenderTarget(c),A.render(U,pd)}}function ep(w){return w===void 0||w.type!==ue?!1:w.encoding===Fr||w.encoding===Ya||w.encoding===Pa}function Mv(){const w=[],o=[],c=[];let p=Jl;for(let m=0;m<hs;m++){const x=Math.pow(2,p);o.push(x);let _=1/x;m>Jl-gl?_=Pc[m-Jl+gl-1]:m==0&&(_=0),c.push(_);const T=1/(x-1),A=-T/2,L=1+T/2,z=[A,A,L,A,L,L,A,A,L,L,A,L],U=6,G=6,K=3,te=2,ce=1,Le=new Float32Array(K*G*U),ne=new Float32Array(te*G*U),q=new Float32Array(ce*G*U);for(let Te=0;Te<U;Te++){const lt=Te%3*2/3-1,Ot=Te>2?0:-1,He=[lt,Ot,0,lt+2/3,Ot,0,lt+2/3,Ot+1,0,lt,Ot,0,lt+2/3,Ot+1,0,lt,Ot+1,0];Le.set(He,K*G*Te),ne.set(z,te*G*Te);const Bt=[Te,Te,Te,Te,Te,Te];q.set(Bt,ce*G*Te)}const Fe=new _i;Fe.setAttribute("position",new Va(Le,K)),Fe.setAttribute("uv",new Va(ne,te)),Fe.setAttribute("faceIndex",new Va(q,ce)),w.push(Fe),p>gl&&p--}return{_lodPlanes:w,_sizeLods:o,_sigmas:c}}function tp(w){const o=new jo(3*Do,3*Do,w);return o.texture.mapping=ut,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function nh(w,o,c,p,m){w.viewport.set(o,c,p,m),w.scissor.set(o,c,p,m)}function tm(w){const o=new Float32Array(w),c=new Ze(0,1,0);return new qa({name:"SphericalGaussianBlur",defines:{n:w},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c},inputEncoding:{value:Il[Fr]},outputEncoding:{value:Il[Fr]}},vertexShader:nm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${_v()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:bt,depthTest:!1,depthWrite:!1})}function Su(){const w=new Vn(1,1);return new qa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:w},inputEncoding:{value:Il[Fr]},outputEncoding:{value:Il[Fr]}},vertexShader:nm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${_v()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:bt,depthTest:!1,depthWrite:!1})}function rh(){return new qa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Il[Fr]},outputEncoding:{value:Il[Fr]}},vertexShader:nm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${_v()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:bt,depthTest:!1,depthWrite:!1})}function nm(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function _v(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function Uy(w){let o=new WeakMap,c=null;function p(T){if(T&&T.isTexture&&T.isRenderTargetTexture===!1){const A=T.mapping,L=A===Oe||A===nt,z=A===B||A===J;if(L||z){if(o.has(T))return o.get(T).texture;{const U=T.image;if(L&&U&&U.height>0||z&&U&&m(U)){const G=w.getRenderTarget();c===null&&(c=new wv(w));const K=L?c.fromEquirectangular(T):c.fromCubemap(T);return o.set(T,K),w.setRenderTarget(G),T.addEventListener("dispose",x),K.texture}else return null}}}return T}function m(T){let A=0;const L=6;for(let z=0;z<L;z++)T[z]!==void 0&&A++;return A===L}function x(T){const A=T.target;A.removeEventListener("dispose",x);const L=o.get(A);L!==void 0&&(o.delete(A),L.dispose())}function _(){o=new WeakMap,c!==null&&(c.dispose(),c=null)}return{get:p,dispose:_}}function Ia(w){const o={};function c(p){if(o[p]!==void 0)return o[p];let m;switch(p){case"WEBGL_depth_texture":m=w.getExtension("WEBGL_depth_texture")||w.getExtension("MOZ_WEBGL_depth_texture")||w.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":m=w.getExtension("EXT_texture_filter_anisotropic")||w.getExtension("MOZ_EXT_texture_filter_anisotropic")||w.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":m=w.getExtension("WEBGL_compressed_texture_s3tc")||w.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||w.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":m=w.getExtension("WEBGL_compressed_texture_pvrtc")||w.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:m=w.getExtension(p)}return o[p]=m,m}return{has:function(p){return c(p)!==null},init:function(p){p.isWebGL2?c("EXT_color_buffer_float"):(c("WEBGL_depth_texture"),c("OES_texture_float"),c("OES_texture_half_float"),c("OES_texture_half_float_linear"),c("OES_standard_derivatives"),c("OES_element_index_uint"),c("OES_vertex_array_object"),c("ANGLE_instanced_arrays")),c("OES_texture_float_linear"),c("EXT_color_buffer_half_float")},get:function(p){const m=c(p);return m===null&&console.warn("THREE.WebGLRenderer: "+p+" extension not supported."),m}}}function uo(w,o,c,p){const m={},x=new WeakMap;function _(U){const G=U.target;G.index!==null&&o.remove(G.index);for(const te in G.attributes)o.remove(G.attributes[te]);G.removeEventListener("dispose",_),delete m[G.id];const K=x.get(G);K&&(o.remove(K),x.delete(G)),p.releaseStatesOfGeometry(G),G.isInstancedBufferGeometry===!0&&delete G._maxInstanceCount,c.memory.geometries--}function T(U,G){return m[G.id]===!0||(G.addEventListener("dispose",_),m[G.id]=!0,c.memory.geometries++),G}function A(U){const G=U.attributes;for(const te in G)o.update(G[te],34962);const K=U.morphAttributes;for(const te in K){const ce=K[te];for(let Le=0,ne=ce.length;Le<ne;Le++)o.update(ce[Le],34962)}}function L(U){const G=[],K=U.index,te=U.attributes.position;let ce=0;if(K!==null){const q=K.array;ce=K.version;for(let Fe=0,Te=q.length;Fe<Te;Fe+=3){const lt=q[Fe+0],Ot=q[Fe+1],He=q[Fe+2];G.push(lt,Ot,Ot,He,He,lt)}}else{const q=te.array;ce=te.version;for(let Fe=0,Te=q.length/3-1;Fe<Te;Fe+=3){const lt=Fe+0,Ot=Fe+1,He=Fe+2;G.push(lt,Ot,Ot,He,He,lt)}}const Le=new(Yu(G)>65535?pl:Ef)(G,1);Le.version=ce;const ne=x.get(U);ne&&o.remove(ne),x.set(U,Le)}function z(U){const G=x.get(U);if(G){const K=U.index;K!==null&&G.version<K.version&&L(U)}else L(U);return x.get(U)}return{get:T,update:A,getWireframeAttribute:z}}function ps(w,o,c,p){const m=p.isWebGL2;let x;function _(G){x=G}let T,A;function L(G){T=G.type,A=G.bytesPerElement}function z(G,K){w.drawElements(x,K,T,G*A),c.update(K,x,1)}function U(G,K,te){if(te===0)return;let ce,Le;if(m)ce=w,Le="drawElementsInstanced";else if(ce=o.get("ANGLE_instanced_arrays"),Le="drawElementsInstancedANGLE",ce===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ce[Le](x,K,T,G*A,te),c.update(K,x,te)}this.setMode=_,this.setIndex=L,this.render=z,this.renderInstances=U}function Us(w){const o={geometries:0,textures:0},c={frame:0,calls:0,triangles:0,points:0,lines:0};function p(x,_,T){switch(c.calls++,_){case 4:c.triangles+=T*(x/3);break;case 1:c.lines+=T*(x/2);break;case 3:c.lines+=T*(x-1);break;case 2:c.lines+=T*x;break;case 0:c.points+=T*x;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",_);break}}function m(){c.frame++,c.calls=0,c.triangles=0,c.points=0,c.lines=0}return{memory:o,render:c,programs:null,autoReset:!0,reset:m,update:p}}class np extends ri{constructor(o=null,c=1,p=1,m=1){super(null);this.image={data:o,width:c,height:p,depth:m},this.magFilter=Se,this.minFilter=Se,this.wrapR=hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}np.prototype.isDataTexture2DArray=!0;function Lc(w,o){return w[0]-o[0]}function Hu(w,o){return Math.abs(o[1])-Math.abs(w[1])}function Ql(w,o){let c=1;const p=o.isInterleavedBufferAttribute?o.data.array:o.array;p instanceof Int8Array?c=127:p instanceof Int16Array?c=32767:p instanceof Int32Array?c=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",p),w.divideScalar(c)}function Cv(w,o,c){const p={},m=new Float32Array(8),x=new WeakMap,_=new Ze,T=[];for(let L=0;L<8;L++)T[L]=[L,0];function A(L,z,U,G){const K=L.morphTargetInfluences;if(o.isWebGL2===!0){const te=z.morphAttributes.position.length;let ce=x.get(z);if(ce===void 0||ce.count!==te){ce!==void 0&&ce.texture.dispose();const q=z.morphAttributes.normal!==void 0,Fe=z.morphAttributes.position,Te=z.morphAttributes.normal||[],lt=z.attributes.position.count,Ot=q===!0?2:1;let He=lt*Ot,Bt=1;He>o.maxTextureSize&&(Bt=Math.ceil(He/o.maxTextureSize),He=o.maxTextureSize);const dn=new Float32Array(He*Bt*4*te),qt=new np(dn,He,Bt,te);qt.format=fn,qt.type=ct;const Ht=Ot*4;for(let qn=0;qn<te;qn++){const xn=Fe[qn],mn=Te[qn],En=He*Bt*4*qn;for(let Mn=0;Mn<xn.count;Mn++){_.fromBufferAttribute(xn,Mn),xn.normalized===!0&&Ql(_,xn);const On=Mn*Ht;dn[En+On+0]=_.x,dn[En+On+1]=_.y,dn[En+On+2]=_.z,dn[En+On+3]=0,q===!0&&(_.fromBufferAttribute(mn,Mn),mn.normalized===!0&&Ql(_,mn),dn[En+On+4]=_.x,dn[En+On+5]=_.y,dn[En+On+6]=_.z,dn[En+On+7]=0)}}ce={count:te,texture:qt,size:new Vn(He,Bt)},x.set(z,ce)}let Le=0;for(let q=0;q<K.length;q++)Le+=K[q];const ne=z.morphTargetsRelative?1:1-Le;G.getUniforms().setValue(w,"morphTargetBaseInfluence",ne),G.getUniforms().setValue(w,"morphTargetInfluences",K),G.getUniforms().setValue(w,"morphTargetsTexture",ce.texture,c),G.getUniforms().setValue(w,"morphTargetsTextureSize",ce.size)}else{const te=K===void 0?0:K.length;let ce=p[z.id];if(ce===void 0||ce.length!==te){ce=[];for(let Te=0;Te<te;Te++)ce[Te]=[Te,0];p[z.id]=ce}for(let Te=0;Te<te;Te++){const lt=ce[Te];lt[0]=Te,lt[1]=K[Te]}ce.sort(Hu);for(let Te=0;Te<8;Te++)Te<te&&ce[Te][1]?(T[Te][0]=ce[Te][0],T[Te][1]=ce[Te][1]):(T[Te][0]=Number.MAX_SAFE_INTEGER,T[Te][1]=0);T.sort(Lc);const Le=z.morphAttributes.position,ne=z.morphAttributes.normal;let q=0;for(let Te=0;Te<8;Te++){const lt=T[Te],Ot=lt[0],He=lt[1];Ot!==Number.MAX_SAFE_INTEGER&&He?(Le&&z.getAttribute("morphTarget"+Te)!==Le[Ot]&&z.setAttribute("morphTarget"+Te,Le[Ot]),ne&&z.getAttribute("morphNormal"+Te)!==ne[Ot]&&z.setAttribute("morphNormal"+Te,ne[Ot]),m[Te]=He,q+=He):(Le&&z.hasAttribute("morphTarget"+Te)===!0&&z.deleteAttribute("morphTarget"+Te),ne&&z.hasAttribute("morphNormal"+Te)===!0&&z.deleteAttribute("morphNormal"+Te),m[Te]=0)}const Fe=z.morphTargetsRelative?1:1-q;G.getUniforms().setValue(w,"morphTargetBaseInfluence",Fe),G.getUniforms().setValue(w,"morphTargetInfluences",m)}}return{update:A}}function Tv(w,o,c,p){let m=new WeakMap;function x(A){const L=p.render.frame,z=A.geometry,U=o.get(A,z);return m.get(U)!==L&&(o.update(U),m.set(U,L)),A.isInstancedMesh&&(A.hasEventListener("dispose",T)===!1&&A.addEventListener("dispose",T),c.update(A.instanceMatrix,34962),A.instanceColor!==null&&c.update(A.instanceColor,34962)),U}function _(){m=new WeakMap}function T(A){const L=A.target;L.removeEventListener("dispose",T),c.remove(L.instanceMatrix),L.instanceColor!==null&&c.remove(L.instanceColor)}return{update:x,dispose:_}}class Wy extends ri{constructor(o=null,c=1,p=1,m=1){super(null);this.image={data:o,width:c,height:p,depth:m},this.magFilter=Se,this.minFilter=Se,this.wrapR=hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Wy.prototype.isDataTexture3D=!0;const Ky=new ri,ux=new np,cx=new Wy,rm=new Oc,im=[],fx=[],am=new Float32Array(16),dx=new Float32Array(9),hx=new Float32Array(4);function rp(w,o,c){const p=w[0];if(p<=0||p>0)return w;const m=o*c;let x=im[m];if(x===void 0&&(x=new Float32Array(m),im[m]=x),o!==0){p.toArray(x,0);for(let _=1,T=0;_!==o;++_)T+=c,w[_].toArray(x,T)}return x}function Nl(w,o){if(w.length!==o.length)return!1;for(let c=0,p=w.length;c<p;c++)if(w[c]!==o[c])return!1;return!0}function kl(w,o){for(let c=0,p=o.length;c<p;c++)w[c]=o[c]}function jf(w,o){let c=fx[o];c===void 0&&(c=new Int32Array(o),fx[o]=c);for(let p=0;p!==o;++p)c[p]=w.allocateTextureUnit();return c}function ww(w,o){const c=this.cache;c[0]!==o&&(w.uniform1f(this.addr,o),c[0]=o)}function ys(w,o){const c=this.cache;if(o.x!==void 0)(c[0]!==o.x||c[1]!==o.y)&&(w.uniform2f(this.addr,o.x,o.y),c[0]=o.x,c[1]=o.y);else{if(Nl(c,o))return;w.uniform2fv(this.addr,o),kl(c,o)}}function Yy(w,o){const c=this.cache;if(o.x!==void 0)(c[0]!==o.x||c[1]!==o.y||c[2]!==o.z)&&(w.uniform3f(this.addr,o.x,o.y,o.z),c[0]=o.x,c[1]=o.y,c[2]=o.z);else if(o.r!==void 0)(c[0]!==o.r||c[1]!==o.g||c[2]!==o.b)&&(w.uniform3f(this.addr,o.r,o.g,o.b),c[0]=o.r,c[1]=o.g,c[2]=o.b);else{if(Nl(c,o))return;w.uniform3fv(this.addr,o),kl(c,o)}}function px(w,o){const c=this.cache;if(o.x!==void 0)(c[0]!==o.x||c[1]!==o.y||c[2]!==o.z||c[3]!==o.w)&&(w.uniform4f(this.addr,o.x,o.y,o.z,o.w),c[0]=o.x,c[1]=o.y,c[2]=o.z,c[3]=o.w);else{if(Nl(c,o))return;w.uniform4fv(this.addr,o),kl(c,o)}}function Mw(w,o){const c=this.cache,p=o.elements;if(p===void 0){if(Nl(c,o))return;w.uniformMatrix2fv(this.addr,!1,o),kl(c,o)}else{if(Nl(c,p))return;hx.set(p),w.uniformMatrix2fv(this.addr,!1,hx),kl(c,p)}}function ml(w,o){const c=this.cache,p=o.elements;if(p===void 0){if(Nl(c,o))return;w.uniformMatrix3fv(this.addr,!1,o),kl(c,o)}else{if(Nl(c,p))return;dx.set(p),w.uniformMatrix3fv(this.addr,!1,dx),kl(c,p)}}function ih(w,o){const c=this.cache,p=o.elements;if(p===void 0){if(Nl(c,o))return;w.uniformMatrix4fv(this.addr,!1,o),kl(c,o)}else{if(Nl(c,p))return;am.set(p),w.uniformMatrix4fv(this.addr,!1,am),kl(c,p)}}function Ov(w,o){const c=this.cache;c[0]!==o&&(w.uniform1i(this.addr,o),c[0]=o)}function _w(w,o){const c=this.cache;Nl(c,o)||(w.uniform2iv(this.addr,o),kl(c,o))}function Cw(w,o){const c=this.cache;Nl(c,o)||(w.uniform3iv(this.addr,o),kl(c,o))}function Xy(w,o){const c=this.cache;Nl(c,o)||(w.uniform4iv(this.addr,o),kl(c,o))}function vx(w,o){const c=this.cache;c[0]!==o&&(w.uniform1ui(this.addr,o),c[0]=o)}function Tw(w,o){const c=this.cache;Nl(c,o)||(w.uniform2uiv(this.addr,o),kl(c,o))}function gx(w,o){const c=this.cache;Nl(c,o)||(w.uniform3uiv(this.addr,o),kl(c,o))}function ip(w,o){const c=this.cache;Nl(c,o)||(w.uniform4uiv(this.addr,o),kl(c,o))}function Zy(w,o,c){const p=this.cache,m=c.allocateTextureUnit();p[0]!==m&&(w.uniform1i(this.addr,m),p[0]=m),c.safeSetTexture2D(o||Ky,m)}function Ea(w,o,c){const p=this.cache,m=c.allocateTextureUnit();p[0]!==m&&(w.uniform1i(this.addr,m),p[0]=m),c.setTexture3D(o||cx,m)}function Jo(w,o,c){const p=this.cache,m=c.allocateTextureUnit();p[0]!==m&&(w.uniform1i(this.addr,m),p[0]=m),c.safeSetTextureCube(o||rm,m)}function ap(w,o,c){const p=this.cache,m=c.allocateTextureUnit();p[0]!==m&&(w.uniform1i(this.addr,m),p[0]=m),c.setTexture2DArray(o||ux,m)}function vd(w){switch(w){case 5126:return ww;case 35664:return ys;case 35665:return Yy;case 35666:return px;case 35674:return Mw;case 35675:return ml;case 35676:return ih;case 5124:case 35670:return Ov;case 35667:case 35671:return _w;case 35668:case 35672:return Cw;case 35669:case 35673:return Xy;case 5125:return vx;case 36294:return Tw;case 36295:return gx;case 36296:return ip;case 35678:case 36198:case 36298:case 36306:case 35682:return Zy;case 35679:case 36299:case 36307:return Ea;case 35680:case 36300:case 36308:case 36293:return Jo;case 36289:case 36303:case 36311:case 36292:return ap}}function mx(w,o){w.uniform1fv(this.addr,o)}function Ev(w,o){const c=rp(o,this.size,2);w.uniform2fv(this.addr,c)}function Dc(w,o){const c=rp(o,this.size,3);w.uniform3fv(this.addr,c)}function Ow(w,o){const c=rp(o,this.size,4);w.uniform4fv(this.addr,c)}function om(w,o){const c=rp(o,this.size,4);w.uniformMatrix2fv(this.addr,!1,c)}function yx(w,o){const c=rp(o,this.size,9);w.uniformMatrix3fv(this.addr,!1,c)}function $y(w,o){const c=rp(o,this.size,16);w.uniformMatrix4fv(this.addr,!1,c)}function jl(w,o){w.uniform1iv(this.addr,o)}function al(w,o){w.uniform2iv(this.addr,o)}function bs(w,o){w.uniform3iv(this.addr,o)}function sm(w,o){w.uniform4iv(this.addr,o)}function Ew(w,o){w.uniform1uiv(this.addr,o)}function Aw(w,o){w.uniform2uiv(this.addr,o)}function bx(w,o){w.uniform3uiv(this.addr,o)}function xx(w,o){w.uniform4uiv(this.addr,o)}function Sx(w,o,c){const p=o.length,m=jf(c,p);w.uniform1iv(this.addr,m);for(let x=0;x!==p;++x)c.safeSetTexture2D(o[x]||Ky,m[x])}function Mx(w,o,c){const p=o.length,m=jf(c,p);w.uniform1iv(this.addr,m);for(let x=0;x!==p;++x)c.safeSetTextureCube(o[x]||rm,m[x])}function _x(w){switch(w){case 5126:return mx;case 35664:return Ev;case 35665:return Dc;case 35666:return Ow;case 35674:return om;case 35675:return yx;case 35676:return $y;case 5124:case 35670:return jl;case 35667:case 35671:return al;case 35668:case 35672:return bs;case 35669:case 35673:return sm;case 5125:return Ew;case 36294:return Aw;case 36295:return bx;case 36296:return xx;case 35678:case 36198:case 36298:case 36306:case 35682:return Sx;case 35680:case 36300:case 36308:case 36293:return Mx}}function op(w,o,c){this.id=w,this.addr=c,this.cache=[],this.setValue=vd(o.type)}function Jy(w,o,c){this.id=w,this.addr=c,this.cache=[],this.size=o.size,this.setValue=_x(o.type)}Jy.prototype.updateCache=function(w){const o=this.cache;w instanceof Float32Array&&o.length!==w.length&&(this.cache=new Float32Array(w.length)),kl(o,w)};function Qy(w){this.id=w,this.seq=[],this.map={}}Qy.prototype.setValue=function(w,o,c){const p=this.seq;for(let m=0,x=p.length;m!==x;++m){const _=p[m];_.setValue(w,o[_.id],c)}};const qy=/(\w+)(\])?(\[|\.)?/g;function lm(w,o){w.seq.push(o),w.map[o.id]=o}function e0(w,o,c){const p=w.name,m=p.length;for(qy.lastIndex=0;;){const x=qy.exec(p),_=qy.lastIndex;let T=x[1];const A=x[2]==="]",L=x[3];if(A&&(T=T|0),L===void 0||L==="["&&_+2===m){lm(c,L===void 0?new op(T,w,o):new Jy(T,w,o));break}else{let U=c.map[T];U===void 0&&(U=new Qy(T),lm(c,U)),c=U}}}function gd(w,o){this.seq=[],this.map={};const c=w.getProgramParameter(o,35718);for(let p=0;p<c;++p){const m=w.getActiveUniform(o,p),x=w.getUniformLocation(o,m.name);e0(m,x,this)}}gd.prototype.setValue=function(w,o,c,p){const m=this.map[o];m!==void 0&&m.setValue(w,c,p)},gd.prototype.setOptional=function(w,o,c){const p=o[c];p!==void 0&&this.setValue(w,c,p)},gd.upload=function(w,o,c,p){for(let m=0,x=o.length;m!==x;++m){const _=o[m],T=c[_.id];T.needsUpdate!==!1&&_.setValue(w,T.value,p)}},gd.seqWithValue=function(w,o){const c=[];for(let p=0,m=w.length;p!==m;++p){const x=w[p];x.id in o&&c.push(x)}return c};function Cx(w,o,c){const p=w.createShader(o);return w.shaderSource(p,c),w.compileShader(p),p}let Tx=0;function Pw(w){const o=w.split(`
`);for(let c=0;c<o.length;c++)o[c]=c+1+": "+o[c];return o.join(`
`)}function Ox(w){switch(w){case Fr:return["Linear","( value )"];case Ya:return["sRGB","( value )"];case $a:return["RGBE","( value )"];case io:return["RGBM","( value, 7.0 )"];case zs:return["RGBM","( value, 16.0 )"];case ns:return["RGBD","( value, 256.0 )"];case Pa:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case ro:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",w),["Linear","( value )"]}}function t0(w,o,c){const p=w.getShaderParameter(o,35713),m=w.getShaderInfoLog(o).trim();return p&&m===""?"":c.toUpperCase()+`

`+m+`

`+Pw(w.getShaderSource(o))}function ah(w,o){const c=Ox(o);return"vec4 "+w+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function Lw(w,o){const c=Ox(o);return"vec4 "+w+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}function oh(w,o){let c;switch(o){case De:c="Linear";break;case Ae:c="Reinhard";break;case st:c="OptimizedCineon";break;case Xe:c="ACESFilmic";break;case ie:c="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",o),c="Linear"}return"vec3 "+w+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}function Mo(w){return[w.extensionDerivatives||w.envMapCubeUV||w.bumpMap||w.tangentSpaceNormalMap||w.clearcoatNormalMap||w.flatShading||w.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(w.extensionFragDepth||w.logarithmicDepthBuffer)&&w.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",w.extensionDrawBuffers&&w.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(w.extensionShaderTextureLOD||w.envMap||w.transmission)&&w.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Av).join(`
`)}function Dw(w){const o=[];for(const c in w){const p=w[c];p!==!1&&o.push("#define "+c+" "+p)}return o.join(`
`)}function sp(w,o){const c={},p=w.getProgramParameter(o,35721);for(let m=0;m<p;m++){const x=w.getActiveAttrib(o,m),_=x.name;let T=1;x.type===35674&&(T=2),x.type===35675&&(T=3),x.type===35676&&(T=4),c[_]={type:x.type,location:w.getAttribLocation(o,_),locationSize:T}}return c}function Av(w){return w!==""}function Ex(w,o){return w.replace(/NUM_DIR_LIGHTS/g,o.numDirLights).replace(/NUM_SPOT_LIGHTS/g,o.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,o.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,o.numPointLights).replace(/NUM_HEMI_LIGHTS/g,o.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,o.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,o.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,o.numPointLightShadows)}function Bf(w,o){return w.replace(/NUM_CLIPPING_PLANES/g,o.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,o.numClippingPlanes-o.numClipIntersection)}const Rw=/^[ \t]*#include +<([\w\d./]+)>/gm;function n0(w){return w.replace(Rw,um)}function um(w,o){const c=ji[o];if(c===void 0)throw new Error("Can not resolve #include <"+o+">");return n0(c)}const r0=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Pv=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lv(w){return w.replace(Pv,a0).replace(r0,i0)}function i0(w,o,c,p){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),a0(w,o,c,p)}function a0(w,o,c,p){let m="";for(let x=parseInt(o);x<parseInt(c);x++)m+=p.replace(/\[\s*i\s*\]/g,"[ "+x+" ]").replace(/UNROLLED_LOOP_INDEX/g,x);return m}function cm(w){let o="precision "+w.precision+` float;
precision `+w.precision+" int;";return w.precision==="highp"?o+=`
#define HIGH_PRECISION`:w.precision==="mediump"?o+=`
#define MEDIUM_PRECISION`:w.precision==="lowp"&&(o+=`
#define LOW_PRECISION`),o}function Iw(w){let o="SHADOWMAP_TYPE_BASIC";return w.shadowMapType===tt?o="SHADOWMAP_TYPE_PCF":w.shadowMapType===Z?o="SHADOWMAP_TYPE_PCF_SOFT":w.shadowMapType===Pe&&(o="SHADOWMAP_TYPE_VSM"),o}function o0(w){let o="ENVMAP_TYPE_CUBE";if(w.envMap)switch(w.envMapMode){case B:case J:o="ENVMAP_TYPE_CUBE";break;case ut:case Jt:o="ENVMAP_TYPE_CUBE_UV";break}return o}function Nw(w){let o="ENVMAP_MODE_REFLECTION";if(w.envMap)switch(w.envMapMode){case J:case Jt:o="ENVMAP_MODE_REFRACTION";break}return o}function s0(w){let o="ENVMAP_BLENDING_NONE";if(w.envMap)switch(w.combine){case Jr:o="ENVMAP_BLENDING_MULTIPLY";break;case jr:o="ENVMAP_BLENDING_MIX";break;case Mi:o="ENVMAP_BLENDING_ADD";break}return o}function l0(w,o,c,p){const m=w.getContext(),x=c.defines;let _=c.vertexShader,T=c.fragmentShader;const A=Iw(c),L=o0(c),z=Nw(c),U=s0(c),G=w.gammaFactor>0?w.gammaFactor:1,K=c.isWebGL2?"":Mo(c),te=Dw(x),ce=m.createProgram();let Le,ne,q=c.glslVersion?"#version "+c.glslVersion+`
`:"";c.isRawShaderMaterial?(Le=[te].filter(Av).join(`
`),Le.length>0&&(Le+=`
`),ne=[K,te].filter(Av).join(`
`),ne.length>0&&(ne+=`
`)):(Le=[cm(c),"#define SHADER_NAME "+c.shaderName,te,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+G,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+z:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&c.flatShading===!1?"#define USE_MORPHNORMALS":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+A:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Av).join(`
`),ne=[K,cm(c),"#define SHADER_NAME "+c.shaderName,te,"#define GAMMA_FACTOR "+G,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+L:"",c.envMap?"#define "+z:"",c.envMap?"#define "+U:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+A:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==wn?"#define TONE_MAPPING":"",c.toneMapping!==wn?ji.tonemapping_pars_fragment:"",c.toneMapping!==wn?oh("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.format===tn?"#define OPAQUE":"",ji.encodings_pars_fragment,c.map?ah("mapTexelToLinear",c.mapEncoding):"",c.matcap?ah("matcapTexelToLinear",c.matcapEncoding):"",c.envMap?ah("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?ah("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.specularColorMap?ah("specularColorMapTexelToLinear",c.specularColorMapEncoding):"",c.sheenColorMap?ah("sheenColorMapTexelToLinear",c.sheenColorMapEncoding):"",c.lightMap?ah("lightMapTexelToLinear",c.lightMapEncoding):"",Lw("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"",`
`].filter(Av).join(`
`)),_=n0(_),_=Ex(_,c),_=Bf(_,c),T=n0(T),T=Ex(T,c),T=Bf(T,c),_=Lv(_),T=Lv(T),c.isWebGL2&&c.isRawShaderMaterial!==!0&&(q=`#version 300 es
`,Le=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Le,ne=["#define varying in",c.glslVersion===Tl?"":"out highp vec4 pc_fragColor;",c.glslVersion===Tl?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ne);const Fe=q+Le+_,Te=q+ne+T,lt=Cx(m,35633,Fe),Ot=Cx(m,35632,Te);if(m.attachShader(ce,lt),m.attachShader(ce,Ot),c.index0AttributeName!==void 0?m.bindAttribLocation(ce,0,c.index0AttributeName):c.morphTargets===!0&&m.bindAttribLocation(ce,0,"position"),m.linkProgram(ce),w.debug.checkShaderErrors){const dn=m.getProgramInfoLog(ce).trim(),qt=m.getShaderInfoLog(lt).trim(),Ht=m.getShaderInfoLog(Ot).trim();let qn=!0,xn=!0;if(m.getProgramParameter(ce,35714)===!1){qn=!1;const mn=t0(m,lt,"vertex"),En=t0(m,Ot,"fragment");console.error("THREE.WebGLProgram: Shader Error "+m.getError()+" - VALIDATE_STATUS "+m.getProgramParameter(ce,35715)+`

Program Info Log: `+dn+`
`+mn+`
`+En)}else dn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",dn):(qt===""||Ht==="")&&(xn=!1);xn&&(this.diagnostics={runnable:qn,programLog:dn,vertexShader:{log:qt,prefix:Le},fragmentShader:{log:Ht,prefix:ne}})}m.deleteShader(lt),m.deleteShader(Ot);let He;this.getUniforms=function(){return He===void 0&&(He=new gd(m,ce)),He};let Bt;return this.getAttributes=function(){return Bt===void 0&&(Bt=sp(m,ce)),Bt},this.destroy=function(){p.releaseStatesOfProgram(this),m.deleteProgram(ce),this.program=void 0},this.name=c.shaderName,this.id=Tx++,this.cacheKey=o,this.usedTimes=1,this.program=ce,this.vertexShader=lt,this.fragmentShader=Ot,this}function Dv(w,o,c,p,m,x,_){const T=[],A=m.isWebGL2,L=m.logarithmicDepthBuffer,z=m.floatVertexTextures,U=m.maxVertexUniforms,G=m.vertexTextures;let K=m.precision;const te={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ce=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function Le(He){const dn=He.skeleton.bones;if(z)return 1024;{const Ht=Math.floor((U-20)/4),qn=Math.min(Ht,dn.length);return qn<dn.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+dn.length+" bones. This GPU supports "+qn+"."),0):qn}}function ne(He){let Bt;return He&&He.isTexture?Bt=He.encoding:He&&He.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Bt=He.texture.encoding):Bt=Fr,A&&He&&He.isTexture&&He.format===fn&&He.type===ue&&He.encoding===Ya&&(Bt=Fr),Bt}function q(He,Bt,dn,qt,Ht){const qn=qt.fog,xn=He.isMeshStandardMaterial?qt.environment:null,mn=(He.isMeshStandardMaterial?c:o).get(He.envMap||xn),En=te[He.type],Mn=Ht.isSkinnedMesh?Le(Ht):0;He.precision!==null&&(K=m.getMaxPrecision(He.precision),K!==He.precision&&console.warn("THREE.WebGLProgram.getParameters:",He.precision,"not supported, using",K,"instead."));let On,_r;if(En){const sr=ts[En];On=sr.vertexShader,_r=sr.fragmentShader}else On=He.vertexShader,_r=He.fragmentShader;const di=w.getRenderTarget(),Ci=He.alphaTest>0,$r=He.clearcoat>0;return{isWebGL2:A,shaderID:En,shaderName:He.type,vertexShader:On,fragmentShader:_r,defines:He.defines,isRawShaderMaterial:He.isRawShaderMaterial===!0,glslVersion:He.glslVersion,precision:K,instancing:Ht.isInstancedMesh===!0,instancingColor:Ht.isInstancedMesh===!0&&Ht.instanceColor!==null,supportsVertexTextures:G,outputEncoding:di!==null?ne(di.texture):w.outputEncoding,map:!!He.map,mapEncoding:ne(He.map),matcap:!!He.matcap,matcapEncoding:ne(He.matcap),envMap:!!mn,envMapMode:mn&&mn.mapping,envMapEncoding:ne(mn),envMapCubeUV:!!mn&&(mn.mapping===ut||mn.mapping===Jt),lightMap:!!He.lightMap,lightMapEncoding:ne(He.lightMap),aoMap:!!He.aoMap,emissiveMap:!!He.emissiveMap,emissiveMapEncoding:ne(He.emissiveMap),bumpMap:!!He.bumpMap,normalMap:!!He.normalMap,objectSpaceNormalMap:He.normalMapType===As,tangentSpaceNormalMap:He.normalMapType===Uo,clearcoat:$r,clearcoatMap:$r&&!!He.clearcoatMap,clearcoatRoughnessMap:$r&&!!He.clearcoatRoughnessMap,clearcoatNormalMap:$r&&!!He.clearcoatNormalMap,displacementMap:!!He.displacementMap,roughnessMap:!!He.roughnessMap,metalnessMap:!!He.metalnessMap,specularMap:!!He.specularMap,specularIntensityMap:!!He.specularIntensityMap,specularColorMap:!!He.specularColorMap,specularColorMapEncoding:ne(He.specularColorMap),alphaMap:!!He.alphaMap,alphaTest:Ci,gradientMap:!!He.gradientMap,sheen:He.sheen>0,sheenColorMap:!!He.sheenColorMap,sheenColorMapEncoding:ne(He.sheenColorMap),sheenRoughnessMap:!!He.sheenRoughnessMap,transmission:He.transmission>0,transmissionMap:!!He.transmissionMap,thicknessMap:!!He.thicknessMap,combine:He.combine,vertexTangents:!!He.normalMap&&!!Ht.geometry&&!!Ht.geometry.attributes.tangent,vertexColors:He.vertexColors,vertexAlphas:He.vertexColors===!0&&!!Ht.geometry&&!!Ht.geometry.attributes.color&&Ht.geometry.attributes.color.itemSize===4,vertexUvs:!!He.map||!!He.bumpMap||!!He.normalMap||!!He.specularMap||!!He.alphaMap||!!He.emissiveMap||!!He.roughnessMap||!!He.metalnessMap||!!He.clearcoatMap||!!He.clearcoatRoughnessMap||!!He.clearcoatNormalMap||!!He.displacementMap||!!He.transmissionMap||!!He.thicknessMap||!!He.specularIntensityMap||!!He.specularColorMap||!!He.sheenColorMap||He.sheenRoughnessMap,uvsVertexOnly:!(!!He.map||!!He.bumpMap||!!He.normalMap||!!He.specularMap||!!He.alphaMap||!!He.emissiveMap||!!He.roughnessMap||!!He.metalnessMap||!!He.clearcoatNormalMap||He.transmission>0||!!He.transmissionMap||!!He.thicknessMap||!!He.specularIntensityMap||!!He.specularColorMap||!!He.sheen>0||!!He.sheenColorMap||!!He.sheenRoughnessMap)&&!!He.displacementMap,fog:!!qn,useFog:He.fog,fogExp2:qn&&qn.isFogExp2,flatShading:!!He.flatShading,sizeAttenuation:He.sizeAttenuation,logarithmicDepthBuffer:L,skinning:Ht.isSkinnedMesh===!0&&Mn>0,maxBones:Mn,useVertexTexture:z,morphTargets:!!Ht.geometry&&!!Ht.geometry.morphAttributes.position,morphNormals:!!Ht.geometry&&!!Ht.geometry.morphAttributes.normal,morphTargetsCount:!!Ht.geometry&&!!Ht.geometry.morphAttributes.position?Ht.geometry.morphAttributes.position.length:0,numDirLights:Bt.directional.length,numPointLights:Bt.point.length,numSpotLights:Bt.spot.length,numRectAreaLights:Bt.rectArea.length,numHemiLights:Bt.hemi.length,numDirLightShadows:Bt.directionalShadowMap.length,numPointLightShadows:Bt.pointShadowMap.length,numSpotLightShadows:Bt.spotShadowMap.length,numClippingPlanes:_.numPlanes,numClipIntersection:_.numIntersection,format:He.format,dithering:He.dithering,shadowMapEnabled:w.shadowMap.enabled&&dn.length>0,shadowMapType:w.shadowMap.type,toneMapping:He.toneMapped?w.toneMapping:wn,physicallyCorrectLights:w.physicallyCorrectLights,premultipliedAlpha:He.premultipliedAlpha,doubleSided:He.side===at,flipSided:He.side===dt,depthPacking:He.depthPacking!==void 0?He.depthPacking:!1,index0AttributeName:He.index0AttributeName,extensionDerivatives:He.extensions&&He.extensions.derivatives,extensionFragDepth:He.extensions&&He.extensions.fragDepth,extensionDrawBuffers:He.extensions&&He.extensions.drawBuffers,extensionShaderTextureLOD:He.extensions&&He.extensions.shaderTextureLOD,rendererExtensionFragDepth:A||p.has("EXT_frag_depth"),rendererExtensionDrawBuffers:A||p.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:A||p.has("EXT_shader_texture_lod"),customProgramCacheKey:He.customProgramCacheKey()}}function Fe(He){const Bt=[];if(He.shaderID?Bt.push(He.shaderID):(Bt.push(Kl(He.fragmentShader)),Bt.push(Kl(He.vertexShader))),He.defines!==void 0)for(const dn in He.defines)Bt.push(dn),Bt.push(He.defines[dn]);if(He.isRawShaderMaterial===!1){for(let dn=0;dn<ce.length;dn++)Bt.push(He[ce[dn]]);Bt.push(w.outputEncoding),Bt.push(w.gammaFactor)}return Bt.push(He.customProgramCacheKey),Bt.join()}function Te(He){const Bt=te[He.type];let dn;if(Bt){const qt=ts[Bt];dn=Yg.clone(qt.uniforms)}else dn=He.uniforms;return dn}function lt(He,Bt){let dn;for(let qt=0,Ht=T.length;qt<Ht;qt++){const qn=T[qt];if(qn.cacheKey===Bt){dn=qn,++dn.usedTimes;break}}return dn===void 0&&(dn=new l0(w,Bt,He,x),T.push(dn)),dn}function Ot(He){if(--He.usedTimes==0){const Bt=T.indexOf(He);T[Bt]=T[T.length-1],T.pop(),He.destroy()}}return{getParameters:q,getProgramCacheKey:Fe,getUniforms:Te,acquireProgram:lt,releaseProgram:Ot,programs:T}}function sc(){let w=new WeakMap;function o(x){let _=w.get(x);return _===void 0&&(_={},w.set(x,_)),_}function c(x){w.delete(x)}function p(x,_,T){w.get(x)[_]=T}function m(){w=new WeakMap}return{get:o,remove:c,update:p,dispose:m}}function Ax(w,o){return w.groupOrder!==o.groupOrder?w.groupOrder-o.groupOrder:w.renderOrder!==o.renderOrder?w.renderOrder-o.renderOrder:w.program!==o.program?w.program.id-o.program.id:w.material.id!==o.material.id?w.material.id-o.material.id:w.z!==o.z?w.z-o.z:w.id-o.id}function lp(w,o){return w.groupOrder!==o.groupOrder?w.groupOrder-o.groupOrder:w.renderOrder!==o.renderOrder?w.renderOrder-o.renderOrder:w.z!==o.z?o.z-w.z:w.id-o.id}function Rv(w){const o=[];let c=0;const p=[],m=[],x=[],_={id:-1};function T(){c=0,p.length=0,m.length=0,x.length=0}function A(K,te,ce,Le,ne,q){let Fe=o[c];const Te=w.get(ce);return Fe===void 0?(Fe={id:K.id,object:K,geometry:te,material:ce,program:Te.program||_,groupOrder:Le,renderOrder:K.renderOrder,z:ne,group:q},o[c]=Fe):(Fe.id=K.id,Fe.object=K,Fe.geometry=te,Fe.material=ce,Fe.program=Te.program||_,Fe.groupOrder=Le,Fe.renderOrder=K.renderOrder,Fe.z=ne,Fe.group=q),c++,Fe}function L(K,te,ce,Le,ne,q){const Fe=A(K,te,ce,Le,ne,q);ce.transmission>0?m.push(Fe):ce.transparent===!0?x.push(Fe):p.push(Fe)}function z(K,te,ce,Le,ne,q){const Fe=A(K,te,ce,Le,ne,q);ce.transmission>0?m.unshift(Fe):ce.transparent===!0?x.unshift(Fe):p.unshift(Fe)}function U(K,te){p.length>1&&p.sort(K||Ax),m.length>1&&m.sort(te||lp),x.length>1&&x.sort(te||lp)}function G(){for(let K=c,te=o.length;K<te;K++){const ce=o[K];if(ce.id===null)break;ce.id=null,ce.object=null,ce.geometry=null,ce.material=null,ce.program=null,ce.group=null}}return{opaque:p,transmissive:m,transparent:x,init:T,push:L,unshift:z,finish:G,sort:U}}function Px(w){let o=new WeakMap;function c(m,x){let _;return o.has(m)===!1?(_=new Rv(w),o.set(m,[_])):x>=o.get(m).length?(_=new Rv(w),o.get(m).push(_)):_=o.get(m)[x],_}function p(){o=new WeakMap}return{get:c,dispose:p}}function u0(){const w={};return{get:function(o){if(w[o.id]!==void 0)return w[o.id];let c;switch(o.type){case"DirectionalLight":c={direction:new Ze,color:new nr};break;case"SpotLight":c={position:new Ze,direction:new Ze,color:new nr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new Ze,color:new nr,distance:0,decay:0};break;case"HemisphereLight":c={direction:new Ze,skyColor:new nr,groundColor:new nr};break;case"RectAreaLight":c={color:new nr,position:new Ze,halfWidth:new Ze,halfHeight:new Ze};break}return w[o.id]=c,c}}}function Lx(){const w={};return{get:function(o){if(w[o.id]!==void 0)return w[o.id];let c;switch(o.type){case"DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return w[o.id]=c,c}}}let Gu=0;function up(w,o){return(o.castShadow?1:0)-(w.castShadow?1:0)}function kw(w,o){const c=new u0,p=Lx(),m={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let z=0;z<9;z++)m.probe.push(new Ze);const x=new Ze,_=new Hn,T=new Hn;function A(z,U){let G=0,K=0,te=0;for(let dn=0;dn<9;dn++)m.probe[dn].set(0,0,0);let ce=0,Le=0,ne=0,q=0,Fe=0,Te=0,lt=0,Ot=0;z.sort(up);const He=U!==!0?Math.PI:1;for(let dn=0,qt=z.length;dn<qt;dn++){const Ht=z[dn],qn=Ht.color,xn=Ht.intensity,mn=Ht.distance,En=Ht.shadow&&Ht.shadow.map?Ht.shadow.map.texture:null;if(Ht.isAmbientLight)G+=qn.r*xn*He,K+=qn.g*xn*He,te+=qn.b*xn*He;else if(Ht.isLightProbe)for(let Mn=0;Mn<9;Mn++)m.probe[Mn].addScaledVector(Ht.sh.coefficients[Mn],xn);else if(Ht.isDirectionalLight){const Mn=c.get(Ht);if(Mn.color.copy(Ht.color).multiplyScalar(Ht.intensity*He),Ht.castShadow){const On=Ht.shadow,_r=p.get(Ht);_r.shadowBias=On.bias,_r.shadowNormalBias=On.normalBias,_r.shadowRadius=On.radius,_r.shadowMapSize=On.mapSize,m.directionalShadow[ce]=_r,m.directionalShadowMap[ce]=En,m.directionalShadowMatrix[ce]=Ht.shadow.matrix,Te++}m.directional[ce]=Mn,ce++}else if(Ht.isSpotLight){const Mn=c.get(Ht);if(Mn.position.setFromMatrixPosition(Ht.matrixWorld),Mn.color.copy(qn).multiplyScalar(xn*He),Mn.distance=mn,Mn.coneCos=Math.cos(Ht.angle),Mn.penumbraCos=Math.cos(Ht.angle*(1-Ht.penumbra)),Mn.decay=Ht.decay,Ht.castShadow){const On=Ht.shadow,_r=p.get(Ht);_r.shadowBias=On.bias,_r.shadowNormalBias=On.normalBias,_r.shadowRadius=On.radius,_r.shadowMapSize=On.mapSize,m.spotShadow[ne]=_r,m.spotShadowMap[ne]=En,m.spotShadowMatrix[ne]=Ht.shadow.matrix,Ot++}m.spot[ne]=Mn,ne++}else if(Ht.isRectAreaLight){const Mn=c.get(Ht);Mn.color.copy(qn).multiplyScalar(xn),Mn.halfWidth.set(Ht.width*.5,0,0),Mn.halfHeight.set(0,Ht.height*.5,0),m.rectArea[q]=Mn,q++}else if(Ht.isPointLight){const Mn=c.get(Ht);if(Mn.color.copy(Ht.color).multiplyScalar(Ht.intensity*He),Mn.distance=Ht.distance,Mn.decay=Ht.decay,Ht.castShadow){const On=Ht.shadow,_r=p.get(Ht);_r.shadowBias=On.bias,_r.shadowNormalBias=On.normalBias,_r.shadowRadius=On.radius,_r.shadowMapSize=On.mapSize,_r.shadowCameraNear=On.camera.near,_r.shadowCameraFar=On.camera.far,m.pointShadow[Le]=_r,m.pointShadowMap[Le]=En,m.pointShadowMatrix[Le]=Ht.shadow.matrix,lt++}m.point[Le]=Mn,Le++}else if(Ht.isHemisphereLight){const Mn=c.get(Ht);Mn.skyColor.copy(Ht.color).multiplyScalar(xn*He),Mn.groundColor.copy(Ht.groundColor).multiplyScalar(xn*He),m.hemi[Fe]=Mn,Fe++}}q>0&&(o.isWebGL2||w.has("OES_texture_float_linear")===!0?(m.rectAreaLTC1=yr.LTC_FLOAT_1,m.rectAreaLTC2=yr.LTC_FLOAT_2):w.has("OES_texture_half_float_linear")===!0?(m.rectAreaLTC1=yr.LTC_HALF_1,m.rectAreaLTC2=yr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),m.ambient[0]=G,m.ambient[1]=K,m.ambient[2]=te;const Bt=m.hash;(Bt.directionalLength!==ce||Bt.pointLength!==Le||Bt.spotLength!==ne||Bt.rectAreaLength!==q||Bt.hemiLength!==Fe||Bt.numDirectionalShadows!==Te||Bt.numPointShadows!==lt||Bt.numSpotShadows!==Ot)&&(m.directional.length=ce,m.spot.length=ne,m.rectArea.length=q,m.point.length=Le,m.hemi.length=Fe,m.directionalShadow.length=Te,m.directionalShadowMap.length=Te,m.pointShadow.length=lt,m.pointShadowMap.length=lt,m.spotShadow.length=Ot,m.spotShadowMap.length=Ot,m.directionalShadowMatrix.length=Te,m.pointShadowMatrix.length=lt,m.spotShadowMatrix.length=Ot,Bt.directionalLength=ce,Bt.pointLength=Le,Bt.spotLength=ne,Bt.rectAreaLength=q,Bt.hemiLength=Fe,Bt.numDirectionalShadows=Te,Bt.numPointShadows=lt,Bt.numSpotShadows=Ot,m.version=Gu++)}function L(z,U){let G=0,K=0,te=0,ce=0,Le=0;const ne=U.matrixWorldInverse;for(let q=0,Fe=z.length;q<Fe;q++){const Te=z[q];if(Te.isDirectionalLight){const lt=m.directional[G];lt.direction.setFromMatrixPosition(Te.matrixWorld),x.setFromMatrixPosition(Te.target.matrixWorld),lt.direction.sub(x),lt.direction.transformDirection(ne),G++}else if(Te.isSpotLight){const lt=m.spot[te];lt.position.setFromMatrixPosition(Te.matrixWorld),lt.position.applyMatrix4(ne),lt.direction.setFromMatrixPosition(Te.matrixWorld),x.setFromMatrixPosition(Te.target.matrixWorld),lt.direction.sub(x),lt.direction.transformDirection(ne),te++}else if(Te.isRectAreaLight){const lt=m.rectArea[ce];lt.position.setFromMatrixPosition(Te.matrixWorld),lt.position.applyMatrix4(ne),T.identity(),_.copy(Te.matrixWorld),_.premultiply(ne),T.extractRotation(_),lt.halfWidth.set(Te.width*.5,0,0),lt.halfHeight.set(0,Te.height*.5,0),lt.halfWidth.applyMatrix4(T),lt.halfHeight.applyMatrix4(T),ce++}else if(Te.isPointLight){const lt=m.point[K];lt.position.setFromMatrixPosition(Te.matrixWorld),lt.position.applyMatrix4(ne),K++}else if(Te.isHemisphereLight){const lt=m.hemi[Le];lt.direction.setFromMatrixPosition(Te.matrixWorld),lt.direction.transformDirection(ne),lt.direction.normalize(),Le++}}}return{setup:A,setupView:L,state:m}}function Dx(w,o){const c=new kw(w,o),p=[],m=[];function x(){p.length=0,m.length=0}function _(U){p.push(U)}function T(U){m.push(U)}function A(U){c.setup(p,U)}function L(U){c.setupView(p,U)}return{init:x,state:{lightsArray:p,shadowsArray:m,lights:c},setupLights:A,setupLightsView:L,pushLight:_,pushShadow:T}}function Iv(w,o){let c=new WeakMap;function p(x,_=0){let T;return c.has(x)===!1?(T=new Dx(w,o),c.set(x,[T])):_>=c.get(x).length?(T=new Dx(w,o),c.get(x).push(T)):T=c.get(x)[_],T}function m(){c=new WeakMap}return{get:p,dispose:m}}class c0 extends Ps{constructor(o){super();this.type="MeshDepthMaterial",this.depthPacking=To,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(o)}copy(o){return super.copy(o),this.depthPacking=o.depthPacking,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this}}c0.prototype.isMeshDepthMaterial=!0;class fm extends Ps{constructor(o){super();this.type="MeshDistanceMaterial",this.referencePosition=new Ze,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(o)}copy(o){return super.copy(o),this.referencePosition.copy(o.referencePosition),this.nearDistance=o.nearDistance,this.farDistance=o.farDistance,this.map=o.map,this.alphaMap=o.alphaMap,this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this}}fm.prototype.isMeshDistanceMaterial=!0;const Rx=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,f0=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sh(w,o,c){let p=new Qd;const m=new Vn,x=new Vn,_=new Ki,T=new c0({depthPacking:za}),A=new fm,L={},z=c.maxTextureSize,U={0:dt,1:ve,2:at},G=new Yi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:Rx,fragmentShader:f0}),K=G.clone();K.defines.HORIZONTAL_PASS=1;const te=new _i;te.setAttribute("position",new Va(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new _s(te,G),Le=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tt,this.render=function(Te,lt,Ot){if(Le.enabled===!1||Le.autoUpdate===!1&&Le.needsUpdate===!1||Te.length===0)return;const He=w.getRenderTarget(),Bt=w.getActiveCubeFace(),dn=w.getActiveMipmapLevel(),qt=w.state;qt.setBlending(bt),qt.buffers.color.setClear(1,1,1,1),qt.buffers.depth.setTest(!0),qt.setScissorTest(!1);for(let Ht=0,qn=Te.length;Ht<qn;Ht++){const xn=Te[Ht],mn=xn.shadow;if(mn===void 0){console.warn("THREE.WebGLShadowMap:",xn,"has no shadow.");continue}if(mn.autoUpdate===!1&&mn.needsUpdate===!1)continue;m.copy(mn.mapSize);const En=mn.getFrameExtents();if(m.multiply(En),x.copy(mn.mapSize),(m.x>z||m.y>z)&&(m.x>z&&(x.x=Math.floor(z/En.x),m.x=x.x*En.x,mn.mapSize.x=x.x),m.y>z&&(x.y=Math.floor(z/En.y),m.y=x.y*En.y,mn.mapSize.y=x.y)),mn.map===null&&!mn.isPointLightShadow&&this.type===Pe){const On={minFilter:Ke,magFilter:Ke,format:fn};mn.map=new jo(m.x,m.y,On),mn.map.texture.name=xn.name+".shadowMap",mn.mapPass=new jo(m.x,m.y,On),mn.camera.updateProjectionMatrix()}if(mn.map===null){const On={minFilter:Se,magFilter:Se,format:fn};mn.map=new jo(m.x,m.y,On),mn.map.texture.name=xn.name+".shadowMap",mn.camera.updateProjectionMatrix()}w.setRenderTarget(mn.map),w.clear();const Mn=mn.getViewportCount();for(let On=0;On<Mn;On++){const _r=mn.getViewport(On);_.set(x.x*_r.x,x.y*_r.y,x.x*_r.z,x.y*_r.w),qt.viewport(_),mn.updateMatrices(xn,On),p=mn.getFrustum(),Fe(lt,Ot,mn.camera,xn,this.type)}!mn.isPointLightShadow&&this.type===Pe&&ne(mn,Ot),mn.needsUpdate=!1}Le.needsUpdate=!1,w.setRenderTarget(He,Bt,dn)};function ne(Te,lt){const Ot=o.update(ce);G.defines.VSM_SAMPLES!==Te.blurSamples&&(G.defines.VSM_SAMPLES=Te.blurSamples,K.defines.VSM_SAMPLES=Te.blurSamples,G.needsUpdate=!0,K.needsUpdate=!0),G.uniforms.shadow_pass.value=Te.map.texture,G.uniforms.resolution.value=Te.mapSize,G.uniforms.radius.value=Te.radius,w.setRenderTarget(Te.mapPass),w.clear(),w.renderBufferDirect(lt,null,Ot,G,ce,null),K.uniforms.shadow_pass.value=Te.mapPass.texture,K.uniforms.resolution.value=Te.mapSize,K.uniforms.radius.value=Te.radius,w.setRenderTarget(Te.map),w.clear(),w.renderBufferDirect(lt,null,Ot,K,ce,null)}function q(Te,lt,Ot,He,Bt,dn,qt){let Ht=null;const qn=He.isPointLight===!0?Te.customDistanceMaterial:Te.customDepthMaterial;if(qn!==void 0?Ht=qn:Ht=He.isPointLight===!0?A:T,w.localClippingEnabled&&Ot.clipShadows===!0&&Ot.clippingPlanes.length!==0||Ot.displacementMap&&Ot.displacementScale!==0||Ot.alphaMap&&Ot.alphaTest>0){const xn=Ht.uuid,mn=Ot.uuid;let En=L[xn];En===void 0&&(En={},L[xn]=En);let Mn=En[mn];Mn===void 0&&(Mn=Ht.clone(),En[mn]=Mn),Ht=Mn}return Ht.visible=Ot.visible,Ht.wireframe=Ot.wireframe,qt===Pe?Ht.side=Ot.shadowSide!==null?Ot.shadowSide:Ot.side:Ht.side=Ot.shadowSide!==null?Ot.shadowSide:U[Ot.side],Ht.alphaMap=Ot.alphaMap,Ht.alphaTest=Ot.alphaTest,Ht.clipShadows=Ot.clipShadows,Ht.clippingPlanes=Ot.clippingPlanes,Ht.clipIntersection=Ot.clipIntersection,Ht.displacementMap=Ot.displacementMap,Ht.displacementScale=Ot.displacementScale,Ht.displacementBias=Ot.displacementBias,Ht.wireframeLinewidth=Ot.wireframeLinewidth,Ht.linewidth=Ot.linewidth,He.isPointLight===!0&&Ht.isMeshDistanceMaterial===!0&&(Ht.referencePosition.setFromMatrixPosition(He.matrixWorld),Ht.nearDistance=Bt,Ht.farDistance=dn),Ht}function Fe(Te,lt,Ot,He,Bt){if(Te.visible===!1)return;if(Te.layers.test(lt.layers)&&(Te.isMesh||Te.isLine||Te.isPoints)&&(Te.castShadow||Te.receiveShadow&&Bt===Pe)&&(!Te.frustumCulled||p.intersectsObject(Te))){Te.modelViewMatrix.multiplyMatrices(Ot.matrixWorldInverse,Te.matrixWorld);const Ht=o.update(Te),qn=Te.material;if(Array.isArray(qn)){const xn=Ht.groups;for(let mn=0,En=xn.length;mn<En;mn++){const Mn=xn[mn],On=qn[Mn.materialIndex];if(On&&On.visible){const _r=q(Te,Ht,On,He,Ot.near,Ot.far,Bt);w.renderBufferDirect(Ot,null,Ht,_r,Te,Mn)}}}else if(qn.visible){const xn=q(Te,Ht,qn,He,Ot.near,Ot.far,Bt);w.renderBufferDirect(Ot,null,Ht,xn,Te,null)}}const qt=Te.children;for(let Ht=0,qn=qt.length;Ht<qn;Ht++)Fe(qt[Ht],lt,Ot,He,Bt)}}function dm(w,o,c){const p=c.isWebGL2;function m(){let Xt=!1;const Vr=new Ki;let $n=null;const Oi=new Ki(0,0,0,0);return{setMask:function(hi){$n!==hi&&!Xt&&(w.colorMask(hi,hi,hi,hi),$n=hi)},setLocked:function(hi){Xt=hi},setClear:function(hi,ja,xl,Sl,Uu){Uu===!0&&(hi*=Sl,ja*=Sl,xl*=Sl),Vr.set(hi,ja,xl,Sl),Oi.equals(Vr)===!1&&(w.clearColor(hi,ja,xl,Sl),Oi.copy(Vr))},reset:function(){Xt=!1,$n=null,Oi.set(-1,0,0,0)}}}function x(){let Xt=!1,Vr=null,$n=null,Oi=null;return{setTest:function(hi){hi?wr(2929):wi(2929)},setMask:function(hi){Vr!==hi&&!Xt&&(w.depthMask(hi),Vr=hi)},setFunc:function(hi){if($n!==hi){if(hi)switch(hi){case _n:w.depthFunc(512);break;case An:w.depthFunc(519);break;case Fn:w.depthFunc(513);break;case Wn:w.depthFunc(515);break;case zn:w.depthFunc(514);break;case or:w.depthFunc(518);break;case Sr:w.depthFunc(516);break;case pr:w.depthFunc(517);break;default:w.depthFunc(515)}else w.depthFunc(515);$n=hi}},setLocked:function(hi){Xt=hi},setClear:function(hi){Oi!==hi&&(w.clearDepth(hi),Oi=hi)},reset:function(){Xt=!1,Vr=null,$n=null,Oi=null}}}function _(){let Xt=!1,Vr=null,$n=null,Oi=null,hi=null,ja=null,xl=null,Sl=null,Uu=null;return{setTest:function(Bs){Xt||(Bs?wr(2960):wi(2960))},setMask:function(Bs){Vr!==Bs&&!Xt&&(w.stencilMask(Bs),Vr=Bs)},setFunc:function(Bs,_u,Vc){($n!==Bs||Oi!==_u||hi!==Vc)&&(w.stencilFunc(Bs,_u,Vc),$n=Bs,Oi=_u,hi=Vc)},setOp:function(Bs,_u,Vc){(ja!==Bs||xl!==_u||Sl!==Vc)&&(w.stencilOp(Bs,_u,Vc),ja=Bs,xl=_u,Sl=Vc)},setLocked:function(Bs){Xt=Bs},setClear:function(Bs){Uu!==Bs&&(w.clearStencil(Bs),Uu=Bs)},reset:function(){Xt=!1,Vr=null,$n=null,Oi=null,hi=null,ja=null,xl=null,Sl=null,Uu=null}}}const T=new m,A=new x,L=new _;let z={},U=null,G={},K=null,te=!1,ce=null,Le=null,ne=null,q=null,Fe=null,Te=null,lt=null,Ot=!1,He=null,Bt=null,dn=null,qt=null,Ht=null;const qn=w.getParameter(35661);let xn=!1,mn=0;const En=w.getParameter(7938);En.indexOf("WebGL")!==-1?(mn=parseFloat(/^WebGL (\d)/.exec(En)[1]),xn=mn>=1):En.indexOf("OpenGL ES")!==-1&&(mn=parseFloat(/^OpenGL ES (\d)/.exec(En)[1]),xn=mn>=2);let Mn=null,On={};const _r=w.getParameter(3088),di=w.getParameter(2978),Ci=new Ki().fromArray(_r),$r=new Ki().fromArray(di);function Sa(Xt,Vr,$n){const Oi=new Uint8Array(4),hi=w.createTexture();w.bindTexture(Xt,hi),w.texParameteri(Xt,10241,9728),w.texParameteri(Xt,10240,9728);for(let ja=0;ja<$n;ja++)w.texImage2D(Vr+ja,0,6408,1,1,0,6408,5121,Oi);return hi}const sr={};sr[3553]=Sa(3553,3553,1),sr[34067]=Sa(34067,34069,6),T.setClear(0,0,0,1),A.setClear(1),L.setClear(0),wr(2929),A.setFunc(Wn),lr(!1),Mr(P),wr(2884),_a(bt);function wr(Xt){z[Xt]!==!0&&(w.enable(Xt),z[Xt]=!0)}function wi(Xt){z[Xt]!==!1&&(w.disable(Xt),z[Xt]=!1)}function jn(Xt){Xt!==U&&(w.bindFramebuffer(36160,Xt),U=Xt)}function zi(Xt,Vr){return Vr===null&&U!==null&&(Vr=U),G[Xt]!==Vr?(w.bindFramebuffer(Xt,Vr),G[Xt]=Vr,p&&(Xt===36009&&(G[36160]=Vr),Xt===36160&&(G[36009]=Vr)),!0):!1}function da(Xt){return K!==Xt?(w.useProgram(Xt),K=Xt,!0):!1}const oi={[Ut]:32774,[It]:32778,[Yt]:32779};if(p)oi[Gt]=32775,oi[an]=32776;else{const Xt=o.get("EXT_blend_minmax");Xt!==null&&(oi[Gt]=Xt.MIN_EXT,oi[an]=Xt.MAX_EXT)}const Si={[et]:0,[xt]:1,[mt]:768,[$t]:770,[y]:776,[zt]:774,[Sn]:772,[Kt]:769,[un]:771,[en]:775,[on]:773};function _a(Xt,Vr,$n,Oi,hi,ja,xl,Sl){if(Xt===bt){te===!0&&(wi(3042),te=!1);return}if(te===!1&&(wr(3042),te=!0),Xt!==Mt){if(Xt!==ce||Sl!==Ot){if((Le!==Ut||Fe!==Ut)&&(w.blendEquation(32774),Le=Ut,Fe=Ut),Sl)switch(Xt){case Ct:w.blendFuncSeparate(1,771,1,771);break;case he:w.blendFunc(1,1);break;case Ve:w.blendFuncSeparate(0,0,769,771);break;case yt:w.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xt);break}else switch(Xt){case Ct:w.blendFuncSeparate(770,771,1,771);break;case he:w.blendFunc(770,1);break;case Ve:w.blendFunc(0,769);break;case yt:w.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Xt);break}ne=null,q=null,Te=null,lt=null,ce=Xt,Ot=Sl}return}hi=hi||Vr,ja=ja||$n,xl=xl||Oi,(Vr!==Le||hi!==Fe)&&(w.blendEquationSeparate(oi[Vr],oi[hi]),Le=Vr,Fe=hi),($n!==ne||Oi!==q||ja!==Te||xl!==lt)&&(w.blendFuncSeparate(Si[$n],Si[Oi],Si[ja],Si[xl]),ne=$n,q=Oi,Te=ja,lt=xl),ce=Xt,Ot=null}function Bn(Xt,Vr){Xt.side===at?wi(2884):wr(2884);let $n=Xt.side===dt;Vr&&($n=!$n),lr($n),Xt.blending===Ct&&Xt.transparent===!1?_a(bt):_a(Xt.blending,Xt.blendEquation,Xt.blendSrc,Xt.blendDst,Xt.blendEquationAlpha,Xt.blendSrcAlpha,Xt.blendDstAlpha,Xt.premultipliedAlpha),A.setFunc(Xt.depthFunc),A.setTest(Xt.depthTest),A.setMask(Xt.depthWrite),T.setMask(Xt.colorWrite);const Oi=Xt.stencilWrite;L.setTest(Oi),Oi&&(L.setMask(Xt.stencilWriteMask),L.setFunc(Xt.stencilFunc,Xt.stencilRef,Xt.stencilFuncMask),L.setOp(Xt.stencilFail,Xt.stencilZFail,Xt.stencilZPass)),zr(Xt.polygonOffset,Xt.polygonOffsetFactor,Xt.polygonOffsetUnits),Xt.alphaToCoverage===!0?wr(32926):wi(32926)}function lr(Xt){He!==Xt&&(Xt?w.frontFace(2304):w.frontFace(2305),He=Xt)}function Mr(Xt){Xt!==re?(wr(2884),Xt!==Bt&&(Xt===P?w.cullFace(1029):Xt===X?w.cullFace(1028):w.cullFace(1032))):wi(2884),Bt=Xt}function vi(Xt){Xt!==dn&&(xn&&w.lineWidth(Xt),dn=Xt)}function zr(Xt,Vr,$n){Xt?(wr(32823),(qt!==Vr||Ht!==$n)&&(w.polygonOffset(Vr,$n),qt=Vr,Ht=$n)):wi(32823)}function _t(Xt){Xt?wr(3089):wi(3089)}function ft(Xt){Xt===void 0&&(Xt=33984+qn-1),Mn!==Xt&&(w.activeTexture(Xt),Mn=Xt)}function In(Xt,Vr){Mn===null&&ft();let $n=On[Mn];$n===void 0&&($n={type:void 0,texture:void 0},On[Mn]=$n),($n.type!==Xt||$n.texture!==Vr)&&(w.bindTexture(Xt,Vr||sr[Xt]),$n.type=Xt,$n.texture=Vr)}function er(){const Xt=On[Mn];Xt!==void 0&&Xt.type!==void 0&&(w.bindTexture(Xt.type,null),Xt.type=void 0,Xt.texture=void 0)}function gr(){try{w.compressedTexImage2D.apply(w,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function ti(){try{w.texImage2D.apply(w,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function ta(){try{w.texImage3D.apply(w,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}}function Pi(Xt){Ci.equals(Xt)===!1&&(w.scissor(Xt.x,Xt.y,Xt.z,Xt.w),Ci.copy(Xt))}function va(Xt){$r.equals(Xt)===!1&&(w.viewport(Xt.x,Xt.y,Xt.z,Xt.w),$r.copy(Xt))}function Ti(){w.disable(3042),w.disable(2884),w.disable(2929),w.disable(32823),w.disable(3089),w.disable(2960),w.disable(32926),w.blendEquation(32774),w.blendFunc(1,0),w.blendFuncSeparate(1,0,1,0),w.colorMask(!0,!0,!0,!0),w.clearColor(0,0,0,0),w.depthMask(!0),w.depthFunc(513),w.clearDepth(1),w.stencilMask(4294967295),w.stencilFunc(519,0,4294967295),w.stencilOp(7680,7680,7680),w.clearStencil(0),w.cullFace(1029),w.frontFace(2305),w.polygonOffset(0,0),w.activeTexture(33984),w.bindFramebuffer(36160,null),p===!0&&(w.bindFramebuffer(36009,null),w.bindFramebuffer(36008,null)),w.useProgram(null),w.lineWidth(1),w.scissor(0,0,w.canvas.width,w.canvas.height),w.viewport(0,0,w.canvas.width,w.canvas.height),z={},Mn=null,On={},U=null,G={},K=null,te=!1,ce=null,Le=null,ne=null,q=null,Fe=null,Te=null,lt=null,Ot=!1,He=null,Bt=null,dn=null,qt=null,Ht=null,Ci.set(0,0,w.canvas.width,w.canvas.height),$r.set(0,0,w.canvas.width,w.canvas.height),T.reset(),A.reset(),L.reset()}return{buffers:{color:T,depth:A,stencil:L},enable:wr,disable:wi,bindFramebuffer:zi,bindXRFramebuffer:jn,useProgram:da,setBlending:_a,setMaterial:Bn,setFlipSided:lr,setCullFace:Mr,setLineWidth:vi,setPolygonOffset:zr,setScissorTest:_t,activeTexture:ft,bindTexture:In,unbindTexture:er,compressedTexImage2D:gr,texImage2D:ti,texImage3D:ta,scissor:Pi,viewport:va,reset:Ti}}function Nv(w,o,c,p,m,x,_){const T=m.isWebGL2,A=m.maxTextures,L=m.maxCubemapSize,z=m.maxTextureSize,U=m.maxSamples,G=new WeakMap;let K,te=!1;try{te=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(_t){}function ce(_t,ft){return te?new OffscreenCanvas(_t,ft):Xu("canvas")}function Le(_t,ft,In,er){let gr=1;if((_t.width>er||_t.height>er)&&(gr=er/Math.max(_t.width,_t.height)),gr<1||ft===!0)if(typeof HTMLImageElement!="undefined"&&_t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&_t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&_t instanceof ImageBitmap){const ti=ft?rd:Math.floor,ta=ti(gr*_t.width),Pi=ti(gr*_t.height);K===void 0&&(K=ce(ta,Pi));const va=In?ce(ta,Pi):K;return va.width=ta,va.height=Pi,va.getContext("2d").drawImage(_t,0,0,ta,Pi),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+_t.width+"x"+_t.height+") to ("+ta+"x"+Pi+")."),va}else return"data"in _t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+_t.width+"x"+_t.height+")."),_t;return _t}function ne(_t){return Mf(_t.width)&&Mf(_t.height)}function q(_t){return T?!1:_t.wrapS!==hn||_t.wrapT!==hn||_t.minFilter!==Se&&_t.minFilter!==Ke}function Fe(_t,ft){return _t.generateMipmaps&&ft&&_t.minFilter!==Se&&_t.minFilter!==Ke}function Te(_t,ft,In,er,gr=1){w.generateMipmap(_t);const ti=p.get(ft);ti.__maxMipLevel=Math.log2(Math.max(In,er,gr))}function lt(_t,ft,In,er){if(T===!1)return ft;if(_t!==null){if(w[_t]!==void 0)return w[_t];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+_t+"'")}let gr=ft;return ft===6403&&(In===5126&&(gr=33326),In===5131&&(gr=33325),In===5121&&(gr=33321)),ft===6407&&(In===5126&&(gr=34837),In===5131&&(gr=34843),In===5121&&(gr=32849)),ft===6408&&(In===5126&&(gr=34836),In===5131&&(gr=34842),In===5121&&(gr=er===Ya?35907:32856)),(gr===33325||gr===33326||gr===34842||gr===34836)&&o.get("EXT_color_buffer_float"),gr}function Ot(_t){return _t===Se||_t===Ee||_t===Ie?9728:9729}function He(_t){const ft=_t.target;ft.removeEventListener("dispose",He),dn(ft),ft.isVideoTexture&&G.delete(ft),_.memory.textures--}function Bt(_t){const ft=_t.target;ft.removeEventListener("dispose",Bt),qt(ft)}function dn(_t){const ft=p.get(_t);ft.__webglInit!==void 0&&(w.deleteTexture(ft.__webglTexture),p.remove(_t))}function qt(_t){const ft=_t.texture,In=p.get(_t),er=p.get(ft);if(!!_t){if(er.__webglTexture!==void 0&&(w.deleteTexture(er.__webglTexture),_.memory.textures--),_t.depthTexture&&_t.depthTexture.dispose(),_t.isWebGLCubeRenderTarget)for(let gr=0;gr<6;gr++)w.deleteFramebuffer(In.__webglFramebuffer[gr]),In.__webglDepthbuffer&&w.deleteRenderbuffer(In.__webglDepthbuffer[gr]);else w.deleteFramebuffer(In.__webglFramebuffer),In.__webglDepthbuffer&&w.deleteRenderbuffer(In.__webglDepthbuffer),In.__webglMultisampledFramebuffer&&w.deleteFramebuffer(In.__webglMultisampledFramebuffer),In.__webglColorRenderbuffer&&w.deleteRenderbuffer(In.__webglColorRenderbuffer),In.__webglDepthRenderbuffer&&w.deleteRenderbuffer(In.__webglDepthRenderbuffer);if(_t.isWebGLMultipleRenderTargets)for(let gr=0,ti=ft.length;gr<ti;gr++){const ta=p.get(ft[gr]);ta.__webglTexture&&(w.deleteTexture(ta.__webglTexture),_.memory.textures--),p.remove(ft[gr])}p.remove(ft),p.remove(_t)}}let Ht=0;function qn(){Ht=0}function xn(){const _t=Ht;return _t>=A&&console.warn("THREE.WebGLTextures: Trying to use "+_t+" texture units while this GPU supports only "+A),Ht+=1,_t}function mn(_t,ft){const In=p.get(_t);if(_t.isVideoTexture&&Bn(_t),_t.version>0&&In.__version!==_t.version){const er=_t.image;if(er===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(er.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Sa(In,_t,ft);return}}c.activeTexture(33984+ft),c.bindTexture(3553,In.__webglTexture)}function En(_t,ft){const In=p.get(_t);if(_t.version>0&&In.__version!==_t.version){Sa(In,_t,ft);return}c.activeTexture(33984+ft),c.bindTexture(35866,In.__webglTexture)}function Mn(_t,ft){const In=p.get(_t);if(_t.version>0&&In.__version!==_t.version){Sa(In,_t,ft);return}c.activeTexture(33984+ft),c.bindTexture(32879,In.__webglTexture)}function On(_t,ft){const In=p.get(_t);if(_t.version>0&&In.__version!==_t.version){sr(In,_t,ft);return}c.activeTexture(33984+ft),c.bindTexture(34067,In.__webglTexture)}const _r={[pn]:10497,[hn]:33071,[Ln]:33648},di={[Se]:9728,[Ee]:9984,[Ie]:9986,[Ke]:9729,[We]:9985,[ot]:9987};function Ci(_t,ft,In){if(In?(w.texParameteri(_t,10242,_r[ft.wrapS]),w.texParameteri(_t,10243,_r[ft.wrapT]),(_t===32879||_t===35866)&&w.texParameteri(_t,32882,_r[ft.wrapR]),w.texParameteri(_t,10240,di[ft.magFilter]),w.texParameteri(_t,10241,di[ft.minFilter])):(w.texParameteri(_t,10242,33071),w.texParameteri(_t,10243,33071),(_t===32879||_t===35866)&&w.texParameteri(_t,32882,33071),(ft.wrapS!==hn||ft.wrapT!==hn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),w.texParameteri(_t,10240,Ot(ft.magFilter)),w.texParameteri(_t,10241,Ot(ft.minFilter)),ft.minFilter!==Se&&ft.minFilter!==Ke&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.has("EXT_texture_filter_anisotropic")===!0){const er=o.get("EXT_texture_filter_anisotropic");if(ft.type===ct&&o.has("OES_texture_float_linear")===!1||T===!1&&ft.type===Rt&&o.has("OES_texture_half_float_linear")===!1)return;(ft.anisotropy>1||p.get(ft).__currentAnisotropy)&&(w.texParameterf(_t,er.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ft.anisotropy,m.getMaxAnisotropy())),p.get(ft).__currentAnisotropy=ft.anisotropy)}}function $r(_t,ft){_t.__webglInit===void 0&&(_t.__webglInit=!0,ft.addEventListener("dispose",He),_t.__webglTexture=w.createTexture(),_.memory.textures++)}function Sa(_t,ft,In){let er=3553;ft.isDataTexture2DArray&&(er=35866),ft.isDataTexture3D&&(er=32879),$r(_t,ft),c.activeTexture(33984+In),c.bindTexture(er,_t.__webglTexture),w.pixelStorei(37440,ft.flipY),w.pixelStorei(37441,ft.premultiplyAlpha),w.pixelStorei(3317,ft.unpackAlignment),w.pixelStorei(37443,0);const gr=q(ft)&&ne(ft.image)===!1,ti=Le(ft.image,gr,!1,z),ta=ne(ti)||T,Pi=x.convert(ft.format);let va=x.convert(ft.type),Ti=lt(ft.internalFormat,Pi,va,ft.encoding);Ci(er,ft,ta);let Xt;const Vr=ft.mipmaps;if(ft.isDepthTexture)Ti=6402,T?ft.type===ct?Ti=36012:ft.type===we?Ti=33190:ft.type===cn?Ti=35056:Ti=33189:ft.type===ct&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ft.format===Je&&Ti===6402&&ft.type!==Ce&&ft.type!==we&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ft.type=Ce,va=x.convert(ft.type)),ft.format===me&&Ti===6402&&(Ti=34041,ft.type!==cn&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ft.type=cn,va=x.convert(ft.type))),c.texImage2D(3553,0,Ti,ti.width,ti.height,0,Pi,va,null);else if(ft.isDataTexture)if(Vr.length>0&&ta){for(let $n=0,Oi=Vr.length;$n<Oi;$n++)Xt=Vr[$n],c.texImage2D(3553,$n,Ti,Xt.width,Xt.height,0,Pi,va,Xt.data);ft.generateMipmaps=!1,_t.__maxMipLevel=Vr.length-1}else c.texImage2D(3553,0,Ti,ti.width,ti.height,0,Pi,va,ti.data),_t.__maxMipLevel=0;else if(ft.isCompressedTexture){for(let $n=0,Oi=Vr.length;$n<Oi;$n++)Xt=Vr[$n],ft.format!==fn&&ft.format!==tn?Pi!==null?c.compressedTexImage2D(3553,$n,Ti,Xt.width,Xt.height,0,Xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,$n,Ti,Xt.width,Xt.height,0,Pi,va,Xt.data);_t.__maxMipLevel=Vr.length-1}else if(ft.isDataTexture2DArray)c.texImage3D(35866,0,Ti,ti.width,ti.height,ti.depth,0,Pi,va,ti.data),_t.__maxMipLevel=0;else if(ft.isDataTexture3D)c.texImage3D(32879,0,Ti,ti.width,ti.height,ti.depth,0,Pi,va,ti.data),_t.__maxMipLevel=0;else if(Vr.length>0&&ta){for(let $n=0,Oi=Vr.length;$n<Oi;$n++)Xt=Vr[$n],c.texImage2D(3553,$n,Ti,Pi,va,Xt);ft.generateMipmaps=!1,_t.__maxMipLevel=Vr.length-1}else c.texImage2D(3553,0,Ti,Pi,va,ti),_t.__maxMipLevel=0;Fe(ft,ta)&&Te(er,ft,ti.width,ti.height),_t.__version=ft.version,ft.onUpdate&&ft.onUpdate(ft)}function sr(_t,ft,In){if(ft.image.length!==6)return;$r(_t,ft),c.activeTexture(33984+In),c.bindTexture(34067,_t.__webglTexture),w.pixelStorei(37440,ft.flipY),w.pixelStorei(37441,ft.premultiplyAlpha),w.pixelStorei(3317,ft.unpackAlignment),w.pixelStorei(37443,0);const er=ft&&(ft.isCompressedTexture||ft.image[0].isCompressedTexture),gr=ft.image[0]&&ft.image[0].isDataTexture,ti=[];for(let $n=0;$n<6;$n++)!er&&!gr?ti[$n]=Le(ft.image[$n],!1,!0,L):ti[$n]=gr?ft.image[$n].image:ft.image[$n];const ta=ti[0],Pi=ne(ta)||T,va=x.convert(ft.format),Ti=x.convert(ft.type),Xt=lt(ft.internalFormat,va,Ti,ft.encoding);Ci(34067,ft,Pi);let Vr;if(er){for(let $n=0;$n<6;$n++){Vr=ti[$n].mipmaps;for(let Oi=0;Oi<Vr.length;Oi++){const hi=Vr[Oi];ft.format!==fn&&ft.format!==tn?va!==null?c.compressedTexImage2D(34069+$n,Oi,Xt,hi.width,hi.height,0,hi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+$n,Oi,Xt,hi.width,hi.height,0,va,Ti,hi.data)}}_t.__maxMipLevel=Vr.length-1}else{Vr=ft.mipmaps;for(let $n=0;$n<6;$n++)if(gr){c.texImage2D(34069+$n,0,Xt,ti[$n].width,ti[$n].height,0,va,Ti,ti[$n].data);for(let Oi=0;Oi<Vr.length;Oi++){const ja=Vr[Oi].image[$n].image;c.texImage2D(34069+$n,Oi+1,Xt,ja.width,ja.height,0,va,Ti,ja.data)}}else{c.texImage2D(34069+$n,0,Xt,va,Ti,ti[$n]);for(let Oi=0;Oi<Vr.length;Oi++){const hi=Vr[Oi];c.texImage2D(34069+$n,Oi+1,Xt,va,Ti,hi.image[$n])}}_t.__maxMipLevel=Vr.length}Fe(ft,Pi)&&Te(34067,ft,ta.width,ta.height),_t.__version=ft.version,ft.onUpdate&&ft.onUpdate(ft)}function wr(_t,ft,In,er,gr){const ti=x.convert(In.format),ta=x.convert(In.type),Pi=lt(In.internalFormat,ti,ta,In.encoding);gr===32879||gr===35866?c.texImage3D(gr,0,Pi,ft.width,ft.height,ft.depth,0,ti,ta,null):c.texImage2D(gr,0,Pi,ft.width,ft.height,0,ti,ta,null),c.bindFramebuffer(36160,_t),w.framebufferTexture2D(36160,er,gr,p.get(In).__webglTexture,0),c.bindFramebuffer(36160,null)}function wi(_t,ft,In){if(w.bindRenderbuffer(36161,_t),ft.depthBuffer&&!ft.stencilBuffer){let er=33189;if(In){const gr=ft.depthTexture;gr&&gr.isDepthTexture&&(gr.type===ct?er=36012:gr.type===we&&(er=33190));const ti=_a(ft);w.renderbufferStorageMultisample(36161,ti,er,ft.width,ft.height)}else w.renderbufferStorage(36161,er,ft.width,ft.height);w.framebufferRenderbuffer(36160,36096,36161,_t)}else if(ft.depthBuffer&&ft.stencilBuffer){if(In){const er=_a(ft);w.renderbufferStorageMultisample(36161,er,35056,ft.width,ft.height)}else w.renderbufferStorage(36161,34041,ft.width,ft.height);w.framebufferRenderbuffer(36160,33306,36161,_t)}else{const er=ft.isWebGLMultipleRenderTargets===!0?ft.texture[0]:ft.texture,gr=x.convert(er.format),ti=x.convert(er.type),ta=lt(er.internalFormat,gr,ti,er.encoding);if(In){const Pi=_a(ft);w.renderbufferStorageMultisample(36161,Pi,ta,ft.width,ft.height)}else w.renderbufferStorage(36161,ta,ft.width,ft.height)}w.bindRenderbuffer(36161,null)}function jn(_t,ft){if(ft&&ft.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(36160,_t),!(ft.depthTexture&&ft.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!p.get(ft.depthTexture).__webglTexture||ft.depthTexture.image.width!==ft.width||ft.depthTexture.image.height!==ft.height)&&(ft.depthTexture.image.width=ft.width,ft.depthTexture.image.height=ft.height,ft.depthTexture.needsUpdate=!0),mn(ft.depthTexture,0);const er=p.get(ft.depthTexture).__webglTexture;if(ft.depthTexture.format===Je)w.framebufferTexture2D(36160,36096,3553,er,0);else if(ft.depthTexture.format===me)w.framebufferTexture2D(36160,33306,3553,er,0);else throw new Error("Unknown depthTexture format")}function zi(_t){const ft=p.get(_t),In=_t.isWebGLCubeRenderTarget===!0;if(_t.depthTexture){if(In)throw new Error("target.depthTexture not supported in Cube render targets");jn(ft.__webglFramebuffer,_t)}else if(In){ft.__webglDepthbuffer=[];for(let er=0;er<6;er++)c.bindFramebuffer(36160,ft.__webglFramebuffer[er]),ft.__webglDepthbuffer[er]=w.createRenderbuffer(),wi(ft.__webglDepthbuffer[er],_t,!1)}else c.bindFramebuffer(36160,ft.__webglFramebuffer),ft.__webglDepthbuffer=w.createRenderbuffer(),wi(ft.__webglDepthbuffer,_t,!1);c.bindFramebuffer(36160,null)}function da(_t){const ft=_t.texture,In=p.get(_t),er=p.get(ft);_t.addEventListener("dispose",Bt),_t.isWebGLMultipleRenderTargets!==!0&&(er.__webglTexture=w.createTexture(),er.__version=ft.version,_.memory.textures++);const gr=_t.isWebGLCubeRenderTarget===!0,ti=_t.isWebGLMultipleRenderTargets===!0,ta=_t.isWebGLMultisampleRenderTarget===!0,Pi=ft.isDataTexture3D||ft.isDataTexture2DArray,va=ne(_t)||T;if(T&&ft.format===tn&&(ft.type===ct||ft.type===Rt)&&(ft.format=fn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),gr){In.__webglFramebuffer=[];for(let Ti=0;Ti<6;Ti++)In.__webglFramebuffer[Ti]=w.createFramebuffer()}else if(In.__webglFramebuffer=w.createFramebuffer(),ti)if(m.drawBuffers){const Ti=_t.texture;for(let Xt=0,Vr=Ti.length;Xt<Vr;Xt++){const $n=p.get(Ti[Xt]);$n.__webglTexture===void 0&&($n.__webglTexture=w.createTexture(),_.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(ta)if(T){In.__webglMultisampledFramebuffer=w.createFramebuffer(),In.__webglColorRenderbuffer=w.createRenderbuffer(),w.bindRenderbuffer(36161,In.__webglColorRenderbuffer);const Ti=x.convert(ft.format),Xt=x.convert(ft.type),Vr=lt(ft.internalFormat,Ti,Xt,ft.encoding),$n=_a(_t);w.renderbufferStorageMultisample(36161,$n,Vr,_t.width,_t.height),c.bindFramebuffer(36160,In.__webglMultisampledFramebuffer),w.framebufferRenderbuffer(36160,36064,36161,In.__webglColorRenderbuffer),w.bindRenderbuffer(36161,null),_t.depthBuffer&&(In.__webglDepthRenderbuffer=w.createRenderbuffer(),wi(In.__webglDepthRenderbuffer,_t,!0)),c.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(gr){c.bindTexture(34067,er.__webglTexture),Ci(34067,ft,va);for(let Ti=0;Ti<6;Ti++)wr(In.__webglFramebuffer[Ti],_t,ft,36064,34069+Ti);Fe(ft,va)&&Te(34067,ft,_t.width,_t.height),c.unbindTexture()}else if(ti){const Ti=_t.texture;for(let Xt=0,Vr=Ti.length;Xt<Vr;Xt++){const $n=Ti[Xt],Oi=p.get($n);c.bindTexture(3553,Oi.__webglTexture),Ci(3553,$n,va),wr(In.__webglFramebuffer,_t,$n,36064+Xt,3553),Fe($n,va)&&Te(3553,$n,_t.width,_t.height)}c.unbindTexture()}else{let Ti=3553;Pi&&(T?Ti=ft.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),c.bindTexture(Ti,er.__webglTexture),Ci(Ti,ft,va),wr(In.__webglFramebuffer,_t,ft,36064,Ti),Fe(ft,va)&&Te(Ti,ft,_t.width,_t.height,_t.depth),c.unbindTexture()}_t.depthBuffer&&zi(_t)}function oi(_t){const ft=ne(_t)||T,In=_t.isWebGLMultipleRenderTargets===!0?_t.texture:[_t.texture];for(let er=0,gr=In.length;er<gr;er++){const ti=In[er];if(Fe(ti,ft)){const ta=_t.isWebGLCubeRenderTarget?34067:3553,Pi=p.get(ti).__webglTexture;c.bindTexture(ta,Pi),Te(ta,ti,_t.width,_t.height),c.unbindTexture()}}}function Si(_t){if(_t.isWebGLMultisampleRenderTarget)if(T){const ft=_t.width,In=_t.height;let er=16384;_t.depthBuffer&&(er|=256),_t.stencilBuffer&&(er|=1024);const gr=p.get(_t);c.bindFramebuffer(36008,gr.__webglMultisampledFramebuffer),c.bindFramebuffer(36009,gr.__webglFramebuffer),w.blitFramebuffer(0,0,ft,In,0,0,ft,In,er,9728),c.bindFramebuffer(36008,null),c.bindFramebuffer(36009,gr.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function _a(_t){return T&&_t.isWebGLMultisampleRenderTarget?Math.min(U,_t.samples):0}function Bn(_t){const ft=_.render.frame;G.get(_t)!==ft&&(G.set(_t,ft),_t.update())}let lr=!1,Mr=!1;function vi(_t,ft){_t&&_t.isWebGLRenderTarget&&(lr===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),lr=!0),_t=_t.texture),mn(_t,ft)}function zr(_t,ft){_t&&_t.isWebGLCubeRenderTarget&&(Mr===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Mr=!0),_t=_t.texture),On(_t,ft)}this.allocateTextureUnit=xn,this.resetTextureUnits=qn,this.setTexture2D=mn,this.setTexture2DArray=En,this.setTexture3D=Mn,this.setTextureCube=On,this.setupRenderTarget=da,this.updateRenderTargetMipmap=oi,this.updateMultisampleRenderTarget=Si,this.safeSetTexture2D=vi,this.safeSetTextureCube=zr}function hm(w,o,c){const p=c.isWebGL2;function m(x){let _;if(x===ue)return 5121;if(x===Wt)return 32819;if(x===kt)return 32820;if(x===nn)return 33635;if(x===$e)return 5120;if(x===k)return 5122;if(x===Ce)return 5123;if(x===ge)return 5124;if(x===we)return 5125;if(x===ct)return 5126;if(x===Rt)return p?5131:(_=o.get("OES_texture_half_float"),_!==null?_.HALF_FLOAT_OES:null);if(x===gn)return 6406;if(x===tn)return 6407;if(x===fn)return 6408;if(x===qe)return 6409;if(x===Qe)return 6410;if(x===Je)return 6402;if(x===me)return 34041;if(x===Ye)return 6403;if(x===Tt)return 36244;if(x===Tn)return 33319;if(x===tr)return 33320;if(x===mr)return 36248;if(x===ni)return 36249;if(x===$i||x===Li||x===eo||x===Ho)if(_=o.get("WEBGL_compressed_texture_s3tc"),_!==null){if(x===$i)return _.COMPRESSED_RGB_S3TC_DXT1_EXT;if(x===Li)return _.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(x===eo)return _.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(x===Ho)return _.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(x===No||x===Ei||x===Br||x===Ma)if(_=o.get("WEBGL_compressed_texture_pvrtc"),_!==null){if(x===No)return _.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(x===Ei)return _.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(x===Br)return _.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(x===Ma)return _.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(x===to)return _=o.get("WEBGL_compressed_texture_etc1"),_!==null?_.COMPRESSED_RGB_ETC1_WEBGL:null;if((x===Go||x===es)&&(_=o.get("WEBGL_compressed_texture_etc"),_!==null)){if(x===Go)return _.COMPRESSED_RGB8_ETC2;if(x===es)return _.COMPRESSED_RGBA8_ETC2_EAC}if(x===Es||x===Co||x===Lo||x===Vt||x===Lt||x===Nn||x===bn||x===hr||x===ur||x===Hr||x===Xr||x===Ir||x===Ur||x===Nr||x===Pr||x===ai||x===Gi||x===ra||x===Ar||x===cr||x===ci||x===ua||x===Wa||x===Ai||x===Ii||x===ma||x===ya||x===ia)return _=o.get("WEBGL_compressed_texture_astc"),_!==null?x:null;if(x===br)return _=o.get("EXT_texture_compression_bptc"),_!==null?x:null;if(x===cn)return p?34042:(_=o.get("WEBGL_depth_texture"),_!==null?_.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:m}}class kv extends no{constructor(o=[]){super();this.cameras=o}}kv.prototype.isArrayCamera=!0;class tf extends La{constructor(){super();this.type="Group"}}tf.prototype.isGroup=!0;const jw={type:"move"};class pm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ze,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ze),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ze,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ze),this._grip}dispatchEvent(o){return this._targetRay!==null&&this._targetRay.dispatchEvent(o),this._grip!==null&&this._grip.dispatchEvent(o),this._hand!==null&&this._hand.dispatchEvent(o),this}disconnect(o){return this.dispatchEvent({type:"disconnected",data:o}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(o,c,p){let m=null,x=null,_=null;const T=this._targetRay,A=this._grip,L=this._hand;if(o&&c.session.visibilityState!=="visible-blurred")if(T!==null&&(m=c.getPose(o.targetRaySpace,p),m!==null&&(T.matrix.fromArray(m.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),m.linearVelocity?(T.hasLinearVelocity=!0,T.linearVelocity.copy(m.linearVelocity)):T.hasLinearVelocity=!1,m.angularVelocity?(T.hasAngularVelocity=!0,T.angularVelocity.copy(m.angularVelocity)):T.hasAngularVelocity=!1,this.dispatchEvent(jw))),L&&o.hand){_=!0;for(const ce of o.hand.values()){const Le=c.getJointPose(ce,p);if(L.joints[ce.jointName]===void 0){const q=new tf;q.matrixAutoUpdate=!1,q.visible=!1,L.joints[ce.jointName]=q,L.add(q)}const ne=L.joints[ce.jointName];Le!==null&&(ne.matrix.fromArray(Le.transform.matrix),ne.matrix.decompose(ne.position,ne.rotation,ne.scale),ne.jointRadius=Le.radius),ne.visible=Le!==null}const z=L.joints["index-finger-tip"],U=L.joints["thumb-tip"],G=z.position.distanceTo(U.position),K=.02,te=.005;L.inputState.pinching&&G>K+te?(L.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:o.handedness,target:this})):!L.inputState.pinching&&G<=K-te&&(L.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:o.handedness,target:this}))}else A!==null&&o.gripSpace&&(x=c.getPose(o.gripSpace,p),x!==null&&(A.matrix.fromArray(x.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),x.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(x.linearVelocity)):A.hasLinearVelocity=!1,x.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(x.angularVelocity)):A.hasAngularVelocity=!1));return T!==null&&(T.visible=m!==null),A!==null&&(A.visible=x!==null),L!==null&&(L.visible=_!==null),this}}class Ix extends bo{constructor(o,c){super();const p=this,m=o.state;let x=null,_=1,T=null,A="local-floor",L=null,z=null,U=null,G=null,K=null,te=!1,ce=null,Le=null,ne=null,q=null,Fe=null,Te=null;const lt=[],Ot=new Map,He=new no;He.layers.enable(1),He.viewport=new Ki;const Bt=new no;Bt.layers.enable(2),Bt.viewport=new Ki;const dn=[He,Bt],qt=new kv;qt.layers.enable(1),qt.layers.enable(2);let Ht=null,qn=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(sr){let wr=lt[sr];return wr===void 0&&(wr=new pm,lt[sr]=wr),wr.getTargetRaySpace()},this.getControllerGrip=function(sr){let wr=lt[sr];return wr===void 0&&(wr=new pm,lt[sr]=wr),wr.getGripSpace()},this.getHand=function(sr){let wr=lt[sr];return wr===void 0&&(wr=new pm,lt[sr]=wr),wr.getHandSpace()};function xn(sr){const wr=Ot.get(sr.inputSource);wr&&wr.dispatchEvent({type:sr.type,data:sr.inputSource})}function mn(){Ot.forEach(function(sr,wr){sr.disconnect(wr)}),Ot.clear(),Ht=null,qn=null,m.bindXRFramebuffer(null),o.setRenderTarget(o.getRenderTarget()),U&&c.deleteFramebuffer(U),ce&&c.deleteFramebuffer(ce),Le&&c.deleteRenderbuffer(Le),ne&&c.deleteRenderbuffer(ne),U=null,ce=null,Le=null,ne=null,K=null,G=null,z=null,x=null,Sa.stop(),p.isPresenting=!1,p.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(sr){_=sr,p.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(sr){A=sr,p.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return T},this.getBaseLayer=function(){return G!==null?G:K},this.getBinding=function(){return z},this.getFrame=function(){return q},this.getSession=function(){return x},this.setSession=function(sr){return Sy(this,null,function*(){if(x=sr,x!==null){x.addEventListener("select",xn),x.addEventListener("selectstart",xn),x.addEventListener("selectend",xn),x.addEventListener("squeeze",xn),x.addEventListener("squeezestart",xn),x.addEventListener("squeezeend",xn),x.addEventListener("end",mn),x.addEventListener("inputsourceschange",En);const wr=c.getContextAttributes();if(wr.xrCompatible!==!0&&(yield c.makeXRCompatible()),x.renderState.layers===void 0){const wi={antialias:wr.antialias,alpha:wr.alpha,depth:wr.depth,stencil:wr.stencil,framebufferScaleFactor:_};K=new XRWebGLLayer(x,c,wi),x.updateRenderState({baseLayer:K})}else if(c instanceof WebGLRenderingContext){const wi={antialias:!0,alpha:wr.alpha,depth:wr.depth,stencil:wr.stencil,framebufferScaleFactor:_};K=new XRWebGLLayer(x,c,wi),x.updateRenderState({layers:[K]})}else{te=wr.antialias;let wi=null;wr.depth&&(Te=256,wr.stencil&&(Te|=1024),Fe=wr.stencil?33306:36096,wi=wr.stencil?35056:33190);const jn={colorFormat:wr.alpha?32856:32849,depthFormat:wi,scaleFactor:_};z=new XRWebGLBinding(x,c),G=z.createProjectionLayer(jn),U=c.createFramebuffer(),x.updateRenderState({layers:[G]}),te&&(ce=c.createFramebuffer(),Le=c.createRenderbuffer(),c.bindRenderbuffer(36161,Le),c.renderbufferStorageMultisample(36161,4,32856,G.textureWidth,G.textureHeight),m.bindFramebuffer(36160,ce),c.framebufferRenderbuffer(36160,36064,36161,Le),c.bindRenderbuffer(36161,null),wi!==null&&(ne=c.createRenderbuffer(),c.bindRenderbuffer(36161,ne),c.renderbufferStorageMultisample(36161,4,wi,G.textureWidth,G.textureHeight),c.framebufferRenderbuffer(36160,Fe,36161,ne),c.bindRenderbuffer(36161,null)),m.bindFramebuffer(36160,null))}T=yield x.requestReferenceSpace(A),Sa.setContext(x),Sa.start(),p.isPresenting=!0,p.dispatchEvent({type:"sessionstart"})}})};function En(sr){const wr=x.inputSources;for(let wi=0;wi<lt.length;wi++)Ot.set(wr[wi],lt[wi]);for(let wi=0;wi<sr.removed.length;wi++){const jn=sr.removed[wi],zi=Ot.get(jn);zi&&(zi.dispatchEvent({type:"disconnected",data:jn}),Ot.delete(jn))}for(let wi=0;wi<sr.added.length;wi++){const jn=sr.added[wi],zi=Ot.get(jn);zi&&zi.dispatchEvent({type:"connected",data:jn})}}const Mn=new Ze,On=new Ze;function _r(sr,wr,wi){Mn.setFromMatrixPosition(wr.matrixWorld),On.setFromMatrixPosition(wi.matrixWorld);const jn=Mn.distanceTo(On),zi=wr.projectionMatrix.elements,da=wi.projectionMatrix.elements,oi=zi[14]/(zi[10]-1),Si=zi[14]/(zi[10]+1),_a=(zi[9]+1)/zi[5],Bn=(zi[9]-1)/zi[5],lr=(zi[8]-1)/zi[0],Mr=(da[8]+1)/da[0],vi=oi*lr,zr=oi*Mr,_t=jn/(-lr+Mr),ft=_t*-lr;wr.matrixWorld.decompose(sr.position,sr.quaternion,sr.scale),sr.translateX(ft),sr.translateZ(_t),sr.matrixWorld.compose(sr.position,sr.quaternion,sr.scale),sr.matrixWorldInverse.copy(sr.matrixWorld).invert();const In=oi+_t,er=Si+_t,gr=vi-ft,ti=zr+(jn-ft),ta=_a*Si/er*In,Pi=Bn*Si/er*In;sr.projectionMatrix.makePerspective(gr,ti,ta,Pi,In,er)}function di(sr,wr){wr===null?sr.matrixWorld.copy(sr.matrix):sr.matrixWorld.multiplyMatrices(wr.matrixWorld,sr.matrix),sr.matrixWorldInverse.copy(sr.matrixWorld).invert()}this.updateCamera=function(sr){if(x===null)return;qt.near=Bt.near=He.near=sr.near,qt.far=Bt.far=He.far=sr.far,(Ht!==qt.near||qn!==qt.far)&&(x.updateRenderState({depthNear:qt.near,depthFar:qt.far}),Ht=qt.near,qn=qt.far);const wr=sr.parent,wi=qt.cameras;di(qt,wr);for(let zi=0;zi<wi.length;zi++)di(wi[zi],wr);qt.matrixWorld.decompose(qt.position,qt.quaternion,qt.scale),sr.position.copy(qt.position),sr.quaternion.copy(qt.quaternion),sr.scale.copy(qt.scale),sr.matrix.copy(qt.matrix),sr.matrixWorld.copy(qt.matrixWorld);const jn=sr.children;for(let zi=0,da=jn.length;zi<da;zi++)jn[zi].updateMatrixWorld(!0);wi.length===2?_r(qt,He,Bt):qt.projectionMatrix.copy(He.projectionMatrix)},this.getCamera=function(){return qt},this.getFoveation=function(){if(G!==null)return G.fixedFoveation;if(K!==null)return K.fixedFoveation},this.setFoveation=function(sr){G!==null&&(G.fixedFoveation=sr),K!==null&&K.fixedFoveation!==void 0&&(K.fixedFoveation=sr)};let Ci=null;function $r(sr,wr){if(L=wr.getViewerPose(T),q=wr,L!==null){const jn=L.views;K!==null&&m.bindXRFramebuffer(K.framebuffer);let zi=!1;jn.length!==qt.cameras.length&&(qt.cameras.length=0,zi=!0);for(let da=0;da<jn.length;da++){const oi=jn[da];let Si=null;if(K!==null)Si=K.getViewport(oi);else{const Bn=z.getViewSubImage(G,oi);m.bindXRFramebuffer(U),Bn.depthStencilTexture!==void 0&&c.framebufferTexture2D(36160,Fe,3553,Bn.depthStencilTexture,0),c.framebufferTexture2D(36160,36064,3553,Bn.colorTexture,0),Si=Bn.viewport}const _a=dn[da];_a.matrix.fromArray(oi.transform.matrix),_a.projectionMatrix.fromArray(oi.projectionMatrix),_a.viewport.set(Si.x,Si.y,Si.width,Si.height),da===0&&qt.matrix.copy(_a.matrix),zi===!0&&qt.cameras.push(_a)}te&&(m.bindXRFramebuffer(ce),Te!==null&&c.clear(Te))}const wi=x.inputSources;for(let jn=0;jn<lt.length;jn++){const zi=lt[jn],da=wi[jn];zi.update(da,wr,T)}if(Ci&&Ci(sr,wr),te){const jn=G.textureWidth,zi=G.textureHeight;m.bindFramebuffer(36008,ce),m.bindFramebuffer(36009,U),c.invalidateFramebuffer(36008,[Fe]),c.invalidateFramebuffer(36009,[Fe]),c.blitFramebuffer(0,0,jn,zi,0,0,jn,zi,16384,9728),c.invalidateFramebuffer(36008,[36064]),m.bindFramebuffer(36008,null),m.bindFramebuffer(36009,null),m.bindFramebuffer(36160,ce)}q=null}const Sa=new Bu;Sa.setAnimationLoop($r),this.setAnimationLoop=function(sr){Ci=sr},this.dispose=function(){}}}function Nx(w){function o(ne,q){ne.fogColor.value.copy(q.color),q.isFog?(ne.fogNear.value=q.near,ne.fogFar.value=q.far):q.isFogExp2&&(ne.fogDensity.value=q.density)}function c(ne,q,Fe,Te,lt){q.isMeshBasicMaterial?p(ne,q):q.isMeshLambertMaterial?(p(ne,q),A(ne,q)):q.isMeshToonMaterial?(p(ne,q),z(ne,q)):q.isMeshPhongMaterial?(p(ne,q),L(ne,q)):q.isMeshStandardMaterial?(p(ne,q),q.isMeshPhysicalMaterial?G(ne,q,lt):U(ne,q)):q.isMeshMatcapMaterial?(p(ne,q),K(ne,q)):q.isMeshDepthMaterial?(p(ne,q),te(ne,q)):q.isMeshDistanceMaterial?(p(ne,q),ce(ne,q)):q.isMeshNormalMaterial?(p(ne,q),Le(ne,q)):q.isLineBasicMaterial?(m(ne,q),q.isLineDashedMaterial&&x(ne,q)):q.isPointsMaterial?_(ne,q,Fe,Te):q.isSpriteMaterial?T(ne,q):q.isShadowMaterial?(ne.color.value.copy(q.color),ne.opacity.value=q.opacity):q.isShaderMaterial&&(q.uniformsNeedUpdate=!1)}function p(ne,q){ne.opacity.value=q.opacity,q.color&&ne.diffuse.value.copy(q.color),q.emissive&&ne.emissive.value.copy(q.emissive).multiplyScalar(q.emissiveIntensity),q.map&&(ne.map.value=q.map),q.alphaMap&&(ne.alphaMap.value=q.alphaMap),q.specularMap&&(ne.specularMap.value=q.specularMap),q.alphaTest>0&&(ne.alphaTest.value=q.alphaTest);const Fe=w.get(q).envMap;if(Fe){ne.envMap.value=Fe,ne.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1,ne.reflectivity.value=q.reflectivity,ne.ior.value=q.ior,ne.refractionRatio.value=q.refractionRatio;const Ot=w.get(Fe).__maxMipLevel;Ot!==void 0&&(ne.maxMipLevel.value=Ot)}q.lightMap&&(ne.lightMap.value=q.lightMap,ne.lightMapIntensity.value=q.lightMapIntensity),q.aoMap&&(ne.aoMap.value=q.aoMap,ne.aoMapIntensity.value=q.aoMapIntensity);let Te;q.map?Te=q.map:q.specularMap?Te=q.specularMap:q.displacementMap?Te=q.displacementMap:q.normalMap?Te=q.normalMap:q.bumpMap?Te=q.bumpMap:q.roughnessMap?Te=q.roughnessMap:q.metalnessMap?Te=q.metalnessMap:q.alphaMap?Te=q.alphaMap:q.emissiveMap?Te=q.emissiveMap:q.clearcoatMap?Te=q.clearcoatMap:q.clearcoatNormalMap?Te=q.clearcoatNormalMap:q.clearcoatRoughnessMap?Te=q.clearcoatRoughnessMap:q.specularIntensityMap?Te=q.specularIntensityMap:q.specularColorMap?Te=q.specularColorMap:q.transmissionMap?Te=q.transmissionMap:q.thicknessMap?Te=q.thicknessMap:q.sheenColorMap?Te=q.sheenColorMap:q.sheenRoughnessMap&&(Te=q.sheenRoughnessMap),Te!==void 0&&(Te.isWebGLRenderTarget&&(Te=Te.texture),Te.matrixAutoUpdate===!0&&Te.updateMatrix(),ne.uvTransform.value.copy(Te.matrix));let lt;q.aoMap?lt=q.aoMap:q.lightMap&&(lt=q.lightMap),lt!==void 0&&(lt.isWebGLRenderTarget&&(lt=lt.texture),lt.matrixAutoUpdate===!0&&lt.updateMatrix(),ne.uv2Transform.value.copy(lt.matrix))}function m(ne,q){ne.diffuse.value.copy(q.color),ne.opacity.value=q.opacity}function x(ne,q){ne.dashSize.value=q.dashSize,ne.totalSize.value=q.dashSize+q.gapSize,ne.scale.value=q.scale}function _(ne,q,Fe,Te){ne.diffuse.value.copy(q.color),ne.opacity.value=q.opacity,ne.size.value=q.size*Fe,ne.scale.value=Te*.5,q.map&&(ne.map.value=q.map),q.alphaMap&&(ne.alphaMap.value=q.alphaMap),q.alphaTest>0&&(ne.alphaTest.value=q.alphaTest);let lt;q.map?lt=q.map:q.alphaMap&&(lt=q.alphaMap),lt!==void 0&&(lt.matrixAutoUpdate===!0&&lt.updateMatrix(),ne.uvTransform.value.copy(lt.matrix))}function T(ne,q){ne.diffuse.value.copy(q.color),ne.opacity.value=q.opacity,ne.rotation.value=q.rotation,q.map&&(ne.map.value=q.map),q.alphaMap&&(ne.alphaMap.value=q.alphaMap),q.alphaTest>0&&(ne.alphaTest.value=q.alphaTest);let Fe;q.map?Fe=q.map:q.alphaMap&&(Fe=q.alphaMap),Fe!==void 0&&(Fe.matrixAutoUpdate===!0&&Fe.updateMatrix(),ne.uvTransform.value.copy(Fe.matrix))}function A(ne,q){q.emissiveMap&&(ne.emissiveMap.value=q.emissiveMap)}function L(ne,q){ne.specular.value.copy(q.specular),ne.shininess.value=Math.max(q.shininess,1e-4),q.emissiveMap&&(ne.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ne.bumpMap.value=q.bumpMap,ne.bumpScale.value=q.bumpScale,q.side===dt&&(ne.bumpScale.value*=-1)),q.normalMap&&(ne.normalMap.value=q.normalMap,ne.normalScale.value.copy(q.normalScale),q.side===dt&&ne.normalScale.value.negate()),q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias)}function z(ne,q){q.gradientMap&&(ne.gradientMap.value=q.gradientMap),q.emissiveMap&&(ne.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ne.bumpMap.value=q.bumpMap,ne.bumpScale.value=q.bumpScale,q.side===dt&&(ne.bumpScale.value*=-1)),q.normalMap&&(ne.normalMap.value=q.normalMap,ne.normalScale.value.copy(q.normalScale),q.side===dt&&ne.normalScale.value.negate()),q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias)}function U(ne,q){ne.roughness.value=q.roughness,ne.metalness.value=q.metalness,q.roughnessMap&&(ne.roughnessMap.value=q.roughnessMap),q.metalnessMap&&(ne.metalnessMap.value=q.metalnessMap),q.emissiveMap&&(ne.emissiveMap.value=q.emissiveMap),q.bumpMap&&(ne.bumpMap.value=q.bumpMap,ne.bumpScale.value=q.bumpScale,q.side===dt&&(ne.bumpScale.value*=-1)),q.normalMap&&(ne.normalMap.value=q.normalMap,ne.normalScale.value.copy(q.normalScale),q.side===dt&&ne.normalScale.value.negate()),q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias),w.get(q).envMap&&(ne.envMapIntensity.value=q.envMapIntensity)}function G(ne,q,Fe){U(ne,q),ne.ior.value=q.ior,q.sheen>0&&(ne.sheenColor.value.copy(q.sheenColor).multiplyScalar(q.sheen),ne.sheenRoughness.value=q.sheenRoughness,q.sheenColorMap&&(ne.sheenColorMap.value=q.sheenColorMap),q.sheenRoughnessMap&&(ne.sheenRoughnessMap.value=q.sheenRoughnessMap)),q.clearcoat>0&&(ne.clearcoat.value=q.clearcoat,ne.clearcoatRoughness.value=q.clearcoatRoughness,q.clearcoatMap&&(ne.clearcoatMap.value=q.clearcoatMap),q.clearcoatRoughnessMap&&(ne.clearcoatRoughnessMap.value=q.clearcoatRoughnessMap),q.clearcoatNormalMap&&(ne.clearcoatNormalScale.value.copy(q.clearcoatNormalScale),ne.clearcoatNormalMap.value=q.clearcoatNormalMap,q.side===dt&&ne.clearcoatNormalScale.value.negate())),q.transmission>0&&(ne.transmission.value=q.transmission,ne.transmissionSamplerMap.value=Fe.texture,ne.transmissionSamplerSize.value.set(Fe.width,Fe.height),q.transmissionMap&&(ne.transmissionMap.value=q.transmissionMap),ne.thickness.value=q.thickness,q.thicknessMap&&(ne.thicknessMap.value=q.thicknessMap),ne.attenuationDistance.value=q.attenuationDistance,ne.attenuationColor.value.copy(q.attenuationColor)),ne.specularIntensity.value=q.specularIntensity,ne.specularColor.value.copy(q.specularColor),q.specularIntensityMap&&(ne.specularIntensityMap.value=q.specularIntensityMap),q.specularColorMap&&(ne.specularColorMap.value=q.specularColorMap)}function K(ne,q){q.matcap&&(ne.matcap.value=q.matcap),q.bumpMap&&(ne.bumpMap.value=q.bumpMap,ne.bumpScale.value=q.bumpScale,q.side===dt&&(ne.bumpScale.value*=-1)),q.normalMap&&(ne.normalMap.value=q.normalMap,ne.normalScale.value.copy(q.normalScale),q.side===dt&&ne.normalScale.value.negate()),q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias)}function te(ne,q){q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias)}function ce(ne,q){q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias),ne.referencePosition.value.copy(q.referencePosition),ne.nearDistance.value=q.nearDistance,ne.farDistance.value=q.farDistance}function Le(ne,q){q.bumpMap&&(ne.bumpMap.value=q.bumpMap,ne.bumpScale.value=q.bumpScale,q.side===dt&&(ne.bumpScale.value*=-1)),q.normalMap&&(ne.normalMap.value=q.normalMap,ne.normalScale.value.copy(q.normalScale),q.side===dt&&ne.normalScale.value.negate()),q.displacementMap&&(ne.displacementMap.value=q.displacementMap,ne.displacementScale.value=q.displacementScale,ne.displacementBias.value=q.displacementBias)}return{refreshFogUniforms:o,refreshMaterialUniforms:c}}function kx(){const w=Xu("canvas");return w.style.display="block",w}function Ro(w={}){const o=w.canvas!==void 0?w.canvas:kx(),c=w.context!==void 0?w.context:null,p=w.alpha!==void 0?w.alpha:!1,m=w.depth!==void 0?w.depth:!0,x=w.stencil!==void 0?w.stencil:!0,_=w.antialias!==void 0?w.antialias:!1,T=w.premultipliedAlpha!==void 0?w.premultipliedAlpha:!0,A=w.preserveDrawingBuffer!==void 0?w.preserveDrawingBuffer:!1,L=w.powerPreference!==void 0?w.powerPreference:"default",z=w.failIfMajorPerformanceCaveat!==void 0?w.failIfMajorPerformanceCaveat:!1;let U=null,G=null;const K=[],te=[];this.domElement=o,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Fr,this.physicallyCorrectLights=!1,this.toneMapping=wn,this.toneMappingExposure=1;const ce=this;let Le=!1,ne=0,q=0,Fe=null,Te=-1,lt=null;const Ot=new Ki,He=new Ki;let Bt=null,dn=o.width,qt=o.height,Ht=1,qn=null,xn=null;const mn=new Ki(0,0,dn,qt),En=new Ki(0,0,dn,qt);let Mn=!1;const On=[],_r=new Qd;let di=!1,Ci=!1,$r=null;const Sa=new Hn,sr=new Ze,wr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function wi(){return Fe===null?Ht:1}let jn=c;function zi(gt,yn){for(let Rn=0;Rn<gt.length;Rn++){const Cn=gt[Rn],Kn=o.getContext(Cn,yn);if(Kn!==null)return Kn}return null}try{const gt={alpha:p,depth:m,stencil:x,antialias:_,premultipliedAlpha:T,preserveDrawingBuffer:A,powerPreference:L,failIfMajorPerformanceCaveat:z};if(o.addEventListener("webglcontextlost",xl,!1),o.addEventListener("webglcontextrestored",Sl,!1),jn===null){const yn=["webgl2","webgl","experimental-webgl"];if(ce.isWebGL1Renderer===!0&&yn.shift(),jn=zi(yn,gt),jn===null)throw zi(yn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}jn.getShaderPrecisionFormat===void 0&&(jn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(gt){throw console.error("THREE.WebGLRenderer: "+gt.message),gt}let da,oi,Si,_a,Bn,lr,Mr,vi,zr,_t,ft,In,er,gr,ti,ta,Pi,va,Ti,Xt,Vr,$n,Oi;function hi(){da=new Ia(jn),oi=new wo(jn,da,w),da.init(oi),$n=new hm(jn,da,oi),Si=new dm(jn,da,oi),On[0]=1029,_a=new Us(jn),Bn=new sc,lr=new Nv(jn,da,Si,Bn,oi,$n,_a),Mr=new ds(ce),vi=new Uy(ce),zr=new Ey(jn,oi),Oi=new Yr(jn,da,zr,oi),_t=new uo(jn,zr,_a,Oi),ft=new Tv(jn,_t,zr,_a),Ti=new Cv(jn,oi,lr),ta=new ka(Bn),In=new Dv(ce,Mr,vi,da,oi,Oi,ta),er=new Nx(Bn),gr=new Px(Bn),ti=new Iv(da,oi),va=new Fi(ce,Mr,Si,ft,T),Pi=new sh(ce,ft,oi),Xt=new Qc(jn,da,_a,oi),Vr=new ps(jn,da,_a,oi),_a.programs=In.programs,ce.capabilities=oi,ce.extensions=da,ce.properties=Bn,ce.renderLists=gr,ce.shadowMap=Pi,ce.state=Si,ce.info=_a}hi();const ja=new Ix(ce,jn);this.xr=ja,this.getContext=function(){return jn},this.getContextAttributes=function(){return jn.getContextAttributes()},this.forceContextLoss=function(){const gt=da.get("WEBGL_lose_context");gt&&gt.loseContext()},this.forceContextRestore=function(){const gt=da.get("WEBGL_lose_context");gt&&gt.restoreContext()},this.getPixelRatio=function(){return Ht},this.setPixelRatio=function(gt){gt!==void 0&&(Ht=gt,this.setSize(dn,qt,!1))},this.getSize=function(gt){return gt.set(dn,qt)},this.setSize=function(gt,yn,Rn){if(ja.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}dn=gt,qt=yn,o.width=Math.floor(gt*Ht),o.height=Math.floor(yn*Ht),Rn!==!1&&(o.style.width=gt+"px",o.style.height=yn+"px"),this.setViewport(0,0,gt,yn)},this.getDrawingBufferSize=function(gt){return gt.set(dn*Ht,qt*Ht).floor()},this.setDrawingBufferSize=function(gt,yn,Rn){dn=gt,qt=yn,Ht=Rn,o.width=Math.floor(gt*Rn),o.height=Math.floor(yn*Rn),this.setViewport(0,0,gt,yn)},this.getCurrentViewport=function(gt){return gt.copy(Ot)},this.getViewport=function(gt){return gt.copy(mn)},this.setViewport=function(gt,yn,Rn,Cn){gt.isVector4?mn.set(gt.x,gt.y,gt.z,gt.w):mn.set(gt,yn,Rn,Cn),Si.viewport(Ot.copy(mn).multiplyScalar(Ht).floor())},this.getScissor=function(gt){return gt.copy(En)},this.setScissor=function(gt,yn,Rn,Cn){gt.isVector4?En.set(gt.x,gt.y,gt.z,gt.w):En.set(gt,yn,Rn,Cn),Si.scissor(He.copy(En).multiplyScalar(Ht).floor())},this.getScissorTest=function(){return Mn},this.setScissorTest=function(gt){Si.setScissorTest(Mn=gt)},this.setOpaqueSort=function(gt){qn=gt},this.setTransparentSort=function(gt){xn=gt},this.getClearColor=function(gt){return gt.copy(va.getClearColor())},this.setClearColor=function(){va.setClearColor.apply(va,arguments)},this.getClearAlpha=function(){return va.getClearAlpha()},this.setClearAlpha=function(){va.setClearAlpha.apply(va,arguments)},this.clear=function(gt,yn,Rn){let Cn=0;(gt===void 0||gt)&&(Cn|=16384),(yn===void 0||yn)&&(Cn|=256),(Rn===void 0||Rn)&&(Cn|=1024),jn.clear(Cn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",xl,!1),o.removeEventListener("webglcontextrestored",Sl,!1),gr.dispose(),ti.dispose(),Bn.dispose(),Mr.dispose(),vi.dispose(),ft.dispose(),Oi.dispose(),ja.dispose(),ja.removeEventListener("sessionstart",H1),ja.removeEventListener("sessionend",G1),$r&&($r.dispose(),$r=null),Mh.stop()};function xl(gt){gt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Le=!0}function Sl(){console.log("THREE.WebGLRenderer: Context Restored."),Le=!1;const gt=_a.autoReset,yn=Pi.enabled,Rn=Pi.autoUpdate,Cn=Pi.needsUpdate,Kn=Pi.type;hi(),_a.autoReset=gt,Pi.enabled=yn,Pi.autoUpdate=Rn,Pi.needsUpdate=Cn,Pi.type=Kn}function Uu(gt){const yn=gt.target;yn.removeEventListener("dispose",Uu),Bs(yn)}function Bs(gt){_u(gt),Bn.remove(gt)}function _u(gt){const yn=Bn.get(gt).programs;yn!==void 0&&yn.forEach(function(Rn){In.releaseProgram(Rn)})}this.renderBufferDirect=function(gt,yn,Rn,Cn,Kn,la){yn===null&&(yn=wr);const Vi=Kn.isMesh&&Kn.matrixWorld.determinant()<0,qi=CM(gt,yn,Rn,Cn,Kn);Si.setMaterial(Cn,Vi);let Ba=Rn.index;const Vo=Rn.attributes.position;if(Ba===null){if(Vo===void 0||Vo.count===0)return}else if(Ba.count===0)return;let Ua=1;Cn.wireframe===!0&&(Ba=_t.getWireframeAttribute(Rn),Ua=2),Oi.setup(Kn,Cn,qi,Rn,Ba);let vo,ls=Xt;Ba!==null&&(vo=zr.get(Ba),ls=Vr,ls.setIndex(vo));const Ed=Ba!==null?Ba.count:Vo.count,_o=Rn.drawRange.start*Ua,_h=Rn.drawRange.count*Ua,us=la!==null?la.start*Ua:0,Ch=la!==null?la.count*Ua:Infinity,Th=Math.max(_o,us),Ad=Math.min(Ed,_o+_h,us+Ch)-1,Yf=Math.max(0,Ad-Th+1);if(Yf!==0){if(Kn.isMesh)Cn.wireframe===!0?(Si.setLineWidth(Cn.wireframeLinewidth*wi()),ls.setMode(1)):ls.setMode(4);else if(Kn.isLine){let ws=Cn.linewidth;ws===void 0&&(ws=1),Si.setLineWidth(ws*wi()),Kn.isLineSegments?ls.setMode(1):Kn.isLineLoop?ls.setMode(2):ls.setMode(3)}else Kn.isPoints?ls.setMode(0):Kn.isSprite&&ls.setMode(4);if(Kn.isInstancedMesh)ls.renderInstances(Th,Yf,Kn.count);else if(Rn.isInstancedBufferGeometry){const ws=Math.min(Rn.instanceCount,Rn._maxInstanceCount);ls.renderInstances(Th,Yf,ws)}else ls.render(Th,Yf)}},this.compile=function(gt,yn){G=ti.get(gt),G.init(),te.push(G),gt.traverseVisible(function(Rn){Rn.isLight&&Rn.layers.test(yn.layers)&&(G.pushLight(Rn),Rn.castShadow&&G.pushShadow(Rn))}),G.setupLights(ce.physicallyCorrectLights),gt.traverse(function(Rn){const Cn=Rn.material;if(Cn)if(Array.isArray(Cn))for(let Kn=0;Kn<Cn.length;Kn++){const la=Cn[Kn];jp(la,gt,Rn)}else jp(Cn,gt,Rn)}),te.pop(),G=null};let Vc=null;function wM(gt){Vc&&Vc(gt)}function H1(){Mh.stop()}function G1(){Mh.start()}const Mh=new Bu;Mh.setAnimationLoop(wM),typeof window!="undefined"&&Mh.setContext(window),this.setAnimationLoop=function(gt){Vc=gt,ja.setAnimationLoop(gt),gt===null?Mh.stop():Mh.start()},ja.addEventListener("sessionstart",H1),ja.addEventListener("sessionend",G1),this.render=function(gt,yn){if(yn!==void 0&&yn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Le===!0)return;gt.autoUpdate===!0&&gt.updateMatrixWorld(),yn.parent===null&&yn.updateMatrixWorld(),ja.enabled===!0&&ja.isPresenting===!0&&(ja.cameraAutoUpdate===!0&&ja.updateCamera(yn),yn=ja.getCamera()),gt.isScene===!0&&gt.onBeforeRender(ce,gt,yn,Fe),G=ti.get(gt,te.length),G.init(),te.push(G),Sa.multiplyMatrices(yn.projectionMatrix,yn.matrixWorldInverse),_r.setFromProjectionMatrix(Sa),Ci=this.localClippingEnabled,di=ta.init(this.clippingPlanes,Ci,yn),U=gr.get(gt,K.length),U.init(),K.push(U),U1(gt,yn,0,ce.sortObjects),U.finish(),ce.sortObjects===!0&&U.sort(qn,xn),di===!0&&ta.beginShadows();const Rn=G.state.shadowsArray;if(Pi.render(Rn,gt,yn),di===!0&&ta.endShadows(),this.info.autoReset===!0&&this.info.reset(),va.render(U,gt),G.setupLights(ce.physicallyCorrectLights),yn.isArrayCamera){const Cn=yn.cameras;for(let Kn=0,la=Cn.length;Kn<la;Kn++){const Vi=Cn[Kn];W1(U,gt,Vi,Vi.viewport)}}else W1(U,gt,yn);Fe!==null&&(lr.updateMultisampleRenderTarget(Fe),lr.updateRenderTargetMipmap(Fe)),gt.isScene===!0&&gt.onAfterRender(ce,gt,yn),Si.buffers.depth.setTest(!0),Si.buffers.depth.setMask(!0),Si.buffers.color.setMask(!0),Si.setPolygonOffset(!1),Oi.resetDefaultState(),Te=-1,lt=null,te.pop(),te.length>0?G=te[te.length-1]:G=null,K.pop(),K.length>0?U=K[K.length-1]:U=null};function U1(gt,yn,Rn,Cn){if(gt.visible===!1)return;if(gt.layers.test(yn.layers)){if(gt.isGroup)Rn=gt.renderOrder;else if(gt.isLOD)gt.autoUpdate===!0&&gt.update(yn);else if(gt.isLight)G.pushLight(gt),gt.castShadow&&G.pushShadow(gt);else if(gt.isSprite){if(!gt.frustumCulled||_r.intersectsSprite(gt)){Cn&&sr.setFromMatrixPosition(gt.matrixWorld).applyMatrix4(Sa);const Vi=ft.update(gt),qi=gt.material;qi.visible&&U.push(gt,Vi,qi,Rn,sr.z,null)}}else if((gt.isMesh||gt.isLine||gt.isPoints)&&(gt.isSkinnedMesh&&gt.skeleton.frame!==_a.render.frame&&(gt.skeleton.update(),gt.skeleton.frame=_a.render.frame),!gt.frustumCulled||_r.intersectsObject(gt))){Cn&&sr.setFromMatrixPosition(gt.matrixWorld).applyMatrix4(Sa);const Vi=ft.update(gt),qi=gt.material;if(Array.isArray(qi)){const Ba=Vi.groups;for(let Vo=0,Ua=Ba.length;Vo<Ua;Vo++){const vo=Ba[Vo],ls=qi[vo.materialIndex];ls&&ls.visible&&U.push(gt,Vi,ls,Rn,sr.z,vo)}}else qi.visible&&U.push(gt,Vi,qi,Rn,sr.z,null)}}const la=gt.children;for(let Vi=0,qi=la.length;Vi<qi;Vi++)U1(la[Vi],yn,Rn,Cn)}function W1(gt,yn,Rn,Cn){const Kn=gt.opaque,la=gt.transmissive,Vi=gt.transparent;G.setupLightsView(Rn),la.length>0&&MM(Kn,yn,Rn),Cn&&Si.viewport(Ot.copy(Cn)),Kn.length>0&&Zm(Kn,yn,Rn),la.length>0&&Zm(la,yn,Rn),Vi.length>0&&Zm(Vi,yn,Rn)}function MM(gt,yn,Rn){if($r===null){const Vi=_===!0&&oi.isWebGL2===!0?Hs:jo;$r=new Vi(1024,1024,{generateMipmaps:!0,type:$n.convert(Rt)!==null?Rt:ue,minFilter:ot,magFilter:Se,wrapS:hn,wrapT:hn})}const Cn=ce.getRenderTarget();ce.setRenderTarget($r),ce.clear();const Kn=ce.toneMapping;ce.toneMapping=wn,Zm(gt,yn,Rn),ce.toneMapping=Kn,lr.updateMultisampleRenderTarget($r),lr.updateRenderTargetMipmap($r),ce.setRenderTarget(Cn)}function Zm(gt,yn,Rn){const Cn=yn.isScene===!0?yn.overrideMaterial:null;for(let Kn=0,la=gt.length;Kn<la;Kn++){const Vi=gt[Kn],qi=Vi.object,Ba=Vi.geometry,Vo=Cn===null?Vi.material:Cn,Ua=Vi.group;qi.layers.test(Rn.layers)&&_M(qi,yn,Rn,Ba,Vo,Ua)}}function _M(gt,yn,Rn,Cn,Kn,la){gt.onBeforeRender(ce,yn,Rn,Cn,Kn,la),gt.modelViewMatrix.multiplyMatrices(Rn.matrixWorldInverse,gt.matrixWorld),gt.normalMatrix.getNormalMatrix(gt.modelViewMatrix),Kn.onBeforeRender(ce,yn,Rn,Cn,gt,la),Kn.transparent===!0&&Kn.side===at?(Kn.side=dt,Kn.needsUpdate=!0,ce.renderBufferDirect(Rn,yn,Cn,Kn,gt,la),Kn.side=ve,Kn.needsUpdate=!0,ce.renderBufferDirect(Rn,yn,Cn,Kn,gt,la),Kn.side=at):ce.renderBufferDirect(Rn,yn,Cn,Kn,gt,la),gt.onAfterRender(ce,yn,Rn,Cn,Kn,la)}function jp(gt,yn,Rn){yn.isScene!==!0&&(yn=wr);const Cn=Bn.get(gt),Kn=G.state.lights,la=G.state.shadowsArray,Vi=Kn.state.version,qi=In.getParameters(gt,Kn.state,la,yn,Rn),Ba=In.getProgramCacheKey(qi);let Vo=Cn.programs;Cn.environment=gt.isMeshStandardMaterial?yn.environment:null,Cn.fog=yn.fog,Cn.envMap=(gt.isMeshStandardMaterial?vi:Mr).get(gt.envMap||Cn.environment),Vo===void 0&&(gt.addEventListener("dispose",Uu),Vo=new Map,Cn.programs=Vo);let Ua=Vo.get(Ba);if(Ua!==void 0){if(Cn.currentProgram===Ua&&Cn.lightsStateVersion===Vi)return K1(gt,qi),Ua}else qi.uniforms=In.getUniforms(gt),gt.onBuild(Rn,qi,ce),gt.onBeforeCompile(qi,ce),Ua=In.acquireProgram(qi,Ba),Vo.set(Ba,Ua),Cn.uniforms=qi.uniforms;const vo=Cn.uniforms;(!gt.isShaderMaterial&&!gt.isRawShaderMaterial||gt.clipping===!0)&&(vo.clippingPlanes=ta.uniform),K1(gt,qi),Cn.needsLights=pg(gt),Cn.lightsStateVersion=Vi,Cn.needsLights&&(vo.ambientLightColor.value=Kn.state.ambient,vo.lightProbe.value=Kn.state.probe,vo.directionalLights.value=Kn.state.directional,vo.directionalLightShadows.value=Kn.state.directionalShadow,vo.spotLights.value=Kn.state.spot,vo.spotLightShadows.value=Kn.state.spotShadow,vo.rectAreaLights.value=Kn.state.rectArea,vo.ltc_1.value=Kn.state.rectAreaLTC1,vo.ltc_2.value=Kn.state.rectAreaLTC2,vo.pointLights.value=Kn.state.point,vo.pointLightShadows.value=Kn.state.pointShadow,vo.hemisphereLights.value=Kn.state.hemi,vo.directionalShadowMap.value=Kn.state.directionalShadowMap,vo.directionalShadowMatrix.value=Kn.state.directionalShadowMatrix,vo.spotShadowMap.value=Kn.state.spotShadowMap,vo.spotShadowMatrix.value=Kn.state.spotShadowMatrix,vo.pointShadowMap.value=Kn.state.pointShadowMap,vo.pointShadowMatrix.value=Kn.state.pointShadowMatrix);const ls=Ua.getUniforms(),Ed=gd.seqWithValue(ls.seq,vo);return Cn.currentProgram=Ua,Cn.uniformsList=Ed,Ua}function K1(gt,yn){const Rn=Bn.get(gt);Rn.outputEncoding=yn.outputEncoding,Rn.instancing=yn.instancing,Rn.skinning=yn.skinning,Rn.morphTargets=yn.morphTargets,Rn.morphNormals=yn.morphNormals,Rn.morphTargetsCount=yn.morphTargetsCount,Rn.numClippingPlanes=yn.numClippingPlanes,Rn.numIntersection=yn.numClipIntersection,Rn.vertexAlphas=yn.vertexAlphas,Rn.vertexTangents=yn.vertexTangents}function CM(gt,yn,Rn,Cn,Kn){yn.isScene!==!0&&(yn=wr),lr.resetTextureUnits();const la=yn.fog,Vi=Cn.isMeshStandardMaterial?yn.environment:null,qi=Fe===null?ce.outputEncoding:Fe.texture.encoding,Ba=(Cn.isMeshStandardMaterial?vi:Mr).get(Cn.envMap||Vi),Vo=Cn.vertexColors===!0&&!!Rn.attributes.color&&Rn.attributes.color.itemSize===4,Ua=!!Cn.normalMap&&!!Rn.attributes.tangent,vo=!!Rn.morphAttributes.position,ls=!!Rn.morphAttributes.normal,Ed=Rn.morphAttributes.position?Rn.morphAttributes.position.length:0,_o=Bn.get(Cn),_h=G.state.lights;if(di===!0&&(Ci===!0||gt!==lt)){const Hc=gt===lt&&Cn.id===Te;ta.setState(Cn,gt,Hc)}let us=!1;Cn.version===_o.__version?(_o.needsLights&&_o.lightsStateVersion!==_h.state.version||_o.outputEncoding!==qi||Kn.isInstancedMesh&&_o.instancing===!1||!Kn.isInstancedMesh&&_o.instancing===!0||Kn.isSkinnedMesh&&_o.skinning===!1||!Kn.isSkinnedMesh&&_o.skinning===!0||_o.envMap!==Ba||Cn.fog&&_o.fog!==la||_o.numClippingPlanes!==void 0&&(_o.numClippingPlanes!==ta.numPlanes||_o.numIntersection!==ta.numIntersection)||_o.vertexAlphas!==Vo||_o.vertexTangents!==Ua||_o.morphTargets!==vo||_o.morphNormals!==ls||oi.isWebGL2===!0&&_o.morphTargetsCount!==Ed)&&(us=!0):(us=!0,_o.__version=Cn.version);let Ch=_o.currentProgram;us===!0&&(Ch=jp(Cn,yn,Kn));let Th=!1,Ad=!1,Yf=!1;const ws=Ch.getUniforms(),Bp=_o.uniforms;if(Si.useProgram(Ch.program)&&(Th=!0,Ad=!0,Yf=!0),Cn.id!==Te&&(Te=Cn.id,Ad=!0),Th||lt!==gt){if(ws.setValue(jn,"projectionMatrix",gt.projectionMatrix),oi.logarithmicDepthBuffer&&ws.setValue(jn,"logDepthBufFC",2/(Math.log(gt.far+1)/Math.LN2)),lt!==gt&&(lt=gt,Ad=!0,Yf=!0),Cn.isShaderMaterial||Cn.isMeshPhongMaterial||Cn.isMeshToonMaterial||Cn.isMeshStandardMaterial||Cn.envMap){const Hc=ws.map.cameraPosition;Hc!==void 0&&Hc.setValue(jn,sr.setFromMatrixPosition(gt.matrixWorld))}(Cn.isMeshPhongMaterial||Cn.isMeshToonMaterial||Cn.isMeshLambertMaterial||Cn.isMeshBasicMaterial||Cn.isMeshStandardMaterial||Cn.isShaderMaterial)&&ws.setValue(jn,"isOrthographic",gt.isOrthographicCamera===!0),(Cn.isMeshPhongMaterial||Cn.isMeshToonMaterial||Cn.isMeshLambertMaterial||Cn.isMeshBasicMaterial||Cn.isMeshStandardMaterial||Cn.isShaderMaterial||Cn.isShadowMaterial||Kn.isSkinnedMesh)&&ws.setValue(jn,"viewMatrix",gt.matrixWorldInverse)}if(Kn.isSkinnedMesh){ws.setOptional(jn,Kn,"bindMatrix"),ws.setOptional(jn,Kn,"bindMatrixInverse");const Hc=Kn.skeleton;Hc&&(oi.floatVertexTextures?(Hc.boneTexture===null&&Hc.computeBoneTexture(),ws.setValue(jn,"boneTexture",Hc.boneTexture,lr),ws.setValue(jn,"boneTextureSize",Hc.boneTextureSize)):ws.setOptional(jn,Hc,"boneMatrices"))}return!!Rn&&(Rn.morphAttributes.position!==void 0||Rn.morphAttributes.normal!==void 0)&&Ti.update(Kn,Rn,Cn,Ch),(Ad||_o.receiveShadow!==Kn.receiveShadow)&&(_o.receiveShadow=Kn.receiveShadow,ws.setValue(jn,"receiveShadow",Kn.receiveShadow)),Ad&&(ws.setValue(jn,"toneMappingExposure",ce.toneMappingExposure),_o.needsLights&&Ts(Bp,Yf),la&&Cn.fog&&er.refreshFogUniforms(Bp,la),er.refreshMaterialUniforms(Bp,Cn,Ht,qt,$r),gd.upload(jn,_o.uniformsList,Bp,lr)),Cn.isShaderMaterial&&Cn.uniformsNeedUpdate===!0&&(gd.upload(jn,_o.uniformsList,Bp,lr),Cn.uniformsNeedUpdate=!1),Cn.isSpriteMaterial&&ws.setValue(jn,"center",Kn.center),ws.setValue(jn,"modelViewMatrix",Kn.modelViewMatrix),ws.setValue(jn,"normalMatrix",Kn.normalMatrix),ws.setValue(jn,"modelMatrix",Kn.matrixWorld),Ch}function Ts(gt,yn){gt.ambientLightColor.needsUpdate=yn,gt.lightProbe.needsUpdate=yn,gt.directionalLights.needsUpdate=yn,gt.directionalLightShadows.needsUpdate=yn,gt.pointLights.needsUpdate=yn,gt.pointLightShadows.needsUpdate=yn,gt.spotLights.needsUpdate=yn,gt.spotLightShadows.needsUpdate=yn,gt.rectAreaLights.needsUpdate=yn,gt.hemisphereLights.needsUpdate=yn}function pg(gt){return gt.isMeshLambertMaterial||gt.isMeshToonMaterial||gt.isMeshPhongMaterial||gt.isMeshStandardMaterial||gt.isShadowMaterial||gt.isShaderMaterial&&gt.lights===!0}this.getActiveCubeFace=function(){return ne},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return Fe},this.setRenderTarget=function(gt,yn=0,Rn=0){Fe=gt,ne=yn,q=Rn,gt&&Bn.get(gt).__webglFramebuffer===void 0&&lr.setupRenderTarget(gt);let Cn=null,Kn=!1,la=!1;if(gt){const qi=gt.texture;(qi.isDataTexture3D||qi.isDataTexture2DArray)&&(la=!0);const Ba=Bn.get(gt).__webglFramebuffer;gt.isWebGLCubeRenderTarget?(Cn=Ba[yn],Kn=!0):gt.isWebGLMultisampleRenderTarget?Cn=Bn.get(gt).__webglMultisampledFramebuffer:Cn=Ba,Ot.copy(gt.viewport),He.copy(gt.scissor),Bt=gt.scissorTest}else Ot.copy(mn).multiplyScalar(Ht).floor(),He.copy(En).multiplyScalar(Ht).floor(),Bt=Mn;if(Si.bindFramebuffer(36160,Cn)&&oi.drawBuffers){let qi=!1;if(gt)if(gt.isWebGLMultipleRenderTargets){const Ba=gt.texture;if(On.length!==Ba.length||On[0]!==36064){for(let Vo=0,Ua=Ba.length;Vo<Ua;Vo++)On[Vo]=36064+Vo;On.length=Ba.length,qi=!0}}else(On.length!==1||On[0]!==36064)&&(On[0]=36064,On.length=1,qi=!0);else(On.length!==1||On[0]!==1029)&&(On[0]=1029,On.length=1,qi=!0);qi&&(oi.isWebGL2?jn.drawBuffers(On):da.get("WEBGL_draw_buffers").drawBuffersWEBGL(On))}if(Si.viewport(Ot),Si.scissor(He),Si.setScissorTest(Bt),Kn){const qi=Bn.get(gt.texture);jn.framebufferTexture2D(36160,36064,34069+yn,qi.__webglTexture,Rn)}else if(la){const qi=Bn.get(gt.texture),Ba=yn||0;jn.framebufferTextureLayer(36160,36064,qi.__webglTexture,Rn||0,Ba)}Te=-1},this.readRenderTargetPixels=function(gt,yn,Rn,Cn,Kn,la,Vi){if(!(gt&&gt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qi=Bn.get(gt).__webglFramebuffer;if(gt.isWebGLCubeRenderTarget&&Vi!==void 0&&(qi=qi[Vi]),qi){Si.bindFramebuffer(36160,qi);try{const Ba=gt.texture,Vo=Ba.format,Ua=Ba.type;if(Vo!==fn&&$n.convert(Vo)!==jn.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vo=Ua===Rt&&(da.has("EXT_color_buffer_half_float")||oi.isWebGL2&&da.has("EXT_color_buffer_float"));if(Ua!==ue&&$n.convert(Ua)!==jn.getParameter(35738)&&!(Ua===ct&&(oi.isWebGL2||da.has("OES_texture_float")||da.has("WEBGL_color_buffer_float")))&&!vo){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}jn.checkFramebufferStatus(36160)===36053?yn>=0&&yn<=gt.width-Cn&&Rn>=0&&Rn<=gt.height-Kn&&jn.readPixels(yn,Rn,Cn,Kn,$n.convert(Vo),$n.convert(Ua),la):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Ba=Fe!==null?Bn.get(Fe).__webglFramebuffer:null;Si.bindFramebuffer(36160,Ba)}}},this.copyFramebufferToTexture=function(gt,yn,Rn=0){const Cn=Math.pow(2,-Rn),Kn=Math.floor(yn.image.width*Cn),la=Math.floor(yn.image.height*Cn);let Vi=$n.convert(yn.format);oi.isWebGL2&&(Vi===6407&&(Vi=32849),Vi===6408&&(Vi=32856)),lr.setTexture2D(yn,0),jn.copyTexImage2D(3553,Rn,Vi,gt.x,gt.y,Kn,la,0),Si.unbindTexture()},this.copyTextureToTexture=function(gt,yn,Rn,Cn=0){const Kn=yn.image.width,la=yn.image.height,Vi=$n.convert(Rn.format),qi=$n.convert(Rn.type);lr.setTexture2D(Rn,0),jn.pixelStorei(37440,Rn.flipY),jn.pixelStorei(37441,Rn.premultiplyAlpha),jn.pixelStorei(3317,Rn.unpackAlignment),yn.isDataTexture?jn.texSubImage2D(3553,Cn,gt.x,gt.y,Kn,la,Vi,qi,yn.image.data):yn.isCompressedTexture?jn.compressedTexSubImage2D(3553,Cn,gt.x,gt.y,yn.mipmaps[0].width,yn.mipmaps[0].height,Vi,yn.mipmaps[0].data):jn.texSubImage2D(3553,Cn,gt.x,gt.y,Vi,qi,yn.image),Cn===0&&Rn.generateMipmaps&&jn.generateMipmap(3553),Si.unbindTexture()},this.copyTextureToTexture3D=function(gt,yn,Rn,Cn,Kn=0){if(ce.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const la=gt.max.x-gt.min.x+1,Vi=gt.max.y-gt.min.y+1,qi=gt.max.z-gt.min.z+1,Ba=$n.convert(Cn.format),Vo=$n.convert(Cn.type);let Ua;if(Cn.isDataTexture3D)lr.setTexture3D(Cn,0),Ua=32879;else if(Cn.isDataTexture2DArray)lr.setTexture2DArray(Cn,0),Ua=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}jn.pixelStorei(37440,Cn.flipY),jn.pixelStorei(37441,Cn.premultiplyAlpha),jn.pixelStorei(3317,Cn.unpackAlignment);const vo=jn.getParameter(3314),ls=jn.getParameter(32878),Ed=jn.getParameter(3316),_o=jn.getParameter(3315),_h=jn.getParameter(32877),us=Rn.isCompressedTexture?Rn.mipmaps[0]:Rn.image;jn.pixelStorei(3314,us.width),jn.pixelStorei(32878,us.height),jn.pixelStorei(3316,gt.min.x),jn.pixelStorei(3315,gt.min.y),jn.pixelStorei(32877,gt.min.z),Rn.isDataTexture||Rn.isDataTexture3D?jn.texSubImage3D(Ua,Kn,yn.x,yn.y,yn.z,la,Vi,qi,Ba,Vo,us.data):Rn.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),jn.compressedTexSubImage3D(Ua,Kn,yn.x,yn.y,yn.z,la,Vi,qi,Ba,us.data)):jn.texSubImage3D(Ua,Kn,yn.x,yn.y,yn.z,la,Vi,qi,Ba,Vo,us),jn.pixelStorei(3314,vo),jn.pixelStorei(32878,ls),jn.pixelStorei(3316,Ed),jn.pixelStorei(3315,_o),jn.pixelStorei(32877,_h),Kn===0&&Cn.generateMipmaps&&jn.generateMipmap(Ua),Si.unbindTexture()},this.initTexture=function(gt){lr.setTexture2D(gt,0),Si.unbindTexture()},this.resetState=function(){ne=0,q=0,Fe=null,Si.reset(),Oi.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Ro.prototype.isWebGLRenderer=!0;class jx extends Ro{}jx.prototype.isWebGL1Renderer=!0;class cp{constructor(o,c=25e-5){this.name="",this.color=new nr(o),this.density=c}clone(){return new cp(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}cp.prototype.isFogExp2=!0;class fp{constructor(o,c=1,p=1e3){this.name="",this.color=new nr(o),this.near=c,this.far=p}clone(){return new fp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}fp.prototype.isFog=!0;class nf extends La{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(o,c){return super.copy(o,c),o.background!==null&&(this.background=o.background.clone()),o.environment!==null&&(this.environment=o.environment.clone()),o.fog!==null&&(this.fog=o.fog.clone()),o.overrideMaterial!==null&&(this.overrideMaterial=o.overrideMaterial.clone()),this.autoUpdate=o.autoUpdate,this.matrixAutoUpdate=o.matrixAutoUpdate,this}toJSON(o){const c=super.toJSON(o);return this.fog!==null&&(c.object.fog=this.fog.toJSON()),c}}nf.prototype.isScene=!0;class lh{constructor(o,c){this.array=o,this.stride=c,this.count=o!==void 0?o.length/c:0,this.usage=Wi,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zr()}onUploadCallback(){}set needsUpdate(o){o===!0&&this.version++}setUsage(o){return this.usage=o,this}copy(o){return this.array=new o.array.constructor(o.array),this.count=o.count,this.stride=o.stride,this.usage=o.usage,this}copyAt(o,c,p){o*=this.stride,p*=c.stride;for(let m=0,x=this.stride;m<x;m++)this.array[o+m]=c.array[p+m];return this}set(o,c=0){return this.array.set(o,c),this}clone(o){o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const c=new this.array.constructor(o.arrayBuffers[this.array.buffer._uuid]),p=new this.constructor(c,this.stride);return p.setUsage(this.usage),p}onUpload(o){return this.onUploadCallback=o,this}toJSON(o){return o.arrayBuffers===void 0&&(o.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zr()),o.arrayBuffers[this.array.buffer._uuid]===void 0&&(o.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}lh.prototype.isInterleavedBuffer=!0;const Is=new Ze;class Ns{constructor(o,c,p,m=!1){this.name="",this.data=o,this.itemSize=c,this.offset=p,this.normalized=m===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(o){this.data.needsUpdate=o}applyMatrix4(o){for(let c=0,p=this.data.count;c<p;c++)Is.x=this.getX(c),Is.y=this.getY(c),Is.z=this.getZ(c),Is.applyMatrix4(o),this.setXYZ(c,Is.x,Is.y,Is.z);return this}applyNormalMatrix(o){for(let c=0,p=this.count;c<p;c++)Is.x=this.getX(c),Is.y=this.getY(c),Is.z=this.getZ(c),Is.applyNormalMatrix(o),this.setXYZ(c,Is.x,Is.y,Is.z);return this}transformDirection(o){for(let c=0,p=this.count;c<p;c++)Is.x=this.getX(c),Is.y=this.getY(c),Is.z=this.getZ(c),Is.transformDirection(o),this.setXYZ(c,Is.x,Is.y,Is.z);return this}setX(o,c){return this.data.array[o*this.data.stride+this.offset]=c,this}setY(o,c){return this.data.array[o*this.data.stride+this.offset+1]=c,this}setZ(o,c){return this.data.array[o*this.data.stride+this.offset+2]=c,this}setW(o,c){return this.data.array[o*this.data.stride+this.offset+3]=c,this}getX(o){return this.data.array[o*this.data.stride+this.offset]}getY(o){return this.data.array[o*this.data.stride+this.offset+1]}getZ(o){return this.data.array[o*this.data.stride+this.offset+2]}getW(o){return this.data.array[o*this.data.stride+this.offset+3]}setXY(o,c,p){return o=o*this.data.stride+this.offset,this.data.array[o+0]=c,this.data.array[o+1]=p,this}setXYZ(o,c,p,m){return o=o*this.data.stride+this.offset,this.data.array[o+0]=c,this.data.array[o+1]=p,this.data.array[o+2]=m,this}setXYZW(o,c,p,m,x){return o=o*this.data.stride+this.offset,this.data.array[o+0]=c,this.data.array[o+1]=p,this.data.array[o+2]=m,this.data.array[o+3]=x,this}clone(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const c=[];for(let p=0;p<this.count;p++){const m=p*this.data.stride+this.offset;for(let x=0;x<this.itemSize;x++)c.push(this.data.array[m+x])}return new Va(new this.array.constructor(c),this.itemSize,this.normalized)}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.clone(o)),new Ns(o.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(o){if(o===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const c=[];for(let p=0;p<this.count;p++){const m=p*this.data.stride+this.offset;for(let x=0;x<this.itemSize;x++)c.push(this.data.array[m+x])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:c,normalized:this.normalized}}else return o.interleavedBuffers===void 0&&(o.interleavedBuffers={}),o.interleavedBuffers[this.data.uuid]===void 0&&(o.interleavedBuffers[this.data.uuid]=this.data.toJSON(o)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Ns.prototype.isInterleavedBufferAttribute=!0;class jv extends Ps{constructor(o){super();this.type="SpriteMaterial",this.color=new nr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.rotation=o.rotation,this.sizeAttenuation=o.sizeAttenuation,this}}jv.prototype.isSpriteMaterial=!0;let uh;const ch=new Ze,md=new Ze,dp=new Ze,fh=new Vn,Bv=new Vn,Bx=new Hn,rf=new Ze,yd=new Ze,dh=new Ze,d0=new Vn,Ff=new Vn,vm=new Vn;class zf extends La{constructor(o){super();if(this.type="Sprite",uh===void 0){uh=new _i;const c=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),p=new lh(c,5);uh.setIndex([0,1,2,0,2,3]),uh.setAttribute("position",new Ns(p,3,0,!1)),uh.setAttribute("uv",new Ns(p,2,3,!1))}this.geometry=uh,this.material=o!==void 0?o:new jv,this.center=new Vn(.5,.5)}raycast(o,c){o.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),md.setFromMatrixScale(this.matrixWorld),Bx.copy(o.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(o.camera.matrixWorldInverse,this.matrixWorld),dp.setFromMatrixPosition(this.modelViewMatrix),o.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&md.multiplyScalar(-dp.z);const p=this.material.rotation;let m,x;p!==0&&(x=Math.cos(p),m=Math.sin(p));const _=this.center;h0(rf.set(-.5,-.5,0),dp,_,md,m,x),h0(yd.set(.5,-.5,0),dp,_,md,m,x),h0(dh.set(.5,.5,0),dp,_,md,m,x),d0.set(0,0),Ff.set(1,0),vm.set(1,1);let T=o.ray.intersectTriangle(rf,yd,dh,!1,ch);if(T===null&&(h0(yd.set(-.5,.5,0),dp,_,md,m,x),Ff.set(0,1),T=o.ray.intersectTriangle(rf,dh,yd,!1,ch),T===null))return;const A=o.ray.origin.distanceTo(ch);A<o.near||A>o.far||c.push({distance:A,point:ch.clone(),uv:Ms.getUV(ch,rf,yd,dh,d0,Ff,vm,new Vn),face:null,object:this})}copy(o){return super.copy(o),o.center!==void 0&&this.center.copy(o.center),this.material=o.material,this}}zf.prototype.isSprite=!0;function h0(w,o,c,p,m,x){fh.subVectors(w,c).addScalar(.5).multiply(p),m!==void 0?(Bv.x=x*fh.x-m*fh.y,Bv.y=m*fh.x+x*fh.y):Bv.copy(fh),w.copy(o),w.x+=Bv.x,w.y+=Bv.y,w.applyMatrix4(Bx)}const p0=new Ze,Fx=new Ze;class ks extends La{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(o){super.copy(o,!1);const c=o.levels;for(let p=0,m=c.length;p<m;p++){const x=c[p];this.addLevel(x.object.clone(),x.distance)}return this.autoUpdate=o.autoUpdate,this}addLevel(o,c=0){c=Math.abs(c);const p=this.levels;let m;for(m=0;m<p.length&&!(c<p[m].distance);m++);return p.splice(m,0,{distance:c,object:o}),this.add(o),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(o){const c=this.levels;if(c.length>0){let p,m;for(p=1,m=c.length;p<m&&!(o<c[p].distance);p++);return c[p-1].object}return null}raycast(o,c){if(this.levels.length>0){p0.setFromMatrixPosition(this.matrixWorld);const m=o.ray.origin.distanceTo(p0);this.getObjectForDistance(m).raycast(o,c)}}update(o){const c=this.levels;if(c.length>1){p0.setFromMatrixPosition(o.matrixWorld),Fx.setFromMatrixPosition(this.matrixWorld);const p=p0.distanceTo(Fx)/o.zoom;c[0].object.visible=!0;let m,x;for(m=1,x=c.length;m<x&&p>=c[m].distance;m++)c[m-1].object.visible=!1,c[m].object.visible=!0;for(this._currentLevel=m-1;m<x;m++)c[m].object.visible=!1}}toJSON(o){const c=super.toJSON(o);this.autoUpdate===!1&&(c.object.autoUpdate=!1),c.object.levels=[];const p=this.levels;for(let m=0,x=p.length;m<x;m++){const _=p[m];c.object.levels.push({object:_.object.uuid,distance:_.distance})}return c}}const Fv=new Ze,zx=new Ki,hp=new Ki,bd=new Ze,hh=new Hn;class zv extends _s{constructor(o,c){super(o,c);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Hn,this.bindMatrixInverse=new Hn}copy(o){return super.copy(o),this.bindMode=o.bindMode,this.bindMatrix.copy(o.bindMatrix),this.bindMatrixInverse.copy(o.bindMatrixInverse),this.skeleton=o.skeleton,this}bind(o,c){this.skeleton=o,c===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),c=this.matrixWorld),this.bindMatrix.copy(c),this.bindMatrixInverse.copy(c).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const o=new Ki,c=this.geometry.attributes.skinWeight;for(let p=0,m=c.count;p<m;p++){o.x=c.getX(p),o.y=c.getY(p),o.z=c.getZ(p),o.w=c.getW(p);const x=1/o.manhattanLength();x!==Infinity?o.multiplyScalar(x):o.set(1,0,0,0),c.setXYZW(p,o.x,o.y,o.z,o.w)}}updateMatrixWorld(o){super.updateMatrixWorld(o),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(o,c){const p=this.skeleton,m=this.geometry;zx.fromBufferAttribute(m.attributes.skinIndex,o),hp.fromBufferAttribute(m.attributes.skinWeight,o),Fv.copy(c).applyMatrix4(this.bindMatrix),c.set(0,0,0);for(let x=0;x<4;x++){const _=hp.getComponent(x);if(_!==0){const T=zx.getComponent(x);hh.multiplyMatrices(p.bones[T].matrixWorld,p.boneInverses[T]),c.addScaledVector(bd.copy(Fv).applyMatrix4(hh),_)}}return c.applyMatrix4(this.bindMatrixInverse)}}zv.prototype.isSkinnedMesh=!0;class gm extends La{constructor(){super();this.type="Bone"}}gm.prototype.isBone=!0;class Rc extends ri{constructor(o=null,c=1,p=1,m,x,_,T,A,L=Se,z=Se,U,G){super(null,_,T,A,L,z,m,x,U,G);this.image={data:o,width:c,height:p},this.magFilter=L,this.minFilter=z,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Rc.prototype.isDataTexture=!0;const Vx=new Hn,xa=new Hn;class Vv{constructor(o=[],c=[]){this.uuid=Zr(),this.bones=o.slice(0),this.boneInverses=c,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const o=this.bones,c=this.boneInverses;if(this.boneMatrices=new Float32Array(o.length*16),c.length===0)this.calculateInverses();else if(o.length!==c.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let p=0,m=this.bones.length;p<m;p++)this.boneInverses.push(new Hn)}}calculateInverses(){this.boneInverses.length=0;for(let o=0,c=this.bones.length;o<c;o++){const p=new Hn;this.bones[o]&&p.copy(this.bones[o].matrixWorld).invert(),this.boneInverses.push(p)}}pose(){for(let o=0,c=this.bones.length;o<c;o++){const p=this.bones[o];p&&p.matrixWorld.copy(this.boneInverses[o]).invert()}for(let o=0,c=this.bones.length;o<c;o++){const p=this.bones[o];p&&(p.parent&&p.parent.isBone?(p.matrix.copy(p.parent.matrixWorld).invert(),p.matrix.multiply(p.matrixWorld)):p.matrix.copy(p.matrixWorld),p.matrix.decompose(p.position,p.quaternion,p.scale))}}update(){const o=this.bones,c=this.boneInverses,p=this.boneMatrices,m=this.boneTexture;for(let x=0,_=o.length;x<_;x++){const T=o[x]?o[x].matrixWorld:xa;Vx.multiplyMatrices(T,c[x]),Vx.toArray(p,x*16)}m!==null&&(m.needsUpdate=!0)}clone(){return new Vv(this.bones,this.boneInverses)}computeBoneTexture(){let o=Math.sqrt(this.bones.length*4);o=Lu(o),o=Math.max(o,4);const c=new Float32Array(o*o*4);c.set(this.boneMatrices);const p=new Rc(c,o,o,fn,ct);return this.boneMatrices=c,this.boneTexture=p,this.boneTextureSize=o,this}getBoneByName(o){for(let c=0,p=this.bones.length;c<p;c++){const m=this.bones[c];if(m.name===o)return m}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(o,c){this.uuid=o.uuid;for(let p=0,m=o.bones.length;p<m;p++){const x=o.bones[p];let _=c[x];_===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",x),_=new gm),this.bones.push(_),this.boneInverses.push(new Hn().fromArray(o.boneInverses[p]))}return this.init(),this}toJSON(){const o={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};o.uuid=this.uuid;const c=this.bones,p=this.boneInverses;for(let m=0,x=c.length;m<x;m++){const _=c[m];o.bones.push(_.uuid);const T=p[m];o.boneInverses.push(T.toArray())}return o}}class Ic extends Va{constructor(o,c,p,m=1){typeof p=="number"&&(m=p,p=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(o,c,p),this.meshPerAttribute=m}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}toJSON(){const o=super.toJSON();return o.meshPerAttribute=this.meshPerAttribute,o.isInstancedBufferAttribute=!0,o}}Ic.prototype.isInstancedBufferAttribute=!0;const Hx=new Hn,v0=new Hn,yl=[],Ws=new _s;class wu extends _s{constructor(o,c,p){super(o,c);this.instanceMatrix=new Ic(new Float32Array(p*16),16),this.instanceColor=null,this.count=p,this.frustumCulled=!1}copy(o){return super.copy(o),this.instanceMatrix.copy(o.instanceMatrix),o.instanceColor!==null&&(this.instanceColor=o.instanceColor.clone()),this.count=o.count,this}getColorAt(o,c){c.fromArray(this.instanceColor.array,o*3)}getMatrixAt(o,c){c.fromArray(this.instanceMatrix.array,o*16)}raycast(o,c){const p=this.matrixWorld,m=this.count;if(Ws.geometry=this.geometry,Ws.material=this.material,Ws.material!==void 0)for(let x=0;x<m;x++){this.getMatrixAt(x,Hx),v0.multiplyMatrices(p,Hx),Ws.matrixWorld=v0,Ws.raycast(o,yl);for(let _=0,T=yl.length;_<T;_++){const A=yl[_];A.instanceId=x,A.object=this,c.push(A)}yl.length=0}}setColorAt(o,c){this.instanceColor===null&&(this.instanceColor=new Ic(new Float32Array(this.instanceMatrix.count*3),3)),c.toArray(this.instanceColor.array,o*3)}setMatrixAt(o,c){c.toArray(this.instanceMatrix.array,o*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}wu.prototype.isInstancedMesh=!0;class Qo extends Ps{constructor(o){super();this.type="LineBasicMaterial",this.color=new nr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.linewidth=o.linewidth,this.linecap=o.linecap,this.linejoin=o.linejoin,this}}Qo.prototype.isLineBasicMaterial=!0;const af=new Ze,g0=new Ze,Nc=new Hn,xd=new Of,Ks=new uu;class of extends La{constructor(o=new _i,c=new Qo){super();this.type="Line",this.geometry=o,this.material=c,this.updateMorphTargets()}copy(o){return super.copy(o),this.material=o.material,this.geometry=o.geometry,this}computeLineDistances(){const o=this.geometry;if(o.isBufferGeometry)if(o.index===null){const c=o.attributes.position,p=[0];for(let m=1,x=c.count;m<x;m++)af.fromBufferAttribute(c,m-1),g0.fromBufferAttribute(c,m),p[m]=p[m-1],p[m]+=af.distanceTo(g0);o.setAttribute("lineDistance",new ei(p,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else o.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(o,c){const p=this.geometry,m=this.matrixWorld,x=o.params.Line.threshold,_=p.drawRange;if(p.boundingSphere===null&&p.computeBoundingSphere(),Ks.copy(p.boundingSphere),Ks.applyMatrix4(m),Ks.radius+=x,o.ray.intersectsSphere(Ks)===!1)return;Nc.copy(m).invert(),xd.copy(o.ray).applyMatrix4(Nc);const T=x/((this.scale.x+this.scale.y+this.scale.z)/3),A=T*T,L=new Ze,z=new Ze,U=new Ze,G=new Ze,K=this.isLineSegments?2:1;if(p.isBufferGeometry){const te=p.index,Le=p.attributes.position;if(te!==null){const ne=Math.max(0,_.start),q=Math.min(te.count,_.start+_.count);for(let Fe=ne,Te=q-1;Fe<Te;Fe+=K){const lt=te.getX(Fe),Ot=te.getX(Fe+1);if(L.fromBufferAttribute(Le,lt),z.fromBufferAttribute(Le,Ot),xd.distanceSqToSegment(L,z,G,U)>A)continue;G.applyMatrix4(this.matrixWorld);const Bt=o.ray.origin.distanceTo(G);Bt<o.near||Bt>o.far||c.push({distance:Bt,point:U.clone().applyMatrix4(this.matrixWorld),index:Fe,face:null,faceIndex:null,object:this})}}else{const ne=Math.max(0,_.start),q=Math.min(Le.count,_.start+_.count);for(let Fe=ne,Te=q-1;Fe<Te;Fe+=K){if(L.fromBufferAttribute(Le,Fe),z.fromBufferAttribute(Le,Fe+1),xd.distanceSqToSegment(L,z,G,U)>A)continue;G.applyMatrix4(this.matrixWorld);const Ot=o.ray.origin.distanceTo(G);Ot<o.near||Ot>o.far||c.push({distance:Ot,point:U.clone().applyMatrix4(this.matrixWorld),index:Fe,face:null,faceIndex:null,object:this})}}}else p.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const o=this.geometry;if(o.isBufferGeometry){const c=o.morphAttributes,p=Object.keys(c);if(p.length>0){const m=c[p[0]];if(m!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let x=0,_=m.length;x<_;x++){const T=m[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[T]=x}}}}else{const c=o.morphTargets;c!==void 0&&c.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}of.prototype.isLine=!0;const Gx=new Ze,m0=new Ze;class Bl extends of{constructor(o,c){super(o,c);this.type="LineSegments"}computeLineDistances(){const o=this.geometry;if(o.isBufferGeometry)if(o.index===null){const c=o.attributes.position,p=[];for(let m=0,x=c.count;m<x;m+=2)Gx.fromBufferAttribute(c,m),m0.fromBufferAttribute(c,m+1),p[m]=m===0?0:p[m-1],p[m+1]=p[m]+Gx.distanceTo(m0);o.setAttribute("lineDistance",new ei(p,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else o.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Bl.prototype.isLineSegments=!0;class Hv extends of{constructor(o,c){super(o,c);this.type="LineLoop"}}Hv.prototype.isLineLoop=!0;class ph extends Ps{constructor(o){super();this.type="PointsMaterial",this.color=new nr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.alphaMap=o.alphaMap,this.size=o.size,this.sizeAttenuation=o.sizeAttenuation,this}}ph.prototype.isPointsMaterial=!0;const y0=new Hn,mm=new Of,pp=new uu,ym=new Ze;class Gv extends La{constructor(o=new _i,c=new ph){super();this.type="Points",this.geometry=o,this.material=c,this.updateMorphTargets()}copy(o){return super.copy(o),this.material=o.material,this.geometry=o.geometry,this}raycast(o,c){const p=this.geometry,m=this.matrixWorld,x=o.params.Points.threshold,_=p.drawRange;if(p.boundingSphere===null&&p.computeBoundingSphere(),pp.copy(p.boundingSphere),pp.applyMatrix4(m),pp.radius+=x,o.ray.intersectsSphere(pp)===!1)return;y0.copy(m).invert(),mm.copy(o.ray).applyMatrix4(y0);const T=x/((this.scale.x+this.scale.y+this.scale.z)/3),A=T*T;if(p.isBufferGeometry){const L=p.index,U=p.attributes.position;if(L!==null){const G=Math.max(0,_.start),K=Math.min(L.count,_.start+_.count);for(let te=G,ce=K;te<ce;te++){const Le=L.getX(te);ym.fromBufferAttribute(U,Le),b0(ym,Le,A,m,o,c,this)}}else{const G=Math.max(0,_.start),K=Math.min(U.count,_.start+_.count);for(let te=G,ce=K;te<ce;te++)ym.fromBufferAttribute(U,te),b0(ym,te,A,m,o,c,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const o=this.geometry;if(o.isBufferGeometry){const c=o.morphAttributes,p=Object.keys(c);if(p.length>0){const m=c[p[0]];if(m!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let x=0,_=m.length;x<_;x++){const T=m[x].name||String(x);this.morphTargetInfluences.push(0),this.morphTargetDictionary[T]=x}}}}else{const c=o.morphTargets;c!==void 0&&c.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Gv.prototype.isPoints=!0;function b0(w,o,c,p,m,x,_){const T=mm.distanceSqToPoint(w);if(T<c){const A=new Ze;mm.closestPointToPoint(w,A),A.applyMatrix4(p);const L=m.ray.origin.distanceTo(A);if(L<m.near||L>m.far)return;x.push({distance:L,distanceToRay:Math.sqrt(T),point:A,index:o,face:null,object:_})}}class Bw extends ri{constructor(o,c,p,m,x,_,T,A,L){super(o,c,p,m,x,_,T,A,L);this.format=T!==void 0?T:tn,this.minFilter=_!==void 0?_:Ke,this.magFilter=x!==void 0?x:Ke,this.generateMipmaps=!1;const z=this;function U(){z.needsUpdate=!0,o.requestVideoFrameCallback(U)}"requestVideoFrameCallback"in o&&o.requestVideoFrameCallback(U)}clone(){return new this.constructor(this.image).copy(this)}update(){const o=this.image;"requestVideoFrameCallback"in o===!1&&o.readyState>=o.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Bw.prototype.isVideoTexture=!0;class bm extends ri{constructor(o,c,p,m,x,_,T,A,L,z,U,G){super(null,_,T,A,L,z,m,x,U,G);this.image={width:c,height:p},this.mipmaps=o,this.flipY=!1,this.generateMipmaps=!1}}bm.prototype.isCompressedTexture=!0;class x0 extends ri{constructor(o,c,p,m,x,_,T,A,L){super(o,c,p,m,x,_,T,A,L);this.needsUpdate=!0}}x0.prototype.isCanvasTexture=!0;class Fw extends ri{constructor(o,c,p,m,x,_,T,A,L,z){if(z=z!==void 0?z:Je,z!==Je&&z!==me)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");p===void 0&&z===Je&&(p=Ce),p===void 0&&z===me&&(p=cn),super(null,m,x,_,T,A,z,p,L),this.image={width:o,height:c},this.magFilter=T!==void 0?T:Se,this.minFilter=A!==void 0?A:Se,this.flipY=!1,this.generateMipmaps=!1}}Fw.prototype.isDepthTexture=!0;class vp extends _i{constructor(o=1,c=8,p=0,m=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:o,segments:c,thetaStart:p,thetaLength:m},c=Math.max(3,c);const x=[],_=[],T=[],A=[],L=new Ze,z=new Vn;_.push(0,0,0),T.push(0,0,1),A.push(.5,.5);for(let U=0,G=3;U<=c;U++,G+=3){const K=p+U/c*m;L.x=o*Math.cos(K),L.y=o*Math.sin(K),_.push(L.x,L.y,L.z),T.push(0,0,1),z.x=(_[G]/o+1)/2,z.y=(_[G+1]/o+1)/2,A.push(z.x,z.y)}for(let U=1;U<=c;U++)x.push(U,U+1,0);this.setIndex(x),this.setAttribute("position",new ei(_,3)),this.setAttribute("normal",new ei(T,3)),this.setAttribute("uv",new ei(A,2))}static fromJSON(o){return new vp(o.radius,o.segments,o.thetaStart,o.thetaLength)}}class gp extends _i{constructor(o=1,c=1,p=1,m=8,x=1,_=!1,T=0,A=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:o,radiusBottom:c,height:p,radialSegments:m,heightSegments:x,openEnded:_,thetaStart:T,thetaLength:A};const L=this;m=Math.floor(m),x=Math.floor(x);const z=[],U=[],G=[],K=[];let te=0;const ce=[],Le=p/2;let ne=0;q(),_===!1&&(o>0&&Fe(!0),c>0&&Fe(!1)),this.setIndex(z),this.setAttribute("position",new ei(U,3)),this.setAttribute("normal",new ei(G,3)),this.setAttribute("uv",new ei(K,2));function q(){const Te=new Ze,lt=new Ze;let Ot=0;const He=(c-o)/p;for(let Bt=0;Bt<=x;Bt++){const dn=[],qt=Bt/x,Ht=qt*(c-o)+o;for(let qn=0;qn<=m;qn++){const xn=qn/m,mn=xn*A+T,En=Math.sin(mn),Mn=Math.cos(mn);lt.x=Ht*En,lt.y=-qt*p+Le,lt.z=Ht*Mn,U.push(lt.x,lt.y,lt.z),Te.set(En,He,Mn).normalize(),G.push(Te.x,Te.y,Te.z),K.push(xn,1-qt),dn.push(te++)}ce.push(dn)}for(let Bt=0;Bt<m;Bt++)for(let dn=0;dn<x;dn++){const qt=ce[dn][Bt],Ht=ce[dn+1][Bt],qn=ce[dn+1][Bt+1],xn=ce[dn][Bt+1];z.push(qt,Ht,xn),z.push(Ht,qn,xn),Ot+=6}L.addGroup(ne,Ot,0),ne+=Ot}function Fe(Te){const lt=te,Ot=new Vn,He=new Ze;let Bt=0;const dn=Te===!0?o:c,qt=Te===!0?1:-1;for(let qn=1;qn<=m;qn++)U.push(0,Le*qt,0),G.push(0,qt,0),K.push(.5,.5),te++;const Ht=te;for(let qn=0;qn<=m;qn++){const mn=qn/m*A+T,En=Math.cos(mn),Mn=Math.sin(mn);He.x=dn*Mn,He.y=Le*qt,He.z=dn*En,U.push(He.x,He.y,He.z),G.push(0,qt,0),Ot.x=En*.5+.5,Ot.y=Mn*.5*qt+.5,K.push(Ot.x,Ot.y),te++}for(let qn=0;qn<m;qn++){const xn=lt+qn,mn=Ht+qn;Te===!0?z.push(mn,mn+1,xn):z.push(mn+1,mn,xn),Bt+=3}L.addGroup(ne,Bt,Te===!0?1:2),ne+=Bt}}static fromJSON(o){return new gp(o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class xm extends gp{constructor(o=1,c=1,p=8,m=1,x=!1,_=0,T=Math.PI*2){super(0,o,c,p,m,x,_,T);this.type="ConeGeometry",this.parameters={radius:o,height:c,radialSegments:p,heightSegments:m,openEnded:x,thetaStart:_,thetaLength:T}}static fromJSON(o){return new xm(o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength)}}class Vf extends _i{constructor(o=[],c=[],p=1,m=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:o,indices:c,radius:p,detail:m};const x=[],_=[];T(m),L(p),z(),this.setAttribute("position",new ei(x,3)),this.setAttribute("normal",new ei(x.slice(),3)),this.setAttribute("uv",new ei(_,2)),m===0?this.computeVertexNormals():this.normalizeNormals();function T(q){const Fe=new Ze,Te=new Ze,lt=new Ze;for(let Ot=0;Ot<c.length;Ot+=3)K(c[Ot+0],Fe),K(c[Ot+1],Te),K(c[Ot+2],lt),A(Fe,Te,lt,q)}function A(q,Fe,Te,lt){const Ot=lt+1,He=[];for(let Bt=0;Bt<=Ot;Bt++){He[Bt]=[];const dn=q.clone().lerp(Te,Bt/Ot),qt=Fe.clone().lerp(Te,Bt/Ot),Ht=Ot-Bt;for(let qn=0;qn<=Ht;qn++)qn===0&&Bt===Ot?He[Bt][qn]=dn:He[Bt][qn]=dn.clone().lerp(qt,qn/Ht)}for(let Bt=0;Bt<Ot;Bt++)for(let dn=0;dn<2*(Ot-Bt)-1;dn++){const qt=Math.floor(dn/2);dn%2==0?(G(He[Bt][qt+1]),G(He[Bt+1][qt]),G(He[Bt][qt])):(G(He[Bt][qt+1]),G(He[Bt+1][qt+1]),G(He[Bt+1][qt]))}}function L(q){const Fe=new Ze;for(let Te=0;Te<x.length;Te+=3)Fe.x=x[Te+0],Fe.y=x[Te+1],Fe.z=x[Te+2],Fe.normalize().multiplyScalar(q),x[Te+0]=Fe.x,x[Te+1]=Fe.y,x[Te+2]=Fe.z}function z(){const q=new Ze;for(let Fe=0;Fe<x.length;Fe+=3){q.x=x[Fe+0],q.y=x[Fe+1],q.z=x[Fe+2];const Te=Le(q)/2/Math.PI+.5,lt=ne(q)/Math.PI+.5;_.push(Te,1-lt)}te(),U()}function U(){for(let q=0;q<_.length;q+=6){const Fe=_[q+0],Te=_[q+2],lt=_[q+4],Ot=Math.max(Fe,Te,lt),He=Math.min(Fe,Te,lt);Ot>.9&&He<.1&&(Fe<.2&&(_[q+0]+=1),Te<.2&&(_[q+2]+=1),lt<.2&&(_[q+4]+=1))}}function G(q){x.push(q.x,q.y,q.z)}function K(q,Fe){const Te=q*3;Fe.x=o[Te+0],Fe.y=o[Te+1],Fe.z=o[Te+2]}function te(){const q=new Ze,Fe=new Ze,Te=new Ze,lt=new Ze,Ot=new Vn,He=new Vn,Bt=new Vn;for(let dn=0,qt=0;dn<x.length;dn+=9,qt+=6){q.set(x[dn+0],x[dn+1],x[dn+2]),Fe.set(x[dn+3],x[dn+4],x[dn+5]),Te.set(x[dn+6],x[dn+7],x[dn+8]),Ot.set(_[qt+0],_[qt+1]),He.set(_[qt+2],_[qt+3]),Bt.set(_[qt+4],_[qt+5]),lt.copy(q).add(Fe).add(Te).divideScalar(3);const Ht=Le(lt);ce(Ot,qt+0,q,Ht),ce(He,qt+2,Fe,Ht),ce(Bt,qt+4,Te,Ht)}}function ce(q,Fe,Te,lt){lt<0&&q.x===1&&(_[Fe]=q.x-1),Te.x===0&&Te.z===0&&(_[Fe]=lt/2/Math.PI+.5)}function Le(q){return Math.atan2(q.z,-q.x)}function ne(q){return Math.atan2(-q.y,Math.sqrt(q.x*q.x+q.z*q.z))}}static fromJSON(o){return new Vf(o.vertices,o.indices,o.radius,o.details)}}class Sm extends Vf{constructor(o=1,c=0){const p=(1+Math.sqrt(5))/2,m=1/p,x=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-m,-p,0,-m,p,0,m,-p,0,m,p,-m,-p,0,-m,p,0,m,-p,0,m,p,0,-p,0,-m,p,0,-m,-p,0,m,p,0,m],_=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(x,_,o,c);this.type="DodecahedronGeometry",this.parameters={radius:o,detail:c}}static fromJSON(o){return new Sm(o.radius,o.detail)}}const mp=new Ze,S0=new Ze,w0=new Ze,wm=new Ms;class M0 extends _i{constructor(o=null,c=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:o,thresholdAngle:c},o!==null){const m=Math.pow(10,4),x=Math.cos(as*c),_=o.getIndex(),T=o.getAttribute("position"),A=_?_.count:T.count,L=[0,0,0],z=["a","b","c"],U=new Array(3),G={},K=[];for(let te=0;te<A;te+=3){_?(L[0]=_.getX(te),L[1]=_.getX(te+1),L[2]=_.getX(te+2)):(L[0]=te,L[1]=te+1,L[2]=te+2);const{a:ce,b:Le,c:ne}=wm;if(ce.fromBufferAttribute(T,L[0]),Le.fromBufferAttribute(T,L[1]),ne.fromBufferAttribute(T,L[2]),wm.getNormal(w0),U[0]=`${Math.round(ce.x*m)},${Math.round(ce.y*m)},${Math.round(ce.z*m)}`,U[1]=`${Math.round(Le.x*m)},${Math.round(Le.y*m)},${Math.round(Le.z*m)}`,U[2]=`${Math.round(ne.x*m)},${Math.round(ne.y*m)},${Math.round(ne.z*m)}`,!(U[0]===U[1]||U[1]===U[2]||U[2]===U[0]))for(let q=0;q<3;q++){const Fe=(q+1)%3,Te=U[q],lt=U[Fe],Ot=wm[z[q]],He=wm[z[Fe]],Bt=`${Te}_${lt}`,dn=`${lt}_${Te}`;dn in G&&G[dn]?(w0.dot(G[dn].normal)<=x&&(K.push(Ot.x,Ot.y,Ot.z),K.push(He.x,He.y,He.z)),G[dn]=null):Bt in G||(G[Bt]={index0:L[q],index1:L[Fe],normal:w0.clone()})}}for(const te in G)if(G[te]){const{index0:ce,index1:Le}=G[te];mp.fromBufferAttribute(T,ce),S0.fromBufferAttribute(T,Le),K.push(mp.x,mp.y,mp.z),K.push(S0.x,S0.y,S0.z)}this.setAttribute("position",new ei(K,3))}}}class kc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(o,c){const p=this.getUtoTmapping(o);return this.getPoint(p,c)}getPoints(o=5){const c=[];for(let p=0;p<=o;p++)c.push(this.getPoint(p/o));return c}getSpacedPoints(o=5){const c=[];for(let p=0;p<=o;p++)c.push(this.getPointAt(p/o));return c}getLength(){const o=this.getLengths();return o[o.length-1]}getLengths(o=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const c=[];let p,m=this.getPoint(0),x=0;c.push(0);for(let _=1;_<=o;_++)p=this.getPoint(_/o),x+=p.distanceTo(m),c.push(x),m=p;return this.cacheArcLengths=c,c}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(o,c){const p=this.getLengths();let m=0;const x=p.length;let _;c?_=c:_=o*p[x-1];let T=0,A=x-1,L;for(;T<=A;)if(m=Math.floor(T+(A-T)/2),L=p[m]-_,L<0)T=m+1;else if(L>0)A=m-1;else{A=m;break}if(m=A,p[m]===_)return m/(x-1);const z=p[m],G=p[m+1]-z,K=(_-z)/G;return(m+K)/(x-1)}getTangent(o,c){const p=1e-4;let m=o-p,x=o+p;m<0&&(m=0),x>1&&(x=1);const _=this.getPoint(m),T=this.getPoint(x),A=c||(_.isVector2?new Vn:new Ze);return A.copy(T).sub(_).normalize(),A}getTangentAt(o,c){const p=this.getUtoTmapping(o);return this.getTangent(p,c)}computeFrenetFrames(o,c){const p=new Ze,m=[],x=[],_=[],T=new Ze,A=new Hn;for(let K=0;K<=o;K++){const te=K/o;m[K]=this.getTangentAt(te,new Ze)}x[0]=new Ze,_[0]=new Ze;let L=Number.MAX_VALUE;const z=Math.abs(m[0].x),U=Math.abs(m[0].y),G=Math.abs(m[0].z);z<=L&&(L=z,p.set(1,0,0)),U<=L&&(L=U,p.set(0,1,0)),G<=L&&p.set(0,0,1),T.crossVectors(m[0],p).normalize(),x[0].crossVectors(m[0],T),_[0].crossVectors(m[0],x[0]);for(let K=1;K<=o;K++){if(x[K]=x[K-1].clone(),_[K]=_[K-1].clone(),T.crossVectors(m[K-1],m[K]),T.length()>Number.EPSILON){T.normalize();const te=Math.acos(gi(m[K-1].dot(m[K]),-1,1));x[K].applyMatrix4(A.makeRotationAxis(T,te))}_[K].crossVectors(m[K],x[K])}if(c===!0){let K=Math.acos(gi(x[0].dot(x[o]),-1,1));K/=o,m[0].dot(T.crossVectors(x[0],x[o]))>0&&(K=-K);for(let te=1;te<=o;te++)x[te].applyMatrix4(A.makeRotationAxis(m[te],K*te)),_[te].crossVectors(m[te],x[te])}return{tangents:m,normals:x,binormals:_}}clone(){return new this.constructor().copy(this)}copy(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}toJSON(){const o={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return o.arcLengthDivisions=this.arcLengthDivisions,o.type=this.type,o}fromJSON(o){return this.arcLengthDivisions=o.arcLengthDivisions,this}}class _0 extends kc{constructor(o=0,c=0,p=1,m=1,x=0,_=Math.PI*2,T=!1,A=0){super();this.type="EllipseCurve",this.aX=o,this.aY=c,this.xRadius=p,this.yRadius=m,this.aStartAngle=x,this.aEndAngle=_,this.aClockwise=T,this.aRotation=A}getPoint(o,c){const p=c||new Vn,m=Math.PI*2;let x=this.aEndAngle-this.aStartAngle;const _=Math.abs(x)<Number.EPSILON;for(;x<0;)x+=m;for(;x>m;)x-=m;x<Number.EPSILON&&(_?x=0:x=m),this.aClockwise===!0&&!_&&(x===m?x=-m:x=x-m);const T=this.aStartAngle+o*x;let A=this.aX+this.xRadius*Math.cos(T),L=this.aY+this.yRadius*Math.sin(T);if(this.aRotation!==0){const z=Math.cos(this.aRotation),U=Math.sin(this.aRotation),G=A-this.aX,K=L-this.aY;A=G*z-K*U+this.aX,L=G*U+K*z+this.aY}return p.set(A,L)}copy(o){return super.copy(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}toJSON(){const o=super.toJSON();return o.aX=this.aX,o.aY=this.aY,o.xRadius=this.xRadius,o.yRadius=this.yRadius,o.aStartAngle=this.aStartAngle,o.aEndAngle=this.aEndAngle,o.aClockwise=this.aClockwise,o.aRotation=this.aRotation,o}fromJSON(o){return super.fromJSON(o),this.aX=o.aX,this.aY=o.aY,this.xRadius=o.xRadius,this.yRadius=o.yRadius,this.aStartAngle=o.aStartAngle,this.aEndAngle=o.aEndAngle,this.aClockwise=o.aClockwise,this.aRotation=o.aRotation,this}}_0.prototype.isEllipseCurve=!0;class Za extends _0{constructor(o,c,p,m,x,_){super(o,c,p,p,m,x,_);this.type="ArcCurve"}}Za.prototype.isArcCurve=!0;function yp(){let w=0,o=0,c=0,p=0;function m(x,_,T,A){w=x,o=T,c=-3*x+3*_-2*T-A,p=2*x-2*_+T+A}return{initCatmullRom:function(x,_,T,A,L){m(_,T,L*(T-x),L*(A-_))},initNonuniformCatmullRom:function(x,_,T,A,L,z,U){let G=(_-x)/L-(T-x)/(L+z)+(T-_)/z,K=(T-_)/z-(A-_)/(z+U)+(A-T)/U;G*=z,K*=z,m(_,T,G,K)},calc:function(x){const _=x*x,T=_*x;return w+o*x+c*_+p*T}}}const Sd=new Ze,Mm=new yp,_m=new yp,C0=new yp;class Ux extends kc{constructor(o=[],c=!1,p="centripetal",m=.5){super();this.type="CatmullRomCurve3",this.points=o,this.closed=c,this.curveType=p,this.tension=m}getPoint(o,c=new Ze){const p=c,m=this.points,x=m.length,_=(x-(this.closed?0:1))*o;let T=Math.floor(_),A=_-T;this.closed?T+=T>0?0:(Math.floor(Math.abs(T)/x)+1)*x:A===0&&T===x-1&&(T=x-2,A=1);let L,z;this.closed||T>0?L=m[(T-1)%x]:(Sd.subVectors(m[0],m[1]).add(m[0]),L=Sd);const U=m[T%x],G=m[(T+1)%x];if(this.closed||T+2<x?z=m[(T+2)%x]:(Sd.subVectors(m[x-1],m[x-2]).add(m[x-1]),z=Sd),this.curveType==="centripetal"||this.curveType==="chordal"){const K=this.curveType==="chordal"?.5:.25;let te=Math.pow(L.distanceToSquared(U),K),ce=Math.pow(U.distanceToSquared(G),K),Le=Math.pow(G.distanceToSquared(z),K);ce<1e-4&&(ce=1),te<1e-4&&(te=ce),Le<1e-4&&(Le=ce),Mm.initNonuniformCatmullRom(L.x,U.x,G.x,z.x,te,ce,Le),_m.initNonuniformCatmullRom(L.y,U.y,G.y,z.y,te,ce,Le),C0.initNonuniformCatmullRom(L.z,U.z,G.z,z.z,te,ce,Le)}else this.curveType==="catmullrom"&&(Mm.initCatmullRom(L.x,U.x,G.x,z.x,this.tension),_m.initCatmullRom(L.y,U.y,G.y,z.y,this.tension),C0.initCatmullRom(L.z,U.z,G.z,z.z,this.tension));return p.set(Mm.calc(A),_m.calc(A),C0.calc(A)),p}copy(o){super.copy(o),this.points=[];for(let c=0,p=o.points.length;c<p;c++){const m=o.points[c];this.points.push(m.clone())}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}toJSON(){const o=super.toJSON();o.points=[];for(let c=0,p=this.points.length;c<p;c++){const m=this.points[c];o.points.push(m.toArray())}return o.closed=this.closed,o.curveType=this.curveType,o.tension=this.tension,o}fromJSON(o){super.fromJSON(o),this.points=[];for(let c=0,p=o.points.length;c<p;c++){const m=o.points[c];this.points.push(new Ze().fromArray(m))}return this.closed=o.closed,this.curveType=o.curveType,this.tension=o.tension,this}}Ux.prototype.isCatmullRomCurve3=!0;function zw(w,o,c,p,m){const x=(p-o)*.5,_=(m-c)*.5,T=w*w,A=w*T;return(2*c-2*p+x+_)*A+(-3*c+3*p-2*x-_)*T+x*w+c}function Wx(w,o){const c=1-w;return c*c*o}function hO(w,o){return 2*(1-w)*w*o}function Kx(w,o){return w*w*o}function Uv(w,o,c,p){return Wx(w,o)+hO(w,c)+Kx(w,p)}function Vw(w,o){const c=1-w;return c*c*c*o}function Yx(w,o){const c=1-w;return 3*c*c*w*o}function Xx(w,o){return 3*(1-w)*w*w*o}function Zx(w,o){return w*w*w*o}function bp(w,o,c,p,m){return Vw(w,o)+Yx(w,c)+Xx(w,p)+Zx(w,m)}class T0 extends kc{constructor(o=new Vn,c=new Vn,p=new Vn,m=new Vn){super();this.type="CubicBezierCurve",this.v0=o,this.v1=c,this.v2=p,this.v3=m}getPoint(o,c=new Vn){const p=c,m=this.v0,x=this.v1,_=this.v2,T=this.v3;return p.set(bp(o,m.x,x.x,_.x,T.x),bp(o,m.y,x.y,_.y,T.y)),p}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}T0.prototype.isCubicBezierCurve=!0;class $x extends kc{constructor(o=new Ze,c=new Ze,p=new Ze,m=new Ze){super();this.type="CubicBezierCurve3",this.v0=o,this.v1=c,this.v2=p,this.v3=m}getPoint(o,c=new Ze){const p=c,m=this.v0,x=this.v1,_=this.v2,T=this.v3;return p.set(bp(o,m.x,x.x,_.x,T.x),bp(o,m.y,x.y,_.y,T.y),bp(o,m.z,x.z,_.z,T.z)),p}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this.v3.copy(o.v3),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o.v3=this.v3.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this.v3.fromArray(o.v3),this}}$x.prototype.isCubicBezierCurve3=!0;class Wv extends kc{constructor(o=new Vn,c=new Vn){super();this.type="LineCurve",this.v1=o,this.v2=c}getPoint(o,c=new Vn){const p=c;return o===1?p.copy(this.v2):(p.copy(this.v2).sub(this.v1),p.multiplyScalar(o).add(this.v1)),p}getPointAt(o,c){return this.getPoint(o,c)}getTangent(o,c){const p=c||new Vn;return p.copy(this.v2).sub(this.v1).normalize(),p}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}Wv.prototype.isLineCurve=!0;class O0 extends kc{constructor(o=new Ze,c=new Ze){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=o,this.v2=c}getPoint(o,c=new Ze){const p=c;return o===1?p.copy(this.v2):(p.copy(this.v2).sub(this.v1),p.multiplyScalar(o).add(this.v1)),p}getPointAt(o,c){return this.getPoint(o,c)}copy(o){return super.copy(o),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}class E0 extends kc{constructor(o=new Vn,c=new Vn,p=new Vn){super();this.type="QuadraticBezierCurve",this.v0=o,this.v1=c,this.v2=p}getPoint(o,c=new Vn){const p=c,m=this.v0,x=this.v1,_=this.v2;return p.set(Uv(o,m.x,x.x,_.x),Uv(o,m.y,x.y,_.y)),p}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}E0.prototype.isQuadraticBezierCurve=!0;class wd extends kc{constructor(o=new Ze,c=new Ze,p=new Ze){super();this.type="QuadraticBezierCurve3",this.v0=o,this.v1=c,this.v2=p}getPoint(o,c=new Ze){const p=c,m=this.v0,x=this.v1,_=this.v2;return p.set(Uv(o,m.x,x.x,_.x),Uv(o,m.y,x.y,_.y),Uv(o,m.z,x.z,_.z)),p}copy(o){return super.copy(o),this.v0.copy(o.v0),this.v1.copy(o.v1),this.v2.copy(o.v2),this}toJSON(){const o=super.toJSON();return o.v0=this.v0.toArray(),o.v1=this.v1.toArray(),o.v2=this.v2.toArray(),o}fromJSON(o){return super.fromJSON(o),this.v0.fromArray(o.v0),this.v1.fromArray(o.v1),this.v2.fromArray(o.v2),this}}wd.prototype.isQuadraticBezierCurve3=!0;class A0 extends kc{constructor(o=[]){super();this.type="SplineCurve",this.points=o}getPoint(o,c=new Vn){const p=c,m=this.points,x=(m.length-1)*o,_=Math.floor(x),T=x-_,A=m[_===0?_:_-1],L=m[_],z=m[_>m.length-2?m.length-1:_+1],U=m[_>m.length-3?m.length-1:_+2];return p.set(zw(T,A.x,L.x,z.x,U.x),zw(T,A.y,L.y,z.y,U.y)),p}copy(o){super.copy(o),this.points=[];for(let c=0,p=o.points.length;c<p;c++){const m=o.points[c];this.points.push(m.clone())}return this}toJSON(){const o=super.toJSON();o.points=[];for(let c=0,p=this.points.length;c<p;c++){const m=this.points[c];o.points.push(m.toArray())}return o}fromJSON(o){super.fromJSON(o),this.points=[];for(let c=0,p=o.points.length;c<p;c++){const m=o.points[c];this.points.push(new Vn().fromArray(m))}return this}}A0.prototype.isSplineCurve=!0;var P0=Object.freeze({__proto__:null,ArcCurve:Za,CatmullRomCurve3:Ux,CubicBezierCurve:T0,CubicBezierCurve3:$x,EllipseCurve:_0,LineCurve:Wv,LineCurve3:O0,QuadraticBezierCurve:E0,QuadraticBezierCurve3:wd,SplineCurve:A0});class Hw extends kc{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(o){this.curves.push(o)}closePath(){const o=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);o.equals(c)||this.curves.push(new Wv(c,o))}getPoint(o,c){const p=o*this.getLength(),m=this.getCurveLengths();let x=0;for(;x<m.length;){if(m[x]>=p){const _=m[x]-p,T=this.curves[x],A=T.getLength(),L=A===0?0:1-_/A;return T.getPointAt(L,c)}x++}return null}getLength(){const o=this.getCurveLengths();return o[o.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const o=[];let c=0;for(let p=0,m=this.curves.length;p<m;p++)c+=this.curves[p].getLength(),o.push(c);return this.cacheLengths=o,o}getSpacedPoints(o=40){const c=[];for(let p=0;p<=o;p++)c.push(this.getPoint(p/o));return this.autoClose&&c.push(c[0]),c}getPoints(o=12){const c=[];let p;for(let m=0,x=this.curves;m<x.length;m++){const _=x[m],T=_&&_.isEllipseCurve?o*2:_&&(_.isLineCurve||_.isLineCurve3)?1:_&&_.isSplineCurve?o*_.points.length:o,A=_.getPoints(T);for(let L=0;L<A.length;L++){const z=A[L];p&&p.equals(z)||(c.push(z),p=z)}}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c}copy(o){super.copy(o),this.curves=[];for(let c=0,p=o.curves.length;c<p;c++){const m=o.curves[c];this.curves.push(m.clone())}return this.autoClose=o.autoClose,this}toJSON(){const o=super.toJSON();o.autoClose=this.autoClose,o.curves=[];for(let c=0,p=this.curves.length;c<p;c++){const m=this.curves[c];o.curves.push(m.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.autoClose=o.autoClose,this.curves=[];for(let c=0,p=o.curves.length;c<p;c++){const m=o.curves[c];this.curves.push(new P0[m.type]().fromJSON(m))}return this}}class Cm extends Hw{constructor(o){super();this.type="Path",this.currentPoint=new Vn,o&&this.setFromPoints(o)}setFromPoints(o){this.moveTo(o[0].x,o[0].y);for(let c=1,p=o.length;c<p;c++)this.lineTo(o[c].x,o[c].y);return this}moveTo(o,c){return this.currentPoint.set(o,c),this}lineTo(o,c){const p=new Wv(this.currentPoint.clone(),new Vn(o,c));return this.curves.push(p),this.currentPoint.set(o,c),this}quadraticCurveTo(o,c,p,m){const x=new E0(this.currentPoint.clone(),new Vn(o,c),new Vn(p,m));return this.curves.push(x),this.currentPoint.set(p,m),this}bezierCurveTo(o,c,p,m,x,_){const T=new T0(this.currentPoint.clone(),new Vn(o,c),new Vn(p,m),new Vn(x,_));return this.curves.push(T),this.currentPoint.set(x,_),this}splineThru(o){const c=[this.currentPoint.clone()].concat(o),p=new A0(c);return this.curves.push(p),this.currentPoint.copy(o[o.length-1]),this}arc(o,c,p,m,x,_){const T=this.currentPoint.x,A=this.currentPoint.y;return this.absarc(o+T,c+A,p,m,x,_),this}absarc(o,c,p,m,x,_){return this.absellipse(o,c,p,p,m,x,_),this}ellipse(o,c,p,m,x,_,T,A){const L=this.currentPoint.x,z=this.currentPoint.y;return this.absellipse(o+L,c+z,p,m,x,_,T,A),this}absellipse(o,c,p,m,x,_,T,A){const L=new _0(o,c,p,m,x,_,T,A);if(this.curves.length>0){const U=L.getPoint(0);U.equals(this.currentPoint)||this.lineTo(U.x,U.y)}this.curves.push(L);const z=L.getPoint(1);return this.currentPoint.copy(z),this}copy(o){return super.copy(o),this.currentPoint.copy(o.currentPoint),this}toJSON(){const o=super.toJSON();return o.currentPoint=this.currentPoint.toArray(),o}fromJSON(o){return super.fromJSON(o),this.currentPoint.fromArray(o.currentPoint),this}}class Hf extends Cm{constructor(o){super(o);this.uuid=Zr(),this.type="Shape",this.holes=[]}getPointsHoles(o){const c=[];for(let p=0,m=this.holes.length;p<m;p++)c[p]=this.holes[p].getPoints(o);return c}extractPoints(o){return{shape:this.getPoints(o),holes:this.getPointsHoles(o)}}copy(o){super.copy(o),this.holes=[];for(let c=0,p=o.holes.length;c<p;c++){const m=o.holes[c];this.holes.push(m.clone())}return this}toJSON(){const o=super.toJSON();o.uuid=this.uuid,o.holes=[];for(let c=0,p=this.holes.length;c<p;c++){const m=this.holes[c];o.holes.push(m.toJSON())}return o}fromJSON(o){super.fromJSON(o),this.uuid=o.uuid,this.holes=[];for(let c=0,p=o.holes.length;c<p;c++){const m=o.holes[c];this.holes.push(new Cm().fromJSON(m))}return this}}const Gw={triangulate:function(w,o,c=2){const p=o&&o.length,m=p?o[0]*c:w.length;let x=Jx(w,0,m,c,!0);const _=[];if(!x||x.next===x.prev)return _;let T,A,L,z,U,G,K;if(p&&(x=js(w,o,x,c)),w.length>80*c){T=L=w[0],A=z=w[1];for(let te=c;te<m;te+=c)U=w[te],G=w[te+1],U<T&&(T=U),G<A&&(A=G),U>L&&(L=U),G>z&&(z=G);K=Math.max(L-T,z-A),K=K!==0?1/K:0}return Gf(x,_,c,T,A,K),_}};function Jx(w,o,c,p,m){let x,_;if(m===I0(w,o,c,p)>0)for(x=o;x<c;x+=p)_=Xv(x,w[x],w[x+1],_);else for(x=c-p;x>=o;x-=p)_=Xv(x,w[x],w[x+1],_);return _&&Md(_,_.next)&&(vh(_),_=_.next),_}function ol(w,o){if(!w)return w;o||(o=w);let c=w,p;do if(p=!1,!c.steiner&&(Md(c,c.next)||os(c.prev,c,c.next)===0)){if(vh(c),c=o=c.prev,c===c.next)break;p=!0}else c=c.next;while(p||c!==o);return o}function Gf(w,o,c,p,m,x,_){if(!w)return;!_&&x&&Ww(w,p,m,x);let T=w,A,L;for(;w.prev!==w.next;){if(A=w.prev,L=w.next,x?L0(w,p,m,x):Qx(w)){o.push(A.i/c),o.push(w.i/c),o.push(L.i/c),vh(w),w=L.next,T=L.next;continue}if(w=L,w===T){_?_===1?(w=Fl(ol(w),o,c),Gf(w,o,c,p,m,x,2)):_===2&&Kv(w,o,c,p,m,x):Gf(ol(w),o,c,p,m,x,1);break}}}function Qx(w){const o=w.prev,c=w,p=w.next;if(os(o,c,p)>=0)return!1;let m=w.next.next;for(;m!==w.prev;){if(xp(o.x,o.y,c.x,c.y,p.x,p.y,m.x,m.y)&&os(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function L0(w,o,c,p){const m=w.prev,x=w,_=w.next;if(os(m,x,_)>=0)return!1;const T=m.x<x.x?m.x<_.x?m.x:_.x:x.x<_.x?x.x:_.x,A=m.y<x.y?m.y<_.y?m.y:_.y:x.y<_.y?x.y:_.y,L=m.x>x.x?m.x>_.x?m.x:_.x:x.x>_.x?x.x:_.x,z=m.y>x.y?m.y>_.y?m.y:_.y:x.y>_.y?x.y:_.y,U=D0(T,A,o,c,p),G=D0(L,z,o,c,p);let K=w.prevZ,te=w.nextZ;for(;K&&K.z>=U&&te&&te.z<=G;){if(K!==w.prev&&K!==w.next&&xp(m.x,m.y,x.x,x.y,_.x,_.y,K.x,K.y)&&os(K.prev,K,K.next)>=0||(K=K.prevZ,te!==w.prev&&te!==w.next&&xp(m.x,m.y,x.x,x.y,_.x,_.y,te.x,te.y)&&os(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;K&&K.z>=U;){if(K!==w.prev&&K!==w.next&&xp(m.x,m.y,x.x,x.y,_.x,_.y,K.x,K.y)&&os(K.prev,K,K.next)>=0)return!1;K=K.prevZ}for(;te&&te.z<=G;){if(te!==w.prev&&te!==w.next&&xp(m.x,m.y,x.x,x.y,_.x,_.y,te.x,te.y)&&os(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function Fl(w,o,c){let p=w;do{const m=p.prev,x=p.next.next;!Md(m,x)&&R0(m,p,p.next,x)&&Sp(m,x)&&Sp(x,m)&&(o.push(m.i/c),o.push(p.i/c),o.push(x.i/c),vh(p),vh(p.next),p=w=x),p=p.next}while(p!==w);return ol(p)}function Kv(w,o,c,p,m,x){let _=w;do{let T=_.next.next;for(;T!==_.prev;){if(_.i!==T.i&&Yw(_,T)){let A=n1(_,T);_=ol(_,_.next),A=ol(A,A.next),Gf(_,o,c,p,m,x),Gf(A,o,c,p,m,x);return}T=T.next}_=_.next}while(_!==w)}function js(w,o,c,p){const m=[];let x,_,T,A,L;for(x=0,_=o.length;x<_;x++)T=o[x]*p,A=x<_-1?o[x+1]*p:w.length,L=Jx(w,T,A,p,!1),L===L.next&&(L.steiner=!0),m.push(e1(L));for(m.sort(lc),x=0;x<m.length;x++)Uw(m[x],c),c=ol(c,c.next);return c}function lc(w,o){return w.x-o.x}function Uw(w,o){if(o=Uf(w,o),o){const c=n1(o,w);ol(o,o.next),ol(c,c.next)}}function Uf(w,o){let c=o;const p=w.x,m=w.y;let x=-Infinity,_;do{if(m<=c.y&&m>=c.next.y&&c.next.y!==c.y){const G=c.x+(m-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(G<=p&&G>x){if(x=G,G===p){if(m===c.y)return c;if(m===c.next.y)return c.next}_=c.x<c.next.x?c:c.next}}c=c.next}while(c!==o);if(!_)return null;if(p===x)return _;const T=_,A=_.x,L=_.y;let z=Infinity,U;c=_;do p>=c.x&&c.x>=A&&p!==c.x&&xp(m<L?p:x,m,A,L,m<L?x:p,m,c.x,c.y)&&(U=Math.abs(m-c.y)/(p-c.x),Sp(c,w)&&(U<z||U===z&&(c.x>_.x||c.x===_.x&&qx(_,c)))&&(_=c,z=U)),c=c.next;while(c!==T);return _}function qx(w,o){return os(w.prev,w,o.prev)<0&&os(o.next,w,w.next)<0}function Ww(w,o,c,p){let m=w;do m.z===null&&(m.z=D0(m.x,m.y,o,c,p)),m.prevZ=m.prev,m.nextZ=m.next,m=m.next;while(m!==w);m.prevZ.nextZ=null,m.prevZ=null,Kw(m)}function Kw(w){let o,c,p,m,x,_,T,A,L=1;do{for(c=w,w=null,x=null,_=0;c;){for(_++,p=c,T=0,o=0;o<L&&(T++,p=p.nextZ,!!p);o++);for(A=L;T>0||A>0&&p;)T!==0&&(A===0||!p||c.z<=p.z)?(m=c,c=c.nextZ,T--):(m=p,p=p.nextZ,A--),x?x.nextZ=m:w=m,m.prevZ=x,x=m;c=p}x.nextZ=null,L*=2}while(_>1);return w}function D0(w,o,c,p,m){return w=32767*(w-c)*m,o=32767*(o-p)*m,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,w|o<<1}function e1(w){let o=w,c=w;do(o.x<c.x||o.x===c.x&&o.y<c.y)&&(c=o),o=o.next;while(o!==w);return c}function xp(w,o,c,p,m,x,_,T){return(m-_)*(o-T)-(w-_)*(x-T)>=0&&(w-_)*(p-T)-(c-_)*(o-T)>=0&&(c-_)*(x-T)-(m-_)*(p-T)>=0}function Yw(w,o){return w.next.i!==o.i&&w.prev.i!==o.i&&!t1(w,o)&&(Sp(w,o)&&Sp(o,w)&&Xw(w,o)&&(os(w.prev,w,o.prev)||os(w,o.prev,o))||Md(w,o)&&os(w.prev,w,w.next)>0&&os(o.prev,o,o.next)>0)}function os(w,o,c){return(o.y-w.y)*(c.x-o.x)-(o.x-w.x)*(c.y-o.y)}function Md(w,o){return w.x===o.x&&w.y===o.y}function R0(w,o,c,p){const m=Tm(os(w,o,c)),x=Tm(os(w,o,p)),_=Tm(os(c,p,w)),T=Tm(os(c,p,o));return!!(m!==x&&_!==T||m===0&&Yv(w,c,o)||x===0&&Yv(w,p,o)||_===0&&Yv(c,w,p)||T===0&&Yv(c,o,p))}function Yv(w,o,c){return o.x<=Math.max(w.x,c.x)&&o.x>=Math.min(w.x,c.x)&&o.y<=Math.max(w.y,c.y)&&o.y>=Math.min(w.y,c.y)}function Tm(w){return w>0?1:w<0?-1:0}function t1(w,o){let c=w;do{if(c.i!==w.i&&c.next.i!==w.i&&c.i!==o.i&&c.next.i!==o.i&&R0(c,c.next,w,o))return!0;c=c.next}while(c!==w);return!1}function Sp(w,o){return os(w.prev,w,w.next)<0?os(w,o,w.next)>=0&&os(w,w.prev,o)>=0:os(w,o,w.prev)<0||os(w,w.next,o)<0}function Xw(w,o){let c=w,p=!1;const m=(w.x+o.x)/2,x=(w.y+o.y)/2;do c.y>x!=c.next.y>x&&c.next.y!==c.y&&m<(c.next.x-c.x)*(x-c.y)/(c.next.y-c.y)+c.x&&(p=!p),c=c.next;while(c!==w);return p}function n1(w,o){const c=new Zv(w.i,w.x,w.y),p=new Zv(o.i,o.x,o.y),m=w.next,x=o.prev;return w.next=o,o.prev=w,c.next=m,m.prev=c,p.next=c,c.prev=p,x.next=p,p.prev=x,p}function Xv(w,o,c,p){const m=new Zv(w,o,c);return p?(m.next=p.next,m.prev=p,p.next.prev=m,p.next=m):(m.prev=m,m.next=m),m}function vh(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function Zv(w,o,c){this.i=w,this.x=o,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I0(w,o,c,p){let m=0;for(let x=o,_=c-p;x<c;x+=p)m+=(w[_]-w[x])*(w[x+1]+w[_+1]),_=x;return m}class Wf{static area(o){const c=o.length;let p=0;for(let m=c-1,x=0;x<c;m=x++)p+=o[m].x*o[x].y-o[x].x*o[m].y;return p*.5}static isClockWise(o){return Wf.area(o)<0}static triangulateShape(o,c){const p=[],m=[],x=[];N0(o),r1(p,o);let _=o.length;c.forEach(N0);for(let A=0;A<c.length;A++)m.push(_),_+=c[A].length,r1(p,c[A]);const T=Gw.triangulate(p,m);for(let A=0;A<T.length;A+=3)x.push(T.slice(A,A+3));return x}}function N0(w){const o=w.length;o>2&&w[o-1].equals(w[0])&&w.pop()}function r1(w,o){for(let c=0;c<o.length;c++)w.push(o[c].x),w.push(o[c].y)}class _d extends _i{constructor(o=new Hf([new Vn(.5,.5),new Vn(-.5,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),c={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:o,options:c},o=Array.isArray(o)?o:[o];const p=this,m=[],x=[];for(let T=0,A=o.length;T<A;T++){const L=o[T];_(L)}this.setAttribute("position",new ei(m,3)),this.setAttribute("uv",new ei(x,2)),this.computeVertexNormals();function _(T){const A=[],L=c.curveSegments!==void 0?c.curveSegments:12,z=c.steps!==void 0?c.steps:1;let U=c.depth!==void 0?c.depth:1,G=c.bevelEnabled!==void 0?c.bevelEnabled:!0,K=c.bevelThickness!==void 0?c.bevelThickness:.2,te=c.bevelSize!==void 0?c.bevelSize:K-.1,ce=c.bevelOffset!==void 0?c.bevelOffset:0,Le=c.bevelSegments!==void 0?c.bevelSegments:3;const ne=c.extrudePath,q=c.UVGenerator!==void 0?c.UVGenerator:i1;c.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),U=c.amount);let Fe,Te=!1,lt,Ot,He,Bt;ne&&(Fe=ne.getSpacedPoints(z),Te=!0,G=!1,lt=ne.computeFrenetFrames(z,!1),Ot=new Ze,He=new Ze,Bt=new Ze),G||(Le=0,K=0,te=0,ce=0);const dn=T.extractPoints(L);let qt=dn.shape;const Ht=dn.holes;if(!Wf.isClockWise(qt)){qt=qt.reverse();for(let Bn=0,lr=Ht.length;Bn<lr;Bn++){const Mr=Ht[Bn];Wf.isClockWise(Mr)&&(Ht[Bn]=Mr.reverse())}}const xn=Wf.triangulateShape(qt,Ht),mn=qt;for(let Bn=0,lr=Ht.length;Bn<lr;Bn++){const Mr=Ht[Bn];qt=qt.concat(Mr)}function En(Bn,lr,Mr){return lr||console.error("THREE.ExtrudeGeometry: vec does not exist"),lr.clone().multiplyScalar(Mr).add(Bn)}const Mn=qt.length,On=xn.length;function _r(Bn,lr,Mr){let vi,zr,_t;const ft=Bn.x-lr.x,In=Bn.y-lr.y,er=Mr.x-Bn.x,gr=Mr.y-Bn.y,ti=ft*ft+In*In,ta=ft*gr-In*er;if(Math.abs(ta)>Number.EPSILON){const Pi=Math.sqrt(ti),va=Math.sqrt(er*er+gr*gr),Ti=lr.x-In/Pi,Xt=lr.y+ft/Pi,Vr=Mr.x-gr/va,$n=Mr.y+er/va,Oi=((Vr-Ti)*gr-($n-Xt)*er)/(ft*gr-In*er);vi=Ti+ft*Oi-Bn.x,zr=Xt+In*Oi-Bn.y;const hi=vi*vi+zr*zr;if(hi<=2)return new Vn(vi,zr);_t=Math.sqrt(hi/2)}else{let Pi=!1;ft>Number.EPSILON?er>Number.EPSILON&&(Pi=!0):ft<-Number.EPSILON?er<-Number.EPSILON&&(Pi=!0):Math.sign(In)===Math.sign(gr)&&(Pi=!0),Pi?(vi=-In,zr=ft,_t=Math.sqrt(ti)):(vi=ft,zr=In,_t=Math.sqrt(ti/2))}return new Vn(vi/_t,zr/_t)}const di=[];for(let Bn=0,lr=mn.length,Mr=lr-1,vi=Bn+1;Bn<lr;Bn++,Mr++,vi++)Mr===lr&&(Mr=0),vi===lr&&(vi=0),di[Bn]=_r(mn[Bn],mn[Mr],mn[vi]);const Ci=[];let $r,Sa=di.concat();for(let Bn=0,lr=Ht.length;Bn<lr;Bn++){const Mr=Ht[Bn];$r=[];for(let vi=0,zr=Mr.length,_t=zr-1,ft=vi+1;vi<zr;vi++,_t++,ft++)_t===zr&&(_t=0),ft===zr&&(ft=0),$r[vi]=_r(Mr[vi],Mr[_t],Mr[ft]);Ci.push($r),Sa=Sa.concat($r)}for(let Bn=0;Bn<Le;Bn++){const lr=Bn/Le,Mr=K*Math.cos(lr*Math.PI/2),vi=te*Math.sin(lr*Math.PI/2)+ce;for(let zr=0,_t=mn.length;zr<_t;zr++){const ft=En(mn[zr],di[zr],vi);zi(ft.x,ft.y,-Mr)}for(let zr=0,_t=Ht.length;zr<_t;zr++){const ft=Ht[zr];$r=Ci[zr];for(let In=0,er=ft.length;In<er;In++){const gr=En(ft[In],$r[In],vi);zi(gr.x,gr.y,-Mr)}}}const sr=te+ce;for(let Bn=0;Bn<Mn;Bn++){const lr=G?En(qt[Bn],Sa[Bn],sr):qt[Bn];Te?(He.copy(lt.normals[0]).multiplyScalar(lr.x),Ot.copy(lt.binormals[0]).multiplyScalar(lr.y),Bt.copy(Fe[0]).add(He).add(Ot),zi(Bt.x,Bt.y,Bt.z)):zi(lr.x,lr.y,0)}for(let Bn=1;Bn<=z;Bn++)for(let lr=0;lr<Mn;lr++){const Mr=G?En(qt[lr],Sa[lr],sr):qt[lr];Te?(He.copy(lt.normals[Bn]).multiplyScalar(Mr.x),Ot.copy(lt.binormals[Bn]).multiplyScalar(Mr.y),Bt.copy(Fe[Bn]).add(He).add(Ot),zi(Bt.x,Bt.y,Bt.z)):zi(Mr.x,Mr.y,U/z*Bn)}for(let Bn=Le-1;Bn>=0;Bn--){const lr=Bn/Le,Mr=K*Math.cos(lr*Math.PI/2),vi=te*Math.sin(lr*Math.PI/2)+ce;for(let zr=0,_t=mn.length;zr<_t;zr++){const ft=En(mn[zr],di[zr],vi);zi(ft.x,ft.y,U+Mr)}for(let zr=0,_t=Ht.length;zr<_t;zr++){const ft=Ht[zr];$r=Ci[zr];for(let In=0,er=ft.length;In<er;In++){const gr=En(ft[In],$r[In],vi);Te?zi(gr.x,gr.y+Fe[z-1].y,Fe[z-1].x+Mr):zi(gr.x,gr.y,U+Mr)}}}wr(),wi();function wr(){const Bn=m.length/3;if(G){let lr=0,Mr=Mn*lr;for(let vi=0;vi<On;vi++){const zr=xn[vi];da(zr[2]+Mr,zr[1]+Mr,zr[0]+Mr)}lr=z+Le*2,Mr=Mn*lr;for(let vi=0;vi<On;vi++){const zr=xn[vi];da(zr[0]+Mr,zr[1]+Mr,zr[2]+Mr)}}else{for(let lr=0;lr<On;lr++){const Mr=xn[lr];da(Mr[2],Mr[1],Mr[0])}for(let lr=0;lr<On;lr++){const Mr=xn[lr];da(Mr[0]+Mn*z,Mr[1]+Mn*z,Mr[2]+Mn*z)}}p.addGroup(Bn,m.length/3-Bn,0)}function wi(){const Bn=m.length/3;let lr=0;jn(mn,lr),lr+=mn.length;for(let Mr=0,vi=Ht.length;Mr<vi;Mr++){const zr=Ht[Mr];jn(zr,lr),lr+=zr.length}p.addGroup(Bn,m.length/3-Bn,1)}function jn(Bn,lr){let Mr=Bn.length;for(;--Mr>=0;){const vi=Mr;let zr=Mr-1;zr<0&&(zr=Bn.length-1);for(let _t=0,ft=z+Le*2;_t<ft;_t++){const In=Mn*_t,er=Mn*(_t+1),gr=lr+vi+In,ti=lr+zr+In,ta=lr+zr+er,Pi=lr+vi+er;oi(gr,ti,ta,Pi)}}}function zi(Bn,lr,Mr){A.push(Bn),A.push(lr),A.push(Mr)}function da(Bn,lr,Mr){Si(Bn),Si(lr),Si(Mr);const vi=m.length/3,zr=q.generateTopUV(p,m,vi-3,vi-2,vi-1);_a(zr[0]),_a(zr[1]),_a(zr[2])}function oi(Bn,lr,Mr,vi){Si(Bn),Si(lr),Si(vi),Si(lr),Si(Mr),Si(vi);const zr=m.length/3,_t=q.generateSideWallUV(p,m,zr-6,zr-3,zr-2,zr-1);_a(_t[0]),_a(_t[1]),_a(_t[3]),_a(_t[1]),_a(_t[2]),_a(_t[3])}function Si(Bn){m.push(A[Bn*3+0]),m.push(A[Bn*3+1]),m.push(A[Bn*3+2])}function _a(Bn){x.push(Bn.x),x.push(Bn.y)}}}toJSON(){const o=super.toJSON(),c=this.parameters.shapes,p=this.parameters.options;return a1(c,p,o)}static fromJSON(o,c){const p=[];for(let x=0,_=o.shapes.length;x<_;x++){const T=c[o.shapes[x]];p.push(T)}const m=o.options.extrudePath;return m!==void 0&&(o.options.extrudePath=new P0[m.type]().fromJSON(m)),new _d(p,o.options)}}const i1={generateTopUV:function(w,o,c,p,m){const x=o[c*3],_=o[c*3+1],T=o[p*3],A=o[p*3+1],L=o[m*3],z=o[m*3+1];return[new Vn(x,_),new Vn(T,A),new Vn(L,z)]},generateSideWallUV:function(w,o,c,p,m,x){const _=o[c*3],T=o[c*3+1],A=o[c*3+2],L=o[p*3],z=o[p*3+1],U=o[p*3+2],G=o[m*3],K=o[m*3+1],te=o[m*3+2],ce=o[x*3],Le=o[x*3+1],ne=o[x*3+2];return Math.abs(T-z)<Math.abs(_-L)?[new Vn(_,1-A),new Vn(L,1-U),new Vn(G,1-te),new Vn(ce,1-ne)]:[new Vn(T,1-A),new Vn(z,1-U),new Vn(K,1-te),new Vn(Le,1-ne)]}};function a1(w,o,c){if(c.shapes=[],Array.isArray(w))for(let p=0,m=w.length;p<m;p++){const x=w[p];c.shapes.push(x.uuid)}else c.shapes.push(w.uuid);return o.extrudePath!==void 0&&(c.options.extrudePath=o.extrudePath.toJSON()),c}class $v extends Vf{constructor(o=1,c=0){const p=(1+Math.sqrt(5))/2,m=[-1,p,0,1,p,0,-1,-p,0,1,-p,0,0,-1,p,0,1,p,0,-1,-p,0,1,-p,p,0,-1,p,0,1,-p,0,-1,-p,0,1],x=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(m,x,o,c);this.type="IcosahedronGeometry",this.parameters={radius:o,detail:c}}static fromJSON(o){return new $v(o.radius,o.detail)}}class sf extends _i{constructor(o=[new Vn(0,.5),new Vn(.5,0),new Vn(0,-.5)],c=12,p=0,m=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:o,segments:c,phiStart:p,phiLength:m},c=Math.floor(c),m=gi(m,0,Math.PI*2);const x=[],_=[],T=[],A=1/c,L=new Ze,z=new Vn;for(let U=0;U<=c;U++){const G=p+U*A*m,K=Math.sin(G),te=Math.cos(G);for(let ce=0;ce<=o.length-1;ce++)L.x=o[ce].x*K,L.y=o[ce].y,L.z=o[ce].x*te,_.push(L.x,L.y,L.z),z.x=U/c,z.y=ce/(o.length-1),T.push(z.x,z.y)}for(let U=0;U<c;U++)for(let G=0;G<o.length-1;G++){const K=G+U*o.length,te=K,ce=K+o.length,Le=K+o.length+1,ne=K+1;x.push(te,ce,ne),x.push(ce,Le,ne)}if(this.setIndex(x),this.setAttribute("position",new ei(_,3)),this.setAttribute("uv",new ei(T,2)),this.computeVertexNormals(),m===Math.PI*2){const U=this.attributes.normal.array,G=new Ze,K=new Ze,te=new Ze,ce=c*o.length*3;for(let Le=0,ne=0;Le<o.length;Le++,ne+=3)G.x=U[ne+0],G.y=U[ne+1],G.z=U[ne+2],K.x=U[ce+ne+0],K.y=U[ce+ne+1],K.z=U[ce+ne+2],te.addVectors(G,K).normalize(),U[ne+0]=U[ce+ne+0]=te.x,U[ne+1]=U[ce+ne+1]=te.y,U[ne+2]=U[ce+ne+2]=te.z}}static fromJSON(o){return new sf(o.points,o.segments,o.phiStart,o.phiLength)}}class jc extends Vf{constructor(o=1,c=0){const p=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],m=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(p,m,o,c);this.type="OctahedronGeometry",this.parameters={radius:o,detail:c}}static fromJSON(o){return new jc(o.radius,o.detail)}}class lf extends _i{constructor(o=.5,c=1,p=8,m=1,x=0,_=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:o,outerRadius:c,thetaSegments:p,phiSegments:m,thetaStart:x,thetaLength:_},p=Math.max(3,p),m=Math.max(1,m);const T=[],A=[],L=[],z=[];let U=o;const G=(c-o)/m,K=new Ze,te=new Vn;for(let ce=0;ce<=m;ce++){for(let Le=0;Le<=p;Le++){const ne=x+Le/p*_;K.x=U*Math.cos(ne),K.y=U*Math.sin(ne),A.push(K.x,K.y,K.z),L.push(0,0,1),te.x=(K.x/c+1)/2,te.y=(K.y/c+1)/2,z.push(te.x,te.y)}U+=G}for(let ce=0;ce<m;ce++){const Le=ce*(p+1);for(let ne=0;ne<p;ne++){const q=ne+Le,Fe=q,Te=q+p+1,lt=q+p+2,Ot=q+1;T.push(Fe,Te,Ot),T.push(Te,lt,Ot)}}this.setIndex(T),this.setAttribute("position",new ei(A,3)),this.setAttribute("normal",new ei(L,3)),this.setAttribute("uv",new ei(z,2))}static fromJSON(o){return new lf(o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength)}}class wp extends _i{constructor(o=new Hf([new Vn(0,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),c=12){super();this.type="ShapeGeometry",this.parameters={shapes:o,curveSegments:c};const p=[],m=[],x=[],_=[];let T=0,A=0;if(Array.isArray(o)===!1)L(o);else for(let z=0;z<o.length;z++)L(o[z]),this.addGroup(T,A,z),T+=A,A=0;this.setIndex(p),this.setAttribute("position",new ei(m,3)),this.setAttribute("normal",new ei(x,3)),this.setAttribute("uv",new ei(_,2));function L(z){const U=m.length/3,G=z.extractPoints(c);let K=G.shape;const te=G.holes;Wf.isClockWise(K)===!1&&(K=K.reverse());for(let Le=0,ne=te.length;Le<ne;Le++){const q=te[Le];Wf.isClockWise(q)===!0&&(te[Le]=q.reverse())}const ce=Wf.triangulateShape(K,te);for(let Le=0,ne=te.length;Le<ne;Le++){const q=te[Le];K=K.concat(q)}for(let Le=0,ne=K.length;Le<ne;Le++){const q=K[Le];m.push(q.x,q.y,0),x.push(0,0,1),_.push(q.x,q.y)}for(let Le=0,ne=ce.length;Le<ne;Le++){const q=ce[Le],Fe=q[0]+U,Te=q[1]+U,lt=q[2]+U;p.push(Fe,Te,lt),A+=3}}}toJSON(){const o=super.toJSON(),c=this.parameters.shapes;return o1(c,o)}static fromJSON(o,c){const p=[];for(let m=0,x=o.shapes.length;m<x;m++){const _=c[o.shapes[m]];p.push(_)}return new wp(p,o.curveSegments)}}function o1(w,o){if(o.shapes=[],Array.isArray(w))for(let c=0,p=w.length;c<p;c++){const m=w[c];o.shapes.push(m.uuid)}else o.shapes.push(w.uuid);return o}class Mp extends _i{constructor(o=1,c=32,p=16,m=0,x=Math.PI*2,_=0,T=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:o,widthSegments:c,heightSegments:p,phiStart:m,phiLength:x,thetaStart:_,thetaLength:T},c=Math.max(3,Math.floor(c)),p=Math.max(2,Math.floor(p));const A=Math.min(_+T,Math.PI);let L=0;const z=[],U=new Ze,G=new Ze,K=[],te=[],ce=[],Le=[];for(let ne=0;ne<=p;ne++){const q=[],Fe=ne/p;let Te=0;ne==0&&_==0?Te=.5/c:ne==p&&A==Math.PI&&(Te=-.5/c);for(let lt=0;lt<=c;lt++){const Ot=lt/c;U.x=-o*Math.cos(m+Ot*x)*Math.sin(_+Fe*T),U.y=o*Math.cos(_+Fe*T),U.z=o*Math.sin(m+Ot*x)*Math.sin(_+Fe*T),te.push(U.x,U.y,U.z),G.copy(U).normalize(),ce.push(G.x,G.y,G.z),Le.push(Ot+Te,1-Fe),q.push(L++)}z.push(q)}for(let ne=0;ne<p;ne++)for(let q=0;q<c;q++){const Fe=z[ne][q+1],Te=z[ne][q],lt=z[ne+1][q],Ot=z[ne+1][q+1];(ne!==0||_>0)&&K.push(Fe,Te,Ot),(ne!==p-1||A<Math.PI)&&K.push(Te,lt,Ot)}this.setIndex(K),this.setAttribute("position",new ei(te,3)),this.setAttribute("normal",new ei(ce,3)),this.setAttribute("uv",new ei(Le,2))}static fromJSON(o){return new Mp(o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength)}}class Jv extends Vf{constructor(o=1,c=0){const p=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],m=[2,1,0,0,3,2,1,3,0,2,3,1];super(p,m,o,c);this.type="TetrahedronGeometry",this.parameters={radius:o,detail:c}}static fromJSON(o){return new Jv(o.radius,o.detail)}}class Om extends _i{constructor(o=1,c=.4,p=8,m=6,x=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:o,tube:c,radialSegments:p,tubularSegments:m,arc:x},p=Math.floor(p),m=Math.floor(m);const _=[],T=[],A=[],L=[],z=new Ze,U=new Ze,G=new Ze;for(let K=0;K<=p;K++)for(let te=0;te<=m;te++){const ce=te/m*x,Le=K/p*Math.PI*2;U.x=(o+c*Math.cos(Le))*Math.cos(ce),U.y=(o+c*Math.cos(Le))*Math.sin(ce),U.z=c*Math.sin(Le),T.push(U.x,U.y,U.z),z.x=o*Math.cos(ce),z.y=o*Math.sin(ce),G.subVectors(U,z).normalize(),A.push(G.x,G.y,G.z),L.push(te/m),L.push(K/p)}for(let K=1;K<=p;K++)for(let te=1;te<=m;te++){const ce=(m+1)*K+te-1,Le=(m+1)*(K-1)+te-1,ne=(m+1)*(K-1)+te,q=(m+1)*K+te;_.push(ce,Le,q),_.push(Le,ne,q)}this.setIndex(_),this.setAttribute("position",new ei(T,3)),this.setAttribute("normal",new ei(A,3)),this.setAttribute("uv",new ei(L,2))}static fromJSON(o){return new Om(o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc)}}class Qv extends _i{constructor(o=1,c=.4,p=64,m=8,x=2,_=3){super();this.type="TorusKnotGeometry",this.parameters={radius:o,tube:c,tubularSegments:p,radialSegments:m,p:x,q:_},p=Math.floor(p),m=Math.floor(m);const T=[],A=[],L=[],z=[],U=new Ze,G=new Ze,K=new Ze,te=new Ze,ce=new Ze,Le=new Ze,ne=new Ze;for(let Fe=0;Fe<=p;++Fe){const Te=Fe/p*x*Math.PI*2;q(Te,x,_,o,K),q(Te+.01,x,_,o,te),Le.subVectors(te,K),ne.addVectors(te,K),ce.crossVectors(Le,ne),ne.crossVectors(ce,Le),ce.normalize(),ne.normalize();for(let lt=0;lt<=m;++lt){const Ot=lt/m*Math.PI*2,He=-c*Math.cos(Ot),Bt=c*Math.sin(Ot);U.x=K.x+(He*ne.x+Bt*ce.x),U.y=K.y+(He*ne.y+Bt*ce.y),U.z=K.z+(He*ne.z+Bt*ce.z),A.push(U.x,U.y,U.z),G.subVectors(U,K).normalize(),L.push(G.x,G.y,G.z),z.push(Fe/p),z.push(lt/m)}}for(let Fe=1;Fe<=p;Fe++)for(let Te=1;Te<=m;Te++){const lt=(m+1)*(Fe-1)+(Te-1),Ot=(m+1)*Fe+(Te-1),He=(m+1)*Fe+Te,Bt=(m+1)*(Fe-1)+Te;T.push(lt,Ot,Bt),T.push(Ot,He,Bt)}this.setIndex(T),this.setAttribute("position",new ei(A,3)),this.setAttribute("normal",new ei(L,3)),this.setAttribute("uv",new ei(z,2));function q(Fe,Te,lt,Ot,He){const Bt=Math.cos(Fe),dn=Math.sin(Fe),qt=lt/Te*Fe,Ht=Math.cos(qt);He.x=Ot*(2+Ht)*.5*Bt,He.y=Ot*(2+Ht)*dn*.5,He.z=Ot*Math.sin(qt)*.5}}static fromJSON(o){return new Qv(o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q)}}class qv extends _i{constructor(o=new wd(new Ze(-1,-1,0),new Ze(-1,1,0),new Ze(1,1,0)),c=64,p=1,m=8,x=!1){super();this.type="TubeGeometry",this.parameters={path:o,tubularSegments:c,radius:p,radialSegments:m,closed:x};const _=o.computeFrenetFrames(c,x);this.tangents=_.tangents,this.normals=_.normals,this.binormals=_.binormals;const T=new Ze,A=new Ze,L=new Vn;let z=new Ze;const U=[],G=[],K=[],te=[];ce(),this.setIndex(te),this.setAttribute("position",new ei(U,3)),this.setAttribute("normal",new ei(G,3)),this.setAttribute("uv",new ei(K,2));function ce(){for(let Fe=0;Fe<c;Fe++)Le(Fe);Le(x===!1?c:0),q(),ne()}function Le(Fe){z=o.getPointAt(Fe/c,z);const Te=_.normals[Fe],lt=_.binormals[Fe];for(let Ot=0;Ot<=m;Ot++){const He=Ot/m*Math.PI*2,Bt=Math.sin(He),dn=-Math.cos(He);A.x=dn*Te.x+Bt*lt.x,A.y=dn*Te.y+Bt*lt.y,A.z=dn*Te.z+Bt*lt.z,A.normalize(),G.push(A.x,A.y,A.z),T.x=z.x+p*A.x,T.y=z.y+p*A.y,T.z=z.z+p*A.z,U.push(T.x,T.y,T.z)}}function ne(){for(let Fe=1;Fe<=c;Fe++)for(let Te=1;Te<=m;Te++){const lt=(m+1)*(Fe-1)+(Te-1),Ot=(m+1)*Fe+(Te-1),He=(m+1)*Fe+Te,Bt=(m+1)*(Fe-1)+Te;te.push(lt,Ot,Bt),te.push(Ot,He,Bt)}}function q(){for(let Fe=0;Fe<=c;Fe++)for(let Te=0;Te<=m;Te++)L.x=Fe/c,L.y=Te/m,K.push(L.x,L.y)}}toJSON(){const o=super.toJSON();return o.path=this.parameters.path.toJSON(),o}static fromJSON(o){return new qv(new P0[o.path.type]().fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed)}}class s1 extends _i{constructor(o=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:o},o!==null){const c=[],p=new Set,m=new Ze,x=new Ze;if(o.index!==null){const _=o.attributes.position,T=o.index;let A=o.groups;A.length===0&&(A=[{start:0,count:T.count,materialIndex:0}]);for(let L=0,z=A.length;L<z;++L){const U=A[L],G=U.start,K=U.count;for(let te=G,ce=G+K;te<ce;te+=3)for(let Le=0;Le<3;Le++){const ne=T.getX(te+Le),q=T.getX(te+(Le+1)%3);m.fromBufferAttribute(_,ne),x.fromBufferAttribute(_,q),k0(m,x,p)===!0&&(c.push(m.x,m.y,m.z),c.push(x.x,x.y,x.z))}}}else{const _=o.attributes.position;for(let T=0,A=_.count/3;T<A;T++)for(let L=0;L<3;L++){const z=3*T+L,U=3*T+(L+1)%3;m.fromBufferAttribute(_,z),x.fromBufferAttribute(_,U),k0(m,x,p)===!0&&(c.push(m.x,m.y,m.z),c.push(x.x,x.y,x.z))}}this.setAttribute("position",new ei(c,3))}}}function k0(w,o,c){const p=`${w.x},${w.y},${w.z}-${o.x},${o.y},${o.z}`,m=`${o.x},${o.y},${o.z}-${w.x},${w.y},${w.z}`;return c.has(p)===!0||c.has(m)===!0?!1:(c.add(p,m),!0)}var Em=Object.freeze({__proto__:null,BoxGeometry:ju,BoxBufferGeometry:ju,CircleGeometry:vp,CircleBufferGeometry:vp,ConeGeometry:xm,ConeBufferGeometry:xm,CylinderGeometry:gp,CylinderBufferGeometry:gp,DodecahedronGeometry:Sm,DodecahedronBufferGeometry:Sm,EdgesGeometry:M0,ExtrudeGeometry:_d,ExtrudeBufferGeometry:_d,IcosahedronGeometry:$v,IcosahedronBufferGeometry:$v,LatheGeometry:sf,LatheBufferGeometry:sf,OctahedronGeometry:jc,OctahedronBufferGeometry:jc,PlaneGeometry:cd,PlaneBufferGeometry:cd,PolyhedronGeometry:Vf,PolyhedronBufferGeometry:Vf,RingGeometry:lf,RingBufferGeometry:lf,ShapeGeometry:wp,ShapeBufferGeometry:wp,SphereGeometry:Mp,SphereBufferGeometry:Mp,TetrahedronGeometry:Jv,TetrahedronBufferGeometry:Jv,TorusGeometry:Om,TorusBufferGeometry:Om,TorusKnotGeometry:Qv,TorusKnotBufferGeometry:Qv,TubeGeometry:qv,TubeBufferGeometry:qv,WireframeGeometry:s1});class l1 extends Ps{constructor(o){super();this.type="ShadowMaterial",this.color=new nr(0),this.transparent=!0,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this}}l1.prototype.isShadowMaterial=!0;class eg extends Ps{constructor(o){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new nr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uo,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.defines={STANDARD:""},this.color.copy(o.color),this.roughness=o.roughness,this.metalness=o.metalness,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.roughnessMap=o.roughnessMap,this.metalnessMap=o.metalnessMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.envMapIntensity=o.envMapIntensity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this}}eg.prototype.isMeshStandardMaterial=!0;class tg extends eg{constructor(o){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return gi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(c){this.ior=(1+.4*c)/(1-.4*c)}}),this.sheenColor=new nr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new nr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(o)}get sheen(){return this._sheen}set sheen(o){this._sheen>0!=o>0&&this.version++,this._sheen=o}get clearcoat(){return this._clearcoat}set clearcoat(o){this._clearcoat>0!=o>0&&this.version++,this._clearcoat=o}get transmission(){return this._transmission}set transmission(o){this._transmission>0!=o>0&&this.version++,this._transmission=o}copy(o){return super.copy(o),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=o.clearcoat,this.clearcoatMap=o.clearcoatMap,this.clearcoatRoughness=o.clearcoatRoughness,this.clearcoatRoughnessMap=o.clearcoatRoughnessMap,this.clearcoatNormalMap=o.clearcoatNormalMap,this.clearcoatNormalScale.copy(o.clearcoatNormalScale),this.ior=o.ior,this.sheen=o.sheen,this.sheenColor.copy(o.sheenColor),this.sheenColorMap=o.sheenColorMap,this.sheenRoughness=o.sheenRoughness,this.sheenRoughnessMap=o.sheenRoughnessMap,this.transmission=o.transmission,this.transmissionMap=o.transmissionMap,this.thickness=o.thickness,this.thicknessMap=o.thicknessMap,this.attenuationDistance=o.attenuationDistance,this.attenuationColor.copy(o.attenuationColor),this.specularIntensity=o.specularIntensity,this.specularIntensityMap=o.specularIntensityMap,this.specularColor.copy(o.specularColor),this.specularColorMap=o.specularColorMap,this}}tg.prototype.isMeshPhysicalMaterial=!0;class Cd extends Ps{constructor(o){super();this.type="MeshPhongMaterial",this.color=new nr(16777215),this.specular=new nr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uo,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.specular.copy(o.specular),this.shininess=o.shininess,this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this.flatShading=o.flatShading,this}}Cd.prototype.isMeshPhongMaterial=!0;class Zw extends Ps{constructor(o){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uo,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.gradientMap=o.gradientMap,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this}}Zw.prototype.isMeshToonMaterial=!0;class u1 extends Ps{constructor(o){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uo,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.flatShading=o.flatShading,this}}u1.prototype.isMeshNormalMaterial=!0;class Am extends Ps{constructor(o){super();this.type="MeshLambertMaterial",this.color=new nr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Jr,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(o)}copy(o){return super.copy(o),this.color.copy(o.color),this.map=o.map,this.lightMap=o.lightMap,this.lightMapIntensity=o.lightMapIntensity,this.aoMap=o.aoMap,this.aoMapIntensity=o.aoMapIntensity,this.emissive.copy(o.emissive),this.emissiveMap=o.emissiveMap,this.emissiveIntensity=o.emissiveIntensity,this.specularMap=o.specularMap,this.alphaMap=o.alphaMap,this.envMap=o.envMap,this.combine=o.combine,this.reflectivity=o.reflectivity,this.refractionRatio=o.refractionRatio,this.wireframe=o.wireframe,this.wireframeLinewidth=o.wireframeLinewidth,this.wireframeLinecap=o.wireframeLinecap,this.wireframeLinejoin=o.wireframeLinejoin,this}}Am.prototype.isMeshLambertMaterial=!0;class j0 extends Ps{constructor(o){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uo,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(o)}copy(o){return super.copy(o),this.defines={MATCAP:""},this.color.copy(o.color),this.matcap=o.matcap,this.map=o.map,this.bumpMap=o.bumpMap,this.bumpScale=o.bumpScale,this.normalMap=o.normalMap,this.normalMapType=o.normalMapType,this.normalScale.copy(o.normalScale),this.displacementMap=o.displacementMap,this.displacementScale=o.displacementScale,this.displacementBias=o.displacementBias,this.alphaMap=o.alphaMap,this.flatShading=o.flatShading,this}}j0.prototype.isMeshMatcapMaterial=!0;class _p extends Qo{constructor(o){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(o)}copy(o){return super.copy(o),this.scale=o.scale,this.dashSize=o.dashSize,this.gapSize=o.gapSize,this}}_p.prototype.isLineDashedMaterial=!0;var $w=Object.freeze({__proto__:null,ShadowMaterial:l1,SpriteMaterial:jv,RawShaderMaterial:qa,ShaderMaterial:Yi,PointsMaterial:ph,MeshPhysicalMaterial:tg,MeshStandardMaterial:eg,MeshPhongMaterial:Cd,MeshToonMaterial:Zw,MeshNormalMaterial:u1,MeshLambertMaterial:Am,MeshDepthMaterial:c0,MeshDistanceMaterial:fm,MeshBasicMaterial:ms,MeshMatcapMaterial:j0,LineDashedMaterial:_p,LineBasicMaterial:Qo,Material:Ps});const ss={arraySlice:function(w,o,c){return ss.isTypedArray(w)?new w.constructor(w.subarray(o,c!==void 0?c:w.length)):w.slice(o,c)},convertArray:function(w,o,c){return!w||!c&&w.constructor===o?w:typeof o.BYTES_PER_ELEMENT=="number"?new o(w):Array.prototype.slice.call(w)},isTypedArray:function(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)},getKeyframeOrder:function(w){function o(m,x){return w[m]-w[x]}const c=w.length,p=new Array(c);for(let m=0;m!==c;++m)p[m]=m;return p.sort(o),p},sortedArray:function(w,o,c){const p=w.length,m=new w.constructor(p);for(let x=0,_=0;_!==p;++x){const T=c[x]*o;for(let A=0;A!==o;++A)m[_++]=w[T+A]}return m},flattenJSON:function(w,o,c,p){let m=1,x=w[0];for(;x!==void 0&&x[p]===void 0;)x=w[m++];if(x===void 0)return;let _=x[p];if(_!==void 0)if(Array.isArray(_))do _=x[p],_!==void 0&&(o.push(x.time),c.push.apply(c,_)),x=w[m++];while(x!==void 0);else if(_.toArray!==void 0)do _=x[p],_!==void 0&&(o.push(x.time),_.toArray(c,c.length)),x=w[m++];while(x!==void 0);else do _=x[p],_!==void 0&&(o.push(x.time),c.push(_)),x=w[m++];while(x!==void 0)},subclip:function(w,o,c,p,m=30){const x=w.clone();x.name=o;const _=[];for(let A=0;A<x.tracks.length;++A){const L=x.tracks[A],z=L.getValueSize(),U=[],G=[];for(let K=0;K<L.times.length;++K){const te=L.times[K]*m;if(!(te<c||te>=p)){U.push(L.times[K]);for(let ce=0;ce<z;++ce)G.push(L.values[K*z+ce])}}U.length!==0&&(L.times=ss.convertArray(U,L.times.constructor),L.values=ss.convertArray(G,L.values.constructor),_.push(L))}x.tracks=_;let T=Infinity;for(let A=0;A<x.tracks.length;++A)T>x.tracks[A].times[0]&&(T=x.tracks[A].times[0]);for(let A=0;A<x.tracks.length;++A)x.tracks[A].shift(-1*T);return x.resetDuration(),x},makeClipAdditive:function(w,o=0,c=w,p=30){p<=0&&(p=30);const m=c.tracks.length,x=o/p;for(let _=0;_<m;++_){const T=c.tracks[_],A=T.ValueTypeName;if(A==="bool"||A==="string")continue;const L=w.tracks.find(function(ne){return ne.name===T.name&&ne.ValueTypeName===A});if(L===void 0)continue;let z=0;const U=T.getValueSize();T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(z=U/3);let G=0;const K=L.getValueSize();L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(G=K/3);const te=T.times.length-1;let ce;if(x<=T.times[0]){const ne=z,q=U-z;ce=ss.arraySlice(T.values,ne,q)}else if(x>=T.times[te]){const ne=te*U+z,q=ne+U-z;ce=ss.arraySlice(T.values,ne,q)}else{const ne=T.createInterpolant(),q=z,Fe=U-z;ne.evaluate(x),ce=ss.arraySlice(ne.resultBuffer,q,Fe)}A==="quaternion"&&new Oo().fromArray(ce).normalize().conjugate().toArray(ce);const Le=L.times.length;for(let ne=0;ne<Le;++ne){const q=ne*K+G;if(A==="quaternion")Oo.multiplyQuaternionsFlat(L.values,q,ce,0,L.values,q);else{const Fe=K-G*2;for(let Te=0;Te<Fe;++Te)L.values[q+Te]-=ce[Te]}}}return w.blendMode=mo,w}};class zl{constructor(o,c,p,m){this.parameterPositions=o,this._cachedIndex=0,this.resultBuffer=m!==void 0?m:new c.constructor(p),this.sampleValues=c,this.valueSize=p,this.settings=null,this.DefaultSettings_={}}evaluate(o){const c=this.parameterPositions;let p=this._cachedIndex,m=c[p],x=c[p-1];e:{t:{let _;n:{r:if(!(o<m)){for(let T=p+2;;){if(m===void 0){if(o<x)break r;return p=c.length,this._cachedIndex=p,this.afterEnd_(p-1,o,x)}if(p===T)break;if(x=m,m=c[++p],o<m)break t}_=c.length;break n}if(!(o>=x)){const T=c[1];o<T&&(p=2,x=T);for(let A=p-2;;){if(x===void 0)return this._cachedIndex=0,this.beforeStart_(0,o,m);if(p===A)break;if(m=x,x=c[--p-1],o>=x)break t}_=p,p=0;break n}break e}for(;p<_;){const T=p+_>>>1;o<c[T]?_=T:p=T+1}if(m=c[p],x=c[p-1],x===void 0)return this._cachedIndex=0,this.beforeStart_(0,o,m);if(m===void 0)return p=c.length,this._cachedIndex=p,this.afterEnd_(p-1,x,o)}this._cachedIndex=p,this.intervalChanged_(p,x,m)}return this.interpolate_(p,x,o,m)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(o){const c=this.resultBuffer,p=this.sampleValues,m=this.valueSize,x=o*m;for(let _=0;_!==m;++_)c[_]=p[x+_];return c}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}zl.prototype.beforeStart_=zl.prototype.copySampleValue_,zl.prototype.afterEnd_=zl.prototype.copySampleValue_;class Jw extends zl{constructor(o,c,p,m){super(o,c,p,m);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pi,endingEnd:pi}}intervalChanged_(o,c,p){const m=this.parameterPositions;let x=o-2,_=o+1,T=m[x],A=m[_];if(T===void 0)switch(this.getSettings_().endingStart){case Ui:x=o,T=2*c-p;break;case Ca:x=m.length-2,T=c+m[x]-m[x+1];break;default:x=o,T=p}if(A===void 0)switch(this.getSettings_().endingEnd){case Ui:_=o,A=2*p-c;break;case Ca:_=1,A=p+m[1]-m[0];break;default:_=o-1,A=c}const L=(p-c)*.5,z=this.valueSize;this._weightPrev=L/(c-T),this._weightNext=L/(A-p),this._offsetPrev=x*z,this._offsetNext=_*z}interpolate_(o,c,p,m){const x=this.resultBuffer,_=this.sampleValues,T=this.valueSize,A=o*T,L=A-T,z=this._offsetPrev,U=this._offsetNext,G=this._weightPrev,K=this._weightNext,te=(p-c)/(m-c),ce=te*te,Le=ce*te,ne=-G*Le+2*G*ce-G*te,q=(1+G)*Le+(-1.5-2*G)*ce+(-.5+G)*te+1,Fe=(-1-K)*Le+(1.5+K)*ce+.5*te,Te=K*Le-K*ce;for(let lt=0;lt!==T;++lt)x[lt]=ne*_[z+lt]+q*_[L+lt]+Fe*_[A+lt]+Te*_[U+lt];return x}}class B0 extends zl{constructor(o,c,p,m){super(o,c,p,m)}interpolate_(o,c,p,m){const x=this.resultBuffer,_=this.sampleValues,T=this.valueSize,A=o*T,L=A-T,z=(p-c)/(m-c),U=1-z;for(let G=0;G!==T;++G)x[G]=_[L+G]*U+_[A+G]*z;return x}}class c1 extends zl{constructor(o,c,p,m){super(o,c,p,m)}interpolate_(o){return this.copySampleValue_(o-1)}}class uf{constructor(o,c,p,m){if(o===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(c===void 0||c.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+o);this.name=o,this.times=ss.convertArray(c,this.TimeBufferType),this.values=ss.convertArray(p,this.ValueBufferType),this.setInterpolation(m||this.DefaultInterpolation)}static toJSON(o){const c=o.constructor;let p;if(c.toJSON!==this.toJSON)p=c.toJSON(o);else{p={name:o.name,times:ss.convertArray(o.times,Array),values:ss.convertArray(o.values,Array)};const m=o.getInterpolation();m!==o.DefaultInterpolation&&(p.interpolation=m)}return p.type=o.ValueTypeName,p}InterpolantFactoryMethodDiscrete(o){return new c1(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodLinear(o){return new B0(this.times,this.values,this.getValueSize(),o)}InterpolantFactoryMethodSmooth(o){return new Jw(this.times,this.values,this.getValueSize(),o)}setInterpolation(o){let c;switch(o){case si:c=this.InterpolantFactoryMethodDiscrete;break;case Or:c=this.InterpolantFactoryMethodLinear;break;case Lr:c=this.InterpolantFactoryMethodSmooth;break}if(c===void 0){const p="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(o!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(p);return console.warn("THREE.KeyframeTrack:",p),this}return this.createInterpolant=c,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return si;case this.InterpolantFactoryMethodLinear:return Or;case this.InterpolantFactoryMethodSmooth:return Lr}}getValueSize(){return this.values.length/this.times.length}shift(o){if(o!==0){const c=this.times;for(let p=0,m=c.length;p!==m;++p)c[p]+=o}return this}scale(o){if(o!==1){const c=this.times;for(let p=0,m=c.length;p!==m;++p)c[p]*=o}return this}trim(o,c){const p=this.times,m=p.length;let x=0,_=m-1;for(;x!==m&&p[x]<o;)++x;for(;_!==-1&&p[_]>c;)--_;if(++_,x!==0||_!==m){x>=_&&(_=Math.max(_,1),x=_-1);const T=this.getValueSize();this.times=ss.arraySlice(p,x,_),this.values=ss.arraySlice(this.values,x*T,_*T)}return this}validate(){let o=!0;const c=this.getValueSize();c-Math.floor(c)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),o=!1);const p=this.times,m=this.values,x=p.length;x===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),o=!1);let _=null;for(let T=0;T!==x;T++){const A=p[T];if(typeof A=="number"&&isNaN(A)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,T,A),o=!1;break}if(_!==null&&_>A){console.error("THREE.KeyframeTrack: Out of order keys.",this,T,A,_),o=!1;break}_=A}if(m!==void 0&&ss.isTypedArray(m))for(let T=0,A=m.length;T!==A;++T){const L=m[T];if(isNaN(L)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,T,L),o=!1;break}}return o}optimize(){const o=ss.arraySlice(this.times),c=ss.arraySlice(this.values),p=this.getValueSize(),m=this.getInterpolation()===Lr,x=o.length-1;let _=1;for(let T=1;T<x;++T){let A=!1;const L=o[T],z=o[T+1];if(L!==z&&(T!==1||L!==o[0]))if(m)A=!0;else{const U=T*p,G=U-p,K=U+p;for(let te=0;te!==p;++te){const ce=c[U+te];if(ce!==c[G+te]||ce!==c[K+te]){A=!0;break}}}if(A){if(T!==_){o[_]=o[T];const U=T*p,G=_*p;for(let K=0;K!==p;++K)c[G+K]=c[U+K]}++_}}if(x>0){o[_]=o[x];for(let T=x*p,A=_*p,L=0;L!==p;++L)c[A+L]=c[T+L];++_}return _!==o.length?(this.times=ss.arraySlice(o,0,_),this.values=ss.arraySlice(c,0,_*p)):(this.times=o,this.values=c),this}clone(){const o=ss.arraySlice(this.times,0),c=ss.arraySlice(this.values,0),p=this.constructor,m=new p(this.name,o,c);return m.createInterpolant=this.createInterpolant,m}}uf.prototype.TimeBufferType=Float32Array,uf.prototype.ValueBufferType=Float32Array,uf.prototype.DefaultInterpolation=Or;class gh extends uf{}gh.prototype.ValueTypeName="bool",gh.prototype.ValueBufferType=Array,gh.prototype.DefaultInterpolation=si,gh.prototype.InterpolantFactoryMethodLinear=void 0,gh.prototype.InterpolantFactoryMethodSmooth=void 0;class f1 extends uf{}f1.prototype.ValueTypeName="color";class ng extends uf{}ng.prototype.ValueTypeName="number";class Qw extends zl{constructor(o,c,p,m){super(o,c,p,m)}interpolate_(o,c,p,m){const x=this.resultBuffer,_=this.sampleValues,T=this.valueSize,A=(p-c)/(m-c);let L=o*T;for(let z=L+T;L!==z;L+=4)Oo.slerpFlat(x,0,_,L-T,_,L,A);return x}}class Cp extends uf{InterpolantFactoryMethodLinear(o){return new Qw(this.times,this.values,this.getValueSize(),o)}}Cp.prototype.ValueTypeName="quaternion",Cp.prototype.DefaultInterpolation=Or,Cp.prototype.InterpolantFactoryMethodSmooth=void 0;class Tp extends uf{}Tp.prototype.ValueTypeName="string",Tp.prototype.ValueBufferType=Array,Tp.prototype.DefaultInterpolation=si,Tp.prototype.InterpolantFactoryMethodLinear=void 0,Tp.prototype.InterpolantFactoryMethodSmooth=void 0;class rg extends uf{}rg.prototype.ValueTypeName="vector";class ig{constructor(o,c=-1,p,m=Ka){this.name=o,this.tracks=p,this.duration=c,this.blendMode=m,this.uuid=Zr(),this.duration<0&&this.resetDuration()}static parse(o){const c=[],p=o.tracks,m=1/(o.fps||1);for(let _=0,T=p.length;_!==T;++_)c.push(d1(p[_]).scale(m));const x=new this(o.name,o.duration,c,o.blendMode);return x.uuid=o.uuid,x}static toJSON(o){const c=[],p=o.tracks,m={name:o.name,duration:o.duration,tracks:c,uuid:o.uuid,blendMode:o.blendMode};for(let x=0,_=p.length;x!==_;++x)c.push(uf.toJSON(p[x]));return m}static CreateFromMorphTargetSequence(o,c,p,m){const x=c.length,_=[];for(let T=0;T<x;T++){let A=[],L=[];A.push((T+x-1)%x,T,(T+1)%x),L.push(0,1,0);const z=ss.getKeyframeOrder(A);A=ss.sortedArray(A,1,z),L=ss.sortedArray(L,1,z),!m&&A[0]===0&&(A.push(x),L.push(L[0])),_.push(new ng(".morphTargetInfluences["+c[T].name+"]",A,L).scale(1/p))}return new this(o,-1,_)}static findByName(o,c){let p=o;if(!Array.isArray(o)){const m=o;p=m.geometry&&m.geometry.animations||m.animations}for(let m=0;m<p.length;m++)if(p[m].name===c)return p[m];return null}static CreateClipsFromMorphTargetSequences(o,c,p){const m={},x=/^([\w-]*?)([\d]+)$/;for(let T=0,A=o.length;T<A;T++){const L=o[T],z=L.name.match(x);if(z&&z.length>1){const U=z[1];let G=m[U];G||(m[U]=G=[]),G.push(L)}}const _=[];for(const T in m)_.push(this.CreateFromMorphTargetSequence(T,m[T],c,p));return _}static parseAnimation(o,c){if(!o)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const p=function(U,G,K,te,ce){if(K.length!==0){const Le=[],ne=[];ss.flattenJSON(K,Le,ne,te),Le.length!==0&&ce.push(new U(G,Le,ne))}},m=[],x=o.name||"default",_=o.fps||30,T=o.blendMode;let A=o.length||-1;const L=o.hierarchy||[];for(let U=0;U<L.length;U++){const G=L[U].keys;if(!(!G||G.length===0))if(G[0].morphTargets){const K={};let te;for(te=0;te<G.length;te++)if(G[te].morphTargets)for(let ce=0;ce<G[te].morphTargets.length;ce++)K[G[te].morphTargets[ce]]=-1;for(const ce in K){const Le=[],ne=[];for(let q=0;q!==G[te].morphTargets.length;++q){const Fe=G[te];Le.push(Fe.time),ne.push(Fe.morphTarget===ce?1:0)}m.push(new ng(".morphTargetInfluence["+ce+"]",Le,ne))}A=K.length*(_||1)}else{const K=".bones["+c[U].name+"]";p(rg,K+".position",G,"pos",m),p(Cp,K+".quaternion",G,"rot",m),p(rg,K+".scale",G,"scl",m)}}return m.length===0?null:new this(x,A,m,T)}resetDuration(){const o=this.tracks;let c=0;for(let p=0,m=o.length;p!==m;++p){const x=this.tracks[p];c=Math.max(c,x.times[x.times.length-1])}return this.duration=c,this}trim(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].trim(0,this.duration);return this}validate(){let o=!0;for(let c=0;c<this.tracks.length;c++)o=o&&this.tracks[c].validate();return o}optimize(){for(let o=0;o<this.tracks.length;o++)this.tracks[o].optimize();return this}clone(){const o=[];for(let c=0;c<this.tracks.length;c++)o.push(this.tracks[c].clone());return new this.constructor(this.name,this.duration,o,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qw(w){switch(w.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ng;case"vector":case"vector2":case"vector3":case"vector4":return rg;case"color":return f1;case"quaternion":return Cp;case"bool":case"boolean":return gh;case"string":return Tp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+w)}function d1(w){if(w.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const o=qw(w.type);if(w.times===void 0){const c=[],p=[];ss.flattenJSON(w.keys,c,p,"value"),w.times=c,w.values=p}return o.parse!==void 0?o.parse(w):new o(w.name,w.times,w.values,w.interpolation)}const Op={enabled:!1,files:{},add:function(w,o){this.enabled!==!1&&(this.files[w]=o)},get:function(w){if(this.enabled!==!1)return this.files[w]},remove:function(w){delete this.files[w]},clear:function(){this.files={}}};class h1{constructor(o,c,p){const m=this;let x=!1,_=0,T=0,A;const L=[];this.onStart=void 0,this.onLoad=o,this.onProgress=c,this.onError=p,this.itemStart=function(z){T++,x===!1&&m.onStart!==void 0&&m.onStart(z,_,T),x=!0},this.itemEnd=function(z){_++,m.onProgress!==void 0&&m.onProgress(z,_,T),_===T&&(x=!1,m.onLoad!==void 0&&m.onLoad())},this.itemError=function(z){m.onError!==void 0&&m.onError(z)},this.resolveURL=function(z){return A?A(z):z},this.setURLModifier=function(z){return A=z,this},this.addHandler=function(z,U){return L.push(z,U),this},this.removeHandler=function(z){const U=L.indexOf(z);return U!==-1&&L.splice(U,2),this},this.getHandler=function(z){for(let U=0,G=L.length;U<G;U+=2){const K=L[U],te=L[U+1];if(K.global&&(K.lastIndex=0),K.test(z))return te}return null}}}const eM=new h1;class bl{constructor(o){this.manager=o!==void 0?o:eM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(o,c){const p=this;return new Promise(function(m,x){p.load(o,m,c,x)})}parse(){}setCrossOrigin(o){return this.crossOrigin=o,this}setWithCredentials(o){return this.withCredentials=o,this}setPath(o){return this.path=o,this}setResourcePath(o){return this.resourcePath=o,this}setRequestHeader(o){return this.requestHeader=o,this}}const uc={};class cf extends bl{constructor(o){super(o)}load(o,c,p,m){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const x=Op.get(o);if(x!==void 0)return this.manager.itemStart(o),setTimeout(()=>{c&&c(x),this.manager.itemEnd(o)},0),x;if(uc[o]!==void 0){uc[o].push({onLoad:c,onProgress:p,onError:m});return}uc[o]=[],uc[o].push({onLoad:c,onProgress:p,onError:m});const _=new Request(o,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(_).then(T=>{if(T.status===200||T.status===0){T.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const A=uc[o],L=T.body.getReader(),z=T.headers.get("Content-Length"),U=z?parseInt(z):0,G=U!==0;let K=0;return new ReadableStream({start(te){ce();function ce(){L.read().then(({done:Le,value:ne})=>{if(Le)te.close();else{K+=ne.byteLength;const q=new ProgressEvent("progress",{lengthComputable:G,loaded:K,total:U});for(let Fe=0,Te=A.length;Fe<Te;Fe++){const lt=A[Fe];lt.onProgress&&lt.onProgress(q)}te.enqueue(ne),ce()}})}}})}else throw Error(`fetch for "${T.url}" responded with ${T.status}: ${T.statusText}`)}).then(T=>{const A=new Response(T);switch(this.responseType){case"arraybuffer":return A.arrayBuffer();case"blob":return A.blob();case"document":return A.text().then(L=>new DOMParser().parseFromString(L,this.mimeType));case"json":return A.json();default:return A.text()}}).then(T=>{Op.add(o,T);const A=uc[o];delete uc[o];for(let L=0,z=A.length;L<z;L++){const U=A[L];U.onLoad&&U.onLoad(T)}this.manager.itemEnd(o)}).catch(T=>{const A=uc[o];delete uc[o];for(let L=0,z=A.length;L<z;L++){const U=A[L];U.onError&&U.onError(T)}this.manager.itemError(o),this.manager.itemEnd(o)}),this.manager.itemStart(o)}setResponseType(o){return this.responseType=o,this}setMimeType(o){return this.mimeType=o,this}}class pO extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=new cf(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(o,function(T){try{c(x.parse(JSON.parse(T)))}catch(A){m?m(A):console.error(A),x.manager.itemError(o)}},p,m)}parse(o){const c=[];for(let p=0;p<o.length;p++){const m=ig.parse(o[p]);c.push(m)}return c}}class tM extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=[],T=new bm,A=new cf(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(x.withCredentials);let L=0;function z(U){A.load(o[U],function(G){const K=x.parse(G,!0);_[U]={width:K.width,height:K.height,format:K.format,mipmaps:K.mipmaps},L+=1,L===6&&(K.mipmapCount===1&&(T.minFilter=Ke),T.image=_,T.format=K.format,T.needsUpdate=!0,c&&c(T))},p,m)}if(Array.isArray(o))for(let U=0,G=o.length;U<G;++U)z(U);else A.load(o,function(U){const G=x.parse(U,!0);if(G.isCubemap){const K=G.mipmaps.length/G.mipmapCount;for(let te=0;te<K;te++){_[te]={mipmaps:[]};for(let ce=0;ce<G.mipmapCount;ce++)_[te].mipmaps.push(G.mipmaps[te*G.mipmapCount+ce]),_[te].format=G.format,_[te].width=G.width,_[te].height=G.height}T.image=_}else T.image.width=G.width,T.image.height=G.height,T.mipmaps=G.mipmaps;G.mipmapCount===1&&(T.minFilter=Ke),T.format=G.format,T.needsUpdate=!0,c&&c(T)},p,m);return T}}class ag extends bl{constructor(o){super(o)}load(o,c,p,m){this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const x=this,_=Op.get(o);if(_!==void 0)return x.manager.itemStart(o),setTimeout(function(){c&&c(_),x.manager.itemEnd(o)},0),_;const T=Xu("img");function A(){z(),Op.add(o,this),c&&c(this),x.manager.itemEnd(o)}function L(U){z(),m&&m(U),x.manager.itemError(o),x.manager.itemEnd(o)}function z(){T.removeEventListener("load",A,!1),T.removeEventListener("error",L,!1)}return T.addEventListener("load",A,!1),T.addEventListener("error",L,!1),o.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(T.crossOrigin=this.crossOrigin),x.manager.itemStart(o),T.src=o,T}}class p1 extends bl{constructor(o){super(o)}load(o,c,p,m){const x=new Oc,_=new ag(this.manager);_.setCrossOrigin(this.crossOrigin),_.setPath(this.path);let T=0;function A(L){_.load(o[L],function(z){x.images[L]=z,T++,T===6&&(x.needsUpdate=!0,c&&c(x))},void 0,m)}for(let L=0;L<o.length;++L)A(L);return x}}class F0 extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=new Rc,T=new cf(this.manager);return T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(x.withCredentials),T.load(o,function(A){const L=x.parse(A);!L||(L.image!==void 0?_.image=L.image:L.data!==void 0&&(_.image.width=L.width,_.image.height=L.height,_.image.data=L.data),_.wrapS=L.wrapS!==void 0?L.wrapS:hn,_.wrapT=L.wrapT!==void 0?L.wrapT:hn,_.magFilter=L.magFilter!==void 0?L.magFilter:Ke,_.minFilter=L.minFilter!==void 0?L.minFilter:Ke,_.anisotropy=L.anisotropy!==void 0?L.anisotropy:1,L.encoding!==void 0&&(_.encoding=L.encoding),L.flipY!==void 0&&(_.flipY=L.flipY),L.format!==void 0&&(_.format=L.format),L.type!==void 0&&(_.type=L.type),L.mipmaps!==void 0&&(_.mipmaps=L.mipmaps,_.minFilter=ot),L.mipmapCount===1&&(_.minFilter=Ke),L.generateMipmaps!==void 0&&(_.generateMipmaps=L.generateMipmaps),_.needsUpdate=!0,c&&c(_,L))},p,m),_}}class Ep extends bl{constructor(o){super(o)}load(o,c,p,m){const x=new ri,_=new ag(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(o,function(T){x.image=T,x.needsUpdate=!0,c!==void 0&&c(x)},p,m),x}}class ql extends La{constructor(o,c=1){super();this.type="Light",this.color=new nr(o),this.intensity=c}dispose(){}copy(o){return super.copy(o),this.color.copy(o.color),this.intensity=o.intensity,this}toJSON(o){const c=super.toJSON(o);return c.object.color=this.color.getHex(),c.object.intensity=this.intensity,this.groundColor!==void 0&&(c.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(c.object.distance=this.distance),this.angle!==void 0&&(c.object.angle=this.angle),this.decay!==void 0&&(c.object.decay=this.decay),this.penumbra!==void 0&&(c.object.penumbra=this.penumbra),this.shadow!==void 0&&(c.object.shadow=this.shadow.toJSON()),c}}ql.prototype.isLight=!0;class v1 extends ql{constructor(o,c,p){super(o,p);this.type="HemisphereLight",this.position.copy(La.DefaultUp),this.updateMatrix(),this.groundColor=new nr(c)}copy(o){return ql.prototype.copy.call(this,o),this.groundColor.copy(o.groundColor),this}}v1.prototype.isHemisphereLight=!0;const z0=new Hn,g1=new Ze,Pm=new Ze;class Lm{constructor(o){this.camera=o,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vn(512,512),this.map=null,this.mapPass=null,this.matrix=new Hn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qd,this._frameExtents=new Vn(1,1),this._viewportCount=1,this._viewports=[new Ki(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(o){const c=this.camera,p=this.matrix;g1.setFromMatrixPosition(o.matrixWorld),c.position.copy(g1),Pm.setFromMatrixPosition(o.target.matrixWorld),c.lookAt(Pm),c.updateMatrixWorld(),z0.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(z0),p.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),p.multiply(c.projectionMatrix),p.multiply(c.matrixWorldInverse)}getViewport(o){return this._viewports[o]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(o){return this.camera=o.camera.clone(),this.bias=o.bias,this.radius=o.radius,this.mapSize.copy(o.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const o={};return this.bias!==0&&(o.bias=this.bias),this.normalBias!==0&&(o.normalBias=this.normalBias),this.radius!==1&&(o.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(o.mapSize=this.mapSize.toArray()),o.camera=this.camera.toJSON(!1).object,delete o.camera.matrix,o}}class V0 extends Lm{constructor(){super(new no(50,1,.5,500));this.focus=1}updateMatrices(o){const c=this.camera,p=gs*2*o.angle*this.focus,m=this.mapSize.width/this.mapSize.height,x=o.distance||c.far;(p!==c.fov||m!==c.aspect||x!==c.far)&&(c.fov=p,c.aspect=m,c.far=x,c.updateProjectionMatrix()),super.updateMatrices(o)}copy(o){return super.copy(o),this.focus=o.focus,this}}V0.prototype.isSpotLightShadow=!0;class Ap extends ql{constructor(o,c,p=0,m=Math.PI/3,x=0,_=1){super(o,c);this.type="SpotLight",this.position.copy(La.DefaultUp),this.updateMatrix(),this.target=new La,this.distance=p,this.angle=m,this.penumbra=x,this.decay=_,this.shadow=new V0}get power(){return this.intensity*Math.PI}set power(o){this.intensity=o/Math.PI}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.distance=o.distance,this.angle=o.angle,this.penumbra=o.penumbra,this.decay=o.decay,this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}Ap.prototype.isSpotLight=!0;const H0=new Hn,Pp=new Ze,Dm=new Ze;class m1 extends Lm{constructor(){super(new no(90,1,.5,500));this._frameExtents=new Vn(4,2),this._viewportCount=6,this._viewports=[new Ki(2,1,1,1),new Ki(0,1,1,1),new Ki(3,1,1,1),new Ki(1,1,1,1),new Ki(3,0,1,1),new Ki(1,0,1,1)],this._cubeDirections=[new Ze(1,0,0),new Ze(-1,0,0),new Ze(0,0,1),new Ze(0,0,-1),new Ze(0,1,0),new Ze(0,-1,0)],this._cubeUps=[new Ze(0,1,0),new Ze(0,1,0),new Ze(0,1,0),new Ze(0,1,0),new Ze(0,0,1),new Ze(0,0,-1)]}updateMatrices(o,c=0){const p=this.camera,m=this.matrix,x=o.distance||p.far;x!==p.far&&(p.far=x,p.updateProjectionMatrix()),Pp.setFromMatrixPosition(o.matrixWorld),p.position.copy(Pp),Dm.copy(p.position),Dm.add(this._cubeDirections[c]),p.up.copy(this._cubeUps[c]),p.lookAt(Dm),p.updateMatrixWorld(),m.makeTranslation(-Pp.x,-Pp.y,-Pp.z),H0.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),this._frustum.setFromProjectionMatrix(H0)}}m1.prototype.isPointLightShadow=!0;class G0 extends ql{constructor(o,c,p=0,m=1){super(o,c);this.type="PointLight",this.distance=p,this.decay=m,this.shadow=new m1}get power(){return this.intensity*4*Math.PI}set power(o){this.intensity=o/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.distance=o.distance,this.decay=o.decay,this.shadow=o.shadow.clone(),this}}G0.prototype.isPointLight=!0;class Ys extends Lm{constructor(){super(new Rs(-5,5,5,-5,.5,500))}}Ys.prototype.isDirectionalLightShadow=!0;class og extends ql{constructor(o,c){super(o,c);this.type="DirectionalLight",this.position.copy(La.DefaultUp),this.updateMatrix(),this.target=new La,this.shadow=new Ys}dispose(){this.shadow.dispose()}copy(o){return super.copy(o),this.target=o.target.clone(),this.shadow=o.shadow.clone(),this}}og.prototype.isDirectionalLight=!0;class Rm extends ql{constructor(o,c){super(o,c);this.type="AmbientLight"}}Rm.prototype.isAmbientLight=!0;class U0 extends ql{constructor(o,c,p=10,m=10){super(o,c);this.type="RectAreaLight",this.width=p,this.height=m}get power(){return this.intensity*this.width*this.height*Math.PI}set power(o){this.intensity=o/(this.width*this.height*Math.PI)}copy(o){return super.copy(o),this.width=o.width,this.height=o.height,this}toJSON(o){const c=super.toJSON(o);return c.object.width=this.width,c.object.height=this.height,c}}U0.prototype.isRectAreaLight=!0;class y1{constructor(){this.coefficients=[];for(let o=0;o<9;o++)this.coefficients.push(new Ze)}set(o){for(let c=0;c<9;c++)this.coefficients[c].copy(o[c]);return this}zero(){for(let o=0;o<9;o++)this.coefficients[o].set(0,0,0);return this}getAt(o,c){const p=o.x,m=o.y,x=o.z,_=this.coefficients;return c.copy(_[0]).multiplyScalar(.282095),c.addScaledVector(_[1],.488603*m),c.addScaledVector(_[2],.488603*x),c.addScaledVector(_[3],.488603*p),c.addScaledVector(_[4],1.092548*(p*m)),c.addScaledVector(_[5],1.092548*(m*x)),c.addScaledVector(_[6],.315392*(3*x*x-1)),c.addScaledVector(_[7],1.092548*(p*x)),c.addScaledVector(_[8],.546274*(p*p-m*m)),c}getIrradianceAt(o,c){const p=o.x,m=o.y,x=o.z,_=this.coefficients;return c.copy(_[0]).multiplyScalar(.886227),c.addScaledVector(_[1],2*.511664*m),c.addScaledVector(_[2],2*.511664*x),c.addScaledVector(_[3],2*.511664*p),c.addScaledVector(_[4],2*.429043*p*m),c.addScaledVector(_[5],2*.429043*m*x),c.addScaledVector(_[6],.743125*x*x-.247708),c.addScaledVector(_[7],2*.429043*p*x),c.addScaledVector(_[8],.429043*(p*p-m*m)),c}add(o){for(let c=0;c<9;c++)this.coefficients[c].add(o.coefficients[c]);return this}addScaledSH(o,c){for(let p=0;p<9;p++)this.coefficients[p].addScaledVector(o.coefficients[p],c);return this}scale(o){for(let c=0;c<9;c++)this.coefficients[c].multiplyScalar(o);return this}lerp(o,c){for(let p=0;p<9;p++)this.coefficients[p].lerp(o.coefficients[p],c);return this}equals(o){for(let c=0;c<9;c++)if(!this.coefficients[c].equals(o.coefficients[c]))return!1;return!0}copy(o){return this.set(o.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(o,c=0){const p=this.coefficients;for(let m=0;m<9;m++)p[m].fromArray(o,c+m*3);return this}toArray(o=[],c=0){const p=this.coefficients;for(let m=0;m<9;m++)p[m].toArray(o,c+m*3);return o}static getBasisAt(o,c){const p=o.x,m=o.y,x=o.z;c[0]=.282095,c[1]=.488603*m,c[2]=.488603*x,c[3]=.488603*p,c[4]=1.092548*p*m,c[5]=1.092548*m*x,c[6]=.315392*(3*x*x-1),c[7]=1.092548*p*x,c[8]=.546274*(p*p-m*m)}}y1.prototype.isSphericalHarmonics3=!0;class Im extends ql{constructor(o=new y1,c=1){super(void 0,c);this.sh=o}copy(o){return super.copy(o),this.sh.copy(o.sh),this}fromJSON(o){return this.intensity=o.intensity,this.sh.fromArray(o.sh),this}toJSON(o){const c=super.toJSON(o);return c.object.sh=this.sh.toArray(),c}}Im.prototype.isLightProbe=!0;class b1 extends bl{constructor(o){super(o);this.textures={}}load(o,c,p,m){const x=this,_=new cf(x.manager);_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(o,function(T){try{c(x.parse(JSON.parse(T)))}catch(A){m?m(A):console.error(A),x.manager.itemError(o)}},p,m)}parse(o){const c=this.textures;function p(x){return c[x]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",x),c[x]}const m=new $w[o.type];if(o.uuid!==void 0&&(m.uuid=o.uuid),o.name!==void 0&&(m.name=o.name),o.color!==void 0&&m.color!==void 0&&m.color.setHex(o.color),o.roughness!==void 0&&(m.roughness=o.roughness),o.metalness!==void 0&&(m.metalness=o.metalness),o.sheen!==void 0&&(m.sheen=o.sheen),o.sheenColor!==void 0&&(m.sheenColor=new nr().setHex(o.sheenColor)),o.sheenRoughness!==void 0&&(m.sheenRoughness=o.sheenRoughness),o.emissive!==void 0&&m.emissive!==void 0&&m.emissive.setHex(o.emissive),o.specular!==void 0&&m.specular!==void 0&&m.specular.setHex(o.specular),o.specularIntensity!==void 0&&(m.specularIntensity=o.specularIntensity),o.specularColor!==void 0&&m.specularColor!==void 0&&m.specularColor.setHex(o.specularColor),o.shininess!==void 0&&(m.shininess=o.shininess),o.clearcoat!==void 0&&(m.clearcoat=o.clearcoat),o.clearcoatRoughness!==void 0&&(m.clearcoatRoughness=o.clearcoatRoughness),o.transmission!==void 0&&(m.transmission=o.transmission),o.thickness!==void 0&&(m.thickness=o.thickness),o.attenuationDistance!==void 0&&(m.attenuationDistance=o.attenuationDistance),o.attenuationColor!==void 0&&m.attenuationColor!==void 0&&m.attenuationColor.setHex(o.attenuationColor),o.fog!==void 0&&(m.fog=o.fog),o.flatShading!==void 0&&(m.flatShading=o.flatShading),o.blending!==void 0&&(m.blending=o.blending),o.combine!==void 0&&(m.combine=o.combine),o.side!==void 0&&(m.side=o.side),o.shadowSide!==void 0&&(m.shadowSide=o.shadowSide),o.opacity!==void 0&&(m.opacity=o.opacity),o.format!==void 0&&(m.format=o.format),o.transparent!==void 0&&(m.transparent=o.transparent),o.alphaTest!==void 0&&(m.alphaTest=o.alphaTest),o.depthTest!==void 0&&(m.depthTest=o.depthTest),o.depthWrite!==void 0&&(m.depthWrite=o.depthWrite),o.colorWrite!==void 0&&(m.colorWrite=o.colorWrite),o.stencilWrite!==void 0&&(m.stencilWrite=o.stencilWrite),o.stencilWriteMask!==void 0&&(m.stencilWriteMask=o.stencilWriteMask),o.stencilFunc!==void 0&&(m.stencilFunc=o.stencilFunc),o.stencilRef!==void 0&&(m.stencilRef=o.stencilRef),o.stencilFuncMask!==void 0&&(m.stencilFuncMask=o.stencilFuncMask),o.stencilFail!==void 0&&(m.stencilFail=o.stencilFail),o.stencilZFail!==void 0&&(m.stencilZFail=o.stencilZFail),o.stencilZPass!==void 0&&(m.stencilZPass=o.stencilZPass),o.wireframe!==void 0&&(m.wireframe=o.wireframe),o.wireframeLinewidth!==void 0&&(m.wireframeLinewidth=o.wireframeLinewidth),o.wireframeLinecap!==void 0&&(m.wireframeLinecap=o.wireframeLinecap),o.wireframeLinejoin!==void 0&&(m.wireframeLinejoin=o.wireframeLinejoin),o.rotation!==void 0&&(m.rotation=o.rotation),o.linewidth!==1&&(m.linewidth=o.linewidth),o.dashSize!==void 0&&(m.dashSize=o.dashSize),o.gapSize!==void 0&&(m.gapSize=o.gapSize),o.scale!==void 0&&(m.scale=o.scale),o.polygonOffset!==void 0&&(m.polygonOffset=o.polygonOffset),o.polygonOffsetFactor!==void 0&&(m.polygonOffsetFactor=o.polygonOffsetFactor),o.polygonOffsetUnits!==void 0&&(m.polygonOffsetUnits=o.polygonOffsetUnits),o.dithering!==void 0&&(m.dithering=o.dithering),o.alphaToCoverage!==void 0&&(m.alphaToCoverage=o.alphaToCoverage),o.premultipliedAlpha!==void 0&&(m.premultipliedAlpha=o.premultipliedAlpha),o.visible!==void 0&&(m.visible=o.visible),o.toneMapped!==void 0&&(m.toneMapped=o.toneMapped),o.userData!==void 0&&(m.userData=o.userData),o.vertexColors!==void 0&&(typeof o.vertexColors=="number"?m.vertexColors=o.vertexColors>0:m.vertexColors=o.vertexColors),o.uniforms!==void 0)for(const x in o.uniforms){const _=o.uniforms[x];switch(m.uniforms[x]={},_.type){case"t":m.uniforms[x].value=p(_.value);break;case"c":m.uniforms[x].value=new nr().setHex(_.value);break;case"v2":m.uniforms[x].value=new Vn().fromArray(_.value);break;case"v3":m.uniforms[x].value=new Ze().fromArray(_.value);break;case"v4":m.uniforms[x].value=new Ki().fromArray(_.value);break;case"m3":m.uniforms[x].value=new oo().fromArray(_.value);break;case"m4":m.uniforms[x].value=new Hn().fromArray(_.value);break;default:m.uniforms[x].value=_.value}}if(o.defines!==void 0&&(m.defines=o.defines),o.vertexShader!==void 0&&(m.vertexShader=o.vertexShader),o.fragmentShader!==void 0&&(m.fragmentShader=o.fragmentShader),o.extensions!==void 0)for(const x in o.extensions)m.extensions[x]=o.extensions[x];if(o.shading!==void 0&&(m.flatShading=o.shading===1),o.size!==void 0&&(m.size=o.size),o.sizeAttenuation!==void 0&&(m.sizeAttenuation=o.sizeAttenuation),o.map!==void 0&&(m.map=p(o.map)),o.matcap!==void 0&&(m.matcap=p(o.matcap)),o.alphaMap!==void 0&&(m.alphaMap=p(o.alphaMap)),o.bumpMap!==void 0&&(m.bumpMap=p(o.bumpMap)),o.bumpScale!==void 0&&(m.bumpScale=o.bumpScale),o.normalMap!==void 0&&(m.normalMap=p(o.normalMap)),o.normalMapType!==void 0&&(m.normalMapType=o.normalMapType),o.normalScale!==void 0){let x=o.normalScale;Array.isArray(x)===!1&&(x=[x,x]),m.normalScale=new Vn().fromArray(x)}return o.displacementMap!==void 0&&(m.displacementMap=p(o.displacementMap)),o.displacementScale!==void 0&&(m.displacementScale=o.displacementScale),o.displacementBias!==void 0&&(m.displacementBias=o.displacementBias),o.roughnessMap!==void 0&&(m.roughnessMap=p(o.roughnessMap)),o.metalnessMap!==void 0&&(m.metalnessMap=p(o.metalnessMap)),o.emissiveMap!==void 0&&(m.emissiveMap=p(o.emissiveMap)),o.emissiveIntensity!==void 0&&(m.emissiveIntensity=o.emissiveIntensity),o.specularMap!==void 0&&(m.specularMap=p(o.specularMap)),o.specularIntensityMap!==void 0&&(m.specularIntensityMap=p(o.specularIntensityMap)),o.specularColorMap!==void 0&&(m.specularColorMap=p(o.specularColorMap)),o.envMap!==void 0&&(m.envMap=p(o.envMap)),o.envMapIntensity!==void 0&&(m.envMapIntensity=o.envMapIntensity),o.reflectivity!==void 0&&(m.reflectivity=o.reflectivity),o.refractionRatio!==void 0&&(m.refractionRatio=o.refractionRatio),o.lightMap!==void 0&&(m.lightMap=p(o.lightMap)),o.lightMapIntensity!==void 0&&(m.lightMapIntensity=o.lightMapIntensity),o.aoMap!==void 0&&(m.aoMap=p(o.aoMap)),o.aoMapIntensity!==void 0&&(m.aoMapIntensity=o.aoMapIntensity),o.gradientMap!==void 0&&(m.gradientMap=p(o.gradientMap)),o.clearcoatMap!==void 0&&(m.clearcoatMap=p(o.clearcoatMap)),o.clearcoatRoughnessMap!==void 0&&(m.clearcoatRoughnessMap=p(o.clearcoatRoughnessMap)),o.clearcoatNormalMap!==void 0&&(m.clearcoatNormalMap=p(o.clearcoatNormalMap)),o.clearcoatNormalScale!==void 0&&(m.clearcoatNormalScale=new Vn().fromArray(o.clearcoatNormalScale)),o.transmissionMap!==void 0&&(m.transmissionMap=p(o.transmissionMap)),o.thicknessMap!==void 0&&(m.thicknessMap=p(o.thicknessMap)),o.sheenColorMap!==void 0&&(m.sheenColorMap=p(o.sheenColorMap)),o.sheenRoughnessMap!==void 0&&(m.sheenRoughnessMap=p(o.sheenRoughnessMap)),m}setTextures(o){return this.textures=o,this}}class Nm{static decodeText(o){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(o);let c="";for(let p=0,m=o.length;p<m;p++)c+=String.fromCharCode(o[p]);try{return decodeURIComponent(escape(c))}catch(p){return c}}static extractUrlBase(o){const c=o.lastIndexOf("/");return c===-1?"./":o.substr(0,c+1)}static resolveURL(o,c){return typeof o!="string"||o===""?"":(/^https?:\/\//i.test(c)&&/^\//.test(o)&&(c=c.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(o)||/^data:.*,.*$/i.test(o)||/^blob:.*$/i.test(o)?o:c+o)}}class km extends _i{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=Infinity}copy(o){return super.copy(o),this.instanceCount=o.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const o=super.toJSON(this);return o.instanceCount=this.instanceCount,o.isInstancedBufferGeometry=!0,o}}km.prototype.isInstancedBufferGeometry=!0;class nM extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=new cf(x.manager);_.setPath(x.path),_.setRequestHeader(x.requestHeader),_.setWithCredentials(x.withCredentials),_.load(o,function(T){try{c(x.parse(JSON.parse(T)))}catch(A){m?m(A):console.error(A),x.manager.itemError(o)}},p,m)}parse(o){const c={},p={};function m(K,te){if(c[te]!==void 0)return c[te];const Le=K.interleavedBuffers[te],ne=x(K,Le.buffer),q=Wl(Le.type,ne),Fe=new lh(q,Le.stride);return Fe.uuid=Le.uuid,c[te]=Fe,Fe}function x(K,te){if(p[te]!==void 0)return p[te];const Le=K.arrayBuffers[te],ne=new Uint32Array(Le).buffer;return p[te]=ne,ne}const _=o.isInstancedBufferGeometry?new km:new _i,T=o.data.index;if(T!==void 0){const K=Wl(T.type,T.array);_.setIndex(new Va(K,1))}const A=o.data.attributes;for(const K in A){const te=A[K];let ce;if(te.isInterleavedBufferAttribute){const Le=m(o.data,te.data);ce=new Ns(Le,te.itemSize,te.offset,te.normalized)}else{const Le=Wl(te.type,te.array),ne=te.isInstancedBufferAttribute?Ic:Va;ce=new ne(Le,te.itemSize,te.normalized)}te.name!==void 0&&(ce.name=te.name),te.usage!==void 0&&ce.setUsage(te.usage),te.updateRange!==void 0&&(ce.updateRange.offset=te.updateRange.offset,ce.updateRange.count=te.updateRange.count),_.setAttribute(K,ce)}const L=o.data.morphAttributes;if(L)for(const K in L){const te=L[K],ce=[];for(let Le=0,ne=te.length;Le<ne;Le++){const q=te[Le];let Fe;if(q.isInterleavedBufferAttribute){const Te=m(o.data,q.data);Fe=new Ns(Te,q.itemSize,q.offset,q.normalized)}else{const Te=Wl(q.type,q.array);Fe=new Va(Te,q.itemSize,q.normalized)}q.name!==void 0&&(Fe.name=q.name),ce.push(Fe)}_.morphAttributes[K]=ce}o.data.morphTargetsRelative&&(_.morphTargetsRelative=!0);const U=o.data.groups||o.data.drawcalls||o.data.offsets;if(U!==void 0)for(let K=0,te=U.length;K!==te;++K){const ce=U[K];_.addGroup(ce.start,ce.count,ce.materialIndex)}const G=o.data.boundingSphere;if(G!==void 0){const K=new Ze;G.center!==void 0&&K.fromArray(G.center),_.boundingSphere=new uu(K,G.radius)}return o.name&&(_.name=o.name),o.userData&&(_.userData=o.userData),_}}class vO extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=this.path===""?Nm.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||_;const T=new cf(this.manager);T.setPath(this.path),T.setRequestHeader(this.requestHeader),T.setWithCredentials(this.withCredentials),T.load(o,function(A){let L=null;try{L=JSON.parse(A)}catch(U){m!==void 0&&m(U),console.error("THREE:ObjectLoader: Can't parse "+o+".",U.message);return}const z=L.metadata;if(z===void 0||z.type===void 0||z.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+o);return}x.parse(L,c)},p,m)}loadAsync(o,c){return Sy(this,null,function*(){const p=this,m=this.path===""?Nm.extractUrlBase(o):this.path;this.resourcePath=this.resourcePath||m;const x=new cf(this.manager);x.setPath(this.path),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials);const _=yield x.loadAsync(o,c),T=JSON.parse(_),A=T.metadata;if(A===void 0||A.type===void 0||A.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+o);return yield p.parseAsync(T)})}parse(o,c){const p=this.parseAnimations(o.animations),m=this.parseShapes(o.shapes),x=this.parseGeometries(o.geometries,m),_=this.parseImages(o.images,function(){c!==void 0&&c(L)}),T=this.parseTextures(o.textures,_),A=this.parseMaterials(o.materials,T),L=this.parseObject(o.object,x,A,T,p),z=this.parseSkeletons(o.skeletons,L);if(this.bindSkeletons(L,z),c!==void 0){let U=!1;for(const G in _)if(_[G]instanceof HTMLImageElement){U=!0;break}U===!1&&c(L)}return L}parseAsync(o){return Sy(this,null,function*(){const c=this.parseAnimations(o.animations),p=this.parseShapes(o.shapes),m=this.parseGeometries(o.geometries,p),x=yield this.parseImagesAsync(o.images),_=this.parseTextures(o.textures,x),T=this.parseMaterials(o.materials,_),A=this.parseObject(o.object,m,T,_,c),L=this.parseSkeletons(o.skeletons,A);return this.bindSkeletons(A,L),A})}parseShapes(o){const c={};if(o!==void 0)for(let p=0,m=o.length;p<m;p++){const x=new Hf().fromJSON(o[p]);c[x.uuid]=x}return c}parseSkeletons(o,c){const p={},m={};if(c.traverse(function(x){x.isBone&&(m[x.uuid]=x)}),o!==void 0)for(let x=0,_=o.length;x<_;x++){const T=new Vv().fromJSON(o[x],m);p[T.uuid]=T}return p}parseGeometries(o,c){const p={};if(o!==void 0){const m=new nM;for(let x=0,_=o.length;x<_;x++){let T;const A=o[x];switch(A.type){case"BufferGeometry":case"InstancedBufferGeometry":T=m.parse(A);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:A.type in Em?T=Em[A.type].fromJSON(A,c):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${A.type}"`)}T.uuid=A.uuid,A.name!==void 0&&(T.name=A.name),T.isBufferGeometry===!0&&A.userData!==void 0&&(T.userData=A.userData),p[A.uuid]=T}}return p}parseMaterials(o,c){const p={},m={};if(o!==void 0){const x=new b1;x.setTextures(c);for(let _=0,T=o.length;_<T;_++){const A=o[_];if(A.type==="MultiMaterial"){const L=[];for(let z=0;z<A.materials.length;z++){const U=A.materials[z];p[U.uuid]===void 0&&(p[U.uuid]=x.parse(U)),L.push(p[U.uuid])}m[A.uuid]=L}else p[A.uuid]===void 0&&(p[A.uuid]=x.parse(A)),m[A.uuid]=p[A.uuid]}}return m}parseAnimations(o){const c={};if(o!==void 0)for(let p=0;p<o.length;p++){const m=o[p],x=ig.parse(m);c[x.uuid]=x}return c}parseImages(o,c){const p=this,m={};let x;function _(A){return p.manager.itemStart(A),x.load(A,function(){p.manager.itemEnd(A)},void 0,function(){p.manager.itemError(A),p.manager.itemEnd(A)})}function T(A){if(typeof A=="string"){const L=A,z=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(L)?L:p.resourcePath+L;return _(z)}else return A.data?{data:Wl(A.type,A.data),width:A.width,height:A.height}:null}if(o!==void 0&&o.length>0){const A=new h1(c);x=new ag(A),x.setCrossOrigin(this.crossOrigin);for(let L=0,z=o.length;L<z;L++){const U=o[L],G=U.url;if(Array.isArray(G)){m[U.uuid]=[];for(let K=0,te=G.length;K<te;K++){const ce=G[K],Le=T(ce);Le!==null&&(Le instanceof HTMLImageElement?m[U.uuid].push(Le):m[U.uuid].push(new Rc(Le.data,Le.width,Le.height)))}}else{const K=T(U.url);K!==null&&(m[U.uuid]=K)}}}return m}parseImagesAsync(o){return Sy(this,null,function*(){const c=this,p={};let m;function x(_){return Sy(this,null,function*(){if(typeof _=="string"){const T=_,A=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(T)?T:c.resourcePath+T;return yield m.loadAsync(A)}else return _.data?{data:Wl(_.type,_.data),width:_.width,height:_.height}:null})}if(o!==void 0&&o.length>0){m=new ag(this.manager),m.setCrossOrigin(this.crossOrigin);for(let _=0,T=o.length;_<T;_++){const A=o[_],L=A.url;if(Array.isArray(L)){p[A.uuid]=[];for(let z=0,U=L.length;z<U;z++){const G=L[z],K=yield x(G);K!==null&&(K instanceof HTMLImageElement?p[A.uuid].push(K):p[A.uuid].push(new Rc(K.data,K.width,K.height)))}}else{const z=yield x(A.url);z!==null&&(p[A.uuid]=z)}}}return p})}parseTextures(o,c){function p(x,_){return typeof x=="number"?x:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",x),_[x])}const m={};if(o!==void 0)for(let x=0,_=o.length;x<_;x++){const T=o[x];T.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',T.uuid),c[T.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",T.image);let A;const L=c[T.image];Array.isArray(L)?(A=new Oc(L),L.length===6&&(A.needsUpdate=!0)):(L&&L.data?A=new Rc(L.data,L.width,L.height):A=new ri(L),L&&(A.needsUpdate=!0)),A.uuid=T.uuid,T.name!==void 0&&(A.name=T.name),T.mapping!==void 0&&(A.mapping=p(T.mapping,x1)),T.offset!==void 0&&A.offset.fromArray(T.offset),T.repeat!==void 0&&A.repeat.fromArray(T.repeat),T.center!==void 0&&A.center.fromArray(T.center),T.rotation!==void 0&&(A.rotation=T.rotation),T.wrap!==void 0&&(A.wrapS=p(T.wrap[0],S1),A.wrapT=p(T.wrap[1],S1)),T.format!==void 0&&(A.format=T.format),T.type!==void 0&&(A.type=T.type),T.encoding!==void 0&&(A.encoding=T.encoding),T.minFilter!==void 0&&(A.minFilter=p(T.minFilter,W0)),T.magFilter!==void 0&&(A.magFilter=p(T.magFilter,W0)),T.anisotropy!==void 0&&(A.anisotropy=T.anisotropy),T.flipY!==void 0&&(A.flipY=T.flipY),T.premultiplyAlpha!==void 0&&(A.premultiplyAlpha=T.premultiplyAlpha),T.unpackAlignment!==void 0&&(A.unpackAlignment=T.unpackAlignment),T.userData!==void 0&&(A.userData=T.userData),m[T.uuid]=A}return m}parseObject(o,c,p,m,x){let _;function T(G){return c[G]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",G),c[G]}function A(G){if(G!==void 0){if(Array.isArray(G)){const K=[];for(let te=0,ce=G.length;te<ce;te++){const Le=G[te];p[Le]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Le),K.push(p[Le])}return K}return p[G]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",G),p[G]}}function L(G){return m[G]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",G),m[G]}let z,U;switch(o.type){case"Scene":_=new nf,o.background!==void 0&&(Number.isInteger(o.background)?_.background=new nr(o.background):_.background=L(o.background)),o.environment!==void 0&&(_.environment=L(o.environment)),o.fog!==void 0&&(o.fog.type==="Fog"?_.fog=new fp(o.fog.color,o.fog.near,o.fog.far):o.fog.type==="FogExp2"&&(_.fog=new cp(o.fog.color,o.fog.density)));break;case"PerspectiveCamera":_=new no(o.fov,o.aspect,o.near,o.far),o.focus!==void 0&&(_.focus=o.focus),o.zoom!==void 0&&(_.zoom=o.zoom),o.filmGauge!==void 0&&(_.filmGauge=o.filmGauge),o.filmOffset!==void 0&&(_.filmOffset=o.filmOffset),o.view!==void 0&&(_.view=Object.assign({},o.view));break;case"OrthographicCamera":_=new Rs(o.left,o.right,o.top,o.bottom,o.near,o.far),o.zoom!==void 0&&(_.zoom=o.zoom),o.view!==void 0&&(_.view=Object.assign({},o.view));break;case"AmbientLight":_=new Rm(o.color,o.intensity);break;case"DirectionalLight":_=new og(o.color,o.intensity);break;case"PointLight":_=new G0(o.color,o.intensity,o.distance,o.decay);break;case"RectAreaLight":_=new U0(o.color,o.intensity,o.width,o.height);break;case"SpotLight":_=new Ap(o.color,o.intensity,o.distance,o.angle,o.penumbra,o.decay);break;case"HemisphereLight":_=new v1(o.color,o.groundColor,o.intensity);break;case"LightProbe":_=new Im().fromJSON(o);break;case"SkinnedMesh":z=T(o.geometry),U=A(o.material),_=new zv(z,U),o.bindMode!==void 0&&(_.bindMode=o.bindMode),o.bindMatrix!==void 0&&_.bindMatrix.fromArray(o.bindMatrix),o.skeleton!==void 0&&(_.skeleton=o.skeleton);break;case"Mesh":z=T(o.geometry),U=A(o.material),_=new _s(z,U);break;case"InstancedMesh":z=T(o.geometry),U=A(o.material);const G=o.count,K=o.instanceMatrix,te=o.instanceColor;_=new wu(z,U,G),_.instanceMatrix=new Ic(new Float32Array(K.array),16),te!==void 0&&(_.instanceColor=new Ic(new Float32Array(te.array),te.itemSize));break;case"LOD":_=new ks;break;case"Line":_=new of(T(o.geometry),A(o.material));break;case"LineLoop":_=new Hv(T(o.geometry),A(o.material));break;case"LineSegments":_=new Bl(T(o.geometry),A(o.material));break;case"PointCloud":case"Points":_=new Gv(T(o.geometry),A(o.material));break;case"Sprite":_=new zf(A(o.material));break;case"Group":_=new tf;break;case"Bone":_=new gm;break;default:_=new La}if(_.uuid=o.uuid,o.name!==void 0&&(_.name=o.name),o.matrix!==void 0?(_.matrix.fromArray(o.matrix),o.matrixAutoUpdate!==void 0&&(_.matrixAutoUpdate=o.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(o.position!==void 0&&_.position.fromArray(o.position),o.rotation!==void 0&&_.rotation.fromArray(o.rotation),o.quaternion!==void 0&&_.quaternion.fromArray(o.quaternion),o.scale!==void 0&&_.scale.fromArray(o.scale)),o.castShadow!==void 0&&(_.castShadow=o.castShadow),o.receiveShadow!==void 0&&(_.receiveShadow=o.receiveShadow),o.shadow&&(o.shadow.bias!==void 0&&(_.shadow.bias=o.shadow.bias),o.shadow.normalBias!==void 0&&(_.shadow.normalBias=o.shadow.normalBias),o.shadow.radius!==void 0&&(_.shadow.radius=o.shadow.radius),o.shadow.mapSize!==void 0&&_.shadow.mapSize.fromArray(o.shadow.mapSize),o.shadow.camera!==void 0&&(_.shadow.camera=this.parseObject(o.shadow.camera))),o.visible!==void 0&&(_.visible=o.visible),o.frustumCulled!==void 0&&(_.frustumCulled=o.frustumCulled),o.renderOrder!==void 0&&(_.renderOrder=o.renderOrder),o.userData!==void 0&&(_.userData=o.userData),o.layers!==void 0&&(_.layers.mask=o.layers),o.children!==void 0){const G=o.children;for(let K=0;K<G.length;K++)_.add(this.parseObject(G[K],c,p,m,x))}if(o.animations!==void 0){const G=o.animations;for(let K=0;K<G.length;K++){const te=G[K];_.animations.push(x[te])}}if(o.type==="LOD"){o.autoUpdate!==void 0&&(_.autoUpdate=o.autoUpdate);const G=o.levels;for(let K=0;K<G.length;K++){const te=G[K],ce=_.getObjectByProperty("uuid",te.object);ce!==void 0&&_.addLevel(ce,te.distance)}}return _}bindSkeletons(o,c){Object.keys(c).length!==0&&o.traverse(function(p){if(p.isSkinnedMesh===!0&&p.skeleton!==void 0){const m=c[p.skeleton];m===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",p.skeleton):p.bind(m,p.bindMatrix)}})}setTexturePath(o){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(o)}}const x1={UVMapping:V,CubeReflectionMapping:B,CubeRefractionMapping:J,EquirectangularReflectionMapping:Oe,EquirectangularRefractionMapping:nt,CubeUVReflectionMapping:ut,CubeUVRefractionMapping:Jt},S1={RepeatWrapping:pn,ClampToEdgeWrapping:hn,MirroredRepeatWrapping:Ln},W0={NearestFilter:Se,NearestMipmapNearestFilter:Ee,NearestMipmapLinearFilter:Ie,LinearFilter:Ke,LinearMipmapNearestFilter:We,LinearMipmapLinearFilter:ot};class K0 extends bl{constructor(o){super(o);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(o){return this.options=o,this}load(o,c,p,m){o===void 0&&(o=""),this.path!==void 0&&(o=this.path+o),o=this.manager.resolveURL(o);const x=this,_=Op.get(o);if(_!==void 0)return x.manager.itemStart(o),setTimeout(function(){c&&c(_),x.manager.itemEnd(o)},0),_;const T={};T.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",T.headers=this.requestHeader,fetch(o,T).then(function(A){return A.blob()}).then(function(A){return createImageBitmap(A,Object.assign(x.options,{colorSpaceConversion:"none"}))}).then(function(A){Op.add(o,A),c&&c(A),x.manager.itemEnd(o)}).catch(function(A){m&&m(A),x.manager.itemError(o),x.manager.itemEnd(o)}),x.manager.itemStart(o)}}K0.prototype.isImageBitmapLoader=!0;let Lp;const Y0={getContext:function(){return Lp===void 0&&(Lp=new(window.AudioContext||window.webkitAudioContext)),Lp},setContext:function(w){Lp=w}};class rM extends bl{constructor(o){super(o)}load(o,c,p,m){const x=this,_=new cf(this.manager);_.setResponseType("arraybuffer"),_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(o,function(T){try{const A=T.slice(0);Y0.getContext().decodeAudioData(A,function(z){c(z)})}catch(A){m?m(A):console.error(A),x.manager.itemError(o)}},p,m)}}class Td extends Im{constructor(o,c,p=1){super(void 0,p);const m=new nr().set(o),x=new nr().set(c),_=new Ze(m.r,m.g,m.b),T=new Ze(x.r,x.g,x.b),A=Math.sqrt(Math.PI),L=A*Math.sqrt(.75);this.sh.coefficients[0].copy(_).add(T).multiplyScalar(A),this.sh.coefficients[1].copy(_).sub(T).multiplyScalar(L)}}Td.prototype.isHemisphereLightProbe=!0;class jm extends Im{constructor(o,c=1){super(void 0,c);const p=new nr().set(o);this.sh.coefficients[0].set(p.r,p.g,p.b).multiplyScalar(2*Math.sqrt(Math.PI))}}jm.prototype.isAmbientLightProbe=!0;const sg=new Hn,lg=new Hn;class iM{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new no,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new no,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(o){const c=this._cache;if(c.focus!==o.focus||c.fov!==o.fov||c.aspect!==o.aspect*this.aspect||c.near!==o.near||c.far!==o.far||c.zoom!==o.zoom||c.eyeSep!==this.eyeSep){c.focus=o.focus,c.fov=o.fov,c.aspect=o.aspect*this.aspect,c.near=o.near,c.far=o.far,c.zoom=o.zoom,c.eyeSep=this.eyeSep;const m=o.projectionMatrix.clone(),x=c.eyeSep/2,_=x*c.near/c.focus,T=c.near*Math.tan(as*c.fov*.5)/c.zoom;let A,L;lg.elements[12]=-x,sg.elements[12]=x,A=-T*c.aspect+_,L=T*c.aspect+_,m.elements[0]=2*c.near/(L-A),m.elements[8]=(L+A)/(L-A),this.cameraL.projectionMatrix.copy(m),A=-T*c.aspect-_,L=T*c.aspect-_,m.elements[0]=2*c.near/(L-A),m.elements[8]=(L+A)/(L-A),this.cameraR.projectionMatrix.copy(m)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(lg),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(sg)}}class w1{constructor(o=!0){this.autoStart=o,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=M1(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let o=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const c=M1();o=(c-this.oldTime)/1e3,this.oldTime=c,this.elapsedTime+=o}return o}}function M1(){return(typeof performance=="undefined"?Date:performance).now()}const mh=new Ze,_1=new Oo,C1=new Ze,yh=new Ze;class T1 extends La{constructor(){super();this.type="AudioListener",this.context=Y0.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new w1}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(o){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=o,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}updateMatrixWorld(o){super.updateMatrixWorld(o);const c=this.context.listener,p=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mh,_1,C1),yh.set(0,0,-1).applyQuaternion(_1),c.positionX){const m=this.context.currentTime+this.timeDelta;c.positionX.linearRampToValueAtTime(mh.x,m),c.positionY.linearRampToValueAtTime(mh.y,m),c.positionZ.linearRampToValueAtTime(mh.z,m),c.forwardX.linearRampToValueAtTime(yh.x,m),c.forwardY.linearRampToValueAtTime(yh.y,m),c.forwardZ.linearRampToValueAtTime(yh.z,m),c.upX.linearRampToValueAtTime(p.x,m),c.upY.linearRampToValueAtTime(p.y,m),c.upZ.linearRampToValueAtTime(p.z,m)}else c.setPosition(mh.x,mh.y,mh.z),c.setOrientation(yh.x,yh.y,yh.z,p.x,p.y,p.z)}}class Io extends La{constructor(o){super();this.type="Audio",this.listener=o,this.context=o.context,this.gain=this.context.createGain(),this.gain.connect(o.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(o){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=o,this.connect(),this}setMediaElementSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(o),this.connect(),this}setMediaStreamSource(o){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(o),this.connect(),this}setBuffer(o){return this.buffer=o,this.sourceType="buffer",this.autoplay&&this.play(),this}play(o=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+o;const c=this.context.createBufferSource();return c.buffer=this.buffer,c.loop=this.loop,c.loopStart=this.loopStart,c.loopEnd=this.loopEnd,c.onended=this.onEnded.bind(this),c.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=c,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let o=1,c=this.filters.length;o<c;o++)this.filters[o-1].connect(this.filters[o]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let o=1,c=this.filters.length;o<c;o++)this.filters[o-1].disconnect(this.filters[o]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(o){return o||(o=[]),this._connected===!0?(this.disconnect(),this.filters=o.slice(),this.connect()):this.filters=o.slice(),this}setDetune(o){if(this.detune=o,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(o){return this.setFilters(o?[o]:[])}setPlaybackRate(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=o,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(o){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=o,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(o){return this.loopStart=o,this}setLoopEnd(o){return this.loopEnd=o,this}getVolume(){return this.gain.gain.value}setVolume(o){return this.gain.gain.setTargetAtTime(o,this.context.currentTime,.01),this}}const Kf=new Ze,Xo=new Oo,Dp=new Ze,cc=new Ze;class gO extends Io{constructor(o){super(o);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(o){return this.panner.refDistance=o,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(o){return this.panner.rolloffFactor=o,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(o){return this.panner.distanceModel=o,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(o){return this.panner.maxDistance=o,this}setDirectionalCone(o,c,p){return this.panner.coneInnerAngle=o,this.panner.coneOuterAngle=c,this.panner.coneOuterGain=p,this}updateMatrixWorld(o){if(super.updateMatrixWorld(o),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Kf,Xo,Dp),cc.set(0,0,1).applyQuaternion(Xo);const c=this.panner;if(c.positionX){const p=this.context.currentTime+this.listener.timeDelta;c.positionX.linearRampToValueAtTime(Kf.x,p),c.positionY.linearRampToValueAtTime(Kf.y,p),c.positionZ.linearRampToValueAtTime(Kf.z,p),c.orientationX.linearRampToValueAtTime(cc.x,p),c.orientationY.linearRampToValueAtTime(cc.y,p),c.orientationZ.linearRampToValueAtTime(cc.z,p)}else c.setPosition(Kf.x,Kf.y,Kf.z),c.setOrientation(cc.x,cc.y,cc.z)}}class O1{constructor(o,c=2048){this.analyser=o.context.createAnalyser(),this.analyser.fftSize=c,this.data=new Uint8Array(this.analyser.frequencyBinCount),o.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let o=0;const c=this.getFrequencyData();for(let p=0;p<c.length;p++)o+=c[p];return o/c.length}}class aM{constructor(o,c,p){this.binding=o,this.valueSize=p;let m,x,_;switch(c){case"quaternion":m=this._slerp,x=this._slerpAdditive,_=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(p*6),this._workIndex=5;break;case"string":case"bool":m=this._select,x=this._select,_=this._setAdditiveIdentityOther,this.buffer=new Array(p*5);break;default:m=this._lerp,x=this._lerpAdditive,_=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(p*5)}this._mixBufferRegion=m,this._mixBufferRegionAdditive=x,this._setIdentity=_,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(o,c){const p=this.buffer,m=this.valueSize,x=o*m+m;let _=this.cumulativeWeight;if(_===0){for(let T=0;T!==m;++T)p[x+T]=p[T];_=c}else{_+=c;const T=c/_;this._mixBufferRegion(p,x,0,T,m)}this.cumulativeWeight=_}accumulateAdditive(o){const c=this.buffer,p=this.valueSize,m=p*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(c,m,0,o,p),this.cumulativeWeightAdditive+=o}apply(o){const c=this.valueSize,p=this.buffer,m=o*c+c,x=this.cumulativeWeight,_=this.cumulativeWeightAdditive,T=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,x<1){const A=c*this._origIndex;this._mixBufferRegion(p,m,A,1-x,c)}_>0&&this._mixBufferRegionAdditive(p,m,this._addIndex*c,1,c);for(let A=c,L=c+c;A!==L;++A)if(p[A]!==p[A+c]){T.setValue(p,m);break}}saveOriginalState(){const o=this.binding,c=this.buffer,p=this.valueSize,m=p*this._origIndex;o.getValue(c,m);for(let x=p,_=m;x!==_;++x)c[x]=c[m+x%p];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const o=this.valueSize*3;this.binding.setValue(this.buffer,o)}_setAdditiveIdentityNumeric(){const o=this._addIndex*this.valueSize,c=o+this.valueSize;for(let p=o;p<c;p++)this.buffer[p]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const o=this._origIndex*this.valueSize,c=this._addIndex*this.valueSize;for(let p=0;p<this.valueSize;p++)this.buffer[c+p]=this.buffer[o+p]}_select(o,c,p,m,x){if(m>=.5)for(let _=0;_!==x;++_)o[c+_]=o[p+_]}_slerp(o,c,p,m){Oo.slerpFlat(o,c,o,c,o,p,m)}_slerpAdditive(o,c,p,m,x){const _=this._workIndex*x;Oo.multiplyQuaternionsFlat(o,_,o,c,o,p),Oo.slerpFlat(o,c,o,c,o,_,m)}_lerp(o,c,p,m,x){const _=1-m;for(let T=0;T!==x;++T){const A=c+T;o[A]=o[A]*_+o[p+T]*m}}_lerpAdditive(o,c,p,m,x){for(let _=0;_!==x;++_){const T=c+_;o[T]=o[T]+o[p+_]*m}}}const Bm="\\[\\]\\.:\\/",X0=new RegExp("["+Bm+"]","g"),Rp="[^"+Bm+"]",Fm="[^"+Bm.replace("\\.","")+"]",ug=/((?:WC+[\/:])*)/.source.replace("WC",Rp),E1=/(WCOD+)?/.source.replace("WCOD",Fm),Z0=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Rp),A1=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Rp),P1=new RegExp("^"+ug+E1+Z0+A1+"$"),oM=["material","materials","bones"];class sM{constructor(o,c,p){const m=p||po.parseTrackName(c);this._targetGroup=o,this._bindings=o.subscribe_(c,m)}getValue(o,c){this.bind();const p=this._targetGroup.nCachedObjects_,m=this._bindings[p];m!==void 0&&m.getValue(o,c)}setValue(o,c){const p=this._bindings;for(let m=this._targetGroup.nCachedObjects_,x=p.length;m!==x;++m)p[m].setValue(o,c)}bind(){const o=this._bindings;for(let c=this._targetGroup.nCachedObjects_,p=o.length;c!==p;++c)o[c].bind()}unbind(){const o=this._bindings;for(let c=this._targetGroup.nCachedObjects_,p=o.length;c!==p;++c)o[c].unbind()}}class po{constructor(o,c,p){this.path=c,this.parsedPath=p||po.parseTrackName(c),this.node=po.findNode(o,this.parsedPath.nodeName)||o,this.rootNode=o,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(o,c,p){return o&&o.isAnimationObjectGroup?new po.Composite(o,c,p):new po(o,c,p)}static sanitizeNodeName(o){return o.replace(/\s/g,"_").replace(X0,"")}static parseTrackName(o){const c=P1.exec(o);if(!c)throw new Error("PropertyBinding: Cannot parse trackName: "+o);const p={nodeName:c[2],objectName:c[3],objectIndex:c[4],propertyName:c[5],propertyIndex:c[6]},m=p.nodeName&&p.nodeName.lastIndexOf(".");if(m!==void 0&&m!==-1){const x=p.nodeName.substring(m+1);oM.indexOf(x)!==-1&&(p.nodeName=p.nodeName.substring(0,m),p.objectName=x)}if(p.propertyName===null||p.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+o);return p}static findNode(o,c){if(!c||c===""||c==="."||c===-1||c===o.name||c===o.uuid)return o;if(o.skeleton){const p=o.skeleton.getBoneByName(c);if(p!==void 0)return p}if(o.children){const p=function(x){for(let _=0;_<x.length;_++){const T=x[_];if(T.name===c||T.uuid===c)return T;const A=p(T.children);if(A)return A}return null},m=p(o.children);if(m)return m}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(o,c){o[c]=this.targetObject[this.propertyName]}_getValue_array(o,c){const p=this.resolvedProperty;for(let m=0,x=p.length;m!==x;++m)o[c++]=p[m]}_getValue_arrayElement(o,c){o[c]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(o,c){this.resolvedProperty.toArray(o,c)}_setValue_direct(o,c){this.targetObject[this.propertyName]=o[c]}_setValue_direct_setNeedsUpdate(o,c){this.targetObject[this.propertyName]=o[c],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(o,c){this.targetObject[this.propertyName]=o[c],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(o,c){const p=this.resolvedProperty;for(let m=0,x=p.length;m!==x;++m)p[m]=o[c++]}_setValue_array_setNeedsUpdate(o,c){const p=this.resolvedProperty;for(let m=0,x=p.length;m!==x;++m)p[m]=o[c++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(o,c){const p=this.resolvedProperty;for(let m=0,x=p.length;m!==x;++m)p[m]=o[c++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(o,c){this.resolvedProperty[this.propertyIndex]=o[c]}_setValue_arrayElement_setNeedsUpdate(o,c){this.resolvedProperty[this.propertyIndex]=o[c],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(o,c){this.resolvedProperty[this.propertyIndex]=o[c],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(o,c){this.resolvedProperty.fromArray(o,c)}_setValue_fromArray_setNeedsUpdate(o,c){this.resolvedProperty.fromArray(o,c),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(o,c){this.resolvedProperty.fromArray(o,c),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(o,c){this.bind(),this.getValue(o,c)}_setValue_unbound(o,c){this.bind(),this.setValue(o,c)}bind(){let o=this.node;const c=this.parsedPath,p=c.objectName,m=c.propertyName;let x=c.propertyIndex;if(o||(o=po.findNode(this.rootNode,c.nodeName)||this.rootNode,this.node=o),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!o){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(p){let L=c.objectIndex;switch(p){case"materials":if(!o.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!o.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}o=o.material.materials;break;case"bones":if(!o.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}o=o.skeleton.bones;for(let z=0;z<o.length;z++)if(o[z].name===L){L=z;break}break;default:if(o[p]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}o=o[p]}if(L!==void 0){if(o[L]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,o);return}o=o[L]}}const _=o[m];if(_===void 0){const L=c.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+L+"."+m+" but it wasn't found.",o);return}let T=this.Versioning.None;this.targetObject=o,o.needsUpdate!==void 0?T=this.Versioning.NeedsUpdate:o.matrixWorldNeedsUpdate!==void 0&&(T=this.Versioning.MatrixWorldNeedsUpdate);let A=this.BindingType.Direct;if(x!==void 0){if(m==="morphTargetInfluences"){if(!o.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(o.geometry.isBufferGeometry){if(!o.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}o.morphTargetDictionary[x]!==void 0&&(x=o.morphTargetDictionary[x])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}A=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=x}else _.fromArray!==void 0&&_.toArray!==void 0?(A=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(A=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=m;this.getValue=this.GetterByBindingType[A],this.setValue=this.SetterByBindingTypeAndVersioning[A][T]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}po.Composite=sM,po.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},po.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},po.prototype.GetterByBindingType=[po.prototype._getValue_direct,po.prototype._getValue_array,po.prototype._getValue_arrayElement,po.prototype._getValue_toArray],po.prototype.SetterByBindingTypeAndVersioning=[[po.prototype._setValue_direct,po.prototype._setValue_direct_setNeedsUpdate,po.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[po.prototype._setValue_array,po.prototype._setValue_array_setNeedsUpdate,po.prototype._setValue_array_setMatrixWorldNeedsUpdate],[po.prototype._setValue_arrayElement,po.prototype._setValue_arrayElement_setNeedsUpdate,po.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[po.prototype._setValue_fromArray,po.prototype._setValue_fromArray_setNeedsUpdate,po.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class L1{constructor(){this.uuid=Zr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const o={};this._indicesByUUID=o;for(let p=0,m=arguments.length;p!==m;++p)o[arguments[p].uuid]=p;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const c=this;this.stats={objects:{get total(){return c._objects.length},get inUse(){return this.total-c.nCachedObjects_}},get bindingsPerObject(){return c._bindings.length}}}add(){const o=this._objects,c=this._indicesByUUID,p=this._paths,m=this._parsedPaths,x=this._bindings,_=x.length;let T,A=o.length,L=this.nCachedObjects_;for(let z=0,U=arguments.length;z!==U;++z){const G=arguments[z],K=G.uuid;let te=c[K];if(te===void 0){te=A++,c[K]=te,o.push(G);for(let ce=0,Le=_;ce!==Le;++ce)x[ce].push(new po(G,p[ce],m[ce]))}else if(te<L){T=o[te];const ce=--L,Le=o[ce];c[Le.uuid]=te,o[te]=Le,c[K]=ce,o[ce]=G;for(let ne=0,q=_;ne!==q;++ne){const Fe=x[ne],Te=Fe[ce];let lt=Fe[te];Fe[te]=Te,lt===void 0&&(lt=new po(G,p[ne],m[ne])),Fe[ce]=lt}}else o[te]!==T&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=L}remove(){const o=this._objects,c=this._indicesByUUID,p=this._bindings,m=p.length;let x=this.nCachedObjects_;for(let _=0,T=arguments.length;_!==T;++_){const A=arguments[_],L=A.uuid,z=c[L];if(z!==void 0&&z>=x){const U=x++,G=o[U];c[G.uuid]=z,o[z]=G,c[L]=U,o[U]=A;for(let K=0,te=m;K!==te;++K){const ce=p[K],Le=ce[U],ne=ce[z];ce[z]=Le,ce[U]=ne}}}this.nCachedObjects_=x}uncache(){const o=this._objects,c=this._indicesByUUID,p=this._bindings,m=p.length;let x=this.nCachedObjects_,_=o.length;for(let T=0,A=arguments.length;T!==A;++T){const L=arguments[T],z=L.uuid,U=c[z];if(U!==void 0)if(delete c[z],U<x){const G=--x,K=o[G],te=--_,ce=o[te];c[K.uuid]=U,o[U]=K,c[ce.uuid]=G,o[G]=ce,o.pop();for(let Le=0,ne=m;Le!==ne;++Le){const q=p[Le],Fe=q[G],Te=q[te];q[U]=Fe,q[G]=Te,q.pop()}}else{const G=--_,K=o[G];G>0&&(c[K.uuid]=U),o[U]=K,o.pop();for(let te=0,ce=m;te!==ce;++te){const Le=p[te];Le[U]=Le[G],Le.pop()}}}this.nCachedObjects_=x}subscribe_(o,c){const p=this._bindingsIndicesByPath;let m=p[o];const x=this._bindings;if(m!==void 0)return x[m];const _=this._paths,T=this._parsedPaths,A=this._objects,L=A.length,z=this.nCachedObjects_,U=new Array(L);m=x.length,p[o]=m,_.push(o),T.push(c),x.push(U);for(let G=z,K=A.length;G!==K;++G){const te=A[G];U[G]=new po(te,o,c)}return U}unsubscribe_(o){const c=this._bindingsIndicesByPath,p=c[o];if(p!==void 0){const m=this._paths,x=this._parsedPaths,_=this._bindings,T=_.length-1,A=_[T],L=o[T];c[L]=p,_[p]=A,_.pop(),x[p]=x[T],x.pop(),m[p]=m[T],m.pop()}}}L1.prototype.isAnimationObjectGroup=!0;class D1{constructor(o,c,p=null,m=c.blendMode){this._mixer=o,this._clip=c,this._localRoot=p,this.blendMode=m;const x=c.tracks,_=x.length,T=new Array(_),A={endingStart:pi,endingEnd:pi};for(let L=0;L!==_;++L){const z=x[L].createInterpolant(null);T[L]=z,z.settings=A}this._interpolantSettings=A,this._interpolants=T,this._propertyBindings=new Array(_),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pa,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(o){return this._startTime=o,this}setLoop(o,c){return this.loop=o,this.repetitions=c,this}setEffectiveWeight(o){return this.weight=o,this._effectiveWeight=this.enabled?o:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(o){return this._scheduleFading(o,0,1)}fadeOut(o){return this._scheduleFading(o,1,0)}crossFadeFrom(o,c,p){if(o.fadeOut(c),this.fadeIn(c),p){const m=this._clip.duration,x=o._clip.duration,_=x/m,T=m/x;o.warp(1,_,c),this.warp(T,1,c)}return this}crossFadeTo(o,c,p){return o.crossFadeFrom(this,c,p)}stopFading(){const o=this._weightInterpolant;return o!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}setEffectiveTimeScale(o){return this.timeScale=o,this._effectiveTimeScale=this.paused?0:o,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(o){return this.timeScale=this._clip.duration/o,this.stopWarping()}syncWith(o){return this.time=o.time,this.timeScale=o.timeScale,this.stopWarping()}halt(o){return this.warp(this._effectiveTimeScale,0,o)}warp(o,c,p){const m=this._mixer,x=m.time,_=this.timeScale;let T=this._timeScaleInterpolant;T===null&&(T=m._lendControlInterpolant(),this._timeScaleInterpolant=T);const A=T.parameterPositions,L=T.sampleValues;return A[0]=x,A[1]=x+p,L[0]=o/_,L[1]=c/_,this}stopWarping(){const o=this._timeScaleInterpolant;return o!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(o)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(o,c,p,m){if(!this.enabled){this._updateWeight(o);return}const x=this._startTime;if(x!==null){const A=(o-x)*p;if(A<0||p===0)return;this._startTime=null,c=p*A}c*=this._updateTimeScale(o);const _=this._updateTime(c),T=this._updateWeight(o);if(T>0){const A=this._interpolants,L=this._propertyBindings;switch(this.blendMode){case mo:for(let z=0,U=A.length;z!==U;++z)A[z].evaluate(_),L[z].accumulateAdditive(T);break;case Ka:default:for(let z=0,U=A.length;z!==U;++z)A[z].evaluate(_),L[z].accumulate(m,T)}}}_updateWeight(o){let c=0;if(this.enabled){c=this.weight;const p=this._weightInterpolant;if(p!==null){const m=p.evaluate(o)[0];c*=m,o>p.parameterPositions[1]&&(this.stopFading(),m===0&&(this.enabled=!1))}}return this._effectiveWeight=c,c}_updateTimeScale(o){let c=0;if(!this.paused){c=this.timeScale;const p=this._timeScaleInterpolant;p!==null&&(c*=p.evaluate(o)[0],o>p.parameterPositions[1]&&(this.stopWarping(),c===0?this.paused=!0:this.timeScale=c))}return this._effectiveTimeScale=c,c}_updateTime(o){const c=this._clip.duration,p=this.loop;let m=this.time+o,x=this._loopCount;const _=p===aa;if(o===0)return x===-1?m:_&&(x&1)==1?c-m:m;if(p===ba){x===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(m>=c)m=c;else if(m<0)m=0;else{this.time=m;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=m,this._mixer.dispatchEvent({type:"finished",action:this,direction:o<0?-1:1})}}else{if(x===-1&&(o>=0?(x=0,this._setEndings(!0,this.repetitions===0,_)):this._setEndings(this.repetitions===0,!0,_)),m>=c||m<0){const T=Math.floor(m/c);m-=c*T,x+=Math.abs(T);const A=this.repetitions-x;if(A<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,m=o>0?c:0,this.time=m,this._mixer.dispatchEvent({type:"finished",action:this,direction:o>0?1:-1});else{if(A===1){const L=o<0;this._setEndings(L,!L,_)}else this._setEndings(!1,!1,_);this._loopCount=x,this.time=m,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:T})}}else this.time=m;if(_&&(x&1)==1)return c-m}return m}_setEndings(o,c,p){const m=this._interpolantSettings;p?(m.endingStart=Ui,m.endingEnd=Ui):(o?m.endingStart=this.zeroSlopeAtStart?Ui:pi:m.endingStart=Ca,c?m.endingEnd=this.zeroSlopeAtEnd?Ui:pi:m.endingEnd=Ca)}_scheduleFading(o,c,p){const m=this._mixer,x=m.time;let _=this._weightInterpolant;_===null&&(_=m._lendControlInterpolant(),this._weightInterpolant=_);const T=_.parameterPositions,A=_.sampleValues;return T[0]=x,A[0]=c,T[1]=x+o,A[1]=p,this}}class $0 extends bo{constructor(o){super();this._root=o,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(o,c){const p=o._localRoot||this._root,m=o._clip.tracks,x=m.length,_=o._propertyBindings,T=o._interpolants,A=p.uuid,L=this._bindingsByRootAndName;let z=L[A];z===void 0&&(z={},L[A]=z);for(let U=0;U!==x;++U){const G=m[U],K=G.name;let te=z[K];if(te!==void 0)_[U]=te;else{if(te=_[U],te!==void 0){te._cacheIndex===null&&(++te.referenceCount,this._addInactiveBinding(te,A,K));continue}const ce=c&&c._propertyBindings[U].binding.parsedPath;te=new aM(po.create(p,K,ce),G.ValueTypeName,G.getValueSize()),++te.referenceCount,this._addInactiveBinding(te,A,K),_[U]=te}T[U].resultBuffer=te.buffer}}_activateAction(o){if(!this._isActiveAction(o)){if(o._cacheIndex===null){const p=(o._localRoot||this._root).uuid,m=o._clip.uuid,x=this._actionsByClip[m];this._bindAction(o,x&&x.knownActions[0]),this._addInactiveAction(o,m,p)}const c=o._propertyBindings;for(let p=0,m=c.length;p!==m;++p){const x=c[p];x.useCount++==0&&(this._lendBinding(x),x.saveOriginalState())}this._lendAction(o)}}_deactivateAction(o){if(this._isActiveAction(o)){const c=o._propertyBindings;for(let p=0,m=c.length;p!==m;++p){const x=c[p];--x.useCount==0&&(x.restoreOriginalState(),this._takeBackBinding(x))}this._takeBackAction(o)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const o=this;this.stats={actions:{get total(){return o._actions.length},get inUse(){return o._nActiveActions}},bindings:{get total(){return o._bindings.length},get inUse(){return o._nActiveBindings}},controlInterpolants:{get total(){return o._controlInterpolants.length},get inUse(){return o._nActiveControlInterpolants}}}}_isActiveAction(o){const c=o._cacheIndex;return c!==null&&c<this._nActiveActions}_addInactiveAction(o,c,p){const m=this._actions,x=this._actionsByClip;let _=x[c];if(_===void 0)_={knownActions:[o],actionByRoot:{}},o._byClipCacheIndex=0,x[c]=_;else{const T=_.knownActions;o._byClipCacheIndex=T.length,T.push(o)}o._cacheIndex=m.length,m.push(o),_.actionByRoot[p]=o}_removeInactiveAction(o){const c=this._actions,p=c[c.length-1],m=o._cacheIndex;p._cacheIndex=m,c[m]=p,c.pop(),o._cacheIndex=null;const x=o._clip.uuid,_=this._actionsByClip,T=_[x],A=T.knownActions,L=A[A.length-1],z=o._byClipCacheIndex;L._byClipCacheIndex=z,A[z]=L,A.pop(),o._byClipCacheIndex=null;const U=T.actionByRoot,G=(o._localRoot||this._root).uuid;delete U[G],A.length===0&&delete _[x],this._removeInactiveBindingsForAction(o)}_removeInactiveBindingsForAction(o){const c=o._propertyBindings;for(let p=0,m=c.length;p!==m;++p){const x=c[p];--x.referenceCount==0&&this._removeInactiveBinding(x)}}_lendAction(o){const c=this._actions,p=o._cacheIndex,m=this._nActiveActions++,x=c[m];o._cacheIndex=m,c[m]=o,x._cacheIndex=p,c[p]=x}_takeBackAction(o){const c=this._actions,p=o._cacheIndex,m=--this._nActiveActions,x=c[m];o._cacheIndex=m,c[m]=o,x._cacheIndex=p,c[p]=x}_addInactiveBinding(o,c,p){const m=this._bindingsByRootAndName,x=this._bindings;let _=m[c];_===void 0&&(_={},m[c]=_),_[p]=o,o._cacheIndex=x.length,x.push(o)}_removeInactiveBinding(o){const c=this._bindings,p=o.binding,m=p.rootNode.uuid,x=p.path,_=this._bindingsByRootAndName,T=_[m],A=c[c.length-1],L=o._cacheIndex;A._cacheIndex=L,c[L]=A,c.pop(),delete T[x],Object.keys(T).length===0&&delete _[m]}_lendBinding(o){const c=this._bindings,p=o._cacheIndex,m=this._nActiveBindings++,x=c[m];o._cacheIndex=m,c[m]=o,x._cacheIndex=p,c[p]=x}_takeBackBinding(o){const c=this._bindings,p=o._cacheIndex,m=--this._nActiveBindings,x=c[m];o._cacheIndex=m,c[m]=o,x._cacheIndex=p,c[p]=x}_lendControlInterpolant(){const o=this._controlInterpolants,c=this._nActiveControlInterpolants++;let p=o[c];return p===void 0&&(p=new B0(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),p.__cacheIndex=c,o[c]=p),p}_takeBackControlInterpolant(o){const c=this._controlInterpolants,p=o.__cacheIndex,m=--this._nActiveControlInterpolants,x=c[m];o.__cacheIndex=m,c[m]=o,x.__cacheIndex=p,c[p]=x}clipAction(o,c,p){const m=c||this._root,x=m.uuid;let _=typeof o=="string"?ig.findByName(m,o):o;const T=_!==null?_.uuid:o,A=this._actionsByClip[T];let L=null;if(p===void 0&&(_!==null?p=_.blendMode:p=Ka),A!==void 0){const U=A.actionByRoot[x];if(U!==void 0&&U.blendMode===p)return U;L=A.knownActions[0],_===null&&(_=L._clip)}if(_===null)return null;const z=new D1(this,_,c,p);return this._bindAction(z,L),this._addInactiveAction(z,T,x),z}existingAction(o,c){const p=c||this._root,m=p.uuid,x=typeof o=="string"?ig.findByName(p,o):o,_=x?x.uuid:o,T=this._actionsByClip[_];return T!==void 0&&T.actionByRoot[m]||null}stopAllAction(){const o=this._actions,c=this._nActiveActions;for(let p=c-1;p>=0;--p)o[p].stop();return this}update(o){o*=this.timeScale;const c=this._actions,p=this._nActiveActions,m=this.time+=o,x=Math.sign(o),_=this._accuIndex^=1;for(let L=0;L!==p;++L)c[L]._update(m,o,x,_);const T=this._bindings,A=this._nActiveBindings;for(let L=0;L!==A;++L)T[L].apply(_);return this}setTime(o){this.time=0;for(let c=0;c<this._actions.length;c++)this._actions[c].time=0;return this.update(o)}getRoot(){return this._root}uncacheClip(o){const c=this._actions,p=o.uuid,m=this._actionsByClip,x=m[p];if(x!==void 0){const _=x.knownActions;for(let T=0,A=_.length;T!==A;++T){const L=_[T];this._deactivateAction(L);const z=L._cacheIndex,U=c[c.length-1];L._cacheIndex=null,L._byClipCacheIndex=null,U._cacheIndex=z,c[z]=U,c.pop(),this._removeInactiveBindingsForAction(L)}delete m[p]}}uncacheRoot(o){const c=o.uuid,p=this._actionsByClip;for(const _ in p){const T=p[_].actionByRoot,A=T[c];A!==void 0&&(this._deactivateAction(A),this._removeInactiveAction(A))}const m=this._bindingsByRootAndName,x=m[c];if(x!==void 0)for(const _ in x){const T=x[_];T.restoreOriginalState(),this._removeInactiveBinding(T)}}uncacheAction(o,c){const p=this.existingAction(o,c);p!==null&&(this._deactivateAction(p),this._removeInactiveAction(p))}}$0.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class zm{constructor(o){typeof o=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),o=arguments[1]),this.value=o}clone(){return new zm(this.value.clone===void 0?this.value:this.value.clone())}}class lM extends lh{constructor(o,c,p=1){super(o,c);this.meshPerAttribute=p}copy(o){return super.copy(o),this.meshPerAttribute=o.meshPerAttribute,this}clone(o){const c=super.clone(o);return c.meshPerAttribute=this.meshPerAttribute,c}toJSON(o){const c=super.toJSON(o);return c.isInstancedInterleavedBuffer=!0,c.meshPerAttribute=this.meshPerAttribute,c}}lM.prototype.isInstancedInterleavedBuffer=!0;class uM{constructor(o,c,p,m,x){this.buffer=o,this.type=c,this.itemSize=p,this.elementSize=m,this.count=x,this.version=0}set needsUpdate(o){o===!0&&this.version++}setBuffer(o){return this.buffer=o,this}setType(o,c){return this.type=o,this.elementSize=c,this}setItemSize(o){return this.itemSize=o,this}setCount(o){return this.count=o,this}}uM.prototype.isGLBufferAttribute=!0;class R1{constructor(o,c,p=0,m=Infinity){this.ray=new Of(o,c),this.near=p,this.far=m,this.camera=null,this.layers=new Al,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(o,c){this.ray.set(o,c)}setFromCamera(o,c){c&&c.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(o.x,o.y,.5).unproject(c).sub(this.ray.origin).normalize(),this.camera=c):c&&c.isOrthographicCamera?(this.ray.origin.set(o.x,o.y,(c.near+c.far)/(c.near-c.far)).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld),this.camera=c):console.error("THREE.Raycaster: Unsupported camera type: "+c.type)}intersectObject(o,c=!0,p=[]){return Vm(o,this,p,c),p.sort(I1),p}intersectObjects(o,c=!0,p=[]){for(let m=0,x=o.length;m<x;m++)Vm(o[m],this,p,c);return p.sort(I1),p}}function I1(w,o){return w.distance-o.distance}function Vm(w,o,c,p){if(w.layers.test(o.layers)&&w.raycast(o,c),p===!0){const m=w.children;for(let x=0,_=m.length;x<_;x++)Vm(m[x],o,c,!0)}}class Bc{constructor(o=1,c=0,p=0){return this.radius=o,this.phi=c,this.theta=p,this}set(o,c,p){return this.radius=o,this.phi=c,this.theta=p,this}copy(o){return this.radius=o.radius,this.phi=o.phi,this.theta=o.theta,this}makeSafe(){const o=1e-6;return this.phi=Math.max(o,Math.min(Math.PI-o,this.phi)),this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,c,p){return this.radius=Math.sqrt(o*o+c*c+p*p),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(o,p),this.phi=Math.acos(gi(c/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class mO{constructor(o=1,c=0,p=0){return this.radius=o,this.theta=c,this.y=p,this}set(o,c,p){return this.radius=o,this.theta=c,this.y=p,this}copy(o){return this.radius=o.radius,this.theta=o.theta,this.y=o.y,this}setFromVector3(o){return this.setFromCartesianCoords(o.x,o.y,o.z)}setFromCartesianCoords(o,c,p){return this.radius=Math.sqrt(o*o+p*p),this.theta=Math.atan2(o,p),this.y=c,this}clone(){return new this.constructor().copy(this)}}const J0=new Vn;class Od{constructor(o=new Vn(Infinity,Infinity),c=new Vn(-Infinity,-Infinity)){this.min=o,this.max=c}set(o,c){return this.min.copy(o),this.max.copy(c),this}setFromPoints(o){this.makeEmpty();for(let c=0,p=o.length;c<p;c++)this.expandByPoint(o[c]);return this}setFromCenterAndSize(o,c){const p=J0.copy(c).multiplyScalar(.5);return this.min.copy(o).sub(p),this.max.copy(o).add(p),this}clone(){return new this.constructor().copy(this)}copy(o){return this.min.copy(o.min),this.max.copy(o.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(o){return this.isEmpty()?o.set(0,0):o.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(o){return this.isEmpty()?o.set(0,0):o.subVectors(this.max,this.min)}expandByPoint(o){return this.min.min(o),this.max.max(o),this}expandByVector(o){return this.min.sub(o),this.max.add(o),this}expandByScalar(o){return this.min.addScalar(-o),this.max.addScalar(o),this}containsPoint(o){return!(o.x<this.min.x||o.x>this.max.x||o.y<this.min.y||o.y>this.max.y)}containsBox(o){return this.min.x<=o.min.x&&o.max.x<=this.max.x&&this.min.y<=o.min.y&&o.max.y<=this.max.y}getParameter(o,c){return c.set((o.x-this.min.x)/(this.max.x-this.min.x),(o.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(o){return!(o.max.x<this.min.x||o.min.x>this.max.x||o.max.y<this.min.y||o.min.y>this.max.y)}clampPoint(o,c){return c.copy(o).clamp(this.min,this.max)}distanceToPoint(o){return J0.copy(o).clamp(this.min,this.max).sub(o).length()}intersect(o){return this.min.max(o.min),this.max.min(o.max),this}union(o){return this.min.min(o.min),this.max.max(o.max),this}translate(o){return this.min.add(o),this.max.add(o),this}equals(o){return o.min.equals(this.min)&&o.max.equals(this.max)}}Od.prototype.isBox2=!0;const Q0=new Ze,Ip=new Ze;class bh{constructor(o=new Ze,c=new Ze){this.start=o,this.end=c}set(o,c){return this.start.copy(o),this.end.copy(c),this}copy(o){return this.start.copy(o.start),this.end.copy(o.end),this}getCenter(o){return o.addVectors(this.start,this.end).multiplyScalar(.5)}delta(o){return o.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(o,c){return this.delta(c).multiplyScalar(o).add(this.start)}closestPointToPointParameter(o,c){Q0.subVectors(o,this.start),Ip.subVectors(this.end,this.start);const p=Ip.dot(Ip);let x=Ip.dot(Q0)/p;return c&&(x=gi(x,0,1)),x}closestPointToPoint(o,c,p){const m=this.closestPointToPointParameter(o,c);return this.delta(p).multiplyScalar(m).add(this.start)}applyMatrix4(o){return this.start.applyMatrix4(o),this.end.applyMatrix4(o),this}equals(o){return o.start.equals(this.start)&&o.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const xh=new Ze;class yO extends La{constructor(o,c){super();this.light=o,this.light.updateMatrixWorld(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=c;const p=new _i,m=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let _=0,T=1,A=32;_<A;_++,T++){const L=_/A*Math.PI*2,z=T/A*Math.PI*2;m.push(Math.cos(L),Math.sin(L),1,Math.cos(z),Math.sin(z),1)}p.setAttribute("position",new ei(m,3));const x=new Qo({fog:!1,toneMapped:!1});this.cone=new Bl(p,x),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const o=this.light.distance?this.light.distance:1e3,c=o*Math.tan(this.light.angle);this.cone.scale.set(c,c,o),xh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xh),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xs=new Ze,cg=new Hn,Sh=new Hn;class fg extends Bl{constructor(o){const c=Fc(o),p=new _i,m=[],x=[],_=new nr(0,0,1),T=new nr(0,1,0);for(let L=0;L<c.length;L++){const z=c[L];z.parent&&z.parent.isBone&&(m.push(0,0,0),m.push(0,0,0),x.push(_.r,_.g,_.b),x.push(T.r,T.g,T.b))}p.setAttribute("position",new ei(m,3)),p.setAttribute("color",new ei(x,3));const A=new Qo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(p,A);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=o,this.bones=c,this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(o){const c=this.bones,p=this.geometry,m=p.getAttribute("position");Sh.copy(this.root.matrixWorld).invert();for(let x=0,_=0;x<c.length;x++){const T=c[x];T.parent&&T.parent.isBone&&(cg.multiplyMatrices(Sh,T.matrixWorld),xs.setFromMatrixPosition(cg),m.setXYZ(_,xs.x,xs.y,xs.z),cg.multiplyMatrices(Sh,T.parent.matrixWorld),xs.setFromMatrixPosition(cg),m.setXYZ(_+1,xs.x,xs.y,xs.z),_+=2)}p.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(o)}}function Fc(w){const o=[];w&&w.isBone&&o.push(w);for(let c=0;c<w.children.length;c++)o.push.apply(o,Fc(w.children[c]));return o}class ff extends _s{constructor(o,c,p){const m=new Mp(c,4,2),x=new ms({wireframe:!0,fog:!1,toneMapped:!1});super(m,x);this.light=o,this.light.updateMatrixWorld(),this.color=p,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cM=new Ze,dg=new nr,N1=new nr;class bO extends La{constructor(o,c,p){super();this.light=o,this.light.updateMatrixWorld(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=p;const m=new jc(c);m.rotateY(Math.PI*.5),this.material=new ms({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const x=m.getAttribute("position"),_=new Float32Array(x.count*3);m.setAttribute("color",new Va(_,3)),this.add(new _s(m,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const o=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const c=o.geometry.getAttribute("color");dg.copy(this.light.color),N1.copy(this.light.groundColor);for(let p=0,m=c.count;p<m;p++){const x=p<m/2?dg:N1;c.setXYZ(p,x.r,x.g,x.b)}c.needsUpdate=!0}o.lookAt(cM.setFromMatrixPosition(this.light.matrixWorld).negate())}}class fM extends Bl{constructor(o=10,c=10,p=4473924,m=8947848){p=new nr(p),m=new nr(m);const x=c/2,_=o/c,T=o/2,A=[],L=[];for(let G=0,K=0,te=-T;G<=c;G++,te+=_){A.push(-T,0,te,T,0,te),A.push(te,0,-T,te,0,T);const ce=G===x?p:m;ce.toArray(L,K),K+=3,ce.toArray(L,K),K+=3,ce.toArray(L,K),K+=3,ce.toArray(L,K),K+=3}const z=new _i;z.setAttribute("position",new ei(A,3)),z.setAttribute("color",new ei(L,3));const U=new Qo({vertexColors:!0,toneMapped:!1});super(z,U);this.type="GridHelper"}}class dM extends Bl{constructor(o=10,c=16,p=8,m=64,x=4473924,_=8947848){x=new nr(x),_=new nr(_);const T=[],A=[];for(let U=0;U<=c;U++){const G=U/c*(Math.PI*2),K=Math.sin(G)*o,te=Math.cos(G)*o;T.push(0,0,0),T.push(K,0,te);const ce=U&1?x:_;A.push(ce.r,ce.g,ce.b),A.push(ce.r,ce.g,ce.b)}for(let U=0;U<=p;U++){const G=U&1?x:_,K=o-o/p*U;for(let te=0;te<m;te++){let ce=te/m*(Math.PI*2),Le=Math.sin(ce)*K,ne=Math.cos(ce)*K;T.push(Le,0,ne),A.push(G.r,G.g,G.b),ce=(te+1)/m*(Math.PI*2),Le=Math.sin(ce)*K,ne=Math.cos(ce)*K,T.push(Le,0,ne),A.push(G.r,G.g,G.b)}}const L=new _i;L.setAttribute("position",new ei(T,3)),L.setAttribute("color",new ei(A,3));const z=new Qo({vertexColors:!0,toneMapped:!1});super(L,z);this.type="PolarGridHelper"}}const Vl=new Ze,Hm=new Ze,q0=new Ze;class Gm extends La{constructor(o,c,p){super();this.light=o,this.light.updateMatrixWorld(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.color=p,c===void 0&&(c=1);let m=new _i;m.setAttribute("position",new ei([-c,c,0,c,c,0,c,-c,0,-c,-c,0,-c,c,0],3));const x=new Qo({fog:!1,toneMapped:!1});this.lightPlane=new of(m,x),this.add(this.lightPlane),m=new _i,m.setAttribute("position",new ei([0,0,0,0,0,1],3)),this.targetLine=new of(m,x),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Vl.setFromMatrixPosition(this.light.matrixWorld),Hm.setFromMatrixPosition(this.light.target.matrixWorld),q0.subVectors(Hm,Vl),this.lightPlane.lookAt(Hm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Hm),this.targetLine.scale.z=q0.length()}}const Um=new Ze,Ss=new ld;class xO extends Bl{constructor(o){const c=new _i,p=new Qo({color:16777215,vertexColors:!0,toneMapped:!1}),m=[],x=[],_={},T=new nr(16755200),A=new nr(16711680),L=new nr(43775),z=new nr(16777215),U=new nr(3355443);G("n1","n2",T),G("n2","n4",T),G("n4","n3",T),G("n3","n1",T),G("f1","f2",T),G("f2","f4",T),G("f4","f3",T),G("f3","f1",T),G("n1","f1",T),G("n2","f2",T),G("n3","f3",T),G("n4","f4",T),G("p","n1",A),G("p","n2",A),G("p","n3",A),G("p","n4",A),G("u1","u2",L),G("u2","u3",L),G("u3","u1",L),G("c","t",z),G("p","c",U),G("cn1","cn2",U),G("cn3","cn4",U),G("cf1","cf2",U),G("cf3","cf4",U);function G(te,ce,Le){K(te,Le),K(ce,Le)}function K(te,ce){m.push(0,0,0),x.push(ce.r,ce.g,ce.b),_[te]===void 0&&(_[te]=[]),_[te].push(m.length/3-1)}c.setAttribute("position",new ei(m,3)),c.setAttribute("color",new ei(x,3)),super(c,p),this.type="CameraHelper",this.camera=o,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=o.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=_,this.update()}update(){const o=this.geometry,c=this.pointMap,p=1,m=1;Ss.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cs("c",c,o,Ss,0,0,-1),Cs("t",c,o,Ss,0,0,1),Cs("n1",c,o,Ss,-p,-m,-1),Cs("n2",c,o,Ss,p,-m,-1),Cs("n3",c,o,Ss,-p,m,-1),Cs("n4",c,o,Ss,p,m,-1),Cs("f1",c,o,Ss,-p,-m,1),Cs("f2",c,o,Ss,p,-m,1),Cs("f3",c,o,Ss,-p,m,1),Cs("f4",c,o,Ss,p,m,1),Cs("u1",c,o,Ss,p*.7,m*1.1,-1),Cs("u2",c,o,Ss,-p*.7,m*1.1,-1),Cs("u3",c,o,Ss,0,m*2,-1),Cs("cf1",c,o,Ss,-p,0,1),Cs("cf2",c,o,Ss,p,0,1),Cs("cf3",c,o,Ss,0,-m,1),Cs("cf4",c,o,Ss,0,m,1),Cs("cn1",c,o,Ss,-p,0,-1),Cs("cn2",c,o,Ss,p,0,-1),Cs("cn3",c,o,Ss,0,-m,-1),Cs("cn4",c,o,Ss,0,m,-1),o.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cs(w,o,c,p,m,x,_){Um.set(m,x,_).unproject(p);const T=o[w];if(T!==void 0){const A=c.getAttribute("position");for(let L=0,z=T.length;L<z;L++)A.setXYZ(T[L],Um.x,Um.y,Um.z)}}const sl=new ho;class hM extends Bl{constructor(o,c=16776960){const p=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=new Float32Array(8*3),x=new _i;x.setIndex(new Va(p,1)),x.setAttribute("position",new Va(m,3)),super(x,new Qo({color:c,toneMapped:!1})),this.object=o,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(o){if(o!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sl.setFromObject(this.object),sl.isEmpty())return;const c=sl.min,p=sl.max,m=this.geometry.attributes.position,x=m.array;x[0]=p.x,x[1]=p.y,x[2]=p.z,x[3]=c.x,x[4]=p.y,x[5]=p.z,x[6]=c.x,x[7]=c.y,x[8]=p.z,x[9]=p.x,x[10]=c.y,x[11]=p.z,x[12]=p.x,x[13]=p.y,x[14]=c.z,x[15]=c.x,x[16]=p.y,x[17]=c.z,x[18]=c.x,x[19]=c.y,x[20]=c.z,x[21]=p.x,x[22]=c.y,x[23]=c.z,m.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(o){return this.object=o,this.update(),this}copy(o){return Bl.prototype.copy.call(this,o),this.object=o.object,this}}class pM extends Bl{constructor(o,c=16776960){const p=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),m=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],x=new _i;x.setIndex(new Va(p,1)),x.setAttribute("position",new ei(m,3)),super(x,new Qo({color:c,toneMapped:!1})),this.box=o,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(o){const c=this.box;c.isEmpty()||(c.getCenter(this.position),c.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(o))}}class Mu extends of{constructor(o,c=1,p=16776960){const m=p,x=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],_=new _i;_.setAttribute("position",new ei(x,3)),_.computeBoundingSphere(),super(_,new Qo({color:m,toneMapped:!1})),this.type="PlaneHelper",this.plane=o,this.size=c;const T=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],A=new _i;A.setAttribute("position",new ei(T,3)),A.computeBoundingSphere(),this.add(new _s(A,new ms({color:m,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(o){let c=-this.plane.constant;Math.abs(c)<1e-8&&(c=1e-8),this.scale.set(.5*this.size,.5*this.size,c),this.children[0].material.side=c<0?dt:ve,this.lookAt(this.plane.normal),super.updateMatrixWorld(o)}}const k1=new Ze;let Wm,Km;class ll extends La{constructor(o=new Ze(0,0,1),c=new Ze(0,0,0),p=1,m=16776960,x=p*.2,_=x*.2){super();this.type="ArrowHelper",Wm===void 0&&(Wm=new _i,Wm.setAttribute("position",new ei([0,0,0,0,1,0],3)),Km=new gp(0,.5,1,5,1),Km.translate(0,-.5,0)),this.position.copy(c),this.line=new of(Wm,new Qo({color:m,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _s(Km,new ms({color:m,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(o),this.setLength(p,x,_)}setDirection(o){if(o.y>.99999)this.quaternion.set(0,0,0,1);else if(o.y<-.99999)this.quaternion.set(1,0,0,0);else{k1.set(o.z,0,-o.x).normalize();const c=Math.acos(o.y);this.quaternion.setFromAxisAngle(k1,c)}}setLength(o,c=o*.2,p=c*.2){this.line.scale.set(1,Math.max(1e-4,o-c),1),this.line.updateMatrix(),this.cone.scale.set(p,c,p),this.cone.position.y=o,this.cone.updateMatrix()}setColor(o){this.line.material.color.set(o),this.cone.material.color.set(o)}copy(o){return super.copy(o,!1),this.line.copy(o.line),this.cone.copy(o.cone),this}}class eu extends Bl{constructor(o=1){const c=[0,0,0,o,0,0,0,0,0,0,o,0,0,0,0,0,0,o],p=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],m=new _i;m.setAttribute("position",new ei(c,3)),m.setAttribute("color",new ei(p,3));const x=new Qo({vertexColors:!0,toneMapped:!1});super(m,x);this.type="AxesHelper"}setColors(o,c,p){const m=new nr,x=this.geometry.attributes.color.array;return m.set(o),m.toArray(x,0),m.toArray(x,3),m.set(c),m.toArray(x,6),m.toArray(x,9),m.set(p),m.toArray(x,12),m.toArray(x,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SO{constructor(){this.type="ShapePath",this.color=new nr,this.subPaths=[],this.currentPath=null}moveTo(o,c){return this.currentPath=new Cm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(o,c),this}lineTo(o,c){return this.currentPath.lineTo(o,c),this}quadraticCurveTo(o,c,p,m){return this.currentPath.quadraticCurveTo(o,c,p,m),this}bezierCurveTo(o,c,p,m,x,_){return this.currentPath.bezierCurveTo(o,c,p,m,x,_),this}splineThru(o){return this.currentPath.splineThru(o),this}toShapes(o,c){function p(q){const Fe=[];for(let Te=0,lt=q.length;Te<lt;Te++){const Ot=q[Te],He=new Hf;He.curves=Ot.curves,Fe.push(He)}return Fe}function m(q,Fe){const Te=Fe.length;let lt=!1;for(let Ot=Te-1,He=0;He<Te;Ot=He++){let Bt=Fe[Ot],dn=Fe[He],qt=dn.x-Bt.x,Ht=dn.y-Bt.y;if(Math.abs(Ht)>Number.EPSILON){if(Ht<0&&(Bt=Fe[He],qt=-qt,dn=Fe[Ot],Ht=-Ht),q.y<Bt.y||q.y>dn.y)continue;if(q.y===Bt.y){if(q.x===Bt.x)return!0}else{const qn=Ht*(q.x-Bt.x)-qt*(q.y-Bt.y);if(qn===0)return!0;if(qn<0)continue;lt=!lt}}else{if(q.y!==Bt.y)continue;if(dn.x<=q.x&&q.x<=Bt.x||Bt.x<=q.x&&q.x<=dn.x)return!0}}return lt}const x=Wf.isClockWise,_=this.subPaths;if(_.length===0)return[];if(c===!0)return p(_);let T,A,L;const z=[];if(_.length===1)return A=_[0],L=new Hf,L.curves=A.curves,z.push(L),z;let U=!x(_[0].getPoints());U=o?!U:U;const G=[],K=[];let te=[],ce=0,Le;K[ce]=void 0,te[ce]=[];for(let q=0,Fe=_.length;q<Fe;q++)A=_[q],Le=A.getPoints(),T=x(Le),T=o?!T:T,T?(!U&&K[ce]&&ce++,K[ce]={s:new Hf,p:Le},K[ce].s.curves=A.curves,U&&ce++,te[ce]=[]):te[ce].push({h:A,p:Le[0]});if(!K[0])return p(_);if(K.length>1){let q=!1;const Fe=[];for(let Te=0,lt=K.length;Te<lt;Te++)G[Te]=[];for(let Te=0,lt=K.length;Te<lt;Te++){const Ot=te[Te];for(let He=0;He<Ot.length;He++){const Bt=Ot[He];let dn=!0;for(let qt=0;qt<K.length;qt++)m(Bt.p,K[qt].p)&&(Te!==qt&&Fe.push({froms:Te,tos:qt,hole:He}),dn?(dn=!1,G[qt].push(Bt)):q=!0);dn&&G[Te].push(Bt)}}Fe.length>0&&(q||(te=G))}let ne;for(let q=0,Fe=K.length;q<Fe;q++){L=K[q].s,z.push(L),ne=te[q];for(let Te=0,lt=ne.length;Te<lt;Te++)L.holes.push(ne[Te].h)}return z}}const eb=new Float32Array(1),j1=new Int32Array(eb.buffer);class Ym{static toHalfFloat(o){o>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),o=65504),eb[0]=o;const c=j1[0];let p=c>>16&32768,m=c>>12&2047;const x=c>>23&255;return x<103?p:x>142?(p|=31744,p|=(x==255?0:1)&&c&8388607,p):x<113?(m|=2048,p|=(m>>114-x)+(m>>113-x&1),p):(p|=x-112<<10|m>>1,p+=m&1,p)}}const wO=0,vM=1,tb=0,MO=1,nb=2;function _O(w){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),w}function gM(w=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),w.isMultiMaterial=!0,w.materials=w,w.clone=function(){return w.slice()},w}function CO(w,o){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Gv(w,o)}function hg(w){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new zf(w)}function TO(w,o){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Gv(w,o)}function B1(w){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ph(w)}function Np(w){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ph(w)}function kp(w){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ph(w)}function rb(w,o,c){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ze(w,o,c)}function ib(w,o){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Va(w,o).setUsage(Cl)}function OO(w,o){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Kg(w,o)}function ab(w,o){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new My(w,o)}function EO(w,o){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ov(w,o)}function AO(w,o){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Hh(w,o)}function mM(w,o){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ef(w,o)}function ob(w,o){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new _y(w,o)}function sb(w,o){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new pl(w,o)}function F1(w,o){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ei(w,o)}function yM(w,o){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new lv(w,o)}kc.create=function(w,o){return console.log("THREE.Curve.create() has been deprecated"),w.prototype=Object.create(kc.prototype),w.prototype.constructor=w,w.prototype.getPoint=o,w},Cm.prototype.fromPoints=function(w){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(w)};function PO(w){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new eu(w)}function bM(w,o){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new hM(w,o)}function zc(w,o){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Bl(new M0(w.geometry),new Qo({color:o!==void 0?o:16777215}))}fM.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},fg.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function lb(w,o){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Bl(new s1(w.geometry),new Qo({color:o!==void 0?o:16777215}))}bl.prototype.extractUrlBase=function(w){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Nm.extractUrlBase(w)},bl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function Xm(w){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new cf(w)}function z1(w){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new F0(w)}Od.prototype.center=function(w){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(w)},Od.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Od.prototype.isIntersectionBox=function(w){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(w)},Od.prototype.size=function(w){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(w)},ho.prototype.center=function(w){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(w)},ho.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ho.prototype.isIntersectionBox=function(w){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(w)},ho.prototype.isIntersectionSphere=function(w){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(w)},ho.prototype.size=function(w){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(w)},uu.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Qd.prototype.setFromMatrix=function(w){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(w)},bh.prototype.center=function(w){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(w)},oo.prototype.flattenToArrayOffset=function(w,o){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(w,o)},oo.prototype.multiplyVector3=function(w){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),w.applyMatrix3(this)},oo.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},oo.prototype.applyToBufferAttribute=function(w){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),w.applyMatrix3(this)},oo.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},oo.prototype.getInverse=function(w){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(w).invert()},Hn.prototype.extractPosition=function(w){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(w)},Hn.prototype.flattenToArrayOffset=function(w,o){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(w,o)},Hn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ze().setFromMatrixColumn(this,3)},Hn.prototype.setRotationFromQuaternion=function(w){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(w)},Hn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Hn.prototype.multiplyVector3=function(w){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),w.applyMatrix4(this)},Hn.prototype.multiplyVector4=function(w){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),w.applyMatrix4(this)},Hn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Hn.prototype.rotateAxis=function(w){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),w.transformDirection(this)},Hn.prototype.crossVector=function(w){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),w.applyMatrix4(this)},Hn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Hn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Hn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Hn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Hn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Hn.prototype.applyToBufferAttribute=function(w){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),w.applyMatrix4(this)},Hn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Hn.prototype.makeFrustum=function(w,o,c,p,m,x){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(w,o,p,c,m,x)},Hn.prototype.getInverse=function(w){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(w).invert()},vu.prototype.isIntersectionLine=function(w){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(w)},Oo.prototype.multiplyVector3=function(w){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),w.applyQuaternion(this)},Oo.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Of.prototype.isIntersectionBox=function(w){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(w)},Of.prototype.isIntersectionPlane=function(w){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(w)},Of.prototype.isIntersectionSphere=function(w){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(w)},Ms.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ms.prototype.barycoordFromPoint=function(w,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(w,o)},Ms.prototype.midpoint=function(w){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(w)},Ms.prototypenormal=function(w){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(w)},Ms.prototype.plane=function(w){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(w)},Ms.barycoordFromPoint=function(w,o,c,p,m){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ms.getBarycoord(w,o,c,p,m)},Ms.normal=function(w,o,c,p){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ms.getNormal(w,o,c,p)},Hf.prototype.extractAllPoints=function(w){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(w)},Hf.prototype.extrude=function(w){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new _d(this,w)},Hf.prototype.makeGeometry=function(w){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new wp(this,w)},Vn.prototype.fromAttribute=function(w,o,c){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(w,o,c)},Vn.prototype.distanceToManhattan=function(w){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(w)},Vn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ze.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ze.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ze.prototype.getPositionFromMatrix=function(w){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(w)},Ze.prototype.getScaleFromMatrix=function(w){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(w)},Ze.prototype.getColumnFromMatrix=function(w,o){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(o,w)},Ze.prototype.applyProjection=function(w){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(w)},Ze.prototype.fromAttribute=function(w,o,c){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(w,o,c)},Ze.prototype.distanceToManhattan=function(w){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(w)},Ze.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ki.prototype.fromAttribute=function(w,o,c){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(w,o,c)},Ki.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},La.prototype.getChildByName=function(w){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(w)},La.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},La.prototype.translate=function(w,o){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(o,w)},La.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},La.prototype.applyMatrix=function(w){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(w)},Object.defineProperties(La.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(w){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=w}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),_s.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(_s.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ko},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),zv.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},no.prototype.setLens=function(w,o){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),o!==void 0&&(this.filmGauge=o),this.setFocalLength(w)},Object.defineProperties(ql.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(w){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=w}},shadowCameraLeft:{set:function(w){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=w}},shadowCameraRight:{set:function(w){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=w}},shadowCameraTop:{set:function(w){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=w}},shadowCameraBottom:{set:function(w){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=w}},shadowCameraNear:{set:function(w){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=w}},shadowCameraFar:{set:function(w){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=w}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(w){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=w}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(w){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=w}},shadowMapHeight:{set:function(w){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=w}}}),Object.defineProperties(Va.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Cl},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Cl)}}}),Va.prototype.setDynamic=function(w){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(w===!0?Cl:Wi),this},Va.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Va.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_i.prototype.addIndex=function(w){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(w)},_i.prototype.addAttribute=function(w,o){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(o&&o.isBufferAttribute)&&!(o&&o.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(w,new Va(arguments[1],arguments[2]))):w==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(o),this):this.setAttribute(w,o)},_i.prototype.addDrawCall=function(w,o,c){c!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(w,o)},_i.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},_i.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},_i.prototype.removeAttribute=function(w){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(w)},_i.prototype.applyMatrix=function(w){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(w)},Object.defineProperties(_i.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),lh.prototype.setDynamic=function(w){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(w===!0?Cl:Wi),this},lh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},_d.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},_d.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},_d.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},nf.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},zm.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Ps.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new nr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(w){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=w===Pt}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(w){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=w}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(Yi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(w){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=w}}}),Ro.prototype.clearTarget=function(w,o,c,p){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(w),this.clear(o,c,p)},Ro.prototype.animate=function(w){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(w)},Ro.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Ro.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Ro.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Ro.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Ro.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Ro.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Ro.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Ro.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Ro.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Ro.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Ro.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Ro.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Ro.prototype.enableScissorTest=function(w){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(w)},Ro.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Ro.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Ro.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Ro.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Ro.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Ro.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Ro.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Ro.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Ro.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Ro.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Ro.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(w){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=w}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(w){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=w}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(w){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=w===!0?Ya:Fr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(sh.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function xM(w,o,c){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Zh(w,c)}Object.defineProperties(jo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(w){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=w}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(w){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=w}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(w){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=w}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(w){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=w}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(w){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=w}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(w){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=w}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(w){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=w}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(w){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=w}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(w){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=w}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(w){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=w}}}),Io.prototype.load=function(w){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const o=this;return new rM().load(w,function(p){o.setBuffer(p)}),this},O1.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},nc.prototype.updateCubeMap=function(w,o){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(w,o)},nc.prototype.clear=function(w,o,c,p){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(w,o,c,p)},Ru.crossOrigin=void 0,Ru.loadTexture=function(w,o,c,p){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const m=new Ep;m.setCrossOrigin(this.crossOrigin);const x=m.load(w,c,void 0,p);return o&&(x.mapping=o),x},Ru.loadTextureCube=function(w,o,c,p){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const m=new p1;m.setCrossOrigin(this.crossOrigin);const x=m.load(w,c,void 0,p);return o&&(x.mapping=o),x},Ru.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ru.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function fc(){console.error("THREE.CanvasRenderer has been removed")}function V1(){console.error("THREE.JSONLoader has been removed.")}const LO={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function DO(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function ub(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new _i}function wh(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new _i}function df(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function cb(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function SM(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Y}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Y)},XCrF:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("QeVK"),re=D.n(F)},b2XM:function(Cr,Ne,D){},bE4E:function(Cr,Ne,D){},bKJz:function(Cr,Ne,D){},bX4T:function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return de});var Y=D("VTBJ"),be=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,F=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,re="".concat(be," ").concat(F).split(/[\s\n]+/),P="aria-",X="data-";function je(tt,Z){return tt.indexOf(Z)===0}function de(tt){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Pe;Z===!1?Pe={aria:!0,data:!0,attr:!0}:Z===!0?Pe={aria:!0}:Pe=Object(Y.a)({},Z);var ve={};return Object.keys(tt).forEach(function(dt){(Pe.aria&&(dt==="role"||je(dt,P))||Pe.data&&je(dt,X)||Pe.attr&&re.includes(dt))&&(ve[dt]=tt[dt])}),ve}},bYtY:function(Cr,Ne,D){"use strict";D.r(Ne),D.d(Ne,"guid",function(){return at}),D.d(Ne,"logError",function(){return Pt}),D.d(Ne,"clone",function(){return Ft}),D.d(Ne,"merge",function(){return bt}),D.d(Ne,"mergeAll",function(){return Ct}),D.d(Ne,"extend",function(){return he}),D.d(Ne,"defaults",function(){return Ve}),D.d(Ne,"createCanvas",function(){return yt}),D.d(Ne,"indexOf",function(){return Mt}),D.d(Ne,"inherits",function(){return Ut}),D.d(Ne,"mixin",function(){return It}),D.d(Ne,"isArrayLike",function(){return Yt}),D.d(Ne,"each",function(){return Gt}),D.d(Ne,"map",function(){return an}),D.d(Ne,"reduce",function(){return et}),D.d(Ne,"filter",function(){return xt}),D.d(Ne,"find",function(){return mt}),D.d(Ne,"keys",function(){return Kt}),D.d(Ne,"bind",function(){return un}),D.d(Ne,"curry",function(){return Sn}),D.d(Ne,"isArray",function(){return on}),D.d(Ne,"isFunction",function(){return zt}),D.d(Ne,"isString",function(){return en}),D.d(Ne,"isStringSafe",function(){return y}),D.d(Ne,"isNumber",function(){return _n}),D.d(Ne,"isObject",function(){return An}),D.d(Ne,"isBuiltInObject",function(){return Fn}),D.d(Ne,"isTypedArray",function(){return Wn}),D.d(Ne,"isDom",function(){return zn}),D.d(Ne,"isGradientObject",function(){return or}),D.d(Ne,"isImagePatternObject",function(){return Sr}),D.d(Ne,"isRegExp",function(){return pr}),D.d(Ne,"eqNaN",function(){return Jr}),D.d(Ne,"retrieve",function(){return jr}),D.d(Ne,"retrieve2",function(){return Mi}),D.d(Ne,"retrieve3",function(){return wn}),D.d(Ne,"slice",function(){return De}),D.d(Ne,"normalizeCssArray",function(){return Ae}),D.d(Ne,"assert",function(){return st}),D.d(Ne,"trim",function(){return Xe}),D.d(Ne,"setAsPrimitive",function(){return V}),D.d(Ne,"isPrimitive",function(){return B}),D.d(Ne,"HashMap",function(){return J}),D.d(Ne,"createHashMap",function(){return Oe}),D.d(Ne,"concatArray",function(){return nt}),D.d(Ne,"createObject",function(){return ut}),D.d(Ne,"disableUserSelect",function(){return Jt}),D.d(Ne,"hasOwn",function(){return pn}),D.d(Ne,"noop",function(){return hn}),D.d(Ne,"RADIAN_TO_DEGREE",function(){return Ln});var Y=D("cm6r"),be=et(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(Se,Ee){return Se["[object "+Ee+"]"]=!0,Se},{}),F=et(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(Se,Ee){return Se["[object "+Ee+"Array]"]=!0,Se},{}),re=Object.prototype.toString,P=Array.prototype,X=P.forEach,je=P.filter,de=P.slice,tt=P.map,Z=function(){}.constructor,Pe=Z?Z.prototype:null,ve="__proto__",dt=2311;function at(){return dt++}function Pt(){for(var Se=[],Ee=0;Ee<arguments.length;Ee++)Se[Ee]=arguments[Ee];typeof console!="undefined"&&console.error.apply(console,Se)}function Ft(Se){if(Se==null||typeof Se!="object")return Se;var Ee=Se,Ue=re.call(Se);if(Ue==="[object Array]"){if(!B(Se)){Ee=[];for(var Ie=0,Re=Se.length;Ie<Re;Ie++)Ee[Ie]=Ft(Se[Ie])}}else if(F[Ue]){if(!B(Se)){var Ke=Se.constructor;if(Ke.from)Ee=Ke.from(Se);else{Ee=new Ke(Se.length);for(var Ie=0,Re=Se.length;Ie<Re;Ie++)Ee[Ie]=Se[Ie]}}}else if(!be[Ue]&&!B(Se)&&!zn(Se)){Ee={};for(var We in Se)Se.hasOwnProperty(We)&&We!==ve&&(Ee[We]=Ft(Se[We]))}return Ee}function bt(Se,Ee,Ue){if(!An(Ee)||!An(Se))return Ue?Ft(Ee):Se;for(var Ie in Ee)if(Ee.hasOwnProperty(Ie)&&Ie!==ve){var Re=Se[Ie],Ke=Ee[Ie];An(Ke)&&An(Re)&&!on(Ke)&&!on(Re)&&!zn(Ke)&&!zn(Re)&&!Fn(Ke)&&!Fn(Re)&&!B(Ke)&&!B(Re)?bt(Re,Ke,Ue):(Ue||!(Ie in Se))&&(Se[Ie]=Ft(Ee[Ie]))}return Se}function Ct(Se,Ee){for(var Ue=Se[0],Ie=1,Re=Se.length;Ie<Re;Ie++)Ue=bt(Ue,Se[Ie],Ee);return Ue}function he(Se,Ee){if(Object.assign)Object.assign(Se,Ee);else for(var Ue in Ee)Ee.hasOwnProperty(Ue)&&Ue!==ve&&(Se[Ue]=Ee[Ue]);return Se}function Ve(Se,Ee,Ue){for(var Ie=Kt(Ee),Re=0;Re<Ie.length;Re++){var Ke=Ie[Re];(Ue?Ee[Ke]!=null:Se[Ke]==null)&&(Se[Ke]=Ee[Ke])}return Se}var yt=Y.d.createCanvas;function Mt(Se,Ee){if(Se){if(Se.indexOf)return Se.indexOf(Ee);for(var Ue=0,Ie=Se.length;Ue<Ie;Ue++)if(Se[Ue]===Ee)return Ue}return-1}function Ut(Se,Ee){var Ue=Se.prototype;function Ie(){}Ie.prototype=Ee.prototype,Se.prototype=new Ie;for(var Re in Ue)Ue.hasOwnProperty(Re)&&(Se.prototype[Re]=Ue[Re]);Se.prototype.constructor=Se,Se.superClass=Ee}function It(Se,Ee,Ue){if(Se="prototype"in Se?Se.prototype:Se,Ee="prototype"in Ee?Ee.prototype:Ee,Object.getOwnPropertyNames)for(var Ie=Object.getOwnPropertyNames(Ee),Re=0;Re<Ie.length;Re++){var Ke=Ie[Re];Ke!=="constructor"&&(Ue?Ee[Ke]!=null:Se[Ke]==null)&&(Se[Ke]=Ee[Ke])}else Ve(Se,Ee,Ue)}function Yt(Se){return!Se||typeof Se=="string"?!1:typeof Se.length=="number"}function Gt(Se,Ee,Ue){if(!!(Se&&Ee))if(Se.forEach&&Se.forEach===X)Se.forEach(Ee,Ue);else if(Se.length===+Se.length)for(var Ie=0,Re=Se.length;Ie<Re;Ie++)Ee.call(Ue,Se[Ie],Ie,Se);else for(var Ke in Se)Se.hasOwnProperty(Ke)&&Ee.call(Ue,Se[Ke],Ke,Se)}function an(Se,Ee,Ue){if(!Se)return[];if(!Ee)return De(Se);if(Se.map&&Se.map===tt)return Se.map(Ee,Ue);for(var Ie=[],Re=0,Ke=Se.length;Re<Ke;Re++)Ie.push(Ee.call(Ue,Se[Re],Re,Se));return Ie}function et(Se,Ee,Ue,Ie){if(!!(Se&&Ee)){for(var Re=0,Ke=Se.length;Re<Ke;Re++)Ue=Ee.call(Ie,Ue,Se[Re],Re,Se);return Ue}}function xt(Se,Ee,Ue){if(!Se)return[];if(!Ee)return De(Se);if(Se.filter&&Se.filter===je)return Se.filter(Ee,Ue);for(var Ie=[],Re=0,Ke=Se.length;Re<Ke;Re++)Ee.call(Ue,Se[Re],Re,Se)&&Ie.push(Se[Re]);return Ie}function mt(Se,Ee,Ue){if(!!(Se&&Ee)){for(var Ie=0,Re=Se.length;Ie<Re;Ie++)if(Ee.call(Ue,Se[Ie],Ie,Se))return Se[Ie]}}function Kt(Se){if(!Se)return[];if(Object.keys)return Object.keys(Se);var Ee=[];for(var Ue in Se)Se.hasOwnProperty(Ue)&&Ee.push(Ue);return Ee}function $t(Se,Ee){for(var Ue=[],Ie=2;Ie<arguments.length;Ie++)Ue[Ie-2]=arguments[Ie];return function(){return Se.apply(Ee,Ue.concat(de.call(arguments)))}}var un=Pe&&zt(Pe.bind)?Pe.call.bind(Pe.bind):$t;function Sn(Se){for(var Ee=[],Ue=1;Ue<arguments.length;Ue++)Ee[Ue-1]=arguments[Ue];return function(){return Se.apply(this,Ee.concat(de.call(arguments)))}}function on(Se){return Array.isArray?Array.isArray(Se):re.call(Se)==="[object Array]"}function zt(Se){return typeof Se=="function"}function en(Se){return typeof Se=="string"}function y(Se){return re.call(Se)==="[object String]"}function _n(Se){return typeof Se=="number"}function An(Se){var Ee=typeof Se;return Ee==="function"||!!Se&&Ee==="object"}function Fn(Se){return!!be[re.call(Se)]}function Wn(Se){return!!F[re.call(Se)]}function zn(Se){return typeof Se=="object"&&typeof Se.nodeType=="number"&&typeof Se.ownerDocument=="object"}function or(Se){return Se.colorStops!=null}function Sr(Se){return Se.image!=null}function pr(Se){return re.call(Se)==="[object RegExp]"}function Jr(Se){return Se!==Se}function jr(){for(var Se=[],Ee=0;Ee<arguments.length;Ee++)Se[Ee]=arguments[Ee];for(var Ue=0,Ie=Se.length;Ue<Ie;Ue++)if(Se[Ue]!=null)return Se[Ue]}function Mi(Se,Ee){return Se!=null?Se:Ee}function wn(Se,Ee,Ue){return Se!=null?Se:Ee!=null?Ee:Ue}function De(Se){for(var Ee=[],Ue=1;Ue<arguments.length;Ue++)Ee[Ue-1]=arguments[Ue];return de.apply(Se,Ee)}function Ae(Se){if(typeof Se=="number")return[Se,Se,Se,Se];var Ee=Se.length;return Ee===2?[Se[0],Se[1],Se[0],Se[1]]:Ee===3?[Se[0],Se[1],Se[2],Se[1]]:Se}function st(Se,Ee){if(!Se)throw new Error(Ee)}function Xe(Se){return Se==null?null:typeof Se.trim=="function"?Se.trim():Se.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var ie="__ec_primitive__";function V(Se){Se[ie]=!0}function B(Se){return Se[ie]}var J=function(){function Se(Ee){this.data={};var Ue=on(Ee);this.data={};var Ie=this;Ee instanceof Se?Ee.each(Re):Ee&&Gt(Ee,Re);function Re(Ke,We){Ue?Ie.set(Ke,We):Ie.set(We,Ke)}}return Se.prototype.get=function(Ee){return this.data.hasOwnProperty(Ee)?this.data[Ee]:null},Se.prototype.set=function(Ee,Ue){return this.data[Ee]=Ue},Se.prototype.each=function(Ee,Ue){for(var Ie in this.data)this.data.hasOwnProperty(Ie)&&Ee.call(Ue,this.data[Ie],Ie)},Se.prototype.keys=function(){return Kt(this.data)},Se.prototype.removeKey=function(Ee){delete this.data[Ee]},Se}();function Oe(Se){return new J(Se)}function nt(Se,Ee){for(var Ue=new Se.constructor(Se.length+Ee.length),Ie=0;Ie<Se.length;Ie++)Ue[Ie]=Se[Ie];for(var Re=Se.length,Ie=0;Ie<Ee.length;Ie++)Ue[Ie+Re]=Ee[Ie];return Ue}function ut(Se,Ee){var Ue;if(Object.create)Ue=Object.create(Se);else{var Ie=function(){};Ie.prototype=Se,Ue=new Ie}return Ee&&he(Ue,Ee),Ue}function Jt(Se){var Ee=Se.style;Ee.webkitUserSelect="none",Ee.userSelect="none",Ee.webkitTapHighlightColor="rgba(0,0,0,0)",Ee["-webkit-touch-callout"]="none"}function pn(Se,Ee){return Se.hasOwnProperty(Ee)}function hn(){}var Ln=180/Math.PI},cm6r:function(Cr,Ne,D){"use strict";D.d(Ne,"c",function(){return Y}),D.d(Ne,"b",function(){return be}),D.d(Ne,"a",function(){return F}),D.d(Ne,"d",function(){return tt}),D.d(Ne,"e",function(){return Z});var Y=12,be="sans-serif",F=Y+"px "+be,re=20,P=100,X="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function je(Pe){var ve={};if(typeof JSON=="undefined")return ve;for(var dt=0;dt<Pe.length;dt++){var at=String.fromCharCode(dt+32),Pt=(Pe.charCodeAt(dt)-re)/P;ve[at]=Pt}return ve}var de=je(X),tt={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var Pe,ve;return function(dt,at){if(!Pe){var Pt=tt.createCanvas();Pe=Pt&&Pt.getContext("2d")}if(Pe)return ve!==at&&(ve=Pe.font=at||F),Pe.measureText(dt);dt=dt||"",at=at||F;var Ft=/^([0-9]*?)px$/.exec(at),bt=+(Ft&&Ft[1])||Y,Ct=0;if(at.indexOf("mono")>=0)Ct=bt*dt.length;else for(var he=0;he<dt.length;he++){var Ve=de[dt[he]];Ct+=Ve==null?bt:Ve*bt}return{width:Ct}}}(),loadImage:function(Pe,ve,dt){var at=new Image;return at.onload=ve,at.onerror=dt,at.src=Pe,at}};function Z(Pe){for(var ve in tt)Pe[ve]&&(tt[ve]=Pe[ve])}},eZ87:function(Cr,Ne,D){"use strict";var Y=D("U8pU"),be=D("rePB"),F=D("wx14"),re=D("ODXe"),P=D("q1tI"),X=D.n(P),je=D("VTBJ"),de=D("1OyB"),tt=D("vuIU"),Z=D("Ji7U"),Pe=D("LK+K"),ve=D("Kwbf"),dt=function(Ee){var Ue,Ie,Re=Ee.className,Ke=Ee.included,We=Ee.vertical,ht=Ee.style,ot=Ee.length,oe=Ee.offset,ue=Ee.reverse;ot<0&&(ue=!ue,ot=Math.abs(ot),oe=100-oe);var $e=We?(Ue={},Object(be.a)(Ue,ue?"top":"bottom","".concat(oe,"%")),Object(be.a)(Ue,ue?"bottom":"top","auto"),Object(be.a)(Ue,"height","".concat(ot,"%")),Ue):(Ie={},Object(be.a)(Ie,ue?"right":"left","".concat(oe,"%")),Object(be.a)(Ie,ue?"left":"right","auto"),Object(be.a)(Ie,"width","".concat(ot,"%")),Ie),k=Object(je.a)(Object(je.a)({},ht),$e);return Ke?X.a.createElement("div",{className:Re,style:k}):null},at=dt,Pt=D("Ff2n"),Ft=D("KQm4"),bt=D("foSv");function Ct(Se,Ee){for(;!Object.prototype.hasOwnProperty.call(Se,Ee)&&(Se=Object(bt.a)(Se),Se!==null););return Se}function he(){return typeof Reflect!="undefined"&&Reflect.get?he=Reflect.get:he=function(Ee,Ue,Ie){var Re=Ct(Ee,Ue);if(!!Re){var Ke=Object.getOwnPropertyDescriptor(Re,Ue);return Ke.get?Ke.get.call(arguments.length<3?Ee:Ie):Ke.value}},he.apply(this,arguments)}var Ve=D("zT1h"),yt=D("TSYQ"),Mt=D.n(yt),Ut=function(Ee,Ue,Ie,Re,Ke,We){Object(ve.a)(Ie?Re>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var ht=Object.keys(Ue).map(parseFloat).sort(function(oe,ue){return oe-ue});if(Ie&&Re)for(var ot=Ke;ot<=We;ot+=Re)ht.indexOf(ot)===-1&&ht.push(ot);return ht},It=function(Ee){var Ue=Ee.prefixCls,Ie=Ee.vertical,Re=Ee.reverse,Ke=Ee.marks,We=Ee.dots,ht=Ee.step,ot=Ee.included,oe=Ee.lowerBound,ue=Ee.upperBound,$e=Ee.max,k=Ee.min,Ce=Ee.dotStyle,ge=Ee.activeDotStyle,we=$e-k,ct=Ut(Ie,Ke,We,ht,k,$e).map(function(Rt){var Wt,kt="".concat(Math.abs(Rt-k)/we*100,"%"),nn=!ot&&Rt===ue||ot&&Rt<=ue&&Rt>=oe,cn=Ie?Object(je.a)(Object(je.a)({},Ce),{},Object(be.a)({},Re?"top":"bottom",kt)):Object(je.a)(Object(je.a)({},Ce),{},Object(be.a)({},Re?"right":"left",kt));nn&&(cn=Object(je.a)(Object(je.a)({},cn),ge));var gn=Mt()((Wt={},Object(be.a)(Wt,"".concat(Ue,"-dot"),!0),Object(be.a)(Wt,"".concat(Ue,"-dot-active"),nn),Object(be.a)(Wt,"".concat(Ue,"-dot-reverse"),Re),Wt));return X.a.createElement("span",{className:gn,style:cn,key:Rt})});return X.a.createElement("div",{className:"".concat(Ue,"-step")},ct)},Yt=It,Gt=function(Ee){var Ue=Ee.className,Ie=Ee.vertical,Re=Ee.reverse,Ke=Ee.marks,We=Ee.included,ht=Ee.upperBound,ot=Ee.lowerBound,oe=Ee.max,ue=Ee.min,$e=Ee.onClickLabel,k=Object.keys(Ke),Ce=oe-ue,ge=k.map(parseFloat).sort(function(we,ct){return we-ct}).map(function(we){var ct,Rt=Ke[we],Wt=Object(Y.a)(Rt)==="object"&&!X.a.isValidElement(Rt),kt=Wt?Rt.label:Rt;if(!kt&&kt!==0)return null;var nn=!We&&we===ht||We&&we<=ht&&we>=ot,cn=Mt()((ct={},Object(be.a)(ct,"".concat(Ue,"-text"),!0),Object(be.a)(ct,"".concat(Ue,"-text-active"),nn),ct)),gn=Object(be.a)({marginBottom:"-50%"},Re?"top":"bottom","".concat((we-ue)/Ce*100,"%")),tn=Object(be.a)({transform:"translateX(".concat(Re?"50%":"-50%",")"),msTransform:"translateX(".concat(Re?"50%":"-50%",")")},Re?"right":"left","".concat((we-ue)/Ce*100,"%")),fn=Ie?gn:tn,qe=Wt?Object(je.a)(Object(je.a)({},fn),Rt.style):fn;return X.a.createElement("span",{className:cn,style:qe,key:we,onMouseDown:function(vt){return $e(vt,we)},onTouchStart:function(vt){return $e(vt,we)}},kt)});return X.a.createElement("div",{className:Ue},ge)},an=Gt,et=function(Se){Object(Z.a)(Ue,Se);var Ee=Object(Pe.a)(Ue);function Ue(){var Ie;return Object(de.a)(this,Ue),Ie=Ee.apply(this,arguments),Ie.state={clickFocused:!1},Ie.setHandleRef=function(Re){Ie.handle=Re},Ie.handleMouseUp=function(){document.activeElement===Ie.handle&&Ie.setClickFocus(!0)},Ie.handleMouseDown=function(Re){Re.preventDefault(),Ie.focus()},Ie.handleBlur=function(){Ie.setClickFocus(!1)},Ie.handleKeyDown=function(){Ie.setClickFocus(!1)},Ie}return Object(tt.a)(Ue,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Object(Ve.a)(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(Re){this.setState({clickFocused:Re})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var Re,Ke,We=this.props,ht=We.prefixCls,ot=We.vertical,oe=We.reverse,ue=We.offset,$e=We.style,k=We.disabled,Ce=We.min,ge=We.max,we=We.value,ct=We.tabIndex,Rt=We.ariaLabel,Wt=We.ariaLabelledBy,kt=We.ariaValueTextFormatter,nn=Object(Pt.a)(We,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),cn=Mt()(this.props.className,Object(be.a)({},"".concat(ht,"-handle-click-focused"),this.state.clickFocused)),gn=ot?(Re={},Object(be.a)(Re,oe?"top":"bottom","".concat(ue,"%")),Object(be.a)(Re,oe?"bottom":"top","auto"),Object(be.a)(Re,"transform",oe?null:"translateY(+50%)"),Re):(Ke={},Object(be.a)(Ke,oe?"right":"left","".concat(ue,"%")),Object(be.a)(Ke,oe?"left":"right","auto"),Object(be.a)(Ke,"transform","translateX(".concat(oe?"+":"-","50%)")),Ke),tn=Object(je.a)(Object(je.a)({},$e),gn),fn=ct||0;(k||ct===null)&&(fn=null);var qe;return kt&&(qe=kt(we)),X.a.createElement("div",Object(F.a)({ref:this.setHandleRef,tabIndex:fn},nn,{className:cn,style:tn,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":Ce,"aria-valuemax":ge,"aria-valuenow":we,"aria-disabled":!!k,"aria-label":Rt,"aria-labelledby":Wt,"aria-valuetext":qe}))}}]),Ue}(X.a.Component),xt=D("i8i4"),mt=D("4IlW");function Kt(Se,Ee){try{return Object.keys(Ee).some(function(Ue){return Se.target===Object(xt.findDOMNode)(Ee[Ue])})}catch(Ue){return!1}}function $t(Se,Ee){var Ue=Ee.min,Ie=Ee.max;return Se<Ue||Se>Ie}function un(Se){return Se.touches.length>1||Se.type.toLowerCase()==="touchend"&&Se.touches.length>0}function Sn(Se,Ee){var Ue=Ee.marks,Ie=Ee.step,Re=Ee.min,Ke=Ee.max,We=Object.keys(Ue).map(parseFloat);if(Ie!==null){var ht=Math.pow(10,on(Ie)),ot=Math.floor((Ke*ht-Re*ht)/(Ie*ht)),oe=Math.min((Se-Re)/Ie,ot),ue=Math.round(oe)*Ie+Re;We.push(ue)}var $e=We.map(function(k){return Math.abs(Se-k)});return We[$e.indexOf(Math.min.apply(Math,Object(Ft.a)($e)))]}function on(Se){var Ee=Se.toString(),Ue=0;return Ee.indexOf(".")>=0&&(Ue=Ee.length-Ee.indexOf(".")-1),Ue}function zt(Se,Ee){return Se?Ee.clientY:Ee.pageX}function en(Se,Ee){return Se?Ee.touches[0].clientY:Ee.touches[0].pageX}function y(Se,Ee){var Ue=Ee.getBoundingClientRect();return Se?Ue.top+Ue.height*.5:window.pageXOffset+Ue.left+Ue.width*.5}function _n(Se,Ee){var Ue=Ee.max,Ie=Ee.min;return Se<=Ie?Ie:Se>=Ue?Ue:Se}function An(Se,Ee){var Ue=Ee.step,Ie=isFinite(Sn(Se,Ee))?Sn(Se,Ee):0;return Ue===null?Ie:parseFloat(Ie.toFixed(on(Ue)))}function Fn(Se){Se.stopPropagation(),Se.preventDefault()}function Wn(Se,Ee,Ue){var Ie={increase:function(ht,ot){return ht+ot},decrease:function(ht,ot){return ht-ot}},Re=Ie[Se](Object.keys(Ue.marks).indexOf(JSON.stringify(Ee)),1),Ke=Object.keys(Ue.marks)[Re];return Ue.step?Ie[Se](Ee,Ue.step):!!Object.keys(Ue.marks).length&&!!Ue.marks[Ke]?Ue.marks[Ke]:Ee}function zn(Se,Ee,Ue){var Ie="increase",Re="decrease",Ke=Ie;switch(Se.keyCode){case mt.a.UP:Ke=Ee&&Ue?Re:Ie;break;case mt.a.RIGHT:Ke=!Ee&&Ue?Re:Ie;break;case mt.a.DOWN:Ke=Ee&&Ue?Ie:Re;break;case mt.a.LEFT:Ke=!Ee&&Ue?Ie:Re;break;case mt.a.END:return function(We,ht){return ht.max};case mt.a.HOME:return function(We,ht){return ht.min};case mt.a.PAGE_UP:return function(We,ht){return We+ht.step*2};case mt.a.PAGE_DOWN:return function(We,ht){return We-ht.step*2};default:return}return function(We,ht){return Wn(Ke,We,ht)}}function or(){}function Sr(Se){var Ee;return Ee=function(Ue){Object(Z.a)(Re,Ue);var Ie=Object(Pe.a)(Re);function Re(Ke){var We;Object(de.a)(this,Re),We=Ie.call(this,Ke),We.onDown=function($e,k){var Ce=k,ge=We.props,we=ge.draggableTrack,ct=ge.vertical,Rt=We.state.bounds,Wt=we&&We.positionGetValue?We.positionGetValue(Ce)||[]:[],kt=Kt($e,We.handlesRefs);if(We.dragTrack=we&&Rt.length>=2&&!kt&&!Wt.map(function(cn,gn){var tn=gn?!0:cn>=Rt[gn];return gn===Wt.length-1?cn<=Rt[gn]:tn}).some(function(cn){return!cn}),We.dragTrack)We.dragOffset=Ce,We.startBounds=Object(Ft.a)(Rt);else{if(!kt)We.dragOffset=0;else{var nn=y(ct,$e.target);We.dragOffset=Ce-nn,Ce=nn}We.onStart(Ce)}},We.onMouseDown=function($e){if($e.button===0){We.removeDocumentEvents();var k=We.props.vertical,Ce=zt(k,$e);We.onDown($e,Ce),We.addDocumentMouseEvents()}},We.onTouchStart=function($e){if(!un($e)){var k=We.props.vertical,Ce=en(k,$e);We.onDown($e,Ce),We.addDocumentTouchEvents(),Fn($e)}},We.onFocus=function($e){var k=We.props,Ce=k.onFocus,ge=k.vertical;if(Kt($e,We.handlesRefs)&&!We.dragTrack){var we=y(ge,$e.target);We.dragOffset=0,We.onStart(we),Fn($e),Ce&&Ce($e)}},We.onBlur=function($e){var k=We.props.onBlur;We.dragTrack||We.onEnd(),k&&k($e)},We.onMouseUp=function(){We.handlesRefs[We.prevMovedHandleIndex]&&We.handlesRefs[We.prevMovedHandleIndex].clickFocus()},We.onMouseMove=function($e){if(!We.sliderRef){We.onEnd();return}var k=zt(We.props.vertical,$e);We.onMove($e,k-We.dragOffset,We.dragTrack,We.startBounds)},We.onTouchMove=function($e){if(un($e)||!We.sliderRef){We.onEnd();return}var k=en(We.props.vertical,$e);We.onMove($e,k-We.dragOffset,We.dragTrack,We.startBounds)},We.onKeyDown=function($e){We.sliderRef&&Kt($e,We.handlesRefs)&&We.onKeyboard($e)},We.onClickMarkLabel=function($e,k){$e.stopPropagation(),We.onChange({value:k}),We.setState({value:k},function(){return We.onEnd(!0)})},We.saveSlider=function($e){We.sliderRef=$e};var ht=Ke.step,ot=Ke.max,oe=Ke.min,ue=isFinite(ot-oe)?(ot-oe)%ht==0:!0;return Object(ve.a)(ht&&Math.floor(ht)===ht?ue:!0,"Slider[max] - Slider[min] (".concat(ot-oe,") should be a multiple of Slider[step] (").concat(ht,")")),We.handlesRefs={},We}return Object(tt.a)(Re,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var We=this.props,ht=We.autoFocus,ot=We.disabled;ht&&!ot&&this.focus()}},{key:"componentWillUnmount",value:function(){he(Object(bt.a)(Re.prototype),"componentWillUnmount",this)&&he(Object(bt.a)(Re.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var We=this.sliderRef,ht=this.props,ot=ht.vertical,oe=ht.reverse,ue=We.getBoundingClientRect();return ot?oe?ue.bottom:ue.top:window.pageXOffset+(oe?ue.right:ue.left)}},{key:"getSliderLength",value:function(){var We=this.sliderRef;if(!We)return 0;var ht=We.getBoundingClientRect();return this.props.vertical?ht.height:ht.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Object(Ve.a)(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Object(Ve.a)(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Object(Ve.a)(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Object(Ve.a)(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var We;this.props.disabled||(We=this.handlesRefs[0])===null||We===void 0||We.focus()}},{key:"blur",value:function(){var We=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(ht){var ot,oe;(ot=We.handlesRefs[ht])===null||ot===void 0||(oe=ot.blur)===null||oe===void 0||oe.call(ot)})}},{key:"calcValue",value:function(We){var ht=this.props,ot=ht.vertical,oe=ht.min,ue=ht.max,$e=Math.abs(Math.max(We,0)/this.getSliderLength()),k=ot?(1-$e)*(ue-oe)+oe:$e*(ue-oe)+oe;return k}},{key:"calcValueByPos",value:function(We){var ht=this.props.reverse?-1:1,ot=ht*(We-this.getSliderStart()),oe=this.trimAlignValue(this.calcValue(ot));return oe}},{key:"calcOffset",value:function(We){var ht=this.props,ot=ht.min,oe=ht.max,ue=(We-ot)/(oe-ot);return Math.max(0,ue*100)}},{key:"saveHandle",value:function(We,ht){this.handlesRefs[We]=ht}},{key:"render",value:function(){var We,ht=this.props,ot=ht.prefixCls,oe=ht.className,ue=ht.marks,$e=ht.dots,k=ht.step,Ce=ht.included,ge=ht.disabled,we=ht.vertical,ct=ht.reverse,Rt=ht.min,Wt=ht.max,kt=ht.children,nn=ht.maximumTrackStyle,cn=ht.style,gn=ht.railStyle,tn=ht.dotStyle,fn=ht.activeDotStyle,qe=he(Object(bt.a)(Re.prototype),"render",this).call(this),Qe=qe.tracks,vt=qe.handles,Je=Mt()(ot,(We={},Object(be.a)(We,"".concat(ot,"-with-marks"),Object.keys(ue).length),Object(be.a)(We,"".concat(ot,"-disabled"),ge),Object(be.a)(We,"".concat(ot,"-vertical"),we),Object(be.a)(We,oe,oe),We));return X.a.createElement("div",{ref:this.saveSlider,className:Je,onTouchStart:ge?or:this.onTouchStart,onMouseDown:ge?or:this.onMouseDown,onMouseUp:ge?or:this.onMouseUp,onKeyDown:ge?or:this.onKeyDown,onFocus:ge?or:this.onFocus,onBlur:ge?or:this.onBlur,style:cn},X.a.createElement("div",{className:"".concat(ot,"-rail"),style:Object(je.a)(Object(je.a)({},nn),gn)}),Qe,X.a.createElement(Yt,{prefixCls:ot,vertical:we,reverse:ct,marks:ue,dots:$e,step:k,included:Ce,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:Wt,min:Rt,dotStyle:tn,activeDotStyle:fn}),vt,X.a.createElement(an,{className:"".concat(ot,"-mark"),onClickLabel:ge?or:this.onClickMarkLabel,vertical:we,marks:ue,included:Ce,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:Wt,min:Rt,reverse:ct}),kt)}}]),Re}(Se),Ee.displayName="ComponentEnhancer(".concat(Se.displayName,")"),Ee.defaultProps=Object(je.a)(Object(je.a)({},Se.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(Ie){var Re=Ie.index,Ke=Object(Pt.a)(Ie,["index"]);return delete Ke.dragging,Ke.value===null?null:X.a.createElement(et,Object(F.a)({},Ke,{key:Re}))},onBeforeChange:or,onChange:or,onAfterChange:or,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),Ee}var pr=function(Se){Object(Z.a)(Ue,Se);var Ee=Object(Pe.a)(Ue);function Ue(Ie){var Re;Object(de.a)(this,Ue),Re=Ee.call(this,Ie),Re.positionGetValue=function(ht){return[]},Re.onEnd=function(ht){var ot=Re.state.dragging;Re.removeDocumentEvents(),(ot||ht)&&Re.props.onAfterChange(Re.getValue()),Re.setState({dragging:!1})};var Ke=Ie.defaultValue!==void 0?Ie.defaultValue:Ie.min,We=Ie.value!==void 0?Ie.value:Ke;return Re.state={value:Re.trimAlignValue(We),dragging:!1},Object(ve.a)(!("minimumTrackStyle"in Ie),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Object(ve.a)(!("maximumTrackStyle"in Ie),"maximumTrackStyle will be deprecated, please use railStyle instead."),Re}return Object(tt.a)(Ue,[{key:"calcValueByPos",value:function(Re){return 0}},{key:"calcOffset",value:function(Re){return 0}},{key:"saveHandle",value:function(Re,Ke){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(Re,Ke){var We=this.props,ht=We.min,ot=We.max,oe=We.value,ue=We.onChange;if("min"in this.props||"max"in this.props){var $e=oe!==void 0?oe:Ke.value,k=this.trimAlignValue($e,this.props);k!==Ke.value&&(this.setState({value:k}),!(ht===Re.min&&ot===Re.max)&&$t($e,this.props)&&ue(k))}}},{key:"onChange",value:function(Re){var Ke=this.props,We=!("value"in Ke),ht=Re.value>this.props.max?Object(je.a)(Object(je.a)({},Re),{},{value:this.props.max}):Re;We&&this.setState(ht);var ot=ht.value;Ke.onChange(ot)}},{key:"onStart",value:function(Re){this.setState({dragging:!0});var Ke=this.props,We=this.getValue();Ke.onBeforeChange(We);var ht=this.calcValueByPos(Re);this.startValue=ht,this.startPosition=Re,ht!==We&&(this.prevMovedHandleIndex=0,this.onChange({value:ht}))}},{key:"onMove",value:function(Re,Ke){Fn(Re);var We=this.state.value,ht=this.calcValueByPos(Ke);ht!==We&&this.onChange({value:ht})}},{key:"onKeyboard",value:function(Re){var Ke=this.props,We=Ke.reverse,ht=Ke.vertical,ot=zn(Re,ht,We);if(ot){Fn(Re);var oe=this.state,ue=oe.value,$e=ot(ue,this.props),k=this.trimAlignValue($e);if(k===ue)return;this.onChange({value:k}),this.props.onAfterChange(k),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var Re=this.props.startPoint||this.props.min;return this.state.value>Re?Re:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(Re){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Re===null)return null;var We=Object(je.a)(Object(je.a)({},this.props),Ke),ht=_n(Re,We);return An(ht,We)}},{key:"render",value:function(){var Re=this,Ke=this.props,We=Ke.prefixCls,ht=Ke.vertical,ot=Ke.included,oe=Ke.disabled,ue=Ke.minimumTrackStyle,$e=Ke.trackStyle,k=Ke.handleStyle,Ce=Ke.tabIndex,ge=Ke.ariaLabelForHandle,we=Ke.ariaLabelledByForHandle,ct=Ke.ariaValueTextFormatterForHandle,Rt=Ke.min,Wt=Ke.max,kt=Ke.startPoint,nn=Ke.reverse,cn=Ke.handle,gn=this.state,tn=gn.value,fn=gn.dragging,qe=this.calcOffset(tn),Qe=cn({className:"".concat(We,"-handle"),prefixCls:We,vertical:ht,offset:qe,value:tn,dragging:fn,disabled:oe,min:Rt,max:Wt,reverse:nn,index:0,tabIndex:Ce,ariaLabel:ge,ariaLabelledBy:we,ariaValueTextFormatter:ct,style:k[0]||k,ref:function(Tt){return Re.saveHandle(0,Tt)}}),vt=kt!==void 0?this.calcOffset(kt):0,Je=$e[0]||$e,me=X.a.createElement(at,{className:"".concat(We,"-track"),vertical:ht,included:ot,offset:vt,reverse:nn,length:qe-vt,style:Object(je.a)(Object(je.a)({},ue),Je)});return{tracks:me,handles:Qe}}}]),Ue}(X.a.Component),Jr=Sr(pr),jr=function(Ee){var Ue=Ee.value,Ie=Ee.handle,Re=Ee.bounds,Ke=Ee.props,We=Ke.allowCross,ht=Ke.pushable,ot=Number(ht),oe=_n(Ue,Ke),ue=oe;return!We&&Ie!=null&&Re!==void 0&&(Ie>0&&oe<=Re[Ie-1]+ot&&(ue=Re[Ie-1]+ot),Ie<Re.length-1&&oe>=Re[Ie+1]-ot&&(ue=Re[Ie+1]-ot)),An(ue,Ke)},Mi=function(Se){Object(Z.a)(Ue,Se);var Ee=Object(Pe.a)(Ue);function Ue(Ie){var Re;Object(de.a)(this,Ue),Re=Ee.call(this,Ie),Re.positionGetValue=function(Ce){var ge=Re.getValue(),we=Re.calcValueByPos(Ce),ct=Re.getClosestBound(we),Rt=Re.getBoundNeedMoving(we,ct),Wt=ge[Rt];if(we===Wt)return null;var kt=Object(Ft.a)(ge);return kt[Rt]=we,kt},Re.onEnd=function(Ce){var ge=Re.state.handle;Re.removeDocumentEvents(),ge||(Re.dragTrack=!1),(ge!==null||Ce)&&Re.props.onAfterChange(Re.getValue()),Re.setState({handle:null})};var Ke=Ie.count,We=Ie.min,ht=Ie.max,ot=Array.apply(void 0,Object(Ft.a)(Array(Ke+1))).map(function(){return We}),oe="defaultValue"in Ie?Ie.defaultValue:ot,ue=Ie.value!==void 0?Ie.value:oe,$e=ue.map(function(Ce,ge){return jr({value:Ce,handle:ge,props:Ie})}),k=$e[0]===ht?0:$e.length-1;return Re.state={handle:null,recent:k,bounds:$e},Re}return Object(tt.a)(Ue,[{key:"calcValueByPos",value:function(Re){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(Re){return 0}},{key:"saveHandle",value:function(Re,Ke){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(Re,Ke){var We=this,ht=this.props,ot=ht.onChange,oe=ht.value,ue=ht.min,$e=ht.max;if(("min"in this.props||"max"in this.props)&&!(ue===Re.min&&$e===Re.max)){var k=oe||Ke.bounds;if(k.some(function(ge){return $t(ge,We.props)})){var Ce=k.map(function(ge){return _n(ge,We.props)});ot(Ce)}}}},{key:"onChange",value:function(Re){var Ke=this.props,We=!("value"in Ke);if(We)this.setState(Re);else{var ht={};["handle","recent"].forEach(function(ue){Re[ue]!==void 0&&(ht[ue]=Re[ue])}),Object.keys(ht).length&&this.setState(ht)}var ot=Object(je.a)(Object(je.a)({},this.state),Re),oe=ot.bounds;Ke.onChange(oe)}},{key:"onStart",value:function(Re){var Ke=this.props,We=this.state,ht=this.getValue();Ke.onBeforeChange(ht);var ot=this.calcValueByPos(Re);this.startValue=ot,this.startPosition=Re;var oe=this.getClosestBound(ot);this.prevMovedHandleIndex=this.getBoundNeedMoving(ot,oe),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var ue=ht[this.prevMovedHandleIndex];if(ot!==ue){var $e=Object(Ft.a)(We.bounds);$e[this.prevMovedHandleIndex]=ot,this.onChange({bounds:$e})}}},{key:"onMove",value:function(Re,Ke,We,ht){Fn(Re);var ot=this.state,oe=this.props,ue=oe.max||100,$e=oe.min||0;if(We){var k=oe.vertical?-Ke:Ke;k=oe.reverse?-k:k;var Ce=ue-Math.max.apply(Math,Object(Ft.a)(ht)),ge=$e-Math.min.apply(Math,Object(Ft.a)(ht)),we=Math.min(Math.max(k/(this.getSliderLength()/(ue-$e)),ge),Ce),ct=ht.map(function(kt){return Math.floor(Math.max(Math.min(kt+we,ue),$e))});ot.bounds.map(function(kt,nn){return kt===ct[nn]}).some(function(kt){return!kt})&&this.onChange({bounds:ct});return}var Rt=this.calcValueByPos(Ke),Wt=ot.bounds[ot.handle];Rt!==Wt&&this.moveTo(Rt)}},{key:"onKeyboard",value:function(Re){var Ke=this.props,We=Ke.reverse,ht=Ke.vertical,ot=zn(Re,ht,We);if(ot){Fn(Re);var oe=this.state,ue=this.props,$e=oe.bounds,k=oe.handle,Ce=$e[k===null?oe.recent:k],ge=ot(Ce,ue),we=jr({value:ge,handle:k,bounds:oe.bounds,props:ue});if(we===Ce)return;var ct=!0;this.moveTo(we,ct)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(Re){for(var Ke=this.state.bounds,We=0,ht=1;ht<Ke.length-1;ht+=1)Re>=Ke[ht]&&(We=ht);return Math.abs(Ke[We+1]-Re)<Math.abs(Ke[We]-Re)&&(We+=1),We}},{key:"getBoundNeedMoving",value:function(Re,Ke){var We=this.state,ht=We.bounds,ot=We.recent,oe=Ke,ue=ht[Ke+1]===ht[Ke];return ue&&ht[ot]===ht[Ke]&&(oe=ot),ue&&Re!==ht[Ke+1]&&(oe=Re<ht[Ke+1]?Ke:Ke+1),oe}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var Re=this.state.bounds;return Re[Re.length-1]}},{key:"getPoints",value:function(){var Re=this.props,Ke=Re.marks,We=Re.step,ht=Re.min,ot=Re.max,oe=this.internalPointsCache;if(!oe||oe.marks!==Ke||oe.step!==We){var ue=Object(je.a)({},Ke);if(We!==null)for(var $e=ht;$e<=ot;$e+=We)ue[$e]=$e;var k=Object.keys(ue).map(parseFloat);k.sort(function(Ce,ge){return Ce-ge}),this.internalPointsCache={marks:Ke,step:We,points:k}}return this.internalPointsCache.points}},{key:"moveTo",value:function(Re,Ke){var We=this,ht=this.state,ot=this.props,oe=Object(Ft.a)(ht.bounds),ue=ht.handle===null?ht.recent:ht.handle;oe[ue]=Re;var $e=ue;ot.pushable!==!1?this.pushSurroundingHandles(oe,$e):ot.allowCross&&(oe.sort(function(k,Ce){return k-Ce}),$e=oe.indexOf(Re)),this.onChange({recent:$e,handle:$e,bounds:oe}),Ke&&(this.props.onAfterChange(oe),this.setState({},function(){We.handlesRefs[$e].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(Re,Ke){var We=Re[Ke],ht=this.props.pushable,ot=Number(ht),oe=0;if(Re[Ke+1]-We<ot&&(oe=1),We-Re[Ke-1]<ot&&(oe=-1),oe!==0){var ue=Ke+oe,$e=oe*(Re[ue]-We);this.pushHandle(Re,ue,oe,ot-$e)||(Re[Ke]=Re[ue]-oe*ot)}}},{key:"pushHandle",value:function(Re,Ke,We,ht){for(var ot=Re[Ke],oe=Re[Ke];We*(oe-ot)<ht;){if(!this.pushHandleOnePoint(Re,Ke,We))return Re[Ke]=ot,!1;oe=Re[Ke]}return!0}},{key:"pushHandleOnePoint",value:function(Re,Ke,We){var ht=this.getPoints(),ot=ht.indexOf(Re[Ke]),oe=ot+We;if(oe>=ht.length||oe<0)return!1;var ue=Ke+We,$e=ht[oe],k=this.props.pushable,Ce=Number(k),ge=We*(Re[ue]-$e);return this.pushHandle(Re,ue,We,Ce-ge)?(Re[Ke]=$e,!0):!1}},{key:"trimAlignValue",value:function(Re){var Ke=this.state,We=Ke.handle,ht=Ke.bounds;return jr({value:Re,handle:We,bounds:ht,props:this.props})}},{key:"render",value:function(){var Re=this,Ke=this.state,We=Ke.handle,ht=Ke.bounds,ot=this.props,oe=ot.prefixCls,ue=ot.vertical,$e=ot.included,k=ot.disabled,Ce=ot.min,ge=ot.max,we=ot.reverse,ct=ot.handle,Rt=ot.trackStyle,Wt=ot.handleStyle,kt=ot.tabIndex,nn=ot.ariaLabelGroupForHandles,cn=ot.ariaLabelledByGroupForHandles,gn=ot.ariaValueTextFormatterGroupForHandles,tn=ht.map(function(vt){return Re.calcOffset(vt)}),fn="".concat(oe,"-handle"),qe=ht.map(function(vt,Je){var me,Ye=kt[Je]||0;(k||kt[Je]===null)&&(Ye=null);var Tt=We===Je;return ct({className:Mt()((me={},Object(be.a)(me,fn,!0),Object(be.a)(me,"".concat(fn,"-").concat(Je+1),!0),Object(be.a)(me,"".concat(fn,"-dragging"),Tt),me)),prefixCls:oe,vertical:ue,dragging:Tt,offset:tn[Je],value:vt,index:Je,tabIndex:Ye,min:Ce,max:ge,reverse:we,disabled:k,style:Wt[Je],ref:function(tr){return Re.saveHandle(Je,tr)},ariaLabel:nn[Je],ariaLabelledBy:cn[Je],ariaValueTextFormatter:gn[Je]})}),Qe=ht.slice(0,-1).map(function(vt,Je){var me,Ye=Je+1,Tt=Mt()((me={},Object(be.a)(me,"".concat(oe,"-track"),!0),Object(be.a)(me,"".concat(oe,"-track-").concat(Ye),!0),me));return X.a.createElement(at,{className:Tt,vertical:ue,reverse:we,included:$e,offset:tn[Ye-1],length:tn[Ye]-tn[Ye-1],style:Rt[Je],key:Ye})});return{tracks:Qe,handles:qe}}}],[{key:"getDerivedStateFromProps",value:function(Re,Ke){if(!("value"in Re||"min"in Re||"max"in Re))return null;var We=Re.value||Ke.bounds,ht=We.map(function(ot,oe){return jr({value:ot,handle:oe,bounds:Ke.bounds,props:Re})});if(Ke.bounds.length===ht.length){if(ht.every(function(ot,oe){return ot===Ke.bounds[oe]}))return null}else ht=We.map(function(ot,oe){return jr({value:ot,handle:oe,props:Re})});return Object(je.a)(Object(je.a)({},Ke),{},{bounds:ht})}}]),Ue}(X.a.Component);Mi.displayName="Range",Mi.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var wn=Sr(Mi),De=D("OLES"),Ae=D("c+Xe"),st=D("wgJM"),Xe=P.forwardRef(function(Se,Ee){var Ue=Se.visible,Ie=Se.overlay,Re=P.useRef(null),Ke=Object(Ae.a)(Ee,Re),We=P.useRef(null);function ht(){st.a.cancel(We.current)}function ot(){We.current=Object(st.a)(function(){var oe;(oe=Re.current)===null||oe===void 0||oe.forcePopupAlign()})}return P.useEffect(function(){return Ue?ot():ht(),ht},[Ue,Ie]),P.createElement(De.a,Object(F.a)({ref:Ke},Se))}),ie=Xe;function V(Se){var Ee;return Ee=function(Ue){Object(Z.a)(Re,Ue);var Ie=Object(Pe.a)(Re);function Re(){var Ke;return Object(de.a)(this,Re),Ke=Ie.apply(this,arguments),Ke.state={visibles:{}},Ke.handleTooltipVisibleChange=function(We,ht){Ke.setState(function(ot){return{visibles:Object(je.a)(Object(je.a)({},ot.visibles),{},Object(be.a)({},We,ht))}})},Ke.handleWithTooltip=function(We){var ht=We.value,ot=We.dragging,oe=We.index,ue=We.disabled,$e=Object(Pt.a)(We,["value","dragging","index","disabled"]),k=Ke.props,Ce=k.tipFormatter,ge=k.tipProps,we=k.handleStyle,ct=k.getTooltipContainer,Rt=ge.prefixCls,Wt=Rt===void 0?"rc-slider-tooltip":Rt,kt=ge.overlay,nn=kt===void 0?Ce(ht):kt,cn=ge.placement,gn=cn===void 0?"top":cn,tn=ge.visible,fn=tn===void 0?!1:tn,qe=Object(Pt.a)(ge,["prefixCls","overlay","placement","visible"]),Qe;return Array.isArray(we)?Qe=we[oe]||we[0]:Qe=we,X.a.createElement(ie,Object(F.a)({},qe,{getTooltipContainer:ct,prefixCls:Wt,overlay:nn,placement:gn,visible:!ue&&(Ke.state.visibles[oe]||ot)||fn,key:oe}),X.a.createElement(et,Object(F.a)({},$e,{style:Object(je.a)({},Qe),value:ht,onMouseEnter:function(){return Ke.handleTooltipVisibleChange(oe,!0)},onMouseLeave:function(){return Ke.handleTooltipVisibleChange(oe,!1)}})))},Ke}return Object(tt.a)(Re,[{key:"render",value:function(){return X.a.createElement(Se,Object(F.a)({},this.props,{handle:this.handleWithTooltip}))}}]),Re}(X.a.Component),Ee.defaultProps={tipFormatter:function(Ie){return Ie},handleStyle:[{}],tipProps:{},getTooltipContainer:function(Ie){return Ie.parentNode}},Ee}var B=Jr;B.Range=wn,B.Handle=et,B.createSliderWithTooltip=V;var J=B,Oe=D("3S7+"),nt=P.forwardRef(function(Se,Ee){var Ue=Se.visible,Ie=Object(P.useRef)(null),Re=Object(P.useRef)(null);function Ke(){st.a.cancel(Re.current),Re.current=null}function We(){Re.current=Object(st.a)(function(){var ht;(ht=Ie.current)===null||ht===void 0||ht.forcePopupAlign(),Re.current=null})}return P.useEffect(function(){return Ue?We():Ke(),Ke},[Ue,Se.title]),P.createElement(Oe.a,Object(F.a)({ref:Object(Ae.a)(Ie,Ee)},Se))}),ut=nt,Jt=D("H84U"),pn=function(Se,Ee){var Ue={};for(var Ie in Se)Object.prototype.hasOwnProperty.call(Se,Ie)&&Ee.indexOf(Ie)<0&&(Ue[Ie]=Se[Ie]);if(Se!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Re=0,Ie=Object.getOwnPropertySymbols(Se);Re<Ie.length;Re++)Ee.indexOf(Ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(Se,Ie[Re])&&(Ue[Ie[Re]]=Se[Ie[Re]]);return Ue},hn=P.forwardRef(function(Se,Ee){var Ue=P.useContext(Jt.b),Ie=Ue.getPrefixCls,Re=Ue.direction,Ke=Ue.getPopupContainer,We=P.useState({}),ht=Object(re.a)(We,2),ot=ht[0],oe=ht[1],ue=function(tn,fn){oe(function(qe){return Object(F.a)(Object(F.a)({},qe),Object(be.a)({},tn,fn))})},$e=function(tn,fn){return tn||(fn?Re==="rtl"?"left":"right":"top")},k=function(tn){var fn=tn.tooltipPrefixCls,qe=tn.prefixCls,Qe=tn.info,vt=Qe.value,Je=Qe.dragging,me=Qe.index,Ye=pn(Qe,["value","dragging","index"]),Tt=Se.tipFormatter,Tn=Se.tooltipVisible,tr=Se.tooltipPlacement,mr=Se.getTooltipPopupContainer,ni=Se.vertical,$i=Tt?ot[me]||Je:!1,Li=Tn||Tn===void 0&&$i,eo=Ie();return P.createElement(ut,{prefixCls:fn,title:Tt?Tt(vt):"",visible:Li,placement:$e(tr,ni),transitionName:"".concat(eo,"-zoom-down"),key:me,overlayClassName:"".concat(qe,"-tooltip"),getPopupContainer:mr||Ke},P.createElement(et,Object(F.a)({},Ye,{value:vt,onMouseEnter:function(){return ue(me,!0)},onMouseLeave:function(){return ue(me,!1)}})))},Ce=Se.prefixCls,ge=Se.tooltipPrefixCls,we=Se.range,ct=Se.className,Rt=pn(Se,["prefixCls","tooltipPrefixCls","range","className"]),Wt=Ie("slider",Ce),kt=Ie("tooltip",ge),nn=Mt()(ct,Object(be.a)({},"".concat(Wt,"-rtl"),Re==="rtl"));Re==="rtl"&&!Rt.vertical&&(Rt.reverse=!Rt.reverse);var cn;return Object(Y.a)(we)==="object"&&(cn=we.draggableTrack),we?P.createElement(wn,Object(F.a)({},Rt,{step:Rt.step,draggableTrack:cn,className:nn,ref:Ee,handle:function(tn){return k({tooltipPrefixCls:kt,prefixCls:Wt,info:tn})},prefixCls:Wt})):P.createElement(J,Object(F.a)({},Rt,{step:Rt.step,className:nn,ref:Ee,handle:function(tn){return k({tooltipPrefixCls:kt,prefixCls:Wt,info:tn})},prefixCls:Wt}))});hn.displayName="Slider",hn.defaultProps={tipFormatter:function(Ee){return typeof Ee=="number"?Ee.toString():""}};var Ln=Ne.a=hn},einR:function(Cr,Ne,D){"use strict";(function(Y){D.d(Ne,"p",function(){return X}),D.d(Ne,"j",function(){return de}),D.d(Ne,"q",function(){return Z}),D.d(Ne,"e",function(){return ve}),D.d(Ne,"a",function(){return dt}),D.d(Ne,"b",function(){return at}),D.d(Ne,"i",function(){return Pt}),D.d(Ne,"h",function(){return Ft}),D.d(Ne,"l",function(){return Ct}),D.d(Ne,"n",function(){return Ve}),D.d(Ne,"m",function(){return yt}),D.d(Ne,"o",function(){return Mt}),D.d(Ne,"k",function(){return Ut}),D.d(Ne,"d",function(){return It}),D.d(Ne,"f",function(){return Yt}),D.d(Ne,"g",function(){return Gt}),D.d(Ne,"c",function(){return an});var be=D("bYtY"),F=D("Qe9p"),re=D("ItGF"),P=Math.round;function X(et){var xt;if(!et||et==="transparent")et="none";else if(typeof et=="string"&&et.indexOf("rgba")>-1){var mt=Object(F.parse)(et);mt&&(et="rgb("+mt[0]+","+mt[1]+","+mt[2]+")",xt=mt[3])}return{color:et,opacity:xt==null?1:xt}}var je=1e-4;function de(et){return et<je&&et>-je}function tt(et){return P(et*1e3)/1e3}function Z(et){return P(et*1e4)/1e4}function Pe(et){return P(et*10)/10}function ve(et){return"matrix("+tt(et[0])+","+tt(et[1])+","+tt(et[2])+","+tt(et[3])+","+Z(et[4])+","+Z(et[5])+")"}var dt={left:"start",right:"end",center:"middle",middle:"middle"};function at(et,xt,mt){return mt==="top"?et+=xt/2:mt==="bottom"&&(et-=xt/2),et}function Pt(et){return et&&(et.shadowBlur||et.shadowOffsetX||et.shadowOffsetY)}function Ft(et){var xt=et.style,mt=et.getGlobalScale();return[xt.shadowColor,(xt.shadowBlur||0).toFixed(2),(xt.shadowOffsetX||0).toFixed(2),(xt.shadowOffsetY||0).toFixed(2),mt[0],mt[1]].join(",")}function bt(et){var xt=[];if(et)for(var mt=0;mt<et.length;mt++){var Kt=et[mt];xt.push(Kt.id)}return xt.join(",")}function Ct(et){return et&&!!et.image}function he(et){return et&&!!et.svgElement}function Ve(et){return Ct(et)||he(et)}function yt(et){return et.type==="linear"}function Mt(et){return et.type==="radial"}function Ut(et){return et&&(et.type==="linear"||et.type==="radial")}function It(et){return"url(#"+et+")"}function Yt(et){var xt=et.getGlobalScale(),mt=Math.max(xt[0],xt[1]);return Math.max(Math.ceil(Math.log(mt)/Math.log(10)),1)}function Gt(et){var xt=et.x||0,mt=et.y||0,Kt=(et.rotation||0)*be.RADIAN_TO_DEGREE,$t=Object(be.retrieve2)(et.scaleX,1),un=Object(be.retrieve2)(et.scaleY,1),Sn=et.skewX||0,on=et.skewY||0,zt=[];return(xt||mt)&&zt.push("translate("+xt+"px,"+mt+"px)"),Kt&&zt.push("rotate("+Kt+")"),($t!==1||un!==1)&&zt.push("scale("+$t+","+un+")"),(Sn||on)&&zt.push("skew("+P(Sn*be.RADIAN_TO_DEGREE)+"deg, "+P(on*be.RADIAN_TO_DEGREE)+"deg)"),zt.join(" ")}var an=function(){return re.a.hasGlobalWindow&&Object(be.isFunction)(window.btoa)?function(et){return window.btoa(unescape(et))}:typeof Y!="undefined"?function(et){return Y.from(et).toString("base64")}:function(et){return null}}()}).call(this,D("HDXh").Buffer)},fV52:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("6/k+"),re=D.n(F)},g9YV:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D("pED+"),F=D("+L6B"),re=D("R9oj"),P=D("7Kak"),X=D("KCY9"),je=D("qVdP"),de=D("T2oS"),tt=D("DjyN"),Z=D("5Dmo"),Pe=D("5NDa"),ve=D("KxFI")},hzQT:function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("ODXe"),F=D("q1tI"),re=D("1W/9"),P=D("VTBJ"),X=D("TSYQ"),je=D.n(X),de=D("4IlW"),tt=D("l4aY"),Z=D("bX4T"),Pe=D("8XRh");function ve(Gt){var an=Gt.prefixCls,et=Gt.style,xt=Gt.visible,mt=Gt.maskProps,Kt=Gt.motionName;return F.createElement(Pe.b,{key:"mask",visible:xt,motionName:Kt,leavedClassName:"".concat(an,"-mask-hidden")},function($t){var un=$t.className,Sn=$t.style;return F.createElement("div",Object(Y.a)({style:Object(P.a)(Object(P.a)({},Sn),et),className:je()("".concat(an,"-mask"),un)},mt))})}function dt(Gt,an,et){var xt=an;return!xt&&et&&(xt="".concat(Gt,"-").concat(et)),xt}var at=-1;function Pt(){return at+=1,at}function Ft(Gt,an){var et=Gt["page".concat(an?"Y":"X","Offset")],xt="scroll".concat(an?"Top":"Left");if(typeof et!="number"){var mt=Gt.document;et=mt.documentElement[xt],typeof et!="number"&&(et=mt.body[xt])}return et}function bt(Gt){var an=Gt.getBoundingClientRect(),et={left:an.left,top:an.top},xt=Gt.ownerDocument,mt=xt.defaultView||xt.parentWindow;return et.left+=Ft(mt),et.top+=Ft(mt,!0),et}var Ct=F.memo(function(Gt){var an=Gt.children;return an},function(Gt,an){var et=an.shouldUpdate;return!et}),he={width:0,height:0,overflow:"hidden",outline:"none"},Ve=F.forwardRef(function(Gt,an){var et=Gt.closable,xt=Gt.prefixCls,mt=Gt.width,Kt=Gt.height,$t=Gt.footer,un=Gt.title,Sn=Gt.closeIcon,on=Gt.style,zt=Gt.className,en=Gt.visible,y=Gt.forceRender,_n=Gt.bodyStyle,An=Gt.bodyProps,Fn=Gt.children,Wn=Gt.destroyOnClose,zn=Gt.modalRender,or=Gt.motionName,Sr=Gt.ariaId,pr=Gt.onClose,Jr=Gt.onVisibleChanged,jr=Gt.onMouseDown,Mi=Gt.onMouseUp,wn=Gt.mousePosition,De=Object(F.useRef)(),Ae=Object(F.useRef)(),st=Object(F.useRef)();F.useImperativeHandle(an,function(){return{focus:function(){var Ln;(Ln=De.current)===null||Ln===void 0||Ln.focus()},changeActive:function(Ln){var Se=document,Ee=Se.activeElement;Ln&&Ee===Ae.current?De.current.focus():!Ln&&Ee===De.current&&Ae.current.focus()}}});var Xe=F.useState(),ie=Object(be.a)(Xe,2),V=ie[0],B=ie[1],J={};mt!==void 0&&(J.width=mt),Kt!==void 0&&(J.height=Kt),V&&(J.transformOrigin=V);function Oe(){var hn=bt(st.current);B(wn?"".concat(wn.x-hn.left,"px ").concat(wn.y-hn.top,"px"):"")}var nt;$t&&(nt=F.createElement("div",{className:"".concat(xt,"-footer")},$t));var ut;un&&(ut=F.createElement("div",{className:"".concat(xt,"-header")},F.createElement("div",{className:"".concat(xt,"-title"),id:Sr},un)));var Jt;et&&(Jt=F.createElement("button",{type:"button",onClick:pr,"aria-label":"Close",className:"".concat(xt,"-close")},Sn||F.createElement("span",{className:"".concat(xt,"-close-x")})));var pn=F.createElement("div",{className:"".concat(xt,"-content")},Jt,ut,F.createElement("div",Object(Y.a)({className:"".concat(xt,"-body"),style:_n},An),Fn),nt);return F.createElement(Pe.b,{visible:en,onVisibleChanged:Jr,onAppearPrepare:Oe,onEnterPrepare:Oe,forceRender:y,motionName:or,removeOnLeave:Wn,ref:st},function(hn,Ln){var Se=hn.className,Ee=hn.style;return F.createElement("div",{key:"dialog-element",role:"document",ref:Ln,style:Object(P.a)(Object(P.a)(Object(P.a)({},Ee),on),J),className:je()(xt,zt,Se),onMouseDown:jr,onMouseUp:Mi},F.createElement("div",{tabIndex:0,ref:De,style:he,"aria-hidden":"true"}),F.createElement(Ct,{shouldUpdate:en||y},zn?zn(pn):pn),F.createElement("div",{tabIndex:0,ref:Ae,style:he,"aria-hidden":"true"}))})});Ve.displayName="Content";var yt=Ve;function Mt(Gt){var an=Gt.prefixCls,et=an===void 0?"rc-dialog":an,xt=Gt.zIndex,mt=Gt.visible,Kt=mt===void 0?!1:mt,$t=Gt.keyboard,un=$t===void 0?!0:$t,Sn=Gt.focusTriggerAfterClose,on=Sn===void 0?!0:Sn,zt=Gt.scrollLocker,en=Gt.title,y=Gt.wrapStyle,_n=Gt.wrapClassName,An=Gt.wrapProps,Fn=Gt.onClose,Wn=Gt.afterClose,zn=Gt.transitionName,or=Gt.animation,Sr=Gt.closable,pr=Sr===void 0?!0:Sr,Jr=Gt.mask,jr=Jr===void 0?!0:Jr,Mi=Gt.maskTransitionName,wn=Gt.maskAnimation,De=Gt.maskClosable,Ae=De===void 0?!0:De,st=Gt.maskStyle,Xe=Gt.maskProps,ie=Object(F.useRef)(),V=Object(F.useRef)(),B=Object(F.useRef)(),J=F.useState(Kt),Oe=Object(be.a)(J,2),nt=Oe[0],ut=Oe[1],Jt=Object(F.useRef)();Jt.current||(Jt.current="rcDialogTitle".concat(Pt()));function pn(Ke){if(Ke){if(!Object(tt.a)(V.current,document.activeElement)){var We;ie.current=document.activeElement,(We=B.current)===null||We===void 0||We.focus()}}else{if(ut(!1),jr&&ie.current&&on){try{ie.current.focus({preventScroll:!0})}catch(ht){}ie.current=null}nt&&(Wn==null||Wn())}}function hn(Ke){Fn==null||Fn(Ke)}var Ln=Object(F.useRef)(!1),Se=Object(F.useRef)(),Ee=function(){clearTimeout(Se.current),Ln.current=!0},Ue=function(){Se.current=setTimeout(function(){Ln.current=!1})},Ie=null;Ae&&(Ie=function(We){Ln.current?Ln.current=!1:V.current===We.target&&hn(We)});function Re(Ke){if(un&&Ke.keyCode===de.a.ESC){Ke.stopPropagation(),hn(Ke);return}Kt&&Ke.keyCode===de.a.TAB&&B.current.changeActive(!Ke.shiftKey)}return Object(F.useEffect)(function(){return Kt&&ut(!0),function(){}},[Kt]),Object(F.useEffect)(function(){return function(){clearTimeout(Se.current)}},[]),Object(F.useEffect)(function(){return nt?(zt==null||zt.lock(),zt==null?void 0:zt.unLock):function(){}},[nt,zt]),F.createElement("div",Object(Y.a)({className:"".concat(et,"-root")},Object(Z.a)(Gt,{data:!0})),F.createElement(ve,{prefixCls:et,visible:jr&&Kt,motionName:dt(et,Mi,wn),style:Object(P.a)({zIndex:xt},st),maskProps:Xe}),F.createElement("div",Object(Y.a)({tabIndex:-1,onKeyDown:Re,className:je()("".concat(et,"-wrap"),_n),ref:V,onClick:Ie,role:"dialog","aria-labelledby":en?Jt.current:null,style:Object(P.a)(Object(P.a)({zIndex:xt},y),{},{display:nt?null:"none"})},An),F.createElement(yt,Object(Y.a)({},Gt,{onMouseDown:Ee,onMouseUp:Ue,ref:B,closable:pr,ariaId:Jt.current,prefixCls:et,visible:Kt,onClose:hn,onVisibleChanged:pn,motionName:dt(et,zn,or)}))))}var Ut=function(an){var et=an.visible,xt=an.getContainer,mt=an.forceRender,Kt=an.destroyOnClose,$t=Kt===void 0?!1:Kt,un=an.afterClose,Sn=F.useState(et),on=Object(be.a)(Sn,2),zt=on[0],en=on[1];return F.useEffect(function(){et&&en(!0)},[et]),xt===!1?F.createElement(Mt,Object(Y.a)({},an,{getOpenCount:function(){return 2}})):!mt&&$t&&!zt?null:F.createElement(re.a,{visible:et,forceRender:mt,getContainer:xt},function(y){return F.createElement(Mt,Object(Y.a)({},an,{destroyOnClose:$t,afterClose:function(){un==null||un(),en(!1)}},y))})};Ut.displayName="Dialog";var It=Ut,Yt=Ne.a=It},jCWc:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("1GLa")},kLXV:function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("q1tI"),re=D("hzQT"),P=D("TSYQ"),X=D.n(P),je=D("4i/N"),de=D("ul5b"),tt=D("2/Rp"),Z=D("zvFY"),Pe=D("YMnH"),ve=D("H84U"),dt=D("R3zJ"),at=D("EXcs"),Pt=function(B,J){var Oe={};for(var nt in B)Object.prototype.hasOwnProperty.call(B,nt)&&J.indexOf(nt)<0&&(Oe[nt]=B[nt]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,nt=Object.getOwnPropertySymbols(B);ut<nt.length;ut++)J.indexOf(nt[ut])<0&&Object.prototype.propertyIsEnumerable.call(B,nt[ut])&&(Oe[nt[ut]]=B[nt[ut]]);return Oe},Ft,bt=function(J){Ft={x:J.pageX,y:J.pageY},setTimeout(function(){Ft=null},100)};Object(dt.a)()&&document.documentElement.addEventListener("click",bt,!0);var Ct=function(J){var Oe,nt=F.useContext(ve.b),ut=nt.getPopupContainer,Jt=nt.getPrefixCls,pn=nt.direction,hn=function(Rt){var Wt=J.onCancel;Wt==null||Wt(Rt)},Ln=function(Rt){var Wt=J.onOk;Wt==null||Wt(Rt)},Se=function(Rt){var Wt=J.okText,kt=J.okType,nn=J.cancelText,cn=J.confirmLoading;return F.createElement(F.Fragment,null,F.createElement(tt.a,Object(be.a)({onClick:hn},J.cancelButtonProps),nn||Rt.cancelText),F.createElement(tt.a,Object(be.a)({},Object(Z.a)(kt),{loading:cn,onClick:Ln},J.okButtonProps),Wt||Rt.okText))},Ee=J.prefixCls,Ue=J.footer,Ie=J.visible,Re=J.wrapClassName,Ke=J.centered,We=J.getContainer,ht=J.closeIcon,ot=J.focusTriggerAfterClose,oe=ot===void 0?!0:ot,ue=Pt(J,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),$e=Jt("modal",Ee),k=Jt(),Ce=F.createElement(Pe.a,{componentName:"Modal",defaultLocale:Object(de.b)()},Se),ge=F.createElement("span",{className:"".concat($e,"-close-x")},ht||F.createElement(je.a,{className:"".concat($e,"-close-icon")})),we=X()(Re,(Oe={},Object(Y.a)(Oe,"".concat($e,"-centered"),!!Ke),Object(Y.a)(Oe,"".concat($e,"-wrap-rtl"),pn==="rtl"),Oe));return F.createElement(re.a,Object(be.a)({},ue,{getContainer:We===void 0?ut:We,prefixCls:$e,wrapClassName:we,footer:Ue===void 0?Ce:Ue,visible:Ie,mousePosition:Ft,onClose:hn,closeIcon:ge,focusTriggerAfterClose:oe,transitionName:Object(at.b)(k,"zoom",J.transitionName),maskTransitionName:Object(at.b)(k,"fade",J.maskTransitionName)}))};Ct.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var he=Ct,Ve=D("i8i4"),yt=D("+YFz"),Mt=D("Ue1A"),Ut=D("2BaD"),It=D("RCxd"),Yt=D("ODXe"),Gt=D("/apz");function an(B){return!!(B&&!!B.then)}var et=function(J){var Oe=F.useRef(!1),nt=F.useRef(),ut=Object(Gt.a)(),Jt=F.useState(!1),pn=Object(Yt.a)(Jt,2),hn=pn[0],Ln=pn[1];F.useEffect(function(){var We;if(J.autoFocus){var ht=nt.current;We=setTimeout(function(){return ht.focus()})}return function(){We&&clearTimeout(We)}},[]);var Se=function(ht){var ot=J.close;!an(ht)||(Ln(!0),ht.then(function(){ut()||Ln(!1),ot.apply(void 0,arguments),Oe.current=!1},function(oe){console.error(oe),ut()||Ln(!1),Oe.current=!1}))},Ee=function(ht){var ot=J.actionFn,oe=J.close;if(!Oe.current){if(Oe.current=!0,!ot){oe();return}var ue;if(J.emitEvent){if(ue=ot(ht),J.quitOnNullishReturnValue&&!an(ue)){Oe.current=!1,oe(ht);return}}else if(ot.length)ue=ot(oe),Oe.current=!1;else if(ue=ot(),!ue){oe();return}Se(ue)}},Ue=J.type,Ie=J.children,Re=J.prefixCls,Ke=J.buttonProps;return F.createElement(tt.a,Object(be.a)({},Object(Z.a)(Ue),{onClick:Ee,loading:hn,prefixCls:Re},Ke,{ref:nt}),Ie)},xt=et,mt=D("uaoM"),Kt=D("wEI+"),$t=function(J){var Oe=J.icon,nt=J.onCancel,ut=J.onOk,Jt=J.close,pn=J.zIndex,hn=J.afterClose,Ln=J.visible,Se=J.keyboard,Ee=J.centered,Ue=J.getContainer,Ie=J.maskStyle,Re=J.okText,Ke=J.okButtonProps,We=J.cancelText,ht=J.cancelButtonProps,ot=J.direction,oe=J.prefixCls,ue=J.wrapClassName,$e=J.rootPrefixCls,k=J.iconPrefixCls,Ce=J.bodyStyle,ge=J.closable,we=ge===void 0?!1:ge,ct=J.closeIcon,Rt=J.modalRender,Wt=J.focusTriggerAfterClose;Object(mt.a)(!(typeof Oe=="string"&&Oe.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(Oe,"` at https://ant.design/components/icon"));var kt=J.okType||"primary",nn="".concat(oe,"-confirm"),cn="okCancel"in J?J.okCancel:!0,gn=J.width||416,tn=J.style||{},fn=J.mask===void 0?!0:J.mask,qe=J.maskClosable===void 0?!1:J.maskClosable,Qe=J.autoFocusButton===null?!1:J.autoFocusButton||"ok",vt=X()(nn,"".concat(nn,"-").concat(J.type),Object(Y.a)({},"".concat(nn,"-rtl"),ot==="rtl"),J.className),Je=cn&&F.createElement(xt,{actionFn:nt,close:Jt,autoFocus:Qe==="cancel",buttonProps:ht,prefixCls:"".concat($e,"-btn")},We);return F.createElement(Kt.a,{prefixCls:$e,iconPrefixCls:k,direction:ot},F.createElement(he,{prefixCls:oe,className:vt,wrapClassName:X()(Object(Y.a)({},"".concat(nn,"-centered"),!!J.centered),ue),onCancel:function(){return Jt({triggerCancel:!0})},visible:Ln,title:"",footer:"",transitionName:Object(at.b)($e,"zoom",J.transitionName),maskTransitionName:Object(at.b)($e,"fade",J.maskTransitionName),mask:fn,maskClosable:qe,maskStyle:Ie,style:tn,bodyStyle:Ce,width:gn,zIndex:pn,afterClose:hn,keyboard:Se,centered:Ee,getContainer:Ue,closable:we,closeIcon:ct,modalRender:Rt,focusTriggerAfterClose:Wt},F.createElement("div",{className:"".concat(nn,"-body-wrapper")},F.createElement("div",{className:"".concat(nn,"-body")},Oe,J.title===void 0?null:F.createElement("span",{className:"".concat(nn,"-title")},J.title),F.createElement("div",{className:"".concat(nn,"-content")},J.content)),F.createElement("div",{className:"".concat(nn,"-btns")},Je,F.createElement(xt,{type:kt,actionFn:ut,close:Jt,autoFocus:Qe==="ok",buttonProps:Ke,prefixCls:"".concat($e,"-btn")},Re)))))},un=$t,Sn=[],on=Sn,zt=function(B,J){var Oe={};for(var nt in B)Object.prototype.hasOwnProperty.call(B,nt)&&J.indexOf(nt)<0&&(Oe[nt]=B[nt]);if(B!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ut=0,nt=Object.getOwnPropertySymbols(B);ut<nt.length;ut++)J.indexOf(nt[ut])<0&&Object.prototype.propertyIsEnumerable.call(B,nt[ut])&&(Oe[nt[ut]]=B[nt[ut]]);return Oe},en="";function y(){return en}function _n(B){var J=document.createDocumentFragment(),Oe=Object(be.a)(Object(be.a)({},B),{close:Jt,visible:!0});function nt(){Ve.unmountComponentAtNode(J);for(var hn=arguments.length,Ln=new Array(hn),Se=0;Se<hn;Se++)Ln[Se]=arguments[Se];var Ee=Ln.some(function(Re){return Re&&Re.triggerCancel});B.onCancel&&Ee&&B.onCancel.apply(B,Ln);for(var Ue=0;Ue<on.length;Ue++){var Ie=on[Ue];if(Ie===Jt){on.splice(Ue,1);break}}}function ut(hn){var Ln=hn.okText,Se=hn.cancelText,Ee=hn.prefixCls,Ue=zt(hn,["okText","cancelText","prefixCls"]);setTimeout(function(){var Ie=Object(de.b)(),Re=Object(Kt.b)(),Ke=Re.getPrefixCls,We=Re.getIconPrefixCls,ht=Ke(void 0,y()),ot=Ee||"".concat(ht,"-modal"),oe=We();Ve.render(F.createElement(un,Object(be.a)({},Ue,{prefixCls:ot,rootPrefixCls:ht,iconPrefixCls:oe,okText:Ln||(Ue.okCancel?Ie.okText:Ie.justOkText),cancelText:Se||Ie.cancelText})),J)})}function Jt(){for(var hn=this,Ln=arguments.length,Se=new Array(Ln),Ee=0;Ee<Ln;Ee++)Se[Ee]=arguments[Ee];Oe=Object(be.a)(Object(be.a)({},Oe),{visible:!1,afterClose:function(){typeof B.afterClose=="function"&&B.afterClose(),nt.apply(hn,Se)}}),ut(Oe)}function pn(hn){typeof hn=="function"?Oe=hn(Oe):Oe=Object(be.a)(Object(be.a)({},Oe),hn),ut(Oe)}return ut(Oe),on.push(Jt),{destroy:Jt,update:pn}}function An(B){return Object(be.a)(Object(be.a)({icon:F.createElement(It.a,null),okCancel:!1},B),{type:"warning"})}function Fn(B){return Object(be.a)(Object(be.a)({icon:F.createElement(yt.a,null),okCancel:!1},B),{type:"info"})}function Wn(B){return Object(be.a)(Object(be.a)({icon:F.createElement(Mt.a,null),okCancel:!1},B),{type:"success"})}function zn(B){return Object(be.a)(Object(be.a)({icon:F.createElement(Ut.a,null),okCancel:!1},B),{type:"error"})}function or(B){return Object(be.a)(Object(be.a)({icon:F.createElement(It.a,null),okCancel:!0},B),{type:"confirm"})}function Sr(B){var J=B.rootPrefixCls;Object(mt.a)(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),en=J}var pr=D("KQm4");function Jr(){var B=F.useState([]),J=Object(Yt.a)(B,2),Oe=J[0],nt=J[1],ut=F.useCallback(function(Jt){return nt(function(pn){return[].concat(Object(pr.a)(pn),[Jt])}),function(){nt(function(pn){return pn.filter(function(hn){return hn!==Jt})})}},[]);return[Oe,ut]}var jr=D("ZvpZ"),Mi=function(J,Oe){var nt=J.afterClose,ut=J.config,Jt=F.useState(!0),pn=Object(Yt.a)(Jt,2),hn=pn[0],Ln=pn[1],Se=F.useState(ut),Ee=Object(Yt.a)(Se,2),Ue=Ee[0],Ie=Ee[1],Re=F.useContext(ve.b),Ke=Re.direction,We=Re.getPrefixCls,ht=We("modal"),ot=We(),oe=function(){Ln(!1);for(var $e=arguments.length,k=new Array($e),Ce=0;Ce<$e;Ce++)k[Ce]=arguments[Ce];var ge=k.some(function(we){return we&&we.triggerCancel});Ue.onCancel&&ge&&Ue.onCancel()};return F.useImperativeHandle(Oe,function(){return{destroy:oe,update:function($e){Ie(function(k){return Object(be.a)(Object(be.a)({},k),$e)})}}}),F.createElement(Pe.a,{componentName:"Modal",defaultLocale:jr.a.Modal},function(ue){return F.createElement(un,Object(be.a)({prefixCls:ht,rootPrefixCls:ot},Ue,{close:oe,visible:hn,afterClose:nt,okText:Ue.okText||(Ue.okCancel?ue.okText:ue.justOkText),direction:Ke,cancelText:Ue.cancelText||ue.cancelText}))})},wn=F.forwardRef(Mi),De=0,Ae=F.memo(F.forwardRef(function(B,J){var Oe=Jr(),nt=Object(Yt.a)(Oe,2),ut=nt[0],Jt=nt[1];return F.useImperativeHandle(J,function(){return{patchElement:Jt}},[]),F.createElement(F.Fragment,null,ut)}));function st(){var B=F.useRef(null),J=F.useState([]),Oe=Object(Yt.a)(J,2),nt=Oe[0],ut=Oe[1];F.useEffect(function(){if(nt.length){var hn=Object(pr.a)(nt);hn.forEach(function(Ln){Ln()}),ut([])}},[nt]);var Jt=F.useCallback(function(hn){return function(Se){var Ee;De+=1;var Ue=F.createRef(),Ie,Re=F.createElement(wn,{key:"modal-".concat(De),config:hn(Se),ref:Ue,afterClose:function(){Ie()}});return Ie=(Ee=B.current)===null||Ee===void 0?void 0:Ee.patchElement(Re),{destroy:function(){function We(){var ht;(ht=Ue.current)===null||ht===void 0||ht.destroy()}Ue.current?We():ut(function(ht){return[].concat(Object(pr.a)(ht),[We])})},update:function(We){function ht(){var ot;(ot=Ue.current)===null||ot===void 0||ot.update(We)}Ue.current?ht():ut(function(ot){return[].concat(Object(pr.a)(ot),[ht])})}}}},[]),pn=F.useMemo(function(){return{info:Jt(Fn),success:Jt(Wn),error:Jt(zn),warning:Jt(An),confirm:Jt(or)}},[]);return[pn,F.createElement(Ae,{ref:B})]}function Xe(B){return _n(An(B))}var ie=he;ie.useModal=st,ie.info=function(J){return _n(Fn(J))},ie.success=function(J){return _n(Wn(J))},ie.error=function(J){return _n(zn(J))},ie.warning=Xe,ie.warn=Xe,ie.confirm=function(J){return _n(or(J))},ie.destroyAll=function(){for(;on.length;){var J=on.pop();J&&J()}},ie.config=Sr;var V=Ne.a=ie},kPKH:function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("U8pU"),re=D("q1tI"),P=D("TSYQ"),X=D.n(P),je=D("o/2+"),de=D("H84U"),tt=function(Pt,Ft){var bt={};for(var Ct in Pt)Object.prototype.hasOwnProperty.call(Pt,Ct)&&Ft.indexOf(Ct)<0&&(bt[Ct]=Pt[Ct]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var he=0,Ct=Object.getOwnPropertySymbols(Pt);he<Ct.length;he++)Ft.indexOf(Ct[he])<0&&Object.prototype.propertyIsEnumerable.call(Pt,Ct[he])&&(bt[Ct[he]]=Pt[Ct[he]]);return bt};function Z(Pt){return typeof Pt=="number"?"".concat(Pt," ").concat(Pt," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(Pt)?"0 0 ".concat(Pt):Pt}var Pe=["xs","sm","md","lg","xl","xxl"],ve=re.forwardRef(function(Pt,Ft){var bt,Ct=re.useContext(de.b),he=Ct.getPrefixCls,Ve=Ct.direction,yt=re.useContext(je.a),Mt=yt.gutter,Ut=yt.wrap,It=yt.supportFlexGap,Yt=Pt.prefixCls,Gt=Pt.span,an=Pt.order,et=Pt.offset,xt=Pt.push,mt=Pt.pull,Kt=Pt.className,$t=Pt.children,un=Pt.flex,Sn=Pt.style,on=tt(Pt,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),zt=he("col",Yt),en={};Pe.forEach(function(Wn){var zn,or={},Sr=Pt[Wn];typeof Sr=="number"?or.span=Sr:Object(F.a)(Sr)==="object"&&(or=Sr||{}),delete on[Wn],en=Object(be.a)(Object(be.a)({},en),(zn={},Object(Y.a)(zn,"".concat(zt,"-").concat(Wn,"-").concat(or.span),or.span!==void 0),Object(Y.a)(zn,"".concat(zt,"-").concat(Wn,"-order-").concat(or.order),or.order||or.order===0),Object(Y.a)(zn,"".concat(zt,"-").concat(Wn,"-offset-").concat(or.offset),or.offset||or.offset===0),Object(Y.a)(zn,"".concat(zt,"-").concat(Wn,"-push-").concat(or.push),or.push||or.push===0),Object(Y.a)(zn,"".concat(zt,"-").concat(Wn,"-pull-").concat(or.pull),or.pull||or.pull===0),Object(Y.a)(zn,"".concat(zt,"-rtl"),Ve==="rtl"),zn))});var y=X()(zt,(bt={},Object(Y.a)(bt,"".concat(zt,"-").concat(Gt),Gt!==void 0),Object(Y.a)(bt,"".concat(zt,"-order-").concat(an),an),Object(Y.a)(bt,"".concat(zt,"-offset-").concat(et),et),Object(Y.a)(bt,"".concat(zt,"-push-").concat(xt),xt),Object(Y.a)(bt,"".concat(zt,"-pull-").concat(mt),mt),bt),Kt,en),_n={};if(Mt&&Mt[0]>0){var An=Mt[0]/2;_n.paddingLeft=An,_n.paddingRight=An}if(Mt&&Mt[1]>0&&!It){var Fn=Mt[1]/2;_n.paddingTop=Fn,_n.paddingBottom=Fn}return un&&(_n.flex=Z(un),Ut===!1&&!_n.minWidth&&(_n.minWidth=0)),re.createElement("div",Object(be.a)({},on,{style:Object(be.a)(Object(be.a)({},_n),Sn),className:y,ref:Ft}),$t)});ve.displayName="Col";var dt=ve,at=Ne.a=dt},"kVK+":function(Cr,Ne){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ne.read=function(D,Y,be,F,re){var P,X,je=re*8-F-1,de=(1<<je)-1,tt=de>>1,Z=-7,Pe=be?re-1:0,ve=be?-1:1,dt=D[Y+Pe];for(Pe+=ve,P=dt&(1<<-Z)-1,dt>>=-Z,Z+=je;Z>0;P=P*256+D[Y+Pe],Pe+=ve,Z-=8);for(X=P&(1<<-Z)-1,P>>=-Z,Z+=F;Z>0;X=X*256+D[Y+Pe],Pe+=ve,Z-=8);if(P===0)P=1-tt;else{if(P===de)return X?NaN:(dt?-1:1)*Infinity;X=X+Math.pow(2,F),P=P-tt}return(dt?-1:1)*X*Math.pow(2,P-F)},Ne.write=function(D,Y,be,F,re,P){var X,je,de,tt=P*8-re-1,Z=(1<<tt)-1,Pe=Z>>1,ve=re===23?Math.pow(2,-24)-Math.pow(2,-77):0,dt=F?0:P-1,at=F?1:-1,Pt=Y<0||Y===0&&1/Y<0?1:0;for(Y=Math.abs(Y),isNaN(Y)||Y===Infinity?(je=isNaN(Y)?1:0,X=Z):(X=Math.floor(Math.log(Y)/Math.LN2),Y*(de=Math.pow(2,-X))<1&&(X--,de*=2),X+Pe>=1?Y+=ve/de:Y+=ve*Math.pow(2,1-Pe),Y*de>=2&&(X++,de/=2),X+Pe>=Z?(je=0,X=Z):X+Pe>=1?(je=(Y*de-1)*Math.pow(2,re),X=X+Pe):(je=Y*Math.pow(2,Pe-1)*Math.pow(2,re),X=0));re>=8;D[be+dt]=je&255,dt+=at,je/=256,re-=8);for(X=X<<re|je,tt+=re;tt>0;D[be+dt]=X&255,dt+=at,X/=256,tt-=8);D[be+dt-at]|=Pt*128}},"l+S1":function(Cr,Ne,D){"use strict";var Y=D("VTBJ"),be=D("q1tI"),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},re=F,P=D("6VBw"),X=function(tt,Z){return be.createElement(P.a,Object(Y.a)(Object(Y.a)({},tt),{},{ref:Z,icon:re}))};X.displayName="SearchOutlined";var je=Ne.a=be.forwardRef(X)},mr32:function(Cr,Ne,D){"use strict";var Y=D("rePB"),be=D("wx14"),F=D("ODXe"),re=D("q1tI"),P=D("TSYQ"),X=D.n(P),je=D("bT9E"),de=D("4i/N"),tt=D("H84U"),Z=function(yt,Mt){var Ut={};for(var It in yt)Object.prototype.hasOwnProperty.call(yt,It)&&Mt.indexOf(It)<0&&(Ut[It]=yt[It]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Yt=0,It=Object.getOwnPropertySymbols(yt);Yt<It.length;Yt++)Mt.indexOf(It[Yt])<0&&Object.prototype.propertyIsEnumerable.call(yt,It[Yt])&&(Ut[It[Yt]]=yt[It[Yt]]);return Ut},Pe=function(Mt){var Ut,It=Mt.prefixCls,Yt=Mt.className,Gt=Mt.checked,an=Mt.onChange,et=Mt.onClick,xt=Z(Mt,["prefixCls","className","checked","onChange","onClick"]),mt=re.useContext(tt.b),Kt=mt.getPrefixCls,$t=function(zt){an==null||an(!Gt),et==null||et(zt)},un=Kt("tag",It),Sn=X()(un,(Ut={},Object(Y.a)(Ut,"".concat(un,"-checkable"),!0),Object(Y.a)(Ut,"".concat(un,"-checkable-checked"),Gt),Ut),Yt);return re.createElement("span",Object(be.a)({},xt,{className:Sn,onClick:$t}))},ve=Pe,dt=D("09Wf"),at=D("g0mS"),Pt=function(yt,Mt){var Ut={};for(var It in yt)Object.prototype.hasOwnProperty.call(yt,It)&&Mt.indexOf(It)<0&&(Ut[It]=yt[It]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Yt=0,It=Object.getOwnPropertySymbols(yt);Yt<It.length;Yt++)Mt.indexOf(It[Yt])<0&&Object.prototype.propertyIsEnumerable.call(yt,It[Yt])&&(Ut[It[Yt]]=yt[It[Yt]]);return Ut},Ft=new RegExp("^(".concat(dt.a.join("|"),")(-inverse)?$")),bt=new RegExp("^(".concat(dt.b.join("|"),")$")),Ct=function(Mt,Ut){var It,Yt=Mt.prefixCls,Gt=Mt.className,an=Mt.style,et=Mt.children,xt=Mt.icon,mt=Mt.color,Kt=Mt.onClose,$t=Mt.closeIcon,un=Mt.closable,Sn=un===void 0?!1:un,on=Pt(Mt,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),zt=re.useContext(tt.b),en=zt.getPrefixCls,y=zt.direction,_n=re.useState(!0),An=Object(F.a)(_n,2),Fn=An[0],Wn=An[1];re.useEffect(function(){"visible"in on&&Wn(on.visible)},[on.visible]);var zn=function(){return mt?Ft.test(mt)||bt.test(mt):!1},or=Object(be.a)({backgroundColor:mt&&!zn()?mt:void 0},an),Sr=zn(),pr=en("tag",Yt),Jr=X()(pr,(It={},Object(Y.a)(It,"".concat(pr,"-").concat(mt),Sr),Object(Y.a)(It,"".concat(pr,"-has-color"),mt&&!Sr),Object(Y.a)(It,"".concat(pr,"-hidden"),!Fn),Object(Y.a)(It,"".concat(pr,"-rtl"),y==="rtl"),It),Gt),jr=function(V){V.stopPropagation(),Kt==null||Kt(V),!V.defaultPrevented&&("visible"in on||Wn(!1))},Mi=function(){return Sn?$t?re.createElement("span",{className:"".concat(pr,"-close-icon"),onClick:jr},$t):re.createElement(de.a,{className:"".concat(pr,"-close-icon"),onClick:jr}):null},wn="onClick"in on||et&&et.type==="a",De=Object(je.a)(on,["visible"]),Ae=xt||null,st=Ae?re.createElement(re.Fragment,null,Ae,re.createElement("span",null,et)):et,Xe=re.createElement("span",Object(be.a)({},De,{ref:Ut,className:Jr,style:or}),st,Mi());return wn?re.createElement(at.a,null,Xe):Xe},he=re.forwardRef(Ct);he.displayName="Tag",he.CheckableTag=ve;var Ve=Ne.a=he},"o/2+":function(Cr,Ne,D){"use strict";var Y=D("q1tI"),be=D.n(Y),F=Object(Y.createContext)({});Ne.a=F},pC0b:function(Cr,Ne,D){"use strict";var Y=D("EFp3"),be=D.n(Y),F=D("xzDV"),re=D.n(F),P=D("5Dmo")},"pED+":function(Cr,Ne,D){},pIsd:function(Cr,Ne,D){var Y=D("BJfS"),be=function(P){var X=/[height|width]$/;return X.test(P)},F=function(P){var X="",je=Object.keys(P);return je.forEach(function(de,tt){var Z=P[de];de=Y(de),be(de)&&typeof Z=="number"&&(Z=Z+"px"),Z===!0?X+=de:Z===!1?X+="not "+de:X+="("+de+": "+Z+")",tt<je.length-1&&(X+=" and ")}),X},re=function(P){var X="";return typeof P=="string"?P:P instanceof Array?(P.forEach(function(je,de){X+=F(je),de<P.length-1&&(X+=", ")}),X):F(P)};Cr.exports=re},pwpV:function(Cr,Ne,D){},rqH8:function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return be}),D.d(Ne,"b",function(){return de});var Y=D("Womt");class be extends Y.W{constructor(Z=document.createElement("div")){super();this.element=Z,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(Pe){Pe.element instanceof Element&&Pe.element.parentNode!==null&&Pe.element.parentNode.removeChild(Pe.element)})})}copy(Z,Pe){return super.copy(Z,Pe),this.element=Z.element.cloneNode(!0),this}}be.prototype.isCSS2DObject=!0;const F=new Y.vb,re=new Y.K,P=new Y.K,X=new Y.vb,je=new Y.vb;class de{constructor(Z={}){const Pe=this;let ve,dt,at,Pt;const Ft={objects:new WeakMap},bt=Z.element!==void 0?Z.element:document.createElement("div");bt.style.overflow="hidden",this.domElement=bt,this.getSize=function(){return{width:ve,height:dt}},this.render=function(Mt,Ut){Mt.autoUpdate===!0&&Mt.updateMatrixWorld(),Ut.parent===null&&Ut.updateMatrixWorld(),re.copy(Ut.matrixWorldInverse),P.multiplyMatrices(Ut.projectionMatrix,re),Ct(Mt,Mt,Ut),yt(Mt)},this.setSize=function(Mt,Ut){ve=Mt,dt=Ut,at=ve/2,Pt=dt/2,bt.style.width=Mt+"px",bt.style.height=Ut+"px"};function Ct(Mt,Ut,It){if(Mt.isCSS2DObject){Mt.onBeforeRender(Pe,Ut,It),F.setFromMatrixPosition(Mt.matrixWorld),F.applyMatrix4(P);const Yt=Mt.element;/apple/i.test(navigator.vendor)?Yt.style.transform="translate(-50%,-50%) translate("+Math.round(F.x*at+at)+"px,"+Math.round(-F.y*Pt+Pt)+"px)":Yt.style.transform="translate(-50%,-50%) translate("+(F.x*at+at)+"px,"+(-F.y*Pt+Pt)+"px)",Yt.style.display=Mt.visible&&F.z>=-1&&F.z<=1?"":"none";const Gt={distanceToCameraSquared:he(It,Mt)};Ft.objects.set(Mt,Gt),Yt.parentNode!==bt&&bt.appendChild(Yt),Mt.onAfterRender(Pe,Ut,It)}for(let Yt=0,Gt=Mt.children.length;Yt<Gt;Yt++)Ct(Mt.children[Yt],Ut,It)}function he(Mt,Ut){return X.setFromMatrixPosition(Mt.matrixWorld),je.setFromMatrixPosition(Ut.matrixWorld),X.distanceToSquared(je)}function Ve(Mt){const Ut=[];return Mt.traverse(function(It){It.isCSS2DObject&&Ut.push(It)}),Ut}function yt(Mt){const Ut=Ve(Mt).sort(function(Yt,Gt){const an=Ft.objects.get(Yt).distanceToCameraSquared,et=Ft.objects.get(Gt).distanceToCameraSquared;return an-et}),It=Ut.length;for(let Yt=0,Gt=Ut.length;Yt<Gt;Yt++)Ut[Yt].element.style.zIndex=It-Yt}}}},v3Qx:function(Cr,Ne){var D={}.toString;Cr.exports=Array.isArray||function(Y){return D.call(Y)=="[object Array]"}},wCAj:function(Cr,Ne,D){"use strict";var Y=D("U8pU"),be=D("rePB"),F=D("ODXe"),re=D("wx14"),P=D("q1tI"),X=D.n(P),je=D("TSYQ"),de=D.n(je),tt=D("bT9E"),Z=D("VTBJ"),Pe=D("KQm4"),ve=D("x/xZ"),dt=D("bX4T"),at=D("tl68"),Pt=D("Gytx"),Ft=D.n(Pt),bt=D("Kwbf"),Ct=D("t23M"),he=D("qx4F");function Ve(N){return null}var yt=Ve;function Mt(N){return null}var Ut=Mt,It=D("Ff2n"),Yt=D("c+Xe"),Gt="RC_TABLE_KEY";function an(N){return N==null?[]:Array.isArray(N)?N:[N]}function et(N,$){if(!$&&typeof $!="number")return N;for(var ae=an($),R=N,j=0;j<ae.length;j+=1){if(!R)return null;var ye=ae[j];R=R[ye]}return R}function xt(N){var $=[],ae={};return N.forEach(function(R){for(var j=R||{},ye=j.key,pe=j.dataIndex,ee=ye||an(pe).join("-")||Gt;ae[ee];)ee="".concat(ee,"_next");ae[ee]=!0,$.push(ee)}),$}function mt(){var N={};function $(ye,pe){pe&&Object.keys(pe).forEach(function(ee){var fe=pe[ee];fe&&Object(Y.a)(fe)==="object"?(ye[ee]=ye[ee]||{},$(ye[ee],fe)):ye[ee]=fe})}for(var ae=arguments.length,R=new Array(ae),j=0;j<ae;j++)R[j]=arguments[j];return R.forEach(function(ye){$(N,ye)}),N}function Kt(N){return N!=null}var $t=P.createContext(!1),un=$t,Sn=P.createContext({}),on=Sn,zt=["colSpan","rowSpan","style","className"];function en(N,$,ae,R){var j=N+$-1;return N<=R&&j>=ae}function y(N){return N&&Object(Y.a)(N)==="object"&&!Array.isArray(N)&&!P.isValidElement(N)}function _n(N){return typeof N=="string"?!0:Object(Yt.c)(N)}function An(N,$){var ae,R,j,ye=N.prefixCls,pe=N.className,ee=N.record,fe=N.index,_e=N.renderIndex,Ge=N.dataIndex,ke=N.render,rt=N.children,St=N.component,Et=St===void 0?"td":St,Dt=N.colSpan,wt=N.rowSpan,Nt=N.fixLeft,jt=N.fixRight,Zt=N.firstFixLeft,rn=N.lastFixLeft,sn=N.firstFixRight,kn=N.lastFixRight,rr=N.appendNode,Un=N.additionalProps,Dn=Un===void 0?{}:Un,ar=N.ellipsis,Xn=N.align,xr=N.rowType,Pn=N.isSticky,Qn=N.hovering,Dr=N.onHover,vr="".concat(ye,"-cell"),dr=P.useContext(un),Zn,Jn;if(Kt(rt))Jn=rt;else{var Rr=et(ee,Ge);if(Jn=Rr,ke){var fi=ke(Rr,ee,_e);y(fi)?(Jn=fi.children,Zn=fi.props):Jn=fi}}Object(Y.a)(Jn)==="object"&&!Array.isArray(Jn)&&!P.isValidElement(Jn)&&(Jn=null),ar&&(rn||sn)&&(Jn=P.createElement("span",{className:"".concat(vr,"-content")},Jn));var Ni=Zn||{},yi=Ni.colSpan,Ri=Ni.rowSpan,Ji=Ni.style,Oa=Ni.className,Xi=Object(It.a)(Ni,zt),ii=(ae=yi!==void 0?yi:Dt)!==null&&ae!==void 0?ae:1,Qr=(R=Ri!==void 0?Ri:wt)!==null&&R!==void 0?R:1;if(ii===0||Qr===0)return null;var bi={},So=typeof Nt=="number"&&dr,ki=typeof jt=="number"&&dr;So&&(bi.position="sticky",bi.left=Nt),ki&&(bi.position="sticky",bi.right=jt);var Ja={};Xn&&(Ja.textAlign=Xn);var so=function(sa){var xi;ee&&Dr(fe,fe+Qr-1),Dn==null||(xi=Dn.onMouseEnter)===null||xi===void 0||xi.call(Dn,sa)},Qa=function(sa){var xi;ee&&Dr(-1,-1),Dn==null||(xi=Dn.onMouseLeave)===null||xi===void 0||xi.call(Dn,sa)},zo,Ko=ar===!0?{showTitle:!0}:ar;Ko&&(Ko.showTitle||xr==="header")&&(typeof Jn=="string"||typeof Jn=="number"?zo=Jn.toString():P.isValidElement(Jn)&&typeof Jn.props.children=="string"&&(zo=Jn.props.children));var lo=Object(Z.a)(Object(Z.a)(Object(Z.a)({title:zo},Xi),Dn),{},{colSpan:ii!==1?ii:null,rowSpan:Qr!==1?Qr:null,className:de()(vr,pe,(j={},Object(be.a)(j,"".concat(vr,"-fix-left"),So&&dr),Object(be.a)(j,"".concat(vr,"-fix-left-first"),Zt&&dr),Object(be.a)(j,"".concat(vr,"-fix-left-last"),rn&&dr),Object(be.a)(j,"".concat(vr,"-fix-right"),ki&&dr),Object(be.a)(j,"".concat(vr,"-fix-right-first"),sn&&dr),Object(be.a)(j,"".concat(vr,"-fix-right-last"),kn&&dr),Object(be.a)(j,"".concat(vr,"-ellipsis"),ar),Object(be.a)(j,"".concat(vr,"-with-append"),rr),Object(be.a)(j,"".concat(vr,"-fix-sticky"),(So||ki)&&Pn&&dr),Object(be.a)(j,"".concat(vr,"-row-hover"),!Zn&&Qn),j),Dn.className,Oa),style:Object(Z.a)(Object(Z.a)(Object(Z.a)(Object(Z.a)({},Dn.style),Ja),bi),Ji),onMouseEnter:so,onMouseLeave:Qa,ref:_n(Et)?$:null});return P.createElement(Et,lo,rr,Jn)}var Fn=P.forwardRef(An);Fn.displayName="Cell";var Wn=["expanded","className","hovering"],zn=P.memo(Fn,function(N,$){return $.shouldCellUpdate?Wn.every(function(ae){return N[ae]===$[ae]})&&!$.shouldCellUpdate($.record,N.record):Ft()(N,$)}),or=P.forwardRef(function(N,$){var ae=P.useContext(on),R=ae.onHover,j=ae.startRow,ye=ae.endRow,pe=N.index,ee=N.additionalProps,fe=ee===void 0?{}:ee,_e=N.colSpan,Ge=N.rowSpan,ke=fe.colSpan,rt=fe.rowSpan,St=_e!=null?_e:ke,Et=Ge!=null?Ge:rt,Dt=en(pe,Et||1,j,ye);return P.createElement(zn,Object(re.a)({},N,{colSpan:St,rowSpan:Et,hovering:Dt,ref:$,onHover:R}))});or.displayName="WrappedCell";var Sr=or,pr=P.createContext(null),Jr=pr;function jr(N,$,ae,R,j){var ye=ae[N]||{},pe=ae[$]||{},ee,fe;ye.fixed==="left"?ee=R.left[N]:pe.fixed==="right"&&(fe=R.right[$]);var _e=!1,Ge=!1,ke=!1,rt=!1,St=ae[$+1],Et=ae[N-1];if(j==="rtl"){if(ee!==void 0){var Dt=Et&&Et.fixed==="left";rt=!Dt}else if(fe!==void 0){var wt=St&&St.fixed==="right";ke=!wt}}else if(ee!==void 0){var Nt=St&&St.fixed==="left";_e=!Nt}else if(fe!==void 0){var jt=Et&&Et.fixed==="right";Ge=!jt}return{fixLeft:ee,fixRight:fe,lastFixLeft:_e,firstFixRight:Ge,lastFixRight:ke,firstFixLeft:rt,isSticky:R.isSticky}}function Mi(N){var $=N.cells,ae=N.stickyOffsets,R=N.flattenColumns,j=N.rowComponent,ye=N.cellComponent,pe=N.onHeaderRow,ee=N.index,fe=P.useContext(Jr),_e=fe.prefixCls,Ge=fe.direction,ke;pe&&(ke=pe($.map(function(St){return St.column}),ee));var rt=xt($.map(function(St){return St.column}));return P.createElement(j,ke,$.map(function(St,Et){var Dt=St.column,wt=jr(St.colStart,St.colEnd,R,ae,Ge),Nt;return Dt&&Dt.onHeaderCell&&(Nt=St.column.onHeaderCell(Dt)),P.createElement(Sr,Object(re.a)({},St,{ellipsis:Dt.ellipsis,align:Dt.align,component:ye,prefixCls:_e,key:rt[Et]},wt,{additionalProps:Nt,rowType:"header"}))}))}Mi.displayName="HeaderRow";var wn=Mi;function De(N){var $=[];function ae(pe,ee){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;$[fe]=$[fe]||[];var _e=ee,Ge=pe.filter(Boolean).map(function(ke){var rt={key:ke.key,className:ke.className||"",children:ke.title,column:ke,colStart:_e},St=1,Et=ke.children;return Et&&Et.length>0&&(St=ae(Et,_e,fe+1).reduce(function(Dt,wt){return Dt+wt},0),rt.hasSubColumns=!0),"colSpan"in ke&&(St=ke.colSpan),"rowSpan"in ke&&(rt.rowSpan=ke.rowSpan),rt.colSpan=St,rt.colEnd=rt.colStart+St-1,$[fe].push(rt),_e+=St,St});return Ge}ae(N,0);for(var R=$.length,j=function(ee){$[ee].forEach(function(fe){!("rowSpan"in fe)&&!fe.hasSubColumns&&(fe.rowSpan=R-ee)})},ye=0;ye<R;ye+=1)j(ye);return $}function Ae(N){var $=N.stickyOffsets,ae=N.columns,R=N.flattenColumns,j=N.onHeaderRow,ye=P.useContext(Jr),pe=ye.prefixCls,ee=ye.getComponent,fe=P.useMemo(function(){return De(ae)},[ae]),_e=ee(["header","wrapper"],"thead"),Ge=ee(["header","row"],"tr"),ke=ee(["header","cell"],"th");return P.createElement(_e,{className:"".concat(pe,"-thead")},fe.map(function(rt,St){var Et=P.createElement(wn,{key:St,flattenColumns:R,cells:rt,stickyOffsets:$,rowComponent:Ge,cellComponent:ke,onHeaderRow:j,index:St});return Et}))}var st=Ae,Xe=P.createContext(null),ie=Xe,V=P.createContext(null),B=V;function J(N){var $=N.prefixCls,ae=N.children,R=N.component,j=N.cellComponent,ye=N.className,pe=N.expanded,ee=N.colSpan,fe=N.isEmpty,_e=P.useContext(Jr),Ge=_e.scrollbarSize,ke=P.useContext(B),rt=ke.fixHeader,St=ke.fixColumn,Et=ke.componentWidth,Dt=ke.horizonScroll;return P.useMemo(function(){var wt=ae;return(fe?Dt:St)&&(wt=P.createElement("div",{style:{width:Et-(rt?Ge:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat($,"-expanded-row-fixed")},wt)),P.createElement(R,{className:ye,style:{display:pe?null:"none"}},P.createElement(Sr,{component:j,prefixCls:$,colSpan:ee},wt))},[ae,R,ye,pe,ee,fe,Ge,Et,St,rt,Dt])}var Oe=J,nt=P.createContext(null),ut=nt;function Jt(N){var $=N.className,ae=N.style,R=N.record,j=N.index,ye=N.renderIndex,pe=N.rowKey,ee=N.rowExpandable,fe=N.expandedKeys,_e=N.onRow,Ge=N.indent,ke=Ge===void 0?0:Ge,rt=N.rowComponent,St=N.cellComponent,Et=N.childrenColumnName,Dt=P.useContext(Jr),wt=Dt.prefixCls,Nt=Dt.fixedInfoList,jt=P.useContext(ie),Zt=jt.flattenColumns,rn=jt.expandableType,sn=jt.expandRowByClick,kn=jt.onTriggerExpand,rr=jt.rowClassName,Un=jt.expandedRowClassName,Dn=jt.indentSize,ar=jt.expandIcon,Xn=jt.expandedRowRender,xr=jt.expandIconColumnIndex,Pn=P.useState(!1),Qn=Object(F.a)(Pn,2),Dr=Qn[0],vr=Qn[1],dr=fe&&fe.has(N.recordKey);P.useEffect(function(){dr&&vr(!0)},[dr]);var Zn=rn==="row"&&(!ee||ee(R)),Jn=rn==="nest",Rr=Et&&R&&R[Et],fi=Zn||Jn,Ni=P.useRef(kn);Ni.current=kn;var yi=function(){Ni.current.apply(Ni,arguments)},Ri;_e&&(Ri=_e(R,j));var Ji=function(Ja){var so,Qa;sn&&fi&&yi(R,Ja);for(var zo=arguments.length,Ko=new Array(zo>1?zo-1:0),lo=1;lo<zo;lo++)Ko[lo-1]=arguments[lo];(so=Ri)===null||so===void 0||(Qa=so.onClick)===null||Qa===void 0||Qa.call.apply(Qa,[so,Ja].concat(Ko))},Oa;typeof rr=="string"?Oa=rr:typeof rr=="function"&&(Oa=rr(R,j,ke));var Xi=xt(Zt),ii=P.createElement(rt,Object(re.a)({},Ri,{"data-row-key":pe,className:de()($,"".concat(wt,"-row"),"".concat(wt,"-row-level-").concat(ke),Oa,Ri&&Ri.className),style:Object(Z.a)(Object(Z.a)({},ae),Ri?Ri.style:null),onClick:Ji}),Zt.map(function(ki,Ja){var so=ki.render,Qa=ki.dataIndex,zo=ki.className,Ko=Xi[Ja],lo=Nt[Ja],Qi;Ja===(xr||0)&&Jn&&(Qi=P.createElement(P.Fragment,null,P.createElement("span",{style:{paddingLeft:"".concat(Dn*ke,"px")},className:"".concat(wt,"-row-indent indent-level-").concat(ke)}),ar({prefixCls:wt,expanded:dr,expandable:Rr,record:R,onExpand:yi})));var sa;return ki.onCell&&(sa=ki.onCell(R,j)),P.createElement(Sr,Object(re.a)({className:zo,ellipsis:ki.ellipsis,align:ki.align,component:St,prefixCls:wt,key:Ko,record:R,index:j,renderIndex:ye,dataIndex:Qa,render:so,shouldCellUpdate:ki.shouldCellUpdate,expanded:Qi&&dr},lo,{appendNode:Qi,additionalProps:sa}))})),Qr;if(Zn&&(Dr||dr)){var bi=Xn(R,j,ke+1,dr),So=Un&&Un(R,j,ke);Qr=P.createElement(Oe,{expanded:dr,className:de()("".concat(wt,"-expanded-row"),"".concat(wt,"-expanded-row-level-").concat(ke+1),So),prefixCls:wt,component:rt,cellComponent:St,colSpan:Zt.length,isEmpty:!1},bi)}return P.createElement(P.Fragment,null,ii,Qr)}Jt.displayName="BodyRow";var pn=Jt;function hn(N,$,ae,R,j,ye){var pe=[];pe.push({record:N,indent:$,index:ye});var ee=j(N),fe=R==null?void 0:R.has(ee);if(N&&Array.isArray(N[ae])&&fe)for(var _e=0;_e<N[ae].length;_e+=1){var Ge=hn(N[ae][_e],$+1,ae,R,j,_e);pe.push.apply(pe,Object(Pe.a)(Ge))}return pe}function Ln(N,$,ae,R){var j=P.useMemo(function(){if(ae==null?void 0:ae.size){for(var ye=[],pe=0;pe<(N==null?void 0:N.length);pe+=1){var ee=N[pe];ye.push.apply(ye,Object(Pe.a)(hn(ee,0,$,ae,R,pe)))}return ye}return N==null?void 0:N.map(function(fe,_e){return{record:fe,indent:0,index:_e}})},[N,$,ae,R]);return j}function Se(N){var $=N.columnKey,ae=N.onColumnResize,R=P.useRef();return P.useEffect(function(){R.current&&ae($,R.current.offsetWidth)},[]),P.createElement(Ct.a,{data:$},P.createElement("td",{ref:R,style:{padding:0,border:0,height:0}},P.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}var Ee=D("wgJM");function Ue(N){var $=N.prefixCls,ae=N.columnsKey,R=N.onColumnResize,j=P.useRef(new Map),ye=P.useRef(null),pe=function(){ye.current===null&&(ye.current=Object(Ee.a)(function(){j.current.forEach(function(fe,_e){R(_e,fe)}),j.current.clear(),ye.current=null},2))};return P.useEffect(function(){return function(){Ee.a.cancel(ye.current)}},[]),P.createElement("tr",{"aria-hidden":"true",className:"".concat($,"-measure-row"),style:{height:0,fontSize:0}},P.createElement(Ct.a.Collection,{onBatchResize:function(fe){fe.forEach(function(_e){var Ge=_e.data,ke=_e.size;j.current.set(Ge,ke.offsetWidth)}),pe()}},ae.map(function(ee){return P.createElement(Se,{key:ee,columnKey:ee,onColumnResize:R})})))}function Ie(N){var $=N.data,ae=N.getRowKey,R=N.measureColumnWidth,j=N.expandedKeys,ye=N.onRow,pe=N.rowExpandable,ee=N.emptyNode,fe=N.childrenColumnName,_e=P.useContext(ut),Ge=_e.onColumnResize,ke=P.useContext(Jr),rt=ke.prefixCls,St=ke.getComponent,Et=P.useContext(ie),Dt=Et.flattenColumns,wt=Ln($,fe,j,ae),Nt=P.useState(-1),jt=Object(F.a)(Nt,2),Zt=jt[0],rn=jt[1],sn=P.useState(-1),kn=Object(F.a)(sn,2),rr=kn[0],Un=kn[1],Dn=P.useCallback(function(xr,Pn){rn(xr),Un(Pn)},[]),ar=P.useMemo(function(){return{startRow:Zt,endRow:rr,onHover:Dn}},[Dn,Zt,rr]),Xn=P.useMemo(function(){var xr=St(["body","wrapper"],"tbody"),Pn=St(["body","row"],"tr"),Qn=St(["body","cell"],"td"),Dr;$.length?Dr=wt.map(function(dr,Zn){var Jn=dr.record,Rr=dr.indent,fi=dr.index,Ni=ae(Jn,Zn);return P.createElement(pn,{key:Ni,rowKey:Ni,record:Jn,recordKey:Ni,index:Zn,renderIndex:fi,rowComponent:Pn,cellComponent:Qn,expandedKeys:j,onRow:ye,getRowKey:ae,rowExpandable:pe,childrenColumnName:fe,indent:Rr})}):Dr=P.createElement(Oe,{expanded:!0,className:"".concat(rt,"-placeholder"),prefixCls:rt,component:Pn,cellComponent:Qn,colSpan:Dt.length,isEmpty:!0},ee);var vr=xt(Dt);return P.createElement(xr,{className:"".concat(rt,"-tbody")},R&&P.createElement(Ue,{prefixCls:rt,columnsKey:vr,onColumnResize:Ge}),Dr)},[$,rt,ye,R,j,ae,St,ee,Dt,fe,Ge,pe,wt]);return P.createElement(on.Provider,{value:ar},Xn)}var Re=P.memo(Ie);Re.displayName="Body";var Ke=Re,We=D("Zm9Q"),ht=["expandable"],ot="RC_TABLE_INTERNAL_COL_DEFINE";function oe(N){var $=N.expandable,ae=Object(It.a)(N,ht),R;return"expandable"in N?R=Object(Z.a)(Object(Z.a)({},ae),$):R=ae,R.showExpandColumn===!1&&(R.expandIconColumnIndex=-1),R}var ue={},$e=["children"],k=["fixed"];function Ce(N){return Object(We.a)(N).filter(function($){return P.isValidElement($)}).map(function($){var ae=$.key,R=$.props,j=R.children,ye=Object(It.a)(R,$e),pe=Object(Z.a)({key:ae},ye);return j&&(pe.children=Ce(j)),pe})}function ge(N){return N.reduce(function($,ae){var R=ae.fixed,j=R===!0?"left":R,ye=ae.children;return ye&&ye.length>0?[].concat(Object(Pe.a)($),Object(Pe.a)(ge(ye).map(function(pe){return Object(Z.a)({fixed:j},pe)}))):[].concat(Object(Pe.a)($),[Object(Z.a)(Object(Z.a)({},ae),{},{fixed:j})])},[])}function we(N){for(var $=!0,ae=0;ae<N.length;ae+=1){var R=N[ae];if($&&R.fixed!=="left")$=!1;else if(!$&&R.fixed==="left"){Object(bt.a)(!1,"Index ".concat(ae-1," of `columns` missing `fixed='left'` prop."));break}}for(var j=!0,ye=N.length-1;ye>=0;ye-=1){var pe=N[ye];if(j&&pe.fixed!=="right")j=!1;else if(!j&&pe.fixed==="right"){Object(bt.a)(!1,"Index ".concat(ye+1," of `columns` missing `fixed='right'` prop."));break}}}function ct(N){return N.map(function($){var ae=$.fixed,R=Object(It.a)($,k),j=ae;return ae==="left"?j="right":ae==="right"&&(j="left"),Object(Z.a)({fixed:j},R)})}function Rt(N,$){var ae=N.prefixCls,R=N.columns,j=N.children,ye=N.expandable,pe=N.expandedKeys,ee=N.getRowKey,fe=N.onTriggerExpand,_e=N.expandIcon,Ge=N.rowExpandable,ke=N.expandIconColumnIndex,rt=N.direction,St=N.expandRowByClick,Et=N.columnWidth,Dt=N.fixed,wt=P.useMemo(function(){return R||Ce(j)},[R,j]),Nt=P.useMemo(function(){if(ye){var rn,sn=wt.slice();if(!sn.includes(ue)){var kn=ke||0;kn>=0&&sn.splice(kn,0,ue)}var rr=sn.indexOf(ue);sn=sn.filter(function(Xn,xr){return Xn!==ue||xr===rr});var Un=wt[rr],Dn;(Dt==="left"||Dt)&&!ke?Dn="left":(Dt==="right"||Dt)&&ke===wt.length?Dn="right":Dn=Un?Un.fixed:null;var ar=(rn={},Object(be.a)(rn,ot,{className:"".concat(ae,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),Object(be.a)(rn,"title",""),Object(be.a)(rn,"fixed",Dn),Object(be.a)(rn,"className","".concat(ae,"-row-expand-icon-cell")),Object(be.a)(rn,"width",Et),Object(be.a)(rn,"render",function(xr,Pn,Qn){var Dr=ee(Pn,Qn),vr=pe.has(Dr),dr=Ge?Ge(Pn):!0,Zn=_e({prefixCls:ae,expanded:vr,expandable:dr,record:Pn,onExpand:fe});return St?P.createElement("span",{onClick:function(Rr){return Rr.stopPropagation()}},Zn):Zn}),rn);return sn.map(function(Xn){return Xn===ue?ar:Xn})}return wt.filter(function(Xn){return Xn!==ue})},[ye,wt,ee,pe,_e,rt]),jt=P.useMemo(function(){var rn=Nt;return $&&(rn=$(rn)),rn.length||(rn=[{render:function(){return null}}]),rn},[$,Nt,rt]),Zt=P.useMemo(function(){return rt==="rtl"?ct(ge(jt)):ge(jt)},[jt,rt]);return[jt,Zt]}var Wt=Rt;function kt(N){var $=Object(P.useRef)(N),ae=Object(P.useState)({}),R=Object(F.a)(ae,2),j=R[1],ye=Object(P.useRef)(null),pe=Object(P.useRef)([]);function ee(fe){pe.current.push(fe);var _e=Promise.resolve();ye.current=_e,_e.then(function(){if(ye.current===_e){var Ge=pe.current,ke=$.current;pe.current=[],Ge.forEach(function(rt){$.current=rt($.current)}),ye.current=null,ke!==$.current&&j({})}})}return Object(P.useEffect)(function(){return function(){ye.current=null}},[]),[$.current,ee]}function nn(N){var $=Object(P.useRef)(N||null),ae=Object(P.useRef)();function R(){window.clearTimeout(ae.current)}function j(pe){$.current=pe,R(),ae.current=window.setTimeout(function(){$.current=null,ae.current=void 0},100)}function ye(){return $.current}return Object(P.useEffect)(function(){return R},[]),[j,ye]}function cn(N,$,ae){var R=Object(P.useMemo)(function(){for(var j=[],ye=[],pe=0,ee=0,fe=0;fe<$;fe+=1)if(ae==="rtl"){ye[fe]=ee,ee+=N[fe]||0;var _e=$-fe-1;j[_e]=pe,pe+=N[_e]||0}else{j[fe]=pe,pe+=N[fe]||0;var Ge=$-fe-1;ye[Ge]=ee,ee+=N[Ge]||0}return{left:j,right:ye}},[N,$,ae]);return R}var gn=cn,tn=["columnType"];function fn(N){for(var $=N.colWidths,ae=N.columns,R=N.columCount,j=[],ye=R||ae.length,pe=!1,ee=ye-1;ee>=0;ee-=1){var fe=$[ee],_e=ae&&ae[ee],Ge=_e&&_e[ot];if(fe||Ge||pe){var ke=Ge||{},rt=ke.columnType,St=Object(It.a)(ke,tn);j.unshift(P.createElement("col",Object(re.a)({key:ee,style:{width:fe}},St))),pe=!0}}return P.createElement("colgroup",null,j)}var qe=fn;function Qe(N){var $=N.className,ae=N.children;return P.createElement("div",{className:$},ae)}var vt=Qe;function Je(N){var $=N.className,ae=N.index,R=N.children,j=N.colSpan,ye=j===void 0?1:j,pe=N.rowSpan,ee=N.align,fe=P.useContext(Jr),_e=fe.prefixCls,Ge=fe.direction,ke=P.useContext(tr),rt=ke.scrollColumnIndex,St=ke.stickyOffsets,Et=ke.flattenColumns,Dt=ae+ye-1,wt=Dt+1===rt?ye+1:ye,Nt=jr(ae,ae+wt-1,Et,St,Ge);return P.createElement(Sr,Object(re.a)({className:$,index:ae,component:"td",prefixCls:_e,record:null,dataIndex:null,align:ee,colSpan:wt,rowSpan:pe,render:function(){return R}},Nt))}var me=["children"];function Ye(N){var $=N.children,ae=Object(It.a)(N,me);return P.createElement("tr",ae,$)}function Tt(N){var $=N.children;return $}Tt.Row=Ye,Tt.Cell=Je;var Tn=Tt,tr=P.createContext({});function mr(N){var $=N.children,ae=N.stickyOffsets,R=N.flattenColumns,j=P.useContext(Jr),ye=j.prefixCls,pe=R.length-1,ee=R[pe],fe=P.useMemo(function(){return{stickyOffsets:ae,flattenColumns:R,scrollColumnIndex:(ee==null?void 0:ee.scrollbar)?pe:null}},[ee,R,pe,ae]);return P.createElement(tr.Provider,{value:fe},P.createElement("tfoot",{className:"".concat(ye,"-summary")},$))}var ni=mr,$i=Tn;function Li(N){var $,ae=N.prefixCls,R=N.record,j=N.onExpand,ye=N.expanded,pe=N.expandable,ee="".concat(ae,"-row-expand-icon");if(!pe)return P.createElement("span",{className:de()(ee,"".concat(ae,"-row-spaced"))});var fe=function(Ge){j(R,Ge),Ge.stopPropagation()};return P.createElement("span",{className:de()(ee,($={},Object(be.a)($,"".concat(ae,"-row-expanded"),ye),Object(be.a)($,"".concat(ae,"-row-collapsed"),!ye),$)),onClick:fe})}function eo(N,$,ae){var R=[];function j(ye){(ye||[]).forEach(function(pe,ee){R.push($(pe,ee)),j(pe[ae])})}return j(N),R}var Ho=D("zT1h"),No=D("y0+3"),Ei=function($,ae){var R,j,ye=$.scrollBodyRef,pe=$.onScroll,ee=$.offsetScroll,fe=$.container,_e=P.useContext(Jr),Ge=_e.prefixCls,ke=((R=ye.current)===null||R===void 0?void 0:R.scrollWidth)||0,rt=((j=ye.current)===null||j===void 0?void 0:j.clientWidth)||0,St=ke&&rt*(rt/ke),Et=P.useRef(),Dt=kt({scrollLeft:0,isHiddenScrollBar:!1}),wt=Object(F.a)(Dt,2),Nt=wt[0],jt=wt[1],Zt=P.useRef({delta:0,x:0}),rn=P.useState(!1),sn=Object(F.a)(rn,2),kn=sn[0],rr=sn[1],Un=function(){rr(!1)},Dn=function(Qn){Qn.persist(),Zt.current.delta=Qn.pageX-Nt.scrollLeft,Zt.current.x=0,rr(!0),Qn.preventDefault()},ar=function(Qn){var Dr,vr=Qn||((Dr=window)===null||Dr===void 0?void 0:Dr.event),dr=vr.buttons;if(!kn||dr===0){kn&&rr(!1);return}var Zn=Zt.current.x+Qn.pageX-Zt.current.x-Zt.current.delta;Zn<=0&&(Zn=0),Zn+St>=rt&&(Zn=rt-St),pe({scrollLeft:Zn/rt*(ke+2)}),Zt.current.x=Qn.pageX},Xn=function(){if(!!ye.current){var Qn=Object(No.b)(ye.current).top,Dr=Qn+ye.current.offsetHeight,vr=fe===window?document.documentElement.scrollTop+window.innerHeight:Object(No.b)(fe).top+fe.clientHeight;Dr-Object(he.a)()<=vr||Qn>=vr-ee?jt(function(dr){return Object(Z.a)(Object(Z.a)({},dr),{},{isHiddenScrollBar:!0})}):jt(function(dr){return Object(Z.a)(Object(Z.a)({},dr),{},{isHiddenScrollBar:!1})})}},xr=function(Qn){jt(function(Dr){return Object(Z.a)(Object(Z.a)({},Dr),{},{scrollLeft:Qn/ke*rt||0})})};return P.useImperativeHandle(ae,function(){return{setScrollLeft:xr}}),P.useEffect(function(){var Pn=Object(Ho.a)(document.body,"mouseup",Un,!1),Qn=Object(Ho.a)(document.body,"mousemove",ar,!1);return Xn(),function(){Pn.remove(),Qn.remove()}},[St,kn]),P.useEffect(function(){var Pn=Object(Ho.a)(fe,"scroll",Xn,!1),Qn=Object(Ho.a)(window,"resize",Xn,!1);return function(){Pn.remove(),Qn.remove()}},[fe]),P.useEffect(function(){Nt.isHiddenScrollBar||jt(function(Pn){var Qn=ye.current;return Qn?Object(Z.a)(Object(Z.a)({},Pn),{},{scrollLeft:Qn.scrollLeft/Qn.scrollWidth*Qn.clientWidth}):Pn})},[Nt.isHiddenScrollBar]),ke<=rt||!St||Nt.isHiddenScrollBar?null:P.createElement("div",{style:{height:Object(he.a)(),width:rt,bottom:ee},className:"".concat(Ge,"-sticky-scroll")},P.createElement("div",{onMouseDown:Dn,ref:Et,className:de()("".concat(Ge,"-sticky-scroll-bar"),Object(be.a)({},"".concat(Ge,"-sticky-scroll-bar-active"),kn)),style:{width:"".concat(St,"px"),transform:"translate3d(".concat(Nt.scrollLeft,"px, 0, 0)")}}))},Br=P.forwardRef(Ei),Ma=D("MNnm"),to=Object(Ma.a)()?window:null;function Go(N,$){var ae=Object(Y.a)(N)==="object"?N:{},R=ae.offsetHeader,j=R===void 0?0:R,ye=ae.offsetSummary,pe=ye===void 0?0:ye,ee=ae.offsetScroll,fe=ee===void 0?0:ee,_e=ae.getContainer,Ge=_e===void 0?function(){return to}:_e,ke=Ge()||to;return P.useMemo(function(){var rt=!!N;return{isSticky:rt,stickyClassName:rt?"".concat($,"-sticky-holder"):"",offsetHeader:j,offsetSummary:pe,offsetScroll:fe,container:ke}},[fe,j,pe,$,ke])}var es=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Es(N,$){return Object(P.useMemo)(function(){for(var ae=[],R=0;R<$;R+=1){var j=N[R];if(j!==void 0)ae[R]=j;else return null}return ae},[N.join("_"),$])}var Co=P.forwardRef(function(N,$){var ae=N.className,R=N.noData,j=N.columns,ye=N.flattenColumns,pe=N.colWidths,ee=N.columCount,fe=N.stickyOffsets,_e=N.direction,Ge=N.fixHeader,ke=N.stickyTopOffset,rt=N.stickyBottomOffset,St=N.stickyClassName,Et=N.onScroll,Dt=N.maxContentScroll,wt=N.children,Nt=Object(It.a)(N,es),jt=P.useContext(Jr),Zt=jt.prefixCls,rn=jt.scrollbarSize,sn=jt.isSticky,kn=sn&&!Ge?0:rn,rr=P.useRef(null),Un=P.useCallback(function(vr){Object(Yt.b)($,vr),Object(Yt.b)(rr,vr)},[]);P.useEffect(function(){var vr;function dr(Zn){var Jn=Zn.currentTarget,Rr=Zn.deltaX;Rr&&(Et({currentTarget:Jn,scrollLeft:Jn.scrollLeft+Rr}),Zn.preventDefault())}return(vr=rr.current)===null||vr===void 0||vr.addEventListener("wheel",dr),function(){var Zn;(Zn=rr.current)===null||Zn===void 0||Zn.removeEventListener("wheel",dr)}},[]);var Dn=P.useMemo(function(){return ye.every(function(vr){return vr.width>=0})},[ye]),ar=ye[ye.length-1],Xn={fixed:ar?ar.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(Zt,"-cell-scrollbar")}}},xr=Object(P.useMemo)(function(){return kn?[].concat(Object(Pe.a)(j),[Xn]):j},[kn,j]),Pn=Object(P.useMemo)(function(){return kn?[].concat(Object(Pe.a)(ye),[Xn]):ye},[kn,ye]),Qn=Object(P.useMemo)(function(){var vr=fe.right,dr=fe.left;return Object(Z.a)(Object(Z.a)({},fe),{},{left:_e==="rtl"?[].concat(Object(Pe.a)(dr.map(function(Zn){return Zn+kn})),[0]):dr,right:_e==="rtl"?vr:[].concat(Object(Pe.a)(vr.map(function(Zn){return Zn+kn})),[0]),isSticky:sn})},[kn,fe,sn]),Dr=Es(pe,ee);return P.createElement("div",{style:Object(Z.a)({overflow:"hidden"},sn?{top:ke,bottom:rt}:{}),ref:Un,className:de()(ae,Object(be.a)({},St,!!St))},P.createElement("table",{style:{tableLayout:"fixed",visibility:R||Dr?null:"hidden"}},(!R||!Dt||Dn)&&P.createElement(qe,{colWidths:Dr?[].concat(Object(Pe.a)(Dr),[kn]):[],columCount:ee+1,columns:Pn}),wt(Object(Z.a)(Object(Z.a)({},Nt),{},{stickyOffsets:Qn,columns:xr,flattenColumns:Pn}))))});Co.displayName="FixedHolder";var Lo=Co,Vt=[],Lt={},Nn="rc-table-internal-hook",bn=P.memo(function(N){var $=N.children;return $},function(N,$){return Ft()(N.props,$.props)?N.pingLeft!==$.pingLeft||N.pingRight!==$.pingRight:!1});function hr(N){var $,ae=N.prefixCls,R=N.className,j=N.rowClassName,ye=N.style,pe=N.data,ee=N.rowKey,fe=N.scroll,_e=N.tableLayout,Ge=N.direction,ke=N.title,rt=N.footer,St=N.summary,Et=N.id,Dt=N.showHeader,wt=N.components,Nt=N.emptyText,jt=N.onRow,Zt=N.onHeaderRow,rn=N.internalHooks,sn=N.transformColumns,kn=N.internalRefs,rr=N.sticky,Un=pe||Vt,Dn=!!Un.length,ar=P.useMemo(function(){return mt(wt,{})},[wt]),Xn=P.useCallback(function(Ia,uo){return et(ar,Ia)||uo},[ar]),xr=P.useMemo(function(){return typeof ee=="function"?ee:function(Ia){var uo=Ia&&Ia[ee];return uo}},[ee]),Pn=oe(N),Qn=Pn.expandIcon,Dr=Pn.expandedRowKeys,vr=Pn.defaultExpandedRowKeys,dr=Pn.defaultExpandAllRows,Zn=Pn.expandedRowRender,Jn=Pn.onExpand,Rr=Pn.onExpandedRowsChange,fi=Pn.expandRowByClick,Ni=Pn.rowExpandable,yi=Pn.expandIconColumnIndex,Ri=Pn.expandedRowClassName,Ji=Pn.childrenColumnName,Oa=Pn.indentSize,Xi=Qn||Li,ii=Ji||"children",Qr=P.useMemo(function(){return Zn?"row":N.expandable&&rn===Nn&&N.expandable.__PARENT_RENDER_ICON__||Un.some(function(Ia){return Ia&&Object(Y.a)(Ia)==="object"&&Ia[ii]})?"nest":!1},[!!Zn,Un]),bi=P.useState(function(){return vr||(dr?eo(Un,xr,ii):[])}),So=Object(F.a)(bi,2),ki=So[0],Ja=So[1],so=P.useMemo(function(){return new Set(Dr||ki||[])},[Dr,ki]),Qa=P.useCallback(function(Ia){var uo=xr(Ia,Un.indexOf(Ia)),ps,Us=so.has(uo);Us?(so.delete(uo),ps=Object(Pe.a)(so)):ps=[].concat(Object(Pe.a)(so),[uo]),Ja(ps),Jn&&Jn(!Us,Ia),Rr&&Rr(ps)},[xr,so,Un,Jn,Rr]),zo=P.useState(0),Ko=Object(F.a)(zo,2),lo=Ko[0],Qi=Ko[1],sa=Wt(Object(Z.a)(Object(Z.a)(Object(Z.a)({},N),Pn),{},{expandable:!!Zn,expandedKeys:so,getRowKey:xr,onTriggerExpand:Qa,expandIcon:Xi,expandIconColumnIndex:yi,direction:Ge}),rn===Nn?sn:null),xi=Object(F.a)(sa,2),Kr=xi[0],Gr=xi[1],wa=P.useMemo(function(){return{columns:Kr,flattenColumns:Gr}},[Kr,Gr]),ir=P.useRef(),Ha=P.useRef(),Na=P.useRef(),Ds=P.useRef(),mu=P.useState(!1),Qs=Object(F.a)(mu,2),yu=Qs[0],Ec=Qs[1],cs=P.useState(!1),If=Object(F.a)(cs,2),Gs=If[0],Nf=If[1],dd=kt(new Map),Fu=Object(F.a)(dd,2),qh=Fu[0],hd=Fu[1],bu=xt(Gr),Bi=bu.map(function(Ia){return qh.get(Ia)}),Ao=P.useMemo(function(){return Bi},[Bi.join("_")]),ic=gn(Ao,Gr.length,Ge),fa=fe&&Kt(fe.y),Ga=fe&&Kt(fe.x)||Boolean(Pn.fixed),fs=Ga&&Gr.some(function(Ia){var uo=Ia.fixed;return uo}),Yo=P.useRef(),$o=Go(rr,ae),Po=$o.isSticky,rl=$o.offsetHeader,zu=$o.offsetSummary,$l=$o.offsetScroll,Ac=$o.stickyClassName,Jc=$o.container,il=St==null?void 0:St(Un),ji=(fa||Po)&&P.isValidElement(il)&&il.type===Tn&&il.props.fixed,yr,ts,Fi;fa&&(ts={overflowY:"scroll",maxHeight:fe.y}),Ga&&(yr={overflowX:"auto"},fa||(ts={overflowY:"hidden"}),Fi={width:fe.x===!0?"auto":fe.x,minWidth:"100%"});var Yr=P.useCallback(function(Ia,uo){Object(ve.a)(ir.current)&&hd(function(ps){if(ps.get(Ia)!==uo){var Us=new Map(ps);return Us.set(Ia,uo),Us}return ps})},[]),Qc=nn(null),wo=Object(F.a)(Qc,2),ka=wo[0],ds=wo[1];function Rs(Ia,uo){!uo||(typeof uo=="function"?uo(Ia):uo.scrollLeft!==Ia&&(uo.scrollLeft=Ia))}var qa=function(uo){var ps=uo.currentTarget,Us=uo.scrollLeft,np=Ge==="rtl",Lc=typeof Us=="number"?Us:ps.scrollLeft,Hu=ps||Lt;if(!ds()||ds()===Hu){var Ql;ka(Hu),Rs(Lc,Ha.current),Rs(Lc,Na.current),Rs(Lc,Ds.current),Rs(Lc,(Ql=Yo.current)===null||Ql===void 0?void 0:Ql.setScrollLeft)}if(ps){var Cv=ps.scrollWidth,Tv=ps.clientWidth;np?(Ec(-Lc<Cv-Tv),Nf(-Lc>0)):(Ec(Lc>0),Nf(Lc<Cv-Tv))}},gl=function(){Ga&&Na.current?qa({currentTarget:Na.current}):(Ec(!1),Nf(!1))},Jl=function(uo){var ps=uo.width;ps!==lo&&(gl(),Qi(ir.current?ir.current.offsetWidth:ps))},Do=P.useRef(!1);P.useEffect(function(){Do.current&&gl()},[Ga,pe,Kr.length]),P.useEffect(function(){Do.current=!0},[]);var Pc=P.useState(0),hs=Object(F.a)(Pc,2),xu=hs[0],Il=hs[1],pd=P.useState(!0),ac=Object(F.a)(pd,2),th=ac[0],qc=ac[1];P.useEffect(function(){Il(Object(he.b)(Na.current).width),qc(Object(at.a)("position","sticky"))},[]),P.useEffect(function(){rn===Nn&&kn&&(kn.body.current=Na.current)});var ef=Xn(["table"],"table"),kf=P.useMemo(function(){return _e||(fs?fe.x==="max-content"?"auto":"fixed":fa||Po||Gr.some(function(Ia){var uo=Ia.ellipsis;return uo})?"fixed":"auto")},[fa,fs,Gr,_e,Po]),oc,Vu={colWidths:Ao,columCount:Gr.length,stickyOffsets:ic,onHeaderRow:Zt,fixHeader:fa,scroll:fe},Sv=P.useMemo(function(){return Dn?null:typeof Nt=="function"?Nt():Nt},[Dn,Nt]),wv=P.createElement(Ke,{data:Un,measureColumnWidth:fa||Ga||Po,expandedKeys:so,rowExpandable:Ni,getRowKey:xr,onRow:jt,emptyNode:Sv,childrenColumnName:ii}),ep=P.createElement(qe,{colWidths:Gr.map(function(Ia){var uo=Ia.width;return uo}),columns:Gr}),Mv=Xn(["body"]);if(fa||Po){var tp;typeof Mv=="function"?(tp=Mv(Un,{scrollbarSize:xu,ref:Na,onScroll:qa}),Vu.colWidths=Gr.map(function(Ia,uo){var ps=Ia.width,Us=uo===Kr.length-1?ps-xu:ps;return typeof Us=="number"&&!Number.isNaN(Us)?Us:(Object(bt.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):tp=P.createElement("div",{style:Object(Z.a)(Object(Z.a)({},yr),ts),onScroll:qa,ref:Na,className:de()("".concat(ae,"-body"))},P.createElement(ef,{style:Object(Z.a)(Object(Z.a)({},Fi),{},{tableLayout:kf})},ep,wv,!ji&&il&&P.createElement(ni,{stickyOffsets:ic,flattenColumns:Gr},il)));var nh=Object(Z.a)(Object(Z.a)(Object(Z.a)({noData:!Un.length,maxContentScroll:Ga&&fe.x==="max-content"},Vu),wa),{},{direction:Ge,stickyClassName:Ac,onScroll:qa});oc=P.createElement(P.Fragment,null,Dt!==!1&&P.createElement(Lo,Object(re.a)({},nh,{stickyTopOffset:rl,className:"".concat(ae,"-header"),ref:Ha}),function(Ia){return P.createElement(P.Fragment,null,P.createElement(st,Ia),ji==="top"&&P.createElement(ni,Ia,il))}),tp,ji&&ji!=="top"&&P.createElement(Lo,Object(re.a)({},nh,{stickyBottomOffset:zu,className:"".concat(ae,"-summary"),ref:Ds}),function(Ia){return P.createElement(ni,Ia,il)}),Po&&P.createElement(Br,{ref:Yo,offsetScroll:$l,scrollBodyRef:Na,onScroll:qa,container:Jc}))}else oc=P.createElement("div",{style:Object(Z.a)(Object(Z.a)({},yr),ts),className:de()("".concat(ae,"-content")),onScroll:qa,ref:Na},P.createElement(ef,{style:Object(Z.a)(Object(Z.a)({},Fi),{},{tableLayout:kf})},ep,Dt!==!1&&P.createElement(st,Object(re.a)({},Vu,wa)),wv,il&&P.createElement(ni,{stickyOffsets:ic,flattenColumns:Gr},il)));var tm=Object(dt.a)(N,{aria:!0,data:!0}),Su=P.createElement("div",Object(re.a)({className:de()(ae,R,($={},Object(be.a)($,"".concat(ae,"-rtl"),Ge==="rtl"),Object(be.a)($,"".concat(ae,"-ping-left"),yu),Object(be.a)($,"".concat(ae,"-ping-right"),Gs),Object(be.a)($,"".concat(ae,"-layout-fixed"),_e==="fixed"),Object(be.a)($,"".concat(ae,"-fixed-header"),fa),Object(be.a)($,"".concat(ae,"-fixed-column"),fs),Object(be.a)($,"".concat(ae,"-scroll-horizontal"),Ga),Object(be.a)($,"".concat(ae,"-has-fix-left"),Gr[0]&&Gr[0].fixed),Object(be.a)($,"".concat(ae,"-has-fix-right"),Gr[Gr.length-1]&&Gr[Gr.length-1].fixed==="right"),$)),style:ye,id:Et,ref:ir},tm),P.createElement(bn,{pingLeft:yu,pingRight:Gs,props:Object(Z.a)(Object(Z.a)({},N),{},{stickyOffsets:ic,mergedExpandedKeys:so})},ke&&P.createElement(vt,{className:"".concat(ae,"-title")},ke(Un)),P.createElement("div",{className:"".concat(ae,"-container")},oc),rt&&P.createElement(vt,{className:"".concat(ae,"-footer")},rt(Un))));Ga&&(Su=P.createElement(Ct.a,{onResize:Jl},Su));var rh=P.useMemo(function(){return{prefixCls:ae,getComponent:Xn,scrollbarSize:xu,direction:Ge,fixedInfoList:Gr.map(function(Ia,uo){return jr(uo,uo,Gr,ic,Ge)}),isSticky:Po}},[ae,Xn,xu,Ge,Gr,ic,Ge,Po]),nm=P.useMemo(function(){return Object(Z.a)(Object(Z.a)({},wa),{},{tableLayout:kf,rowClassName:j,expandedRowClassName:Ri,expandIcon:Xi,expandableType:Qr,expandRowByClick:fi,expandedRowRender:Zn,onTriggerExpand:Qa,expandIconColumnIndex:yi,indentSize:Oa})},[wa,kf,j,Ri,Xi,Qr,fi,Zn,Qa,yi,Oa]),_v=P.useMemo(function(){return{componentWidth:lo,fixHeader:fa,fixColumn:fs,horizonScroll:Ga}},[lo,fa,fs,Ga]),Uy=P.useMemo(function(){return{onColumnResize:Yr}},[Yr]);return P.createElement(un.Provider,{value:th},P.createElement(Jr.Provider,{value:rh},P.createElement(ie.Provider,{value:nm},P.createElement(B.Provider,{value:_v},P.createElement(ut.Provider,{value:Uy},Su)))))}hr.EXPAND_COLUMN=ue,hr.Column=Ut,hr.ColumnGroup=yt,hr.Summary=$i,hr.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var ur=hr,Hr=ur,Xr=D("W9HT"),Ir=D("1OyB"),Ur=D("vuIU"),Nr=D("Ji7U"),br=D("LK+K"),Pr=function($){var ae,R="".concat($.rootPrefixCls,"-item"),j=de()(R,"".concat(R,"-").concat($.page),(ae={},Object(be.a)(ae,"".concat(R,"-active"),$.active),Object(be.a)(ae,"".concat(R,"-disabled"),!$.page),Object(be.a)(ae,$.className,!!$.className),ae)),ye=function(){$.onClick($.page)},pe=function(fe){$.onKeyPress(fe,$.onClick,$.page)};return X.a.createElement("li",{title:$.showTitle?$.page:null,className:j,onClick:ye,onKeyPress:pe,tabIndex:"0"},$.itemRender($.page,"page",X.a.createElement("a",{rel:"nofollow"},$.page)))},ai=Pr,Gi={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},ra=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(){var R;Object(Ir.a)(this,ae);for(var j=arguments.length,ye=new Array(j),pe=0;pe<j;pe++)ye[pe]=arguments[pe];return R=$.call.apply($,[this].concat(ye)),R.state={goInputText:""},R.buildOptionText=function(ee){return"".concat(ee," ").concat(R.props.locale.items_per_page)},R.changeSize=function(ee){R.props.changeSize(Number(ee))},R.handleChange=function(ee){R.setState({goInputText:ee.target.value})},R.handleBlur=function(ee){var fe=R.props,_e=fe.goButton,Ge=fe.quickGo,ke=fe.rootPrefixCls,rt=R.state.goInputText;_e||rt===""||(R.setState({goInputText:""}),!(ee.relatedTarget&&(ee.relatedTarget.className.indexOf("".concat(ke,"-item-link"))>=0||ee.relatedTarget.className.indexOf("".concat(ke,"-item"))>=0))&&Ge(R.getValidValue()))},R.go=function(ee){var fe=R.state.goInputText;fe!==""&&(ee.keyCode===Gi.ENTER||ee.type==="click")&&(R.setState({goInputText:""}),R.props.quickGo(R.getValidValue()))},R}return Object(Ur.a)(ae,[{key:"getValidValue",value:function(){var j=this.state.goInputText;return!j||isNaN(j)?void 0:Number(j)}},{key:"getPageSizeOptions",value:function(){var j=this.props,ye=j.pageSize,pe=j.pageSizeOptions;return pe.some(function(ee){return ee.toString()===ye.toString()})?pe:pe.concat([ye.toString()]).sort(function(ee,fe){var _e=isNaN(Number(ee))?0:Number(ee),Ge=isNaN(Number(fe))?0:Number(fe);return _e-Ge})}},{key:"render",value:function(){var j=this,ye=this.props,pe=ye.pageSize,ee=ye.locale,fe=ye.rootPrefixCls,_e=ye.changeSize,Ge=ye.quickGo,ke=ye.goButton,rt=ye.selectComponentClass,St=ye.buildOptionText,Et=ye.selectPrefixCls,Dt=ye.disabled,wt=this.state.goInputText,Nt="".concat(fe,"-options"),jt=rt,Zt=null,rn=null,sn=null;if(!_e&&!Ge)return null;var kn=this.getPageSizeOptions();if(_e&&jt){var rr=kn.map(function(Un,Dn){return X.a.createElement(jt.Option,{key:Dn,value:Un.toString()},(St||j.buildOptionText)(Un))});Zt=X.a.createElement(jt,{disabled:Dt,prefixCls:Et,showSearch:!1,className:"".concat(Nt,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(pe||kn[0]).toString(),onChange:this.changeSize,getPopupContainer:function(Dn){return Dn.parentNode},"aria-label":ee.page_size,defaultOpen:!1},rr)}return Ge&&(ke&&(sn=typeof ke=="boolean"?X.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Dt,className:"".concat(Nt,"-quick-jumper-button")},ee.jump_to_confirm):X.a.createElement("span",{onClick:this.go,onKeyUp:this.go},ke)),rn=X.a.createElement("div",{className:"".concat(Nt,"-quick-jumper")},ee.jump_to,X.a.createElement("input",{disabled:Dt,type:"text",value:wt,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":ee.page}),ee.page,sn)),X.a.createElement("li",{className:"".concat(Nt)},Zt,rn)}}]),ae}(X.a.Component);ra.defaultProps={pageSizeOptions:["10","20","50","100"]};var Ar=ra,cr=D("N2Kk");function ci(){}function ua(N){var $=Number(N);return typeof $=="number"&&!isNaN($)&&isFinite($)&&Math.floor($)===$}function Wa(N,$,ae){return ae}function Ai(N,$,ae){var R=typeof N=="undefined"?$.pageSize:N;return Math.floor((ae.total-1)/R)+1}var Ii=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(R){var j;Object(Ir.a)(this,ae),j=$.call(this,R),j.getJumpPrevPage=function(){return Math.max(1,j.state.current-(j.props.showLessItems?3:5))},j.getJumpNextPage=function(){return Math.min(Ai(void 0,j.state,j.props),j.state.current+(j.props.showLessItems?3:5))},j.getItemIcon=function(_e,Ge){var ke=j.props.prefixCls,rt=_e||X.a.createElement("button",{type:"button","aria-label":Ge,className:"".concat(ke,"-item-link")});return typeof _e=="function"&&(rt=X.a.createElement(_e,Object(Z.a)({},j.props))),rt},j.savePaginationNode=function(_e){j.paginationNode=_e},j.isValid=function(_e){var Ge=j.props.total;return ua(_e)&&_e!==j.state.current&&ua(Ge)&&Ge>0},j.shouldDisplayQuickJumper=function(){var _e=j.props,Ge=_e.showQuickJumper,ke=_e.total,rt=j.state.pageSize;return ke<=rt?!1:Ge},j.handleKeyDown=function(_e){(_e.keyCode===Gi.ARROW_UP||_e.keyCode===Gi.ARROW_DOWN)&&_e.preventDefault()},j.handleKeyUp=function(_e){var Ge=j.getValidValue(_e),ke=j.state.currentInputValue;Ge!==ke&&j.setState({currentInputValue:Ge}),_e.keyCode===Gi.ENTER?j.handleChange(Ge):_e.keyCode===Gi.ARROW_UP?j.handleChange(Ge-1):_e.keyCode===Gi.ARROW_DOWN&&j.handleChange(Ge+1)},j.handleBlur=function(_e){var Ge=j.getValidValue(_e);j.handleChange(Ge)},j.changePageSize=function(_e){var Ge=j.state.current,ke=Ai(_e,j.state,j.props);Ge=Ge>ke?ke:Ge,ke===0&&(Ge=j.state.current),typeof _e=="number"&&("pageSize"in j.props||j.setState({pageSize:_e}),"current"in j.props||j.setState({current:Ge,currentInputValue:Ge})),j.props.onShowSizeChange(Ge,_e),"onChange"in j.props&&j.props.onChange&&j.props.onChange(Ge,_e)},j.handleChange=function(_e){var Ge=j.props.disabled,ke=_e;if(j.isValid(ke)&&!Ge){var rt=Ai(void 0,j.state,j.props);ke>rt?ke=rt:ke<1&&(ke=1),"current"in j.props||j.setState({current:ke,currentInputValue:ke});var St=j.state.pageSize;return j.props.onChange(ke,St),ke}return j.state.current},j.prev=function(){j.hasPrev()&&j.handleChange(j.state.current-1)},j.next=function(){j.hasNext()&&j.handleChange(j.state.current+1)},j.jumpPrev=function(){j.handleChange(j.getJumpPrevPage())},j.jumpNext=function(){j.handleChange(j.getJumpNextPage())},j.hasPrev=function(){return j.state.current>1},j.hasNext=function(){return j.state.current<Ai(void 0,j.state,j.props)},j.runIfEnter=function(_e,Ge){if(_e.key==="Enter"||_e.charCode===13){for(var ke=arguments.length,rt=new Array(ke>2?ke-2:0),St=2;St<ke;St++)rt[St-2]=arguments[St];Ge.apply(void 0,rt)}},j.runIfEnterPrev=function(_e){j.runIfEnter(_e,j.prev)},j.runIfEnterNext=function(_e){j.runIfEnter(_e,j.next)},j.runIfEnterJumpPrev=function(_e){j.runIfEnter(_e,j.jumpPrev)},j.runIfEnterJumpNext=function(_e){j.runIfEnter(_e,j.jumpNext)},j.handleGoTO=function(_e){(_e.keyCode===Gi.ENTER||_e.type==="click")&&j.handleChange(j.state.currentInputValue)};var ye=R.onChange!==ci,pe="current"in R;pe&&!ye&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var ee=R.defaultCurrent;"current"in R&&(ee=R.current);var fe=R.defaultPageSize;return"pageSize"in R&&(fe=R.pageSize),ee=Math.min(ee,Ai(fe,void 0,R)),j.state={current:ee,currentInputValue:ee,pageSize:fe},j}return Object(Ur.a)(ae,[{key:"componentDidUpdate",value:function(j,ye){var pe=this.props.prefixCls;if(ye.current!==this.state.current&&this.paginationNode){var ee=this.paginationNode.querySelector(".".concat(pe,"-item-").concat(ye.current));ee&&document.activeElement===ee&&ee.blur()}}},{key:"getValidValue",value:function(j){var ye=j.target.value,pe=Ai(void 0,this.state,this.props),ee=this.state.currentInputValue,fe;return ye===""?fe=ye:isNaN(Number(ye))?fe=ee:ye>=pe?fe=pe:fe=Number(ye),fe}},{key:"getShowSizeChanger",value:function(){var j=this.props,ye=j.showSizeChanger,pe=j.total,ee=j.totalBoundaryShowSizeChanger;return typeof ye!="undefined"?ye:pe>ee}},{key:"renderPrev",value:function(j){var ye=this.props,pe=ye.prevIcon,ee=ye.itemRender,fe=ee(j,"prev",this.getItemIcon(pe,"prev page")),_e=!this.hasPrev();return Object(P.isValidElement)(fe)?Object(P.cloneElement)(fe,{disabled:_e}):fe}},{key:"renderNext",value:function(j){var ye=this.props,pe=ye.nextIcon,ee=ye.itemRender,fe=ee(j,"next",this.getItemIcon(pe,"next page")),_e=!this.hasNext();return Object(P.isValidElement)(fe)?Object(P.cloneElement)(fe,{disabled:_e}):fe}},{key:"render",value:function(){var j=this,ye=this.props,pe=ye.prefixCls,ee=ye.className,fe=ye.style,_e=ye.disabled,Ge=ye.hideOnSinglePage,ke=ye.total,rt=ye.locale,St=ye.showQuickJumper,Et=ye.showLessItems,Dt=ye.showTitle,wt=ye.showTotal,Nt=ye.simple,jt=ye.itemRender,Zt=ye.showPrevNextJumpers,rn=ye.jumpPrevIcon,sn=ye.jumpNextIcon,kn=ye.selectComponentClass,rr=ye.selectPrefixCls,Un=ye.pageSizeOptions,Dn=this.state,ar=Dn.current,Xn=Dn.pageSize,xr=Dn.currentInputValue;if(Ge===!0&&ke<=Xn)return null;var Pn=Ai(void 0,this.state,this.props),Qn=[],Dr=null,vr=null,dr=null,Zn=null,Jn=null,Rr=St&&St.goButton,fi=Et?1:2,Ni=ar-1>0?ar-1:0,yi=ar+1<Pn?ar+1:Pn,Ri=Object.keys(this.props).reduce(function(Ko,lo){return(lo.substr(0,5)==="data-"||lo.substr(0,5)==="aria-"||lo==="role")&&(Ko[lo]=j.props[lo]),Ko},{});if(Nt)return Rr&&(typeof Rr=="boolean"?Jn=X.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},rt.jump_to_confirm):Jn=X.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Rr),Jn=X.a.createElement("li",{title:Dt?"".concat(rt.jump_to).concat(ar,"/").concat(Pn):null,className:"".concat(pe,"-simple-pager")},Jn)),X.a.createElement("ul",Object(re.a)({className:de()(pe,"".concat(pe,"-simple"),Object(be.a)({},"".concat(pe,"-disabled"),_e),ee),style:fe,ref:this.savePaginationNode},Ri),X.a.createElement("li",{title:Dt?rt.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:de()("".concat(pe,"-prev"),Object(be.a)({},"".concat(pe,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Ni)),X.a.createElement("li",{title:Dt?"".concat(ar,"/").concat(Pn):null,className:"".concat(pe,"-simple-pager")},X.a.createElement("input",{type:"text",value:xr,disabled:_e,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),X.a.createElement("span",{className:"".concat(pe,"-slash")},"/"),Pn),X.a.createElement("li",{title:Dt?rt.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:de()("".concat(pe,"-next"),Object(be.a)({},"".concat(pe,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(yi)),Jn);if(Pn<=3+fi*2){var Ji={locale:rt,rootPrefixCls:pe,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Dt,itemRender:jt};Pn||Qn.push(X.a.createElement(ai,Object(re.a)({},Ji,{key:"noPager",page:1,className:"".concat(pe,"-item-disabled")})));for(var Oa=1;Oa<=Pn;Oa+=1){var Xi=ar===Oa;Qn.push(X.a.createElement(ai,Object(re.a)({},Ji,{key:Oa,page:Oa,active:Xi})))}}else{var ii=Et?rt.prev_3:rt.prev_5,Qr=Et?rt.next_3:rt.next_5;Zt&&(Dr=X.a.createElement("li",{title:Dt?ii:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:de()("".concat(pe,"-jump-prev"),Object(be.a)({},"".concat(pe,"-jump-prev-custom-icon"),!!rn))},jt(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(rn,"prev page"))),vr=X.a.createElement("li",{title:Dt?Qr:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:de()("".concat(pe,"-jump-next"),Object(be.a)({},"".concat(pe,"-jump-next-custom-icon"),!!sn))},jt(this.getJumpNextPage(),"jump-next",this.getItemIcon(sn,"next page")))),Zn=X.a.createElement(ai,{locale:rt,last:!0,rootPrefixCls:pe,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Pn,page:Pn,active:!1,showTitle:Dt,itemRender:jt}),dr=X.a.createElement(ai,{locale:rt,rootPrefixCls:pe,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Dt,itemRender:jt});var bi=Math.max(1,ar-fi),So=Math.min(ar+fi,Pn);ar-1<=fi&&(So=1+fi*2),Pn-ar<=fi&&(bi=Pn-fi*2);for(var ki=bi;ki<=So;ki+=1){var Ja=ar===ki;Qn.push(X.a.createElement(ai,{locale:rt,rootPrefixCls:pe,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:ki,page:ki,active:Ja,showTitle:Dt,itemRender:jt}))}ar-1>=fi*2&&ar!==1+2&&(Qn[0]=Object(P.cloneElement)(Qn[0],{className:"".concat(pe,"-item-after-jump-prev")}),Qn.unshift(Dr)),Pn-ar>=fi*2&&ar!==Pn-2&&(Qn[Qn.length-1]=Object(P.cloneElement)(Qn[Qn.length-1],{className:"".concat(pe,"-item-before-jump-next")}),Qn.push(vr)),bi!==1&&Qn.unshift(dr),So!==Pn&&Qn.push(Zn)}var so=null;wt&&(so=X.a.createElement("li",{className:"".concat(pe,"-total-text")},wt(ke,[ke===0?0:(ar-1)*Xn+1,ar*Xn>ke?ke:ar*Xn])));var Qa=!this.hasPrev()||!Pn,zo=!this.hasNext()||!Pn;return X.a.createElement("ul",Object(re.a)({className:de()(pe,ee,Object(be.a)({},"".concat(pe,"-disabled"),_e)),style:fe,unselectable:"unselectable",ref:this.savePaginationNode},Ri),so,X.a.createElement("li",{title:Dt?rt.prev_page:null,onClick:this.prev,tabIndex:Qa?null:0,onKeyPress:this.runIfEnterPrev,className:de()("".concat(pe,"-prev"),Object(be.a)({},"".concat(pe,"-disabled"),Qa)),"aria-disabled":Qa},this.renderPrev(Ni)),Qn,X.a.createElement("li",{title:Dt?rt.next_page:null,onClick:this.next,tabIndex:zo?null:0,onKeyPress:this.runIfEnterNext,className:de()("".concat(pe,"-next"),Object(be.a)({},"".concat(pe,"-disabled"),zo)),"aria-disabled":zo},this.renderNext(yi)),X.a.createElement(Ar,{disabled:_e,locale:rt,rootPrefixCls:pe,selectComponentClass:kn,selectPrefixCls:rr,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:ar,pageSize:Xn,pageSizeOptions:Un,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Rr}))}}],[{key:"getDerivedStateFromProps",value:function(j,ye){var pe={};if("current"in j&&(pe.current=j.current,j.current!==ye.current&&(pe.currentInputValue=pe.current)),"pageSize"in j&&j.pageSize!==ye.pageSize){var ee=ye.current,fe=Ai(j.pageSize,ye,j);ee=ee>fe?fe:ee,"current"in j||(pe.current=ee,pe.currentInputValue=ee),pe.pageSize=j.pageSize}return pe}}]),ae}(X.a.Component);Ii.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:ci,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:ci,locale:cr.a,style:{},itemRender:Wa,totalBoundaryShowSizeChanger:50};var ma=Ii,ya=D("H4fg"),ia=D("5bA4"),ba=D("UESt"),pa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},aa=pa,si=D("6VBw"),Or=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:aa}))};Or.displayName="DoubleLeftOutlined";var Lr=P.forwardRef(Or),pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Ui=pi,Ca=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Ui}))};Ca.displayName="DoubleRightOutlined";var Ka=P.forwardRef(Ca),mo=D("2fM7"),ko=function($){return P.createElement(mo.a,Object(re.a)({size:"small"},$))};ko.Option=mo.a.Option;var Aa=ko,Tr=D("YMnH"),Fr=D("H84U"),Ya=D("5OYt"),Pa=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},$a=function($){var ae=$.prefixCls,R=$.selectPrefixCls,j=$.className,ye=$.size,pe=$.locale,ee=$.selectComponentClass,fe=Pa($,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass"]),_e=Object(Ya.a)(),Ge=_e.xs,ke=P.useContext(Fr.b),rt=ke.getPrefixCls,St=ke.direction,Et=rt("pagination",ae),Dt=function(){var jt=P.createElement("span",{className:"".concat(Et,"-item-ellipsis")},"\u2022\u2022\u2022"),Zt=P.createElement("button",{className:"".concat(Et,"-item-link"),type:"button",tabIndex:-1},P.createElement(ia.a,null)),rn=P.createElement("button",{className:"".concat(Et,"-item-link"),type:"button",tabIndex:-1},P.createElement(ba.a,null)),sn=P.createElement("a",{className:"".concat(Et,"-item-link")},P.createElement("div",{className:"".concat(Et,"-item-container")},P.createElement(Lr,{className:"".concat(Et,"-item-link-icon")}),jt)),kn=P.createElement("a",{className:"".concat(Et,"-item-link")},P.createElement("div",{className:"".concat(Et,"-item-container")},P.createElement(Ka,{className:"".concat(Et,"-item-link-icon")}),jt));if(St==="rtl"){var rr=[rn,Zt];Zt=rr[0],rn=rr[1];var Un=[kn,sn];sn=Un[0],kn=Un[1]}return{prevIcon:Zt,nextIcon:rn,jumpPrevIcon:sn,jumpNextIcon:kn}},wt=function(jt){var Zt=Object(re.a)(Object(re.a)({},jt),pe),rn=ye==="small"||!!(Ge&&!ye&&fe.responsive),sn=rt("select",R),kn=de()(Object(be.a)({mini:rn},"".concat(Et,"-rtl"),St==="rtl"),j);return P.createElement(ma,Object(re.a)({},Dt(),fe,{prefixCls:Et,selectPrefixCls:sn,className:kn,selectComponentClass:ee||(rn?Aa:mo.a),locale:Zt}))};return P.createElement(Tr.a,{componentName:"Pagination",defaultLocale:ya.a},wt)},ro=$a,io=ro,zs=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},ns=10;function To(N,$){var ae={current:$.current,pageSize:$.pageSize},R=N&&Object(Y.a)(N)==="object"?N:{};return Object.keys(R).forEach(function(j){var ye=$[j];typeof ye!="function"&&(ae[j]=ye)}),ae}function za(){for(var N={},$=arguments.length,ae=new Array($),R=0;R<$;R++)ae[R]=arguments[R];return ae.forEach(function(j){j&&Object.keys(j).forEach(function(ye){var pe=j[ye];pe!==void 0&&(N[ye]=pe)})}),N}function Uo(N,$,ae){var R=$&&Object(Y.a)($)==="object"?$:{},j=R.total,ye=j===void 0?0:j,pe=zs(R,["total"]),ee=Object(P.useState)(function(){return{current:"defaultCurrent"in pe?pe.defaultCurrent:1,pageSize:"defaultPageSize"in pe?pe.defaultPageSize:ns}}),fe=Object(F.a)(ee,2),_e=fe[0],Ge=fe[1],ke=za(_e,pe,{total:ye>0?ye:N}),rt=Math.ceil((ye||N)/ke.pageSize);ke.current>rt&&(ke.current=rt||1);var St=function(wt,Nt){Ge({current:wt!=null?wt:1,pageSize:Nt||ke.pageSize})},Et=function(wt,Nt){var jt;$&&((jt=$.onChange)===null||jt===void 0||jt.call($,wt,Nt)),St(wt,Nt),ae(wt,Nt||(ke==null?void 0:ke.pageSize))};return $===!1?[{},function(){}]:[Object(re.a)(Object(re.a)({},ke),{onChange:Et}),St]}function As(N,$,ae){var R=P.useRef({});function j(ye){if(!R.current||R.current.data!==N||R.current.childrenColumnName!==$||R.current.getRowKey!==ae){let ee=function(fe){fe.forEach(function(_e,Ge){var ke=ae(_e,Ge);pe.set(ke,_e),_e&&Object(Y.a)(_e)==="object"&&$ in _e&&ee(_e[$]||[])})};var pe=new Map;ee(N),R.current={data:N,childrenColumnName:$,kvMap:pe,getRowKey:ae}}return R.current.kvMap.get(ye)}return[j]}var qs=D("T5bk"),rs=D("8Skl"),yo=D("JX7q"),is=P.createContext(null),Ta=function($){for(var ae=$.prefixCls,R=$.level,j=$.isStart,ye=$.isEnd,pe="".concat(ae,"-indent-unit"),ee=[],fe=0;fe<R;fe+=1){var _e;ee.push(P.createElement("span",{key:fe,className:de()(pe,(_e={},Object(be.a)(_e,"".concat(pe,"-start"),j[fe]),Object(be.a)(_e,"".concat(pe,"-end"),ye[fe]),_e))}))}return P.createElement("span",{"aria-hidden":"true",className:"".concat(ae,"-indent")},ee)},nu=P.memo(Ta),wf=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Ml="open",ul="close",vc="---",gc=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(){var R;Object(Ir.a)(this,ae);for(var j=arguments.length,ye=new Array(j),pe=0;pe<j;pe++)ye[pe]=arguments[pe];return R=$.call.apply($,[this].concat(ye)),R.state={dragNodeHighlight:!1},R.selectHandle=void 0,R.onSelectorClick=function(ee){var fe=R.props.context.onNodeClick;fe(ee,ao(R.props)),R.isSelectable()?R.onSelect(ee):R.onCheck(ee)},R.onSelectorDoubleClick=function(ee){var fe=R.props.context.onNodeDoubleClick;fe(ee,ao(R.props))},R.onSelect=function(ee){if(!R.isDisabled()){var fe=R.props.context.onNodeSelect;ee.preventDefault(),fe(ee,ao(R.props))}},R.onCheck=function(ee){if(!R.isDisabled()){var fe=R.props,_e=fe.disableCheckbox,Ge=fe.checked,ke=R.props.context.onNodeCheck;if(!(!R.isCheckable()||_e)){ee.preventDefault();var rt=!Ge;ke(ee,ao(R.props),rt)}}},R.onMouseEnter=function(ee){var fe=R.props.context.onNodeMouseEnter;fe(ee,ao(R.props))},R.onMouseLeave=function(ee){var fe=R.props.context.onNodeMouseLeave;fe(ee,ao(R.props))},R.onContextMenu=function(ee){var fe=R.props.context.onNodeContextMenu;fe(ee,ao(R.props))},R.onDragStart=function(ee){var fe=R.props.context.onNodeDragStart;ee.stopPropagation(),R.setState({dragNodeHighlight:!0}),fe(ee,Object(yo.a)(R));try{ee.dataTransfer.setData("text/plain","")}catch(_e){}},R.onDragEnter=function(ee){var fe=R.props.context.onNodeDragEnter;ee.preventDefault(),ee.stopPropagation(),fe(ee,Object(yo.a)(R))},R.onDragOver=function(ee){var fe=R.props.context.onNodeDragOver;ee.preventDefault(),ee.stopPropagation(),fe(ee,Object(yo.a)(R))},R.onDragLeave=function(ee){var fe=R.props.context.onNodeDragLeave;ee.stopPropagation(),fe(ee,Object(yo.a)(R))},R.onDragEnd=function(ee){var fe=R.props.context.onNodeDragEnd;ee.stopPropagation(),R.setState({dragNodeHighlight:!1}),fe(ee,Object(yo.a)(R))},R.onDrop=function(ee){var fe=R.props.context.onNodeDrop;ee.preventDefault(),ee.stopPropagation(),R.setState({dragNodeHighlight:!1}),fe(ee,Object(yo.a)(R))},R.onExpand=function(ee){var fe=R.props,_e=fe.loading,Ge=fe.context.onNodeExpand;_e||Ge(ee,ao(R.props))},R.setSelectHandle=function(ee){R.selectHandle=ee},R.getNodeState=function(){var ee=R.props.expanded;return R.isLeaf()?null:ee?Ml:ul},R.hasChildren=function(){var ee=R.props.eventKey,fe=R.props.context.keyEntities,_e=fe[ee]||{},Ge=_e.children;return!!(Ge||[]).length},R.isLeaf=function(){var ee=R.props,fe=ee.isLeaf,_e=ee.loaded,Ge=R.props.context.loadData,ke=R.hasChildren();return fe===!1?!1:fe||!Ge&&!ke||Ge&&_e&&!ke},R.isDisabled=function(){var ee=R.props.disabled,fe=R.props.context.disabled;return!!(fe||ee)},R.isCheckable=function(){var ee=R.props.checkable,fe=R.props.context.checkable;return!fe||ee===!1?!1:fe},R.syncLoadData=function(ee){var fe=ee.expanded,_e=ee.loading,Ge=ee.loaded,ke=R.props.context,rt=ke.loadData,St=ke.onNodeLoad;_e||rt&&fe&&!R.isLeaf()&&!R.hasChildren()&&!Ge&&St(ao(R.props))},R.isDraggable=function(){var ee=R.props,fe=ee.data,_e=ee.context.draggable;return!!(_e&&(!_e.nodeDraggable||_e.nodeDraggable(fe)))},R.renderDragHandler=function(){var ee=R.props.context,fe=ee.draggable,_e=ee.prefixCls;return(fe==null?void 0:fe.icon)?P.createElement("span",{className:"".concat(_e,"-draggable-icon")},fe.icon):null},R.renderSwitcherIconDom=function(ee){var fe=R.props.switcherIcon,_e=R.props.context.switcherIcon,Ge=fe||_e;return typeof Ge=="function"?Ge(Object(Z.a)(Object(Z.a)({},R.props),{},{isLeaf:ee})):Ge},R.renderSwitcher=function(){var ee=R.props.expanded,fe=R.props.context.prefixCls;if(R.isLeaf()){var _e=R.renderSwitcherIconDom(!0);return _e!==!1?P.createElement("span",{className:de()("".concat(fe,"-switcher"),"".concat(fe,"-switcher-noop"))},_e):null}var Ge=de()("".concat(fe,"-switcher"),"".concat(fe,"-switcher_").concat(ee?Ml:ul)),ke=R.renderSwitcherIconDom(!1);return ke!==!1?P.createElement("span",{onClick:R.onExpand,className:Ge},ke):null},R.renderCheckbox=function(){var ee=R.props,fe=ee.checked,_e=ee.halfChecked,Ge=ee.disableCheckbox,ke=R.props.context.prefixCls,rt=R.isDisabled(),St=R.isCheckable();if(!St)return null;var Et=typeof St!="boolean"?St:null;return P.createElement("span",{className:de()("".concat(ke,"-checkbox"),fe&&"".concat(ke,"-checkbox-checked"),!fe&&_e&&"".concat(ke,"-checkbox-indeterminate"),(rt||Ge)&&"".concat(ke,"-checkbox-disabled")),onClick:R.onCheck},Et)},R.renderIcon=function(){var ee=R.props.loading,fe=R.props.context.prefixCls;return P.createElement("span",{className:de()("".concat(fe,"-iconEle"),"".concat(fe,"-icon__").concat(R.getNodeState()||"docu"),ee&&"".concat(fe,"-icon_loading"))})},R.renderSelector=function(){var ee=R.state.dragNodeHighlight,fe=R.props,_e=fe.title,Ge=fe.selected,ke=fe.icon,rt=fe.loading,St=fe.data,Et=R.props.context,Dt=Et.prefixCls,wt=Et.showIcon,Nt=Et.icon,jt=Et.loadData,Zt=Et.titleRender,rn=R.isDisabled(),sn="".concat(Dt,"-node-content-wrapper"),kn;if(wt){var rr=ke||Nt;kn=rr?P.createElement("span",{className:de()("".concat(Dt,"-iconEle"),"".concat(Dt,"-icon__customize"))},typeof rr=="function"?rr(R.props):rr):R.renderIcon()}else jt&&rt&&(kn=R.renderIcon());var Un;typeof _e=="function"?Un=_e(St):Zt?Un=Zt(St):Un=_e;var Dn=P.createElement("span",{className:"".concat(Dt,"-title")},Un);return P.createElement("span",{ref:R.setSelectHandle,title:typeof _e=="string"?_e:"",className:de()("".concat(sn),"".concat(sn,"-").concat(R.getNodeState()||"normal"),!rn&&(Ge||ee)&&"".concat(Dt,"-node-selected")),onMouseEnter:R.onMouseEnter,onMouseLeave:R.onMouseLeave,onContextMenu:R.onContextMenu,onClick:R.onSelectorClick,onDoubleClick:R.onSelectorDoubleClick},kn,Dn,R.renderDropIndicator())},R.renderDropIndicator=function(){var ee=R.props,fe=ee.disabled,_e=ee.eventKey,Ge=R.props.context,ke=Ge.draggable,rt=Ge.dropLevelOffset,St=Ge.dropPosition,Et=Ge.prefixCls,Dt=Ge.indent,wt=Ge.dropIndicatorRender,Nt=Ge.dragOverNodeKey,jt=Ge.direction,Zt=ke!==!1,rn=!fe&&Zt&&Nt===_e;return rn?wt({dropPosition:St,dropLevelOffset:rt,indent:Dt,prefixCls:Et,direction:jt}):null},R}return Object(Ur.a)(ae,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var j=this.props.selectable,ye=this.props.context.selectable;return typeof j=="boolean"?j:ye}},{key:"render",value:function(){var j,ye=this.props,pe=ye.eventKey,ee=ye.className,fe=ye.style,_e=ye.dragOver,Ge=ye.dragOverGapTop,ke=ye.dragOverGapBottom,rt=ye.isLeaf,St=ye.isStart,Et=ye.isEnd,Dt=ye.expanded,wt=ye.selected,Nt=ye.checked,jt=ye.halfChecked,Zt=ye.loading,rn=ye.domRef,sn=ye.active,kn=ye.data,rr=ye.onMouseMove,Un=ye.selectable,Dn=Object(It.a)(ye,wf),ar=this.props.context,Xn=ar.prefixCls,xr=ar.filterTreeNode,Pn=ar.keyEntities,Qn=ar.dropContainerKey,Dr=ar.dropTargetKey,vr=ar.draggingNodeKey,dr=this.isDisabled(),Zn=Object(dt.a)(Dn,{aria:!0,data:!0}),Jn=Pn[pe]||{},Rr=Jn.level,fi=Et[Et.length-1],Ni=this.isDraggable(),yi=!dr&&Ni,Ri=vr===pe,Ji=Un!==void 0?{"aria-selected":!!Un}:void 0;return P.createElement("div",Object(re.a)({ref:rn,className:de()(ee,"".concat(Xn,"-treenode"),(j={},Object(be.a)(j,"".concat(Xn,"-treenode-disabled"),dr),Object(be.a)(j,"".concat(Xn,"-treenode-switcher-").concat(Dt?"open":"close"),!rt),Object(be.a)(j,"".concat(Xn,"-treenode-checkbox-checked"),Nt),Object(be.a)(j,"".concat(Xn,"-treenode-checkbox-indeterminate"),jt),Object(be.a)(j,"".concat(Xn,"-treenode-selected"),wt),Object(be.a)(j,"".concat(Xn,"-treenode-loading"),Zt),Object(be.a)(j,"".concat(Xn,"-treenode-active"),sn),Object(be.a)(j,"".concat(Xn,"-treenode-leaf-last"),fi),Object(be.a)(j,"".concat(Xn,"-treenode-draggable"),yi),Object(be.a)(j,"dragging",Ri),Object(be.a)(j,"drop-target",Dr===pe),Object(be.a)(j,"drop-container",Qn===pe),Object(be.a)(j,"drag-over",!dr&&_e),Object(be.a)(j,"drag-over-gap-top",!dr&&Ge),Object(be.a)(j,"drag-over-gap-bottom",!dr&&ke),Object(be.a)(j,"filter-node",xr&&xr(ao(this.props))),j)),style:fe,draggable:yi,"aria-grabbed":Ri,onDragStart:yi?this.onDragStart:void 0,onDragEnter:Ni?this.onDragEnter:void 0,onDragOver:Ni?this.onDragOver:void 0,onDragLeave:Ni?this.onDragLeave:void 0,onDrop:Ni?this.onDrop:void 0,onDragEnd:Ni?this.onDragEnd:void 0,onMouseMove:rr},Ji,Zn),P.createElement(nu,{prefixCls:Xn,level:Rr,isStart:St,isEnd:Et}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),ae}(P.Component),Eu=function($){return P.createElement(is.Consumer,null,function(ae){return P.createElement(gc,Object(re.a)({},$,{context:ae}))})};Eu.displayName="TreeNode",Eu.defaultProps={title:vc},Eu.isTreeNode=1;var _l=Eu,Au=["children"];function el(N,$){if(!N)return[];var ae=N.slice(),R=ae.indexOf($);return R>=0&&ae.splice(R,1),ae}function oa(N,$){var ae=(N||[]).slice();return ae.indexOf($)===-1&&ae.push($),ae}function Wi(N){return N.split("-")}function Cl(N,$){return"".concat(N,"-").concat($)}function cl(N){return N&&N.type&&N.type.isTreeNode}function Hl(N,$){var ae=[],R=$[N];function j(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];ye.forEach(function(pe){var ee=pe.key,fe=pe.children;ae.push(ee),j(fe)})}return j(R.children),ae}function Qf(N){if(N.parent){var $=Wi(N.pos);return Number($[$.length-1])===N.parent.children.length-1}return!1}function Gl(N){var $=Wi(N.pos);return Number($[$.length-1])===0}function qf(N,$,ae,R,j,ye,pe,ee,fe,_e){var Ge,ke=N.clientX,rt=N.clientY,St=N.target.getBoundingClientRect(),Et=St.top,Dt=St.height,wt=(_e==="rtl"?-1:1)*(((j==null?void 0:j.x)||0)-ke),Nt=(wt-12)/R,jt=ee[ae.props.eventKey];if(rt<Et+Dt/2){var Zt=pe.findIndex(function(Dr){return Dr.key===jt.key}),rn=Zt<=0?0:Zt-1,sn=pe[rn].key;jt=ee[sn]}var kn=jt.key,rr=jt,Un=jt.key,Dn=0,ar=0;if(!fe.includes(kn))for(var Xn=0;Xn<Nt&&Qf(jt);Xn+=1)jt=jt.parent,ar+=1;var xr=$.props.data,Pn=jt.node,Qn=!0;return Gl(jt)&&jt.level===0&&rt<Et+Dt/2&&ye({dragNode:xr,dropNode:Pn,dropPosition:-1})&&jt.key===ae.props.eventKey?Dn=-1:(rr.children||[]).length&&fe.includes(Un)?ye({dragNode:xr,dropNode:Pn,dropPosition:0})?Dn=0:Qn=!1:ar===0?Nt>-1.5?ye({dragNode:xr,dropNode:Pn,dropPosition:1})?Dn=1:Qn=!1:ye({dragNode:xr,dropNode:Pn,dropPosition:0})?Dn=0:ye({dragNode:xr,dropNode:Pn,dropPosition:1})?Dn=1:Qn=!1:ye({dragNode:xr,dropNode:Pn,dropPosition:1})?Dn=1:Qn=!1,{dropPosition:Dn,dropLevelOffset:ar,dropTargetKey:jt.key,dropTargetPos:jt.pos,dragOverNodeKey:Un,dropContainerKey:Dn===0?null:((Ge=jt.parent)===null||Ge===void 0?void 0:Ge.key)||null,dropAllowed:Qn}}function ed(N,$){if(!!N){var ae=$.multiple;return ae?N.slice():N.length?[N[0]]:N}}var td=function($){return $};function ru(N,$){if(!N)return[];var ae=$||{},R=ae.processProps,j=R===void 0?td:R,ye=Array.isArray(N)?N:[N];return ye.map(function(pe){var ee=pe.children,fe=Object(It.a)(pe,Au),_e=ru(ee,$);return X.a.createElement(_l,j(fe),_e)})}function Tl(N){if(!N)return null;var $;if(Array.isArray(N))$={checkedKeys:N,halfCheckedKeys:void 0};else if(Object(Y.a)(N)==="object")$={checkedKeys:N.checked||void 0,halfCheckedKeys:N.halfChecked||void 0};else return Object(bt.a)(!1,"`checkedKeys` is not an array or an object"),null;return $}function bo(N,$){var ae=new Set;function R(j){if(!ae.has(j)){var ye=$[j];if(!!ye){ae.add(j);var pe=ye.parent,ee=ye.node;ee.disabled||pe&&R(pe.key)}}}return(N||[]).forEach(function(j){R(j)}),Object(Pe.a)(ae)}var iu=["children"];function as(N,$){return N!=null?N:$}function gs(N){var $=N||{},ae=$.title,R=$._title,j=$.key,ye=$.children,pe=ae||"title";return{title:pe,_title:R||[pe],key:j||"key",children:ye||"children"}}function qr(N,$){var ae=new Map;function R(j){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(j||[]).forEach(function(pe){var ee=pe[$.key],fe=pe[$.children];Object(bt.a)(ee!=null,"Tree node must have a certain key: [".concat(ye).concat(ee,"]"));var _e=String(ee);Object(bt.a)(!ae.has(_e)||ee===null||ee===void 0,"Same 'key' exist in the Tree: ".concat(_e)),ae.set(_e,!0),R(fe,"".concat(ye).concat(_e," > "))})}R(N)}function Di(N){function $(ae){var R=Object(We.a)(ae);return R.map(function(j){if(!cl(j))return Object(bt.a)(!j,"Tree/TreeNode can only accept TreeNode as children."),null;var ye=j.key,pe=j.props,ee=pe.children,fe=Object(It.a)(pe,iu),_e=Object(Z.a)({key:ye},fe),Ge=$(ee);return Ge.length&&(_e.children=Ge),_e}).filter(function(j){return j})}return $(N)}function Zr(N,$,ae){var R=gs(ae),j=R._title,ye=R.key,pe=R.children,ee=new Set($===!0?[]:$),fe=[];function _e(Ge){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Ge.map(function(rt,St){for(var Et=Cl(ke?ke.pos:"0",St),Dt=as(rt[ye],Et),wt,Nt=0;Nt<j.length;Nt+=1){var jt=j[Nt];if(rt[jt]!==void 0){wt=rt[jt];break}}var Zt=Object(Z.a)(Object(Z.a)({},Object(tt.a)(rt,[].concat(Object(Pe.a)(j),[ye,pe]))),{},{title:wt,key:Dt,parent:ke,pos:Et,children:null,data:rt,isStart:[].concat(Object(Pe.a)(ke?ke.isStart:[]),[St===0]),isEnd:[].concat(Object(Pe.a)(ke?ke.isEnd:[]),[St===Ge.length-1])});return fe.push(Zt),$===!0||ee.has(Dt)?Zt.children=_e(rt[pe]||[],Zt):Zt.children=[],Zt})}return _e(N),fe}function gi(N,$,ae){var R={};Object(Y.a)(ae)==="object"?R=ae:R={externalGetKey:ae},R=R||{};var j=R,ye=j.childrenPropName,pe=j.externalGetKey,ee=j.fieldNames,fe=gs(ee),_e=fe.key,Ge=fe.children,ke=ye||Ge,rt;pe?typeof pe=="string"?rt=function(Dt){return Dt[pe]}:typeof pe=="function"&&(rt=function(Dt){return pe(Dt)}):rt=function(Dt,wt){return as(Dt[_e],wt)};function St(Et,Dt,wt,Nt){var jt=Et?Et[ke]:N,Zt=Et?Cl(wt.pos,Dt):"0",rn=Et?[].concat(Object(Pe.a)(Nt),[Et]):[];if(Et){var sn=rt(Et,Zt),kn={node:Et,index:Dt,pos:Zt,key:sn,parentPos:wt.node?wt.pos:null,level:wt.level+1,nodes:rn};$(kn)}jt&&jt.forEach(function(rr,Un){St(rr,Un,{node:Et,pos:Zt,level:wt?wt.level+1:-1},rn)})}St(null)}function fo(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.initWrapper,R=$.processEntity,j=$.onProcessFinished,ye=$.externalGetKey,pe=$.childrenPropName,ee=$.fieldNames,fe=arguments.length>2?arguments[2]:void 0,_e=ye||fe,Ge={},ke={},rt={posEntities:Ge,keyEntities:ke};return ae&&(rt=ae(rt)||rt),gi(N,function(St){var Et=St.node,Dt=St.index,wt=St.pos,Nt=St.key,jt=St.parentPos,Zt=St.level,rn=St.nodes,sn={node:Et,nodes:rn,index:Dt,key:Nt,pos:wt,level:Zt},kn=as(Nt,wt);Ge[wt]=sn,ke[kn]=sn,sn.parent=Ge[jt],sn.parent&&(sn.parent.children=sn.parent.children||[],sn.parent.children.push(sn)),R&&R(sn,rt)},{externalGetKey:_e,childrenPropName:pe,fieldNames:ee}),j&&j(rt),rt}function xo(N,$){var ae=$.expandedKeys,R=$.selectedKeys,j=$.loadedKeys,ye=$.loadingKeys,pe=$.checkedKeys,ee=$.halfCheckedKeys,fe=$.dragOverNodeKey,_e=$.dropPosition,Ge=$.keyEntities,ke=Ge[N],rt={eventKey:N,expanded:ae.indexOf(N)!==-1,selected:R.indexOf(N)!==-1,loaded:j.indexOf(N)!==-1,loading:ye.indexOf(N)!==-1,checked:pe.indexOf(N)!==-1,halfChecked:ee.indexOf(N)!==-1,pos:String(ke?ke.pos:""),dragOver:fe===N&&_e===0,dragOverGapTop:fe===N&&_e===-1,dragOverGapBottom:fe===N&&_e===1};return rt}function ao(N){var $=N.data,ae=N.expanded,R=N.selected,j=N.checked,ye=N.loaded,pe=N.loading,ee=N.halfChecked,fe=N.dragOver,_e=N.dragOverGapTop,Ge=N.dragOverGapBottom,ke=N.pos,rt=N.active,St=N.eventKey,Et=Object(Z.a)(Object(Z.a)({},$),{},{expanded:ae,selected:R,checked:j,loaded:ye,loading:pe,halfChecked:ee,dragOver:fe,dragOverGapTop:_e,dragOverGapBottom:Ge,pos:ke,active:rt,key:St});return"props"in Et||Object.defineProperty(Et,"props",{get:function(){return Object(bt.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),N}}),Et}function Vs(N,$){var ae=new Set;return N.forEach(function(R){$.has(R)||ae.add(R)}),ae}function tl(N){var $=N||{},ae=$.disabled,R=$.disableCheckbox,j=$.checkable;return!!(ae||R)||j===!1}function au(N,$,ae,R){for(var j=new Set(N),ye=new Set,pe=0;pe<=ae;pe+=1){var ee=$.get(pe)||new Set;ee.forEach(function(ke){var rt=ke.key,St=ke.node,Et=ke.children,Dt=Et===void 0?[]:Et;j.has(rt)&&!R(St)&&Dt.filter(function(wt){return!R(wt.node)}).forEach(function(wt){j.add(wt.key)})})}for(var fe=new Set,_e=ae;_e>=0;_e-=1){var Ge=$.get(_e)||new Set;Ge.forEach(function(ke){var rt=ke.parent,St=ke.node;if(!(R(St)||!ke.parent||fe.has(ke.parent.key))){if(R(ke.parent.node)){fe.add(rt.key);return}var Et=!0,Dt=!1;(rt.children||[]).filter(function(wt){return!R(wt.node)}).forEach(function(wt){var Nt=wt.key,jt=j.has(Nt);Et&&!jt&&(Et=!1),!Dt&&(jt||ye.has(Nt))&&(Dt=!0)}),Et&&j.add(rt.key),Dt&&ye.add(rt.key),fe.add(rt.key)}})}return{checkedKeys:Array.from(j),halfCheckedKeys:Array.from(Vs(ye,j))}}function Ul(N,$,ae,R,j){for(var ye=new Set(N),pe=new Set($),ee=0;ee<=R;ee+=1){var fe=ae.get(ee)||new Set;fe.forEach(function(rt){var St=rt.key,Et=rt.node,Dt=rt.children,wt=Dt===void 0?[]:Dt;!ye.has(St)&&!pe.has(St)&&!j(Et)&&wt.filter(function(Nt){return!j(Nt.node)}).forEach(function(Nt){ye.delete(Nt.key)})})}pe=new Set;for(var _e=new Set,Ge=R;Ge>=0;Ge-=1){var ke=ae.get(Ge)||new Set;ke.forEach(function(rt){var St=rt.parent,Et=rt.node;if(!(j(Et)||!rt.parent||_e.has(rt.parent.key))){if(j(rt.parent.node)){_e.add(St.key);return}var Dt=!0,wt=!1;(St.children||[]).filter(function(Nt){return!j(Nt.node)}).forEach(function(Nt){var jt=Nt.key,Zt=ye.has(jt);Dt&&!Zt&&(Dt=!1),!wt&&(Zt||pe.has(jt))&&(wt=!0)}),Dt||ye.delete(St.key),wt&&pe.add(St.key),_e.add(St.key)}})}return{checkedKeys:Array.from(ye),halfCheckedKeys:Array.from(Vs(pe,ye))}}function Ku(N,$,ae,R){var j=[],ye;R?ye=R:ye=tl;var pe=new Set(N.filter(function(Ge){var ke=!!ae[Ge];return ke||j.push(Ge),ke})),ee=new Map,fe=0;Object.keys(ae).forEach(function(Ge){var ke=ae[Ge],rt=ke.level,St=ee.get(rt);St||(St=new Set,ee.set(rt,St)),St.add(ke),fe=Math.max(fe,rt)}),Object(bt.a)(!j.length,"Tree missing follow keys: ".concat(j.slice(0,100).map(function(Ge){return"'".concat(Ge,"'")}).join(", ")));var _e;return $===!0?_e=au(pe,ee,fe,ye):_e=Ul(pe,$.halfCheckedKeys,ee,fe,ye),_e}var Bd=D("6cGi"),ou=D("x1Ya"),Pu=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},nd=P.createContext(null),Fd=function($,ae){var R=$.defaultValue,j=$.children,ye=$.options,pe=ye===void 0?[]:ye,ee=$.prefixCls,fe=$.className,_e=$.style,Ge=$.onChange,ke=Pu($,["defaultValue","children","options","prefixCls","className","style","onChange"]),rt=P.useContext(Fr.b),St=rt.getPrefixCls,Et=rt.direction,Dt=P.useState(ke.value||R||[]),wt=Object(F.a)(Dt,2),Nt=wt[0],jt=wt[1],Zt=P.useState([]),rn=Object(F.a)(Zt,2),sn=rn[0],kn=rn[1];P.useEffect(function(){"value"in ke&&jt(ke.value||[])},[ke.value]);var rr=function(){return pe.map(function(dr){return typeof dr=="string"||typeof dr=="number"?{label:dr,value:dr}:dr})},Un=function(dr){kn(function(Zn){return Zn.filter(function(Jn){return Jn!==dr})})},Dn=function(dr){kn(function(Zn){return[].concat(Object(Pe.a)(Zn),[dr])})},ar=function(dr){var Zn=Nt.indexOf(dr.value),Jn=Object(Pe.a)(Nt);Zn===-1?Jn.push(dr.value):Jn.splice(Zn,1),"value"in ke||jt(Jn);var Rr=rr();Ge==null||Ge(Jn.filter(function(fi){return sn.indexOf(fi)!==-1}).sort(function(fi,Ni){var yi=Rr.findIndex(function(Ji){return Ji.value===fi}),Ri=Rr.findIndex(function(Ji){return Ji.value===Ni});return yi-Ri}))},Xn=St("checkbox",ee),xr="".concat(Xn,"-group"),Pn=Object(tt.a)(ke,["value","disabled"]);pe&&pe.length>0&&(j=rr().map(function(vr){return P.createElement(Vn,{prefixCls:Xn,key:vr.value.toString(),disabled:"disabled"in vr?vr.disabled:ke.disabled,value:vr.value,checked:Nt.indexOf(vr.value)!==-1,onChange:vr.onChange,className:"".concat(xr,"-item"),style:vr.style},vr.label)}));var Qn={toggleOption:ar,value:Nt,disabled:ke.disabled,name:ke.name,registerValue:Dn,cancelValue:Un},Dr=de()(xr,Object(be.a)({},"".concat(xr,"-rtl"),Et==="rtl"),fe);return P.createElement("div",Object(re.a)({className:Dr,style:_e},Pn,{ref:ae}),P.createElement(nd.Provider,{value:Qn},j))},zd=P.forwardRef(Fd),Mf=P.memo(zd),Lu=D("uaoM"),rd=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},nv=function($,ae){var R,j=$.prefixCls,ye=$.className,pe=$.children,ee=$.indeterminate,fe=ee===void 0?!1:ee,_e=$.style,Ge=$.onMouseEnter,ke=$.onMouseLeave,rt=$.skipGroup,St=rt===void 0?!1:rt,Et=rd($,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),Dt=P.useContext(Fr.b),wt=Dt.getPrefixCls,Nt=Dt.direction,jt=P.useContext(nd),Zt=P.useRef(Et.value);P.useEffect(function(){jt==null||jt.registerValue(Et.value),Object(Lu.a)("checked"in Et||!!jt||!("value"in Et),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),P.useEffect(function(){if(!St)return Et.value!==Zt.current&&(jt==null||jt.cancelValue(Zt.current),jt==null||jt.registerValue(Et.value),Zt.current=Et.value),function(){return jt==null?void 0:jt.cancelValue(Et.value)}},[Et.value]);var rn=wt("checkbox",j),sn=Object(re.a)({},Et);jt&&!St&&(sn.onChange=function(){Et.onChange&&Et.onChange.apply(Et,arguments),jt.toggleOption&&jt.toggleOption({label:pe,value:Et.value})},sn.name=jt.name,sn.checked=jt.value.indexOf(Et.value)!==-1,sn.disabled=Et.disabled||jt.disabled);var kn=de()((R={},Object(be.a)(R,"".concat(rn,"-wrapper"),!0),Object(be.a)(R,"".concat(rn,"-rtl"),Nt==="rtl"),Object(be.a)(R,"".concat(rn,"-wrapper-checked"),sn.checked),Object(be.a)(R,"".concat(rn,"-wrapper-disabled"),sn.disabled),R),ye),rr=de()(Object(be.a)({},"".concat(rn,"-indeterminate"),fe));return P.createElement("label",{className:kn,style:_e,onMouseEnter:Ge,onMouseLeave:ke},P.createElement(ou.a,Object(re.a)({},sn,{prefixCls:rn,className:rr,ref:ae})),pe!==void 0&&P.createElement("span",null,pe))},Vd=P.forwardRef(nv);Vd.displayName="Checkbox";var Vn=Vd,oo=Vn;oo.Group=Mf,oo.__ANT_CHECKBOX=!0;var Yu=oo,Hd=D("jsC+"),Wl=D("BvKs"),Xu=D("9yH6"),Kl={},Du="SELECT_ALL",Ru="SELECT_INVERT",_f="SELECT_NONE";function ri(N,$){var ae=[];return(N||[]).forEach(function(R){ae.push(R),R&&Object(Y.a)(R)==="object"&&$ in R&&(ae=[].concat(Object(Pe.a)(ae),Object(Pe.a)(ri(R[$],$))))}),ae}function ca(N,$){var ae=N||{},R=ae.preserveSelectedRowKeys,j=ae.selectedRowKeys,ye=ae.defaultSelectedRowKeys,pe=ae.getCheckboxProps,ee=ae.onChange,fe=ae.onSelect,_e=ae.onSelectAll,Ge=ae.onSelectInvert,ke=ae.onSelectNone,rt=ae.onSelectMultiple,St=ae.columnWidth,Et=ae.type,Dt=ae.selections,wt=ae.fixed,Nt=ae.renderCell,jt=ae.hideSelectAll,Zt=ae.checkStrictly,rn=Zt===void 0?!0:Zt,sn=$.prefixCls,kn=$.data,rr=$.pageData,Un=$.getRecordByKey,Dn=$.getRowKey,ar=$.expandType,Xn=$.childrenColumnName,xr=$.locale,Pn=$.getPopupContainer,Qn=Object(Bd.a)(j||ye||[],{value:j}),Dr=Object(F.a)(Qn,2),vr=Dr[0],dr=Dr[1],Zn=P.useRef(new Map),Jn=Object(P.useCallback)(function(Qi){if(R){var sa=new Map;Qi.forEach(function(xi){var Kr=Un(xi);!Kr&&Zn.current.has(xi)&&(Kr=Zn.current.get(xi)),sa.set(xi,Kr)}),Zn.current=sa}},[Un,R]);P.useEffect(function(){Jn(vr)},[vr]);var Rr=Object(P.useMemo)(function(){return rn?{keyEntities:null}:fo(kn,{externalGetKey:Dn,childrenPropName:Xn})},[kn,Dn,rn,Xn]),fi=Rr.keyEntities,Ni=Object(P.useMemo)(function(){return ri(rr,Xn)},[rr,Xn]),yi=Object(P.useMemo)(function(){var Qi=new Map;return Ni.forEach(function(sa,xi){var Kr=Dn(sa,xi),Gr=(pe?pe(sa):null)||{};Qi.set(Kr,Gr)}),Qi},[Ni,Dn,pe]),Ri=Object(P.useCallback)(function(Qi){var sa;return!!((sa=yi.get(Dn(Qi)))===null||sa===void 0?void 0:sa.disabled)},[yi,Dn]),Ji=Object(P.useMemo)(function(){if(rn)return[vr||[],[]];var Qi=Ku(vr,!0,fi,Ri),sa=Qi.checkedKeys,xi=Qi.halfCheckedKeys;return[sa||[],xi]},[vr,rn,fi,Ri]),Oa=Object(F.a)(Ji,2),Xi=Oa[0],ii=Oa[1],Qr=Object(P.useMemo)(function(){var Qi=Et==="radio"?Xi.slice(0,1):Xi;return new Set(Qi)},[Xi,Et]),bi=Object(P.useMemo)(function(){return Et==="radio"?new Set:new Set(ii)},[ii,Et]),So=Object(P.useState)(null),ki=Object(F.a)(So,2),Ja=ki[0],so=ki[1];P.useEffect(function(){N||dr([])},[!!N]);var Qa=Object(P.useCallback)(function(Qi){var sa,xi;Jn(Qi),R?(sa=Qi,xi=Qi.map(function(Kr){return Zn.current.get(Kr)})):(sa=[],xi=[],Qi.forEach(function(Kr){var Gr=Un(Kr);Gr!==void 0&&(sa.push(Kr),xi.push(Gr))})),dr(sa),ee==null||ee(sa,xi)},[dr,Un,ee,R]),zo=Object(P.useCallback)(function(Qi,sa,xi,Kr){if(fe){var Gr=xi.map(function(wa){return Un(wa)});fe(Un(Qi),sa,Gr,Kr)}Qa(xi)},[fe,Un,Qa]),Ko=Object(P.useMemo)(function(){if(!Dt||jt)return null;var Qi=Dt===!0?[Du,Ru,_f]:Dt;return Qi.map(function(sa){return sa===Du?{key:"all",text:xr.selectionAll,onSelect:function(){Qa(kn.map(function(Kr,Gr){return Dn(Kr,Gr)}).filter(function(Kr){var Gr=yi.get(Kr);return!(Gr==null?void 0:Gr.disabled)||Qr.has(Kr)}))}}:sa===Ru?{key:"invert",text:xr.selectInvert,onSelect:function(){var Kr=new Set(Qr);rr.forEach(function(wa,ir){var Ha=Dn(wa,ir),Na=yi.get(Ha);(Na==null?void 0:Na.disabled)||(Kr.has(Ha)?Kr.delete(Ha):Kr.add(Ha))});var Gr=Array.from(Kr);Ge&&(Object(Lu.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),Ge(Gr)),Qa(Gr)}}:sa===_f?{key:"none",text:xr.selectNone,onSelect:function(){ke==null||ke(),Qa(Array.from(Qr).filter(function(Kr){var Gr=yi.get(Kr);return Gr==null?void 0:Gr.disabled}))}}:sa})},[Dt,Qr,rr,Dn,Ge,Qa]),lo=Object(P.useCallback)(function(Qi){var sa;if(!N)return Qi.filter(function(fa){return fa!==Kl});var xi=Object(Pe.a)(Qi),Kr=new Set(Qr),Gr=Ni.map(Dn).filter(function(fa){return!yi.get(fa).disabled}),wa=Gr.every(function(fa){return Kr.has(fa)}),ir=Gr.some(function(fa){return Kr.has(fa)}),Ha=function(){var Ga=[];wa?Gr.forEach(function(Yo){Kr.delete(Yo),Ga.push(Yo)}):Gr.forEach(function(Yo){Kr.has(Yo)||(Kr.add(Yo),Ga.push(Yo))});var fs=Array.from(Kr);_e==null||_e(!wa,fs.map(function(Yo){return Un(Yo)}),Ga.map(function(Yo){return Un(Yo)})),Qa(fs)},Na;if(Et!=="radio"){var Ds;if(Ko){var mu=P.createElement(Wl.a,{getPopupContainer:Pn},Ko.map(function(fa,Ga){var fs=fa.key,Yo=fa.text,$o=fa.onSelect;return P.createElement(Wl.a.Item,{key:fs||Ga,onClick:function(){$o==null||$o(Gr)}},Yo)}));Ds=P.createElement("div",{className:"".concat(sn,"-selection-extra")},P.createElement(Hd.a,{overlay:mu,getPopupContainer:Pn},P.createElement("span",null,P.createElement(rs.a,null))))}var Qs=Ni.map(function(fa,Ga){var fs=Dn(fa,Ga),Yo=yi.get(fs)||{};return Object(re.a)({checked:Kr.has(fs)},Yo)}).filter(function(fa){var Ga=fa.disabled;return Ga}),yu=!!Qs.length&&Qs.length===Ni.length,Ec=yu&&Qs.every(function(fa){var Ga=fa.checked;return Ga}),cs=yu&&Qs.some(function(fa){var Ga=fa.checked;return Ga});Na=!jt&&P.createElement("div",{className:"".concat(sn,"-selection")},P.createElement(Yu,{checked:yu?Ec:!!Ni.length&&wa,indeterminate:yu?!Ec&&cs:!wa&&ir,onChange:Ha,disabled:Ni.length===0||yu,skipGroup:!0}),Ds)}var If;Et==="radio"?If=function(Ga,fs,Yo){var $o=Dn(fs,Yo),Po=Kr.has($o);return{node:P.createElement(Xu.a,Object(re.a)({},yi.get($o),{checked:Po,onClick:function(zu){return zu.stopPropagation()},onChange:function(zu){Kr.has($o)||zo($o,!0,[$o],zu.nativeEvent)}})),checked:Po}}:If=function(Ga,fs,Yo){var $o,Po=Dn(fs,Yo),rl=Kr.has(Po),zu=bi.has(Po),$l=yi.get(Po),Ac;return ar==="nest"?(Ac=zu,Object(Lu.a)(typeof($l==null?void 0:$l.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Ac=($o=$l==null?void 0:$l.indeterminate)!==null&&$o!==void 0?$o:zu,{node:P.createElement(Yu,Object(re.a)({},$l,{indeterminate:Ac,checked:rl,skipGroup:!0,onClick:function(il){return il.stopPropagation()},onChange:function(il){var ji=il.nativeEvent,yr=ji.shiftKey,ts=-1,Fi=-1;if(yr&&rn){var Yr=new Set([Ja,Po]);Gr.some(function(hs,xu){if(Yr.has(hs))if(ts===-1)ts=xu;else return Fi=xu,!0;return!1})}if(Fi!==-1&&ts!==Fi&&rn){var Qc=Gr.slice(ts,Fi+1),wo=[];rl?Qc.forEach(function(hs){Kr.has(hs)&&(wo.push(hs),Kr.delete(hs))}):Qc.forEach(function(hs){Kr.has(hs)||(wo.push(hs),Kr.add(hs))});var ka=Array.from(Kr);rt==null||rt(!rl,ka.map(function(hs){return Un(hs)}),wo.map(function(hs){return Un(hs)})),Qa(ka)}else{var ds=Xi;if(rn){var Rs=rl?el(ds,Po):oa(ds,Po);zo(Po,!rl,Rs,ji)}else{var qa=Ku([].concat(Object(Pe.a)(ds),[Po]),!0,fi,Ri),gl=qa.checkedKeys,Jl=qa.halfCheckedKeys,Do=gl;if(rl){var Pc=new Set(gl);Pc.delete(Po),Do=Ku(Array.from(Pc),{checked:!1,halfCheckedKeys:Jl},fi,Ri).checkedKeys}zo(Po,!rl,Do,ji)}}so(Po)}})),checked:rl}};var Gs=function(Ga,fs,Yo){var $o=If(Ga,fs,Yo),Po=$o.node,rl=$o.checked;return Nt?Nt(rl,fs,Yo,Po):Po};if(!xi.includes(Kl))if(xi.findIndex(function(fa){var Ga;return((Ga=fa[ot])===null||Ga===void 0?void 0:Ga.columnType)==="EXPAND_COLUMN"})===0){var Nf=xi,dd=Object(qs.a)(Nf),Fu=dd[0],qh=dd.slice(1);xi=[Fu,Kl].concat(Object(Pe.a)(qh))}else xi=[Kl].concat(Object(Pe.a)(xi));var hd=xi.indexOf(Kl);xi=xi.filter(function(fa,Ga){return fa!==Kl||Ga===hd});var bu=xi[hd-1],Bi=xi[hd+1],Ao=wt;Ao===void 0&&((Bi==null?void 0:Bi.fixed)!==void 0?Ao=Bi.fixed:(bu==null?void 0:bu.fixed)!==void 0&&(Ao=bu.fixed)),Ao&&bu&&((sa=bu[ot])===null||sa===void 0?void 0:sa.columnType)==="EXPAND_COLUMN"&&bu.fixed===void 0&&(bu.fixed=Ao);var ic=Object(be.a)({fixed:Ao,width:St,className:"".concat(sn,"-selection-column"),title:N.columnTitle||Na,render:Gs},ot,{className:"".concat(sn,"-selection-col")});return xi.map(function(fa){return fa===Kl?ic:fa})},[Dn,Ni,N,Xi,Qr,bi,St,Ko,ar,Ja,yi,rt,zo,Ri]);return[lo,Qr]}var Ki={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},jo=Ki,Zo=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:jo}))};Zo.displayName="CaretDownOutlined";var Hs=P.forwardRef(Zo),Oo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Ze=Oo,Zs=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Ze}))};Zs.displayName="CaretUpOutlined";var su=P.forwardRef(Zs),ho=D("3S7+");function Bo(N,$){return"key"in N&&N.key!==void 0&&N.key!==null?N.key:N.dataIndex?Array.isArray(N.dataIndex)?N.dataIndex.join("."):N.dataIndex:$}function fl(N,$){return $?"".concat($,"-").concat(N):"".concat(N)}function Kc(N,$){return typeof N=="function"?N($):N}var dl="ascend",mc="descend";function yc(N){return Object(Y.a)(N.sorter)==="object"&&typeof N.sorter.multiple=="number"?N.sorter.multiple:!1}function Zu(N){return typeof N=="function"?N:N&&Object(Y.a)(N)==="object"&&N.compare?N.compare:!1}function Ol(N,$){return $?N[N.indexOf($)+1]:N[0]}function hl(N,$,ae){var R=[];function j(ye,pe){R.push({column:ye,key:Bo(ye,pe),multiplePriority:yc(ye),sortOrder:ye.sortOrder})}return(N||[]).forEach(function(ye,pe){var ee=fl(pe,ae);ye.children?("sortOrder"in ye&&j(ye,ee),R=[].concat(Object(Pe.a)(R),Object(Pe.a)(hl(ye.children,$,ee)))):ye.sorter&&("sortOrder"in ye?j(ye,ee):$&&ye.defaultSortOrder&&R.push({column:ye,key:Bo(ye,ee),multiplePriority:yc(ye),sortOrder:ye.defaultSortOrder}))}),R}function Iu(N,$,ae,R,j,ye,pe,ee){return($||[]).map(function(fe,_e){var Ge=fl(_e,ee),ke=fe;if(ke.sorter){var rt=ke.sortDirections||j,St=ke.showSorterTooltip===void 0?pe:ke.showSorterTooltip,Et=Bo(ke,Ge),Dt=ae.find(function(ar){var Xn=ar.key;return Xn===Et}),wt=Dt?Dt.sortOrder:null,Nt=Ol(rt,wt),jt=rt.includes(dl)&&P.createElement(su,{className:de()("".concat(N,"-column-sorter-up"),{active:wt===dl})}),Zt=rt.includes(mc)&&P.createElement(Hs,{className:de()("".concat(N,"-column-sorter-down"),{active:wt===mc})}),rn=ye||{},sn=rn.cancelSort,kn=rn.triggerAsc,rr=rn.triggerDesc,Un=sn;Nt===mc?Un=rr:Nt===dl&&(Un=kn);var Dn=Object(Y.a)(St)==="object"?St:{title:Un};ke=Object(re.a)(Object(re.a)({},ke),{className:de()(ke.className,Object(be.a)({},"".concat(N,"-column-sort"),wt)),title:function(Xn){var xr=P.createElement("div",{className:"".concat(N,"-column-sorters")},P.createElement("span",{className:"".concat(N,"-column-title")},Kc(fe.title,Xn)),P.createElement("span",{className:de()("".concat(N,"-column-sorter"),Object(be.a)({},"".concat(N,"-column-sorter-full"),!!(jt&&Zt)))},P.createElement("span",{className:"".concat(N,"-column-sorter-inner")},jt,Zt)));return St?P.createElement(ho.a,Dn,xr):xr},onHeaderCell:function(Xn){var xr=fe.onHeaderCell&&fe.onHeaderCell(Xn)||{},Pn=xr.onClick;return xr.onClick=function(Qn){R({column:fe,key:Et,sortOrder:Nt,multiplePriority:yc(fe)}),Pn&&Pn(Qn)},xr.className=de()(xr.className,"".concat(N,"-column-has-sorters")),xr}})}return"children"in ke&&(ke=Object(re.a)(Object(re.a)({},ke),{children:Iu(N,ke.children,ae,R,j,ye,pe,Ge)})),ke})}function Cf(N){var $=N.column,ae=N.sortOrder;return{column:$,order:ae,field:$.dataIndex,columnKey:$.key}}function Tf(N){var $=N.filter(function(ae){var R=ae.sortOrder;return R}).map(Cf);return $.length===0&&N.length?Object(re.a)(Object(re.a)({},Cf(N[N.length-1])),{column:void 0}):$.length<=1?$[0]||{}:$}function bc(N,$,ae){var R=$.slice().sort(function(pe,ee){return ee.multiplePriority-pe.multiplePriority}),j=N.slice(),ye=R.filter(function(pe){var ee=pe.column.sorter,fe=pe.sortOrder;return Zu(ee)&&fe});return ye.length?j.sort(function(pe,ee){for(var fe=0;fe<ye.length;fe+=1){var _e=ye[fe],Ge=_e.column.sorter,ke=_e.sortOrder,rt=Zu(Ge);if(rt&&ke){var St=rt(pe,ee,ke);if(St!==0)return ke===dl?St:-St}}return 0}).map(function(pe){var ee=pe[ae];return ee?Object(re.a)(Object(re.a)({},pe),Object(be.a)({},ae,bc(ee,$,ae))):pe}):j}function lu(N){var $=N.prefixCls,ae=N.mergedColumns,R=N.onSorterChange,j=N.sortDirections,ye=N.tableLocale,pe=N.showSorterTooltip,ee=P.useState(hl(ae,!0)),fe=Object(F.a)(ee,2),_e=fe[0],Ge=fe[1],ke=P.useMemo(function(){var wt=!0,Nt=hl(ae,!1);if(!Nt.length)return _e;var jt=[];function Zt(sn){wt?jt.push(sn):jt.push(Object(re.a)(Object(re.a)({},sn),{sortOrder:null}))}var rn=null;return Nt.forEach(function(sn){rn===null?(Zt(sn),sn.sortOrder&&(sn.multiplePriority===!1?wt=!1:rn=!0)):(rn&&sn.multiplePriority!==!1||(wt=!1),Zt(sn))}),jt},[ae,_e]),rt=P.useMemo(function(){var wt=ke.map(function(Nt){var jt=Nt.column,Zt=Nt.sortOrder;return{column:jt,order:Zt}});return{sortColumns:wt,sortColumn:wt[0]&&wt[0].column,sortOrder:wt[0]&&wt[0].order}},[ke]);function St(wt){var Nt;wt.multiplePriority===!1||!ke.length||ke[0].multiplePriority===!1?Nt=[wt]:Nt=[].concat(Object(Pe.a)(ke.filter(function(jt){var Zt=jt.key;return Zt!==wt.key})),[wt]),Ge(Nt),R(Tf(Nt),Nt)}var Et=function(Nt){return Iu($,Nt,ke,St,j,ye,pe)},Dt=function(){return Tf(ke)};return[Et,ke,rt,Dt]}var zg=D("Y+p1"),$u=D.n(zg),rv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},mi=rv,uu=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:mi}))};uu.displayName="FilterFilled";var cu=P.forwardRef(uu),Nu=D("2/Rp"),Ju={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},El=Ju,Qu=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:El}))};Qu.displayName="HolderOutlined";var Yc=P.forwardRef(Qu),fu=D("4IlW"),Of=D("+nKL"),Hn=D("8XRh"),xc=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Eo=function($,ae){var R=$.className,j=$.style,ye=$.motion,pe=$.motionNodes,ee=$.motionType,fe=$.onMotionStart,_e=$.onMotionEnd,Ge=$.active,ke=$.treeNodeRequiredProps,rt=Object(It.a)($,xc),St=P.useState(!0),Et=Object(F.a)(St,2),Dt=Et[0],wt=Et[1],Nt=P.useContext(is),jt=Nt.prefixCls,Zt=P.useRef(!1),rn=function(){Zt.current||_e(),Zt.current=!0};return Object(P.useEffect)(function(){pe&&ee==="hide"&&Dt&&wt(!1)},[pe]),Object(P.useEffect)(function(){return pe&&fe(),function(){pe&&rn()}},[]),pe?P.createElement(Hn.b,Object(re.a)({ref:ae,visible:Dt},ye,{motionAppear:ee==="show",onAppearEnd:rn,onLeaveEnd:rn}),function(sn,kn){var rr=sn.className,Un=sn.style;return P.createElement("div",{ref:kn,className:de()("".concat(jt,"-treenode-motion"),rr),style:Un},pe.map(function(Dn){var ar=Object(re.a)({},Dn.data),Xn=Dn.title,xr=Dn.key,Pn=Dn.isStart,Qn=Dn.isEnd;delete ar.children;var Dr=xo(xr,ke);return P.createElement(_l,Object(re.a)({},ar,Dr,{title:Xn,active:Ge,data:Dn.data,key:xr,isStart:Pn,isEnd:Qn}))}))}):P.createElement(_l,Object(re.a)({domRef:ae,className:R,style:j},rt,{active:Ge}))};Eo.displayName="MotionTreeNode";var Vg=P.forwardRef(Eo),Yl=Vg;function Sc(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ae=N.length,R=$.length;if(Math.abs(ae-R)!==1)return{add:!1,key:null};function j(ye,pe){var ee=new Map;ye.forEach(function(_e){ee.set(_e,!0)});var fe=pe.filter(function(_e){return!ee.has(_e)});return fe.length===1?fe[0]:null}return ae<R?{add:!0,key:j(N,$)}:{add:!1,key:j($,N)}}function wc(N,$,ae){var R=N.findIndex(function(ee){var fe=ee.data;return fe.key===ae}),j=N[R+1],ye=$.findIndex(function(ee){var fe=ee.data;return fe.key===ae});if(j){var pe=$.findIndex(function(ee){var fe=ee.data;return fe.key===j.data.key});return $.slice(ye+1,pe)}return $.slice(ye+1)}var $s=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Xc={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Gd=function(){},ku="RC_TREE_MOTION_".concat(Math.random()),Al={key:ku},Ud={key:ku,level:0,index:0,pos:"0",node:Al,nodes:[Al]},Wd={parent:null,children:[],pos:Ud.pos,data:Al,title:null,key:ku,isStart:[],isEnd:[]};function Mc(N,$,ae,R){return $===!1||!ae?N:N.slice(0,Math.ceil(ae/R)+1)}function qu(N){var $=N.key,ae=N.pos;return as($,ae)}function _c(N){for(var $=String(N.data.key),ae=N;ae.parent;)ae=ae.parent,$="".concat(ae.data.key," > ").concat($);return $}var Kd=function($,ae){var R=$.prefixCls,j=$.data,ye=$.selectable,pe=$.checkable,ee=$.expandedKeys,fe=$.selectedKeys,_e=$.checkedKeys,Ge=$.loadedKeys,ke=$.loadingKeys,rt=$.halfCheckedKeys,St=$.keyEntities,Et=$.disabled,Dt=$.dragging,wt=$.dragOverNodeKey,Nt=$.dropPosition,jt=$.motion,Zt=$.height,rn=$.itemHeight,sn=$.virtual,kn=$.focusable,rr=$.activeItem,Un=$.focused,Dn=$.tabIndex,ar=$.onKeyDown,Xn=$.onFocus,xr=$.onBlur,Pn=$.onActiveChange,Qn=$.onListChangeStart,Dr=$.onListChangeEnd,vr=Object(It.a)($,$s),dr=P.useRef(null),Zn=P.useRef(null);P.useImperativeHandle(ae,function(){return{scrollTo:function(Gr){dr.current.scrollTo(Gr)},getIndentWidth:function(){return Zn.current.offsetWidth}}});var Jn=P.useState(ee),Rr=Object(F.a)(Jn,2),fi=Rr[0],Ni=Rr[1],yi=P.useState(j),Ri=Object(F.a)(yi,2),Ji=Ri[0],Oa=Ri[1],Xi=P.useState(j),ii=Object(F.a)(Xi,2),Qr=ii[0],bi=ii[1],So=P.useState([]),ki=Object(F.a)(So,2),Ja=ki[0],so=ki[1],Qa=P.useState(null),zo=Object(F.a)(Qa,2),Ko=zo[0],lo=zo[1];function Qi(){Oa(j),bi(j),so([]),lo(null),Dr()}P.useEffect(function(){Ni(ee);var Kr=Sc(fi,ee);if(Kr.key!==null)if(Kr.add){var Gr=Ji.findIndex(function(mu){var Qs=mu.data.key;return Qs===Kr.key}),wa=Mc(wc(Ji,j,Kr.key),sn,Zt,rn),ir=Ji.slice();ir.splice(Gr+1,0,Wd),bi(ir),so(wa),lo("show")}else{var Ha=j.findIndex(function(mu){var Qs=mu.data.key;return Qs===Kr.key}),Na=Mc(wc(j,Ji,Kr.key),sn,Zt,rn),Ds=j.slice();Ds.splice(Ha+1,0,Wd),bi(Ds),so(Na),lo("hide")}else Ji!==j&&(Oa(j),bi(j))},[ee,j]),P.useEffect(function(){Dt||Qi()},[Dt]);var sa=jt?Qr:j,xi={expandedKeys:ee,selectedKeys:fe,loadedKeys:Ge,loadingKeys:ke,checkedKeys:_e,halfCheckedKeys:rt,dragOverNodeKey:wt,dropPosition:Nt,keyEntities:St};return P.createElement(P.Fragment,null,Un&&rr&&P.createElement("span",{style:Xc,"aria-live":"assertive"},_c(rr)),P.createElement("div",null,P.createElement("input",{style:Xc,disabled:kn===!1||Et,tabIndex:kn!==!1?Dn:null,onKeyDown:ar,onFocus:Xn,onBlur:xr,value:"",onChange:Gd,"aria-label":"for screen reader"})),P.createElement("div",{className:"".concat(R,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},P.createElement("div",{className:"".concat(R,"-indent")},P.createElement("div",{ref:Zn,className:"".concat(R,"-indent-unit")}))),P.createElement(Of.a,Object(re.a)({},vr,{data:sa,itemKey:qu,height:Zt,fullHeight:!1,virtual:sn,itemHeight:rn,prefixCls:"".concat(R,"-list"),ref:dr,onVisibleChange:function(Gr,wa){var ir=new Set(Gr),Ha=wa.filter(function(Na){return!ir.has(Na)});Ha.some(function(Na){return qu(Na)===ku})&&Qi()}}),function(Kr){var Gr=Kr.pos,wa=Object(re.a)({},Kr.data),ir=Kr.title,Ha=Kr.key,Na=Kr.isStart,Ds=Kr.isEnd,mu=as(Ha,Gr);delete wa.key,delete wa.children;var Qs=xo(mu,xi);return P.createElement(Yl,Object(re.a)({},wa,Qs,{title:ir,active:!!rr&&Ha===rr.key,pos:Gr,data:Kr.data,isStart:Na,isEnd:Ds,motion:jt,motionNodes:Ha===ku?Ja:null,motionType:Ko,onMotionStart:Qn,onMotionEnd:Qi,treeNodeRequiredProps:xi,onMouseMove:function(){Pn(null)}}))}))},Bh=P.forwardRef(Kd);Bh.displayName="NodeList";var iv=Bh;function Fh(N){var $=N.dropPosition,ae=N.dropLevelOffset,R=N.indent,j={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch($){case-1:j.top=0,j.left=-ae*R;break;case 1:j.bottom=0,j.left=-ae*R;break;case 0:j.bottom=0,j.left=R;break}return P.createElement("div",{style:j})}var Hg=10,zh=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(){var R;Object(Ir.a)(this,ae);for(var j=arguments.length,ye=new Array(j),pe=0;pe<j;pe++)ye[pe]=arguments[pe];return R=$.call.apply($,[this].concat(ye)),R.destroyed=!1,R.delayedDragEnterLogic=void 0,R.loadingRetryTimes={},R.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:gs()},R.dragStartMousePosition=null,R.dragNode=void 0,R.currentMouseOverDroppableNodeKey=null,R.listRef=P.createRef(),R.onNodeDragStart=function(ee,fe){var _e=R.state,Ge=_e.expandedKeys,ke=_e.keyEntities,rt=R.props.onDragStart,St=fe.props.eventKey;R.dragNode=fe,R.dragStartMousePosition={x:ee.clientX,y:ee.clientY};var Et=el(Ge,St);R.setState({draggingNodeKey:St,dragChildrenKeys:Hl(St,ke),indent:R.listRef.current.getIndentWidth()}),R.setExpandedKeys(Et),window.addEventListener("dragend",R.onWindowDragEnd),rt&&rt({event:ee,node:ao(fe.props)})},R.onNodeDragEnter=function(ee,fe){var _e=R.state,Ge=_e.expandedKeys,ke=_e.keyEntities,rt=_e.dragChildrenKeys,St=_e.flattenNodes,Et=_e.indent,Dt=R.props,wt=Dt.onDragEnter,Nt=Dt.onExpand,jt=Dt.allowDrop,Zt=Dt.direction,rn=fe.props,sn=rn.pos,kn=rn.eventKey,rr=Object(yo.a)(R),Un=rr.dragNode;if(R.currentMouseOverDroppableNodeKey!==kn&&(R.currentMouseOverDroppableNodeKey=kn),!Un){R.resetDragState();return}var Dn=qf(ee,Un,fe,Et,R.dragStartMousePosition,jt,St,ke,Ge,Zt),ar=Dn.dropPosition,Xn=Dn.dropLevelOffset,xr=Dn.dropTargetKey,Pn=Dn.dropContainerKey,Qn=Dn.dropTargetPos,Dr=Dn.dropAllowed,vr=Dn.dragOverNodeKey;if(rt.indexOf(xr)!==-1||!Dr){R.resetDragState();return}if(R.delayedDragEnterLogic||(R.delayedDragEnterLogic={}),Object.keys(R.delayedDragEnterLogic).forEach(function(dr){clearTimeout(R.delayedDragEnterLogic[dr])}),Un.props.eventKey!==fe.props.eventKey&&(ee.persist(),R.delayedDragEnterLogic[sn]=window.setTimeout(function(){if(R.state.draggingNodeKey!==null){var dr=Object(Pe.a)(Ge),Zn=ke[fe.props.eventKey];Zn&&(Zn.children||[]).length&&(dr=oa(Ge,fe.props.eventKey)),"expandedKeys"in R.props||R.setExpandedKeys(dr),Nt&&Nt(dr,{node:ao(fe.props),expanded:!0,nativeEvent:ee.nativeEvent})}},800)),Un.props.eventKey===xr&&Xn===0){R.resetDragState();return}R.setState({dragOverNodeKey:vr,dropPosition:ar,dropLevelOffset:Xn,dropTargetKey:xr,dropContainerKey:Pn,dropTargetPos:Qn,dropAllowed:Dr}),wt&&wt({event:ee,node:ao(fe.props),expandedKeys:Ge})},R.onNodeDragOver=function(ee,fe){var _e=R.state,Ge=_e.dragChildrenKeys,ke=_e.flattenNodes,rt=_e.keyEntities,St=_e.expandedKeys,Et=_e.indent,Dt=R.props,wt=Dt.onDragOver,Nt=Dt.allowDrop,jt=Dt.direction,Zt=Object(yo.a)(R),rn=Zt.dragNode;if(!!rn){var sn=qf(ee,rn,fe,Et,R.dragStartMousePosition,Nt,ke,rt,St,jt),kn=sn.dropPosition,rr=sn.dropLevelOffset,Un=sn.dropTargetKey,Dn=sn.dropContainerKey,ar=sn.dropAllowed,Xn=sn.dropTargetPos,xr=sn.dragOverNodeKey;Ge.indexOf(Un)!==-1||!ar||(rn.props.eventKey===Un&&rr===0?R.state.dropPosition===null&&R.state.dropLevelOffset===null&&R.state.dropTargetKey===null&&R.state.dropContainerKey===null&&R.state.dropTargetPos===null&&R.state.dropAllowed===!1&&R.state.dragOverNodeKey===null||R.resetDragState():kn===R.state.dropPosition&&rr===R.state.dropLevelOffset&&Un===R.state.dropTargetKey&&Dn===R.state.dropContainerKey&&Xn===R.state.dropTargetPos&&ar===R.state.dropAllowed&&xr===R.state.dragOverNodeKey||R.setState({dropPosition:kn,dropLevelOffset:rr,dropTargetKey:Un,dropContainerKey:Dn,dropTargetPos:Xn,dropAllowed:ar,dragOverNodeKey:xr}),wt&&wt({event:ee,node:ao(fe.props)}))}},R.onNodeDragLeave=function(ee,fe){R.currentMouseOverDroppableNodeKey===fe.props.eventKey&&!ee.currentTarget.contains(ee.relatedTarget)&&(R.resetDragState(),R.currentMouseOverDroppableNodeKey=null);var _e=R.props.onDragLeave;_e&&_e({event:ee,node:ao(fe.props)})},R.onWindowDragEnd=function(ee){R.onNodeDragEnd(ee,null,!0),window.removeEventListener("dragend",R.onWindowDragEnd)},R.onNodeDragEnd=function(ee,fe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ge=R.props.onDragEnd;R.setState({dragOverNodeKey:null}),R.cleanDragState(),Ge&&!_e&&Ge({event:ee,node:ao(fe.props)}),R.dragNode=null},R.onNodeDrop=function(ee,fe){var _e,Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ke=R.state,rt=ke.dragChildrenKeys,St=ke.dropPosition,Et=ke.dropTargetKey,Dt=ke.dropTargetPos,wt=ke.dropAllowed;if(!!wt){var Nt=R.props.onDrop;if(R.setState({dragOverNodeKey:null}),R.cleanDragState(),Et!==null){var jt=Object(Z.a)(Object(Z.a)({},xo(Et,R.getTreeNodeRequiredProps())),{},{active:((_e=R.getActiveItem())===null||_e===void 0?void 0:_e.data.key)===Et,data:R.state.keyEntities[Et].node}),Zt=rt.indexOf(Et)!==-1;Object(bt.a)(!Zt,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var rn=Wi(Dt),sn={event:ee,node:ao(jt),dragNode:R.dragNode?ao(R.dragNode.props):null,dragNodesKeys:[R.dragNode.props.eventKey].concat(rt),dropToGap:St!==0,dropPosition:St+Number(rn[rn.length-1])};Nt&&!Ge&&Nt(sn),R.dragNode=null}}},R.cleanDragState=function(){var ee=R.state.draggingNodeKey;ee!==null&&R.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),R.dragStartMousePosition=null,R.currentMouseOverDroppableNodeKey=null},R.onNodeClick=function(ee,fe){var _e=R.props.onClick;_e&&_e(ee,fe)},R.onNodeDoubleClick=function(ee,fe){var _e=R.props.onDoubleClick;_e&&_e(ee,fe)},R.onNodeSelect=function(ee,fe){var _e=R.state.selectedKeys,Ge=R.state,ke=Ge.keyEntities,rt=Ge.fieldNames,St=R.props,Et=St.onSelect,Dt=St.multiple,wt=fe.selected,Nt=fe[rt.key],jt=!wt;jt?Dt?_e=oa(_e,Nt):_e=[Nt]:_e=el(_e,Nt);var Zt=_e.map(function(rn){var sn=ke[rn];return sn?sn.node:null}).filter(function(rn){return rn});R.setUncontrolledState({selectedKeys:_e}),Et&&Et(_e,{event:"select",selected:jt,node:fe,selectedNodes:Zt,nativeEvent:ee.nativeEvent})},R.onNodeCheck=function(ee,fe,_e){var Ge=R.state,ke=Ge.keyEntities,rt=Ge.checkedKeys,St=Ge.halfCheckedKeys,Et=R.props,Dt=Et.checkStrictly,wt=Et.onCheck,Nt=fe.key,jt,Zt={event:"check",node:fe,checked:_e,nativeEvent:ee.nativeEvent};if(Dt){var rn=_e?oa(rt,Nt):el(rt,Nt),sn=el(St,Nt);jt={checked:rn,halfChecked:sn},Zt.checkedNodes=rn.map(function(Xn){return ke[Xn]}).filter(function(Xn){return Xn}).map(function(Xn){return Xn.node}),R.setUncontrolledState({checkedKeys:rn})}else{var kn=Ku([].concat(Object(Pe.a)(rt),[Nt]),!0,ke),rr=kn.checkedKeys,Un=kn.halfCheckedKeys;if(!_e){var Dn=new Set(rr);Dn.delete(Nt);var ar=Ku(Array.from(Dn),{checked:!1,halfCheckedKeys:Un},ke);rr=ar.checkedKeys,Un=ar.halfCheckedKeys}jt=rr,Zt.checkedNodes=[],Zt.checkedNodesPositions=[],Zt.halfCheckedKeys=Un,rr.forEach(function(Xn){var xr=ke[Xn];if(!!xr){var Pn=xr.node,Qn=xr.pos;Zt.checkedNodes.push(Pn),Zt.checkedNodesPositions.push({node:Pn,pos:Qn})}}),R.setUncontrolledState({checkedKeys:rr},!1,{halfCheckedKeys:Un})}wt&&wt(jt,Zt)},R.onNodeLoad=function(ee){var fe=ee.key,_e=new Promise(function(Ge,ke){R.setState(function(rt){var St=rt.loadedKeys,Et=St===void 0?[]:St,Dt=rt.loadingKeys,wt=Dt===void 0?[]:Dt,Nt=R.props,jt=Nt.loadData,Zt=Nt.onLoad;if(!jt||Et.indexOf(fe)!==-1||wt.indexOf(fe)!==-1)return null;var rn=jt(ee);return rn.then(function(){var sn=R.state.loadedKeys,kn=oa(sn,fe);Zt&&Zt(kn,{event:"load",node:ee}),R.setUncontrolledState({loadedKeys:kn}),R.setState(function(rr){return{loadingKeys:el(rr.loadingKeys,fe)}}),Ge()}).catch(function(sn){if(R.setState(function(rr){return{loadingKeys:el(rr.loadingKeys,fe)}}),R.loadingRetryTimes[fe]=(R.loadingRetryTimes[fe]||0)+1,R.loadingRetryTimes[fe]>=Hg){var kn=R.state.loadedKeys;Object(bt.a)(!1,"Retry for `loadData` many times but still failed. No more retry."),R.setUncontrolledState({loadedKeys:oa(kn,fe)}),Ge()}ke(sn)}),{loadingKeys:oa(wt,fe)}})});return _e.catch(function(){}),_e},R.onNodeMouseEnter=function(ee,fe){var _e=R.props.onMouseEnter;_e&&_e({event:ee,node:fe})},R.onNodeMouseLeave=function(ee,fe){var _e=R.props.onMouseLeave;_e&&_e({event:ee,node:fe})},R.onNodeContextMenu=function(ee,fe){var _e=R.props.onRightClick;_e&&(ee.preventDefault(),_e({event:ee,node:fe}))},R.onFocus=function(){var ee=R.props.onFocus;R.setState({focused:!0}),ee&&ee.apply(void 0,arguments)},R.onBlur=function(){var ee=R.props.onBlur;R.setState({focused:!1}),R.onActiveChange(null),ee&&ee.apply(void 0,arguments)},R.getTreeNodeRequiredProps=function(){var ee=R.state,fe=ee.expandedKeys,_e=ee.selectedKeys,Ge=ee.loadedKeys,ke=ee.loadingKeys,rt=ee.checkedKeys,St=ee.halfCheckedKeys,Et=ee.dragOverNodeKey,Dt=ee.dropPosition,wt=ee.keyEntities;return{expandedKeys:fe||[],selectedKeys:_e||[],loadedKeys:Ge||[],loadingKeys:ke||[],checkedKeys:rt||[],halfCheckedKeys:St||[],dragOverNodeKey:Et,dropPosition:Dt,keyEntities:wt}},R.setExpandedKeys=function(ee){var fe=R.state,_e=fe.treeData,Ge=fe.fieldNames,ke=Zr(_e,ee,Ge);R.setUncontrolledState({expandedKeys:ee,flattenNodes:ke},!0)},R.onNodeExpand=function(ee,fe){var _e=R.state.expandedKeys,Ge=R.state,ke=Ge.listChanging,rt=Ge.fieldNames,St=R.props,Et=St.onExpand,Dt=St.loadData,wt=fe.expanded,Nt=fe[rt.key];if(!ke){var jt=_e.indexOf(Nt),Zt=!wt;if(Object(bt.a)(wt&&jt!==-1||!wt&&jt===-1,"Expand state not sync with index check"),Zt?_e=oa(_e,Nt):_e=el(_e,Nt),R.setExpandedKeys(_e),Et&&Et(_e,{node:fe,expanded:Zt,nativeEvent:ee.nativeEvent}),Zt&&Dt){var rn=R.onNodeLoad(fe);rn&&rn.then(function(){var sn=Zr(R.state.treeData,_e,rt);R.setUncontrolledState({flattenNodes:sn})}).catch(function(){var sn=R.state.expandedKeys,kn=el(sn,Nt);R.setExpandedKeys(kn)})}}},R.onListChangeStart=function(){R.setUncontrolledState({listChanging:!0})},R.onListChangeEnd=function(){setTimeout(function(){R.setUncontrolledState({listChanging:!1})})},R.onActiveChange=function(ee){var fe=R.state.activeKey,_e=R.props.onActiveChange;fe!==ee&&(R.setState({activeKey:ee}),ee!==null&&R.scrollTo({key:ee}),_e&&_e(ee))},R.getActiveItem=function(){var ee=R.state,fe=ee.activeKey,_e=ee.flattenNodes;return fe===null?null:_e.find(function(Ge){var ke=Ge.key;return ke===fe})||null},R.offsetActiveKey=function(ee){var fe=R.state,_e=fe.flattenNodes,Ge=fe.activeKey,ke=_e.findIndex(function(Et){var Dt=Et.key;return Dt===Ge});ke===-1&&ee<0&&(ke=_e.length),ke=(ke+ee+_e.length)%_e.length;var rt=_e[ke];if(rt){var St=rt.key;R.onActiveChange(St)}else R.onActiveChange(null)},R.onKeyDown=function(ee){var fe=R.state,_e=fe.activeKey,Ge=fe.expandedKeys,ke=fe.checkedKeys,rt=R.props,St=rt.onKeyDown,Et=rt.checkable,Dt=rt.selectable;switch(ee.which){case fu.a.UP:{R.offsetActiveKey(-1),ee.preventDefault();break}case fu.a.DOWN:{R.offsetActiveKey(1),ee.preventDefault();break}}var wt=R.getActiveItem();if(wt&&wt.data){var Nt=R.getTreeNodeRequiredProps(),jt=wt.data.isLeaf===!1||!!(wt.data.children||[]).length,Zt=ao(Object(Z.a)(Object(Z.a)({},xo(_e,Nt)),{},{data:wt.data,active:!0}));switch(ee.which){case fu.a.LEFT:{jt&&Ge.includes(_e)?R.onNodeExpand({},Zt):wt.parent&&R.onActiveChange(wt.parent.data.key),ee.preventDefault();break}case fu.a.RIGHT:{jt&&!Ge.includes(_e)?R.onNodeExpand({},Zt):wt.children&&wt.children.length&&R.onActiveChange(wt.children[0].data.key),ee.preventDefault();break}case fu.a.ENTER:case fu.a.SPACE:{Et&&!Zt.disabled&&Zt.checkable!==!1&&!Zt.disableCheckbox?R.onNodeCheck({},Zt,!ke.includes(_e)):!Et&&Dt&&!Zt.disabled&&Zt.selectable!==!1&&R.onNodeSelect({},Zt);break}}}St&&St(ee)},R.setUncontrolledState=function(ee){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!R.destroyed){var Ge=!1,ke=!0,rt={};Object.keys(ee).forEach(function(St){if(St in R.props){ke=!1;return}Ge=!0,rt[St]=ee[St]}),Ge&&(!fe||ke)&&R.setState(Object(Z.a)(Object(Z.a)({},rt),_e))}},R.scrollTo=function(ee){R.listRef.current.scrollTo(ee)},R}return Object(Ur.a)(ae,[{key:"componentDidMount",value:function(){this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var j=this.props.activeKey;j!==void 0&&j!==this.state.activeKey&&(this.setState({activeKey:j}),j!==null&&this.scrollTo({key:j}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var j,ye=this.state,pe=ye.focused,ee=ye.flattenNodes,fe=ye.keyEntities,_e=ye.draggingNodeKey,Ge=ye.activeKey,ke=ye.dropLevelOffset,rt=ye.dropContainerKey,St=ye.dropTargetKey,Et=ye.dropPosition,Dt=ye.dragOverNodeKey,wt=ye.indent,Nt=this.props,jt=Nt.prefixCls,Zt=Nt.className,rn=Nt.style,sn=Nt.showLine,kn=Nt.focusable,rr=Nt.tabIndex,Un=rr===void 0?0:rr,Dn=Nt.selectable,ar=Nt.showIcon,Xn=Nt.icon,xr=Nt.switcherIcon,Pn=Nt.draggable,Qn=Nt.checkable,Dr=Nt.checkStrictly,vr=Nt.disabled,dr=Nt.motion,Zn=Nt.loadData,Jn=Nt.filterTreeNode,Rr=Nt.height,fi=Nt.itemHeight,Ni=Nt.virtual,yi=Nt.titleRender,Ri=Nt.dropIndicatorRender,Ji=Nt.onContextMenu,Oa=Nt.onScroll,Xi=Nt.direction,ii=Object(dt.a)(this.props,{aria:!0,data:!0}),Qr;return Pn&&(Object(Y.a)(Pn)==="object"?Qr=Pn:typeof Pn=="function"?Qr={nodeDraggable:Pn}:Qr={}),P.createElement(is.Provider,{value:{prefixCls:jt,selectable:Dn,showIcon:ar,icon:Xn,switcherIcon:xr,draggable:Qr,draggingNodeKey:_e,checkable:Qn,checkStrictly:Dr,disabled:vr,keyEntities:fe,dropLevelOffset:ke,dropContainerKey:rt,dropTargetKey:St,dropPosition:Et,dragOverNodeKey:Dt,indent:wt,direction:Xi,dropIndicatorRender:Ri,loadData:Zn,filterTreeNode:Jn,titleRender:yi,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},P.createElement("div",{role:"tree",className:de()(jt,Zt,(j={},Object(be.a)(j,"".concat(jt,"-show-line"),sn),Object(be.a)(j,"".concat(jt,"-focused"),pe),Object(be.a)(j,"".concat(jt,"-active-focused"),Ge!==null),j))},P.createElement(iv,Object(re.a)({ref:this.listRef,prefixCls:jt,style:rn,data:ee,disabled:vr,selectable:Dn,checkable:!!Qn,motion:dr,dragging:_e!==null,height:Rr,itemHeight:fi,virtual:Ni,focusable:kn,focused:pe,tabIndex:Un,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ji,onScroll:Oa},this.getTreeNodeRequiredProps(),ii))))}}],[{key:"getDerivedStateFromProps",value:function(j,ye){var pe=ye.prevProps,ee={prevProps:j};function fe(kn){return!pe&&kn in j||pe&&pe[kn]!==j[kn]}var _e,Ge=ye.fieldNames;if(fe("fieldNames")&&(Ge=gs(j.fieldNames),ee.fieldNames=Ge),fe("treeData")?_e=j.treeData:fe("children")&&(Object(bt.a)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),_e=Di(j.children)),_e){ee.treeData=_e;var ke=fo(_e,{fieldNames:Ge});ee.keyEntities=Object(Z.a)(Object(be.a)({},ku,Ud),ke.keyEntities)}var rt=ee.keyEntities||ye.keyEntities;if(fe("expandedKeys")||pe&&fe("autoExpandParent"))ee.expandedKeys=j.autoExpandParent||!pe&&j.defaultExpandParent?bo(j.expandedKeys,rt):j.expandedKeys;else if(!pe&&j.defaultExpandAll){var St=Object(Z.a)({},rt);delete St[ku],ee.expandedKeys=Object.keys(St).map(function(kn){return St[kn].key})}else!pe&&j.defaultExpandedKeys&&(ee.expandedKeys=j.autoExpandParent||j.defaultExpandParent?bo(j.defaultExpandedKeys,rt):j.defaultExpandedKeys);if(ee.expandedKeys||delete ee.expandedKeys,_e||ee.expandedKeys){var Et=Zr(_e||ye.treeData,ee.expandedKeys||ye.expandedKeys,Ge);ee.flattenNodes=Et}if(j.selectable&&(fe("selectedKeys")?ee.selectedKeys=ed(j.selectedKeys,j):!pe&&j.defaultSelectedKeys&&(ee.selectedKeys=ed(j.defaultSelectedKeys,j))),j.checkable){var Dt;if(fe("checkedKeys")?Dt=Tl(j.checkedKeys)||{}:!pe&&j.defaultCheckedKeys?Dt=Tl(j.defaultCheckedKeys)||{}:_e&&(Dt=Tl(j.checkedKeys)||{checkedKeys:ye.checkedKeys,halfCheckedKeys:ye.halfCheckedKeys}),Dt){var wt=Dt,Nt=wt.checkedKeys,jt=Nt===void 0?[]:Nt,Zt=wt.halfCheckedKeys,rn=Zt===void 0?[]:Zt;if(!j.checkStrictly){var sn=Ku(jt,!0,rt);jt=sn.checkedKeys,rn=sn.halfCheckedKeys}ee.checkedKeys=jt,ee.halfCheckedKeys=rn}}return fe("loadedKeys")&&(ee.loadedKeys=j.loadedKeys),ee}}]),ae}(P.Component);zh.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Fh,allowDrop:function(){return!0}},zh.TreeNode=_l;var wy=zh,Gg=wy,La=D("sEfC"),du=D.n(La),ec={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Wr=ec,Xl=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Wr}))};Xl.displayName="FileOutlined";var Zl=P.forwardRef(Xl),id={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Ug=id,Vh=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Ug}))};Vh.displayName="FolderOpenOutlined";var Yd=P.forwardRef(Vh),av={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Ms=av,Wg=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Ms}))};Wg.displayName="FolderOutlined";var Ps=P.forwardRef(Wg),tc;(function(N){N[N.None=0]="None",N[N.Start=1]="Start",N[N.End=2]="End"})(tc||(tc={}));function Pl(N,$){function ae(R){var j=R.key,ye=R.children;$(j,R)!==!1&&Pl(ye||[],$)}N.forEach(ae)}function Xd(N){var $=N.treeData,ae=N.expandedKeys,R=N.startKey,j=N.endKey,ye=[],pe=tc.None;if(R&&R===j)return[R];if(!R||!j)return[];function ee(fe){return fe===R||fe===j}return Pl($,function(fe){if(pe===tc.End)return!1;if(ee(fe)){if(ye.push(fe),pe===tc.None)pe=tc.Start;else if(pe===tc.Start)return pe=tc.End,!1}else pe===tc.Start&&ye.push(fe);return ae.indexOf(fe)!==-1}),ye}function Zd(N,$){var ae=Object(Pe.a)($),R=[];return Pl(N,function(j,ye){var pe=ae.indexOf(j);return pe!==-1&&(R.push(ye),ae.splice(pe,1)),!!ae.length}),R}var Da=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae};function Yn(N){var $=N.isLeaf,ae=N.expanded;return $?P.createElement(Zl,null):ae?P.createElement(Yd,null):P.createElement(Ps,null)}function nr(N){var $=N.treeData,ae=N.children;return $||Di(ae)}var ms=function($,ae){var R=$.defaultExpandAll,j=$.defaultExpandParent,ye=$.defaultExpandedKeys,pe=Da($,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),ee=P.useRef(),fe=P.useRef(),_e=P.createRef();P.useImperativeHandle(ae,function(){return _e.current});var Ge=function(){var Zn=fo(nr(pe)),Jn=Zn.keyEntities,Rr;return R?Rr=Object.keys(Jn):j?Rr=bo(pe.expandedKeys||ye||[],Jn):Rr=pe.expandedKeys||ye,Rr},ke=P.useState(pe.selectedKeys||pe.defaultSelectedKeys||[]),rt=Object(F.a)(ke,2),St=rt[0],Et=rt[1],Dt=P.useState(Ge()),wt=Object(F.a)(Dt,2),Nt=wt[0],jt=wt[1];P.useEffect(function(){"selectedKeys"in pe&&Et(pe.selectedKeys)},[pe.selectedKeys]),P.useEffect(function(){"expandedKeys"in pe&&jt(pe.expandedKeys)},[pe.expandedKeys]);var Zt=function(Zn,Jn){var Rr=Jn.isLeaf;Rr||Zn.shiftKey||Zn.metaKey||Zn.ctrlKey||_e.current.onNodeExpand(Zn,Jn)},rn=du()(Zt,200,{leading:!0}),sn=function(Zn,Jn){var Rr;return"expandedKeys"in pe||jt(Zn),(Rr=pe.onExpand)===null||Rr===void 0?void 0:Rr.call(pe,Zn,Jn)},kn=function(Zn,Jn){var Rr,fi=pe.expandAction;fi==="click"&&rn(Zn,Jn),(Rr=pe.onClick)===null||Rr===void 0||Rr.call(pe,Zn,Jn)},rr=function(Zn,Jn){var Rr,fi=pe.expandAction;fi==="doubleClick"&&rn(Zn,Jn),(Rr=pe.onDoubleClick)===null||Rr===void 0||Rr.call(pe,Zn,Jn)},Un=function(Zn,Jn){var Rr,fi=pe.multiple,Ni=Jn.node,yi=Jn.nativeEvent,Ri=Ni.key,Ji=Ri===void 0?"":Ri,Oa=nr(pe),Xi=Object(re.a)(Object(re.a)({},Jn),{selected:!0}),ii=(yi==null?void 0:yi.ctrlKey)||(yi==null?void 0:yi.metaKey),Qr=yi==null?void 0:yi.shiftKey,bi;fi&&ii?(bi=Zn,ee.current=Ji,fe.current=bi,Xi.selectedNodes=Zd(Oa,bi)):fi&&Qr?(bi=Array.from(new Set([].concat(Object(Pe.a)(fe.current||[]),Object(Pe.a)(Xd({treeData:Oa,expandedKeys:Nt,startKey:Ji,endKey:ee.current}))))),Xi.selectedNodes=Zd(Oa,bi)):(bi=[Ji],ee.current=Ji,fe.current=bi,Xi.selectedNodes=Zd(Oa,bi)),(Rr=pe.onSelect)===null||Rr===void 0||Rr.call(pe,bi,Xi),"selectedKeys"in pe||Et(bi)},Dn=P.useContext(Fr.b),ar=Dn.getPrefixCls,Xn=Dn.direction,xr=pe.prefixCls,Pn=pe.className,Qn=Da(pe,["prefixCls","className"]),Dr=ar("tree",xr),vr=de()("".concat(Dr,"-directory"),Object(be.a)({},"".concat(Dr,"-directory-rtl"),Xn==="rtl"),Pn);return P.createElement(Uh,Object(re.a)({icon:Yn,ref:_e,blockNode:!0},Qn,{prefixCls:Dr,className:vr,expandedKeys:Nt,selectedKeys:St,onSelect:Un,onClick:kn,onDoubleClick:rr,onExpand:sn}))},Ra=P.forwardRef(ms);Ra.displayName="DirectoryTree",Ra.defaultProps={showIcon:!0,expandAction:"click"};var $d=Ra,Va=D("EXcs"),Kg=D("ye1Q"),My={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},ov=My,Hh=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:ov}))};Hh.displayName="MinusSquareOutlined";var Ef=P.forwardRef(Hh),_y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},pl=_y,sv=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:pl}))};sv.displayName="PlusSquareOutlined";var ei=P.forwardRef(sv),lv={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Gh=lv,vl=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Gh}))};vl.displayName="CaretDownFilled";var hu=P.forwardRef(vl),Js=D("0n0R");function Ll(N,$,ae,R){var j=R.isLeaf,ye=R.expanded,pe=R.loading;if(pe)return P.createElement(Kg.a,{className:"".concat(N,"-switcher-loading-icon")});var ee;if(ae&&Object(Y.a)(ae)==="object"&&(ee=ae.showLeafIcon),j)return ae?Object(Y.a)(ae)==="object"&&!ee?P.createElement("span",{className:"".concat(N,"-switcher-leaf-line")}):P.createElement(Zl,{className:"".concat(N,"-switcher-line-icon")}):null;var fe="".concat(N,"-switcher-icon");return Object(Js.b)($)?Object(Js.a)($,{className:de()($.props.className||"",fe)}):$||(ae?ye?P.createElement(Ef,{className:"".concat(N,"-switcher-line-icon")}):P.createElement(ei,{className:"".concat(N,"-switcher-line-icon")}):P.createElement(hu,{className:fe}))}var Af=4;function Ls(N){var $,ae=N.dropPosition,R=N.dropLevelOffset,j=N.prefixCls,ye=N.indent,pe=N.direction,ee=pe===void 0?"ltr":pe,fe=ee==="ltr"?"left":"right",_e=ee==="ltr"?"right":"left",Ge=($={},Object(be.a)($,fe,-R*ye+Af),Object(be.a)($,_e,0),$);switch(ae){case-1:Ge.top=-3;break;case 1:Ge.bottom=-3;break;default:Ge.bottom=-3,Ge[fe]=ye+Af;break}return X.a.createElement("div",{style:Ge,className:"".concat(j,"-drop-indicator")})}var _i=P.forwardRef(function(N,$){var ae,R=P.useContext(Fr.b),j=R.getPrefixCls,ye=R.direction,pe=R.virtual,ee=N.prefixCls,fe=N.className,_e=N.showIcon,Ge=N.showLine,ke=N.switcherIcon,rt=N.blockNode,St=N.children,Et=N.checkable,Dt=N.selectable,wt=N.draggable,Nt=j("tree",ee),jt=Object(re.a)(Object(re.a)({},N),{showLine:Boolean(Ge),dropIndicatorRender:Ls}),Zt=P.useMemo(function(){if(!wt)return!1;var rn={};switch(Object(Y.a)(wt)){case"function":rn.nodeDraggable=wt;break;case"object":rn=Object(re.a)({},wt);break;default:}return rn.icon!==!1&&(rn.icon=rn.icon||P.createElement(Yc,null)),rn},[wt]);return P.createElement(Gg,Object(re.a)({itemHeight:20,ref:$,virtual:pe},jt,{prefixCls:Nt,className:de()((ae={},Object(be.a)(ae,"".concat(Nt,"-icon-hide"),!_e),Object(be.a)(ae,"".concat(Nt,"-block-node"),rt),Object(be.a)(ae,"".concat(Nt,"-unselectable"),!Dt),Object(be.a)(ae,"".concat(Nt,"-rtl"),ye==="rtl"),ae),fe),direction:ye,checkable:Et&&P.createElement("span",{className:"".concat(Nt,"-checkbox-inner")}),selectable:Dt,switcherIcon:function(sn){return Ll(Nt,ke,Ge,sn)},draggable:Zt}),St)});_i.TreeNode=_l,_i.DirectoryTree=$d,_i.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:Object(re.a)(Object(re.a)({},Va.a),{motionAppear:!1}),blockNode:!1};var Uh=_i,Pf=Uh,Xa=D("ECub"),Dl=function($){return P.createElement("div",{className:$.className,onClick:function(R){return R.stopPropagation()}},$.children)},Cc=Dl,Rl=D("l+S1"),uv=D("jN4g"),Wh=D("CWQg");function Kh(N,$,ae,R,j){var ye;return de()(N,(ye={},Object(be.a)(ye,"".concat(N,"-sm"),ae==="small"),Object(be.a)(ye,"".concat(N,"-lg"),ae==="large"),Object(be.a)(ye,"".concat(N,"-disabled"),R),Object(be.a)(ye,"".concat(N,"-rtl"),j==="rtl"),Object(be.a)(ye,"".concat(N,"-borderless"),!$),ye))}function ad(N){return!!(N.prefix||N.suffix||N.allowClear)}var Yh=Object(Wh.a)("text","input");function od(N){return!!(N.addonBefore||N.addonAfter)}var Xh=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(){var R;return Object(Ir.a)(this,ae),R=$.apply(this,arguments),R.containerRef=P.createRef(),R.onInputMouseUp=function(j){var ye;if((ye=R.containerRef.current)===null||ye===void 0?void 0:ye.contains(j.target)){var pe=R.props.triggerFocus;pe==null||pe()}},R}return Object(Ur.a)(ae,[{key:"renderClearIcon",value:function(j){var ye,pe=this.props,ee=pe.allowClear,fe=pe.value,_e=pe.disabled,Ge=pe.readOnly,ke=pe.handleReset,rt=pe.suffix;if(!ee)return null;var St=!_e&&!Ge&&fe,Et="".concat(j,"-clear-icon");return P.createElement(uv.a,{onClick:ke,onMouseDown:function(wt){return wt.preventDefault()},className:de()((ye={},Object(be.a)(ye,"".concat(Et,"-hidden"),!St),Object(be.a)(ye,"".concat(Et,"-has-suffix"),!!rt),ye),Et),role:"button"})}},{key:"renderSuffix",value:function(j){var ye=this.props,pe=ye.suffix,ee=ye.allowClear;return pe||ee?P.createElement("span",{className:"".concat(j,"-suffix")},this.renderClearIcon(j),pe):null}},{key:"renderLabeledIcon",value:function(j,ye){var pe,ee=this.props,fe=ee.focused,_e=ee.value,Ge=ee.prefix,ke=ee.className,rt=ee.size,St=ee.suffix,Et=ee.disabled,Dt=ee.allowClear,wt=ee.direction,Nt=ee.style,jt=ee.readOnly,Zt=ee.bordered,rn=ee.hidden;if(!ad(this.props))return Object(Js.a)(ye,{value:_e});var sn=this.renderSuffix(j),kn=Ge?P.createElement("span",{className:"".concat(j,"-prefix")},Ge):null,rr=de()("".concat(j,"-affix-wrapper"),(pe={},Object(be.a)(pe,"".concat(j,"-affix-wrapper-focused"),fe),Object(be.a)(pe,"".concat(j,"-affix-wrapper-disabled"),Et),Object(be.a)(pe,"".concat(j,"-affix-wrapper-sm"),rt==="small"),Object(be.a)(pe,"".concat(j,"-affix-wrapper-lg"),rt==="large"),Object(be.a)(pe,"".concat(j,"-affix-wrapper-input-with-clear-btn"),St&&Dt&&_e),Object(be.a)(pe,"".concat(j,"-affix-wrapper-rtl"),wt==="rtl"),Object(be.a)(pe,"".concat(j,"-affix-wrapper-readonly"),jt),Object(be.a)(pe,"".concat(j,"-affix-wrapper-borderless"),!Zt),Object(be.a)(pe,"".concat(ke),!od(this.props)&&ke),pe));return P.createElement("span",{ref:this.containerRef,className:rr,style:Nt,onMouseUp:this.onInputMouseUp,hidden:rn},kn,Object(Js.a)(ye,{style:null,value:_e,className:Kh(j,Zt,rt,Et)}),sn)}},{key:"renderInputWithLabel",value:function(j,ye){var pe,ee=this.props,fe=ee.addonBefore,_e=ee.addonAfter,Ge=ee.style,ke=ee.size,rt=ee.className,St=ee.direction,Et=ee.hidden;if(!od(this.props))return ye;var Dt="".concat(j,"-group"),wt="".concat(Dt,"-addon"),Nt=fe?P.createElement("span",{className:wt},fe):null,jt=_e?P.createElement("span",{className:wt},_e):null,Zt=de()("".concat(j,"-wrapper"),Dt,Object(be.a)({},"".concat(Dt,"-rtl"),St==="rtl")),rn=de()("".concat(j,"-group-wrapper"),(pe={},Object(be.a)(pe,"".concat(j,"-group-wrapper-sm"),ke==="small"),Object(be.a)(pe,"".concat(j,"-group-wrapper-lg"),ke==="large"),Object(be.a)(pe,"".concat(j,"-group-wrapper-rtl"),St==="rtl"),pe),rt);return P.createElement("span",{className:rn,style:Ge,hidden:Et},P.createElement("span",{className:Zt},Nt,Object(Js.a)(ye,{style:null}),jt))}},{key:"renderTextAreaWithClearIcon",value:function(j,ye){var pe,ee=this.props,fe=ee.value,_e=ee.allowClear,Ge=ee.className,ke=ee.style,rt=ee.direction,St=ee.bordered,Et=ee.hidden;if(!_e)return Object(Js.a)(ye,{value:fe});var Dt=de()("".concat(j,"-affix-wrapper"),"".concat(j,"-affix-wrapper-textarea-with-clear-btn"),(pe={},Object(be.a)(pe,"".concat(j,"-affix-wrapper-rtl"),rt==="rtl"),Object(be.a)(pe,"".concat(j,"-affix-wrapper-borderless"),!St),Object(be.a)(pe,"".concat(Ge),!od(this.props)&&Ge),pe));return P.createElement("span",{className:Dt,style:ke,hidden:Et},Object(Js.a)(ye,{style:null,value:fe}),this.renderClearIcon(j))}},{key:"render",value:function(){var j=this.props,ye=j.prefixCls,pe=j.inputType,ee=j.element;return pe===Yh[0]?this.renderTextAreaWithClearIcon(ye,ee):this.renderInputWithLabel(ye,this.renderLabeledIcon(ye,ee))}}]),ae}(P.Component),Jd=Xh,Zc=D("3Nzz");function Tc(N){return typeof N=="undefined"||N===null?"":String(N)}function Fo(N,$,ae,R){if(!!ae){var j=$;if($.type==="click"){var ye=N.cloneNode(!0);j=Object.create($,{target:{value:ye},currentTarget:{value:ye}}),ye.value="",ae(j);return}if(R!==void 0){j=Object.create($,{target:{value:N},currentTarget:{value:N}}),N.value=R,ae(j);return}ae(j)}}function _s(N,$){if(!!N){N.focus($);var ae=$||{},R=ae.cursor;if(R){var j=N.value.length;switch(R){case"start":N.setSelectionRange(0,0);break;case"end":N.setSelectionRange(j,j);break;default:N.setSelectionRange(0,j)}}}}var Cy=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(R){var j;Object(Ir.a)(this,ae),j=$.call(this,R),j.direction="ltr",j.focus=function(pe){_s(j.input,pe)},j.saveClearableInput=function(pe){j.clearableInput=pe},j.saveInput=function(pe){j.input=pe},j.onFocus=function(pe){var ee=j.props.onFocus;j.setState({focused:!0},j.clearPasswordValueAttribute),ee==null||ee(pe)},j.onBlur=function(pe){var ee=j.props.onBlur;j.setState({focused:!1},j.clearPasswordValueAttribute),ee==null||ee(pe)},j.handleReset=function(pe){j.setValue("",function(){j.focus()}),Fo(j.input,pe,j.props.onChange)},j.renderInput=function(pe,ee,fe){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ge=j.props,ke=Ge.className,rt=Ge.addonBefore,St=Ge.addonAfter,Et=Ge.size,Dt=Ge.disabled,wt=Ge.htmlSize,Nt=Object(tt.a)(j.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","inputType","bordered","htmlSize","showCount"]);return P.createElement("input",Object(re.a)({autoComplete:_e.autoComplete},Nt,{onChange:j.handleChange,onFocus:j.onFocus,onBlur:j.onBlur,onKeyDown:j.handleKeyDown,className:de()(Kh(pe,fe,Et||ee,Dt,j.direction),Object(be.a)({},ke,ke&&!rt&&!St)),ref:j.saveInput,size:wt}))},j.clearPasswordValueAttribute=function(){j.removePasswordTimeout=setTimeout(function(){j.input&&j.input.getAttribute("type")==="password"&&j.input.hasAttribute("value")&&j.input.removeAttribute("value")})},j.handleChange=function(pe){j.setValue(pe.target.value,j.clearPasswordValueAttribute),Fo(j.input,pe,j.props.onChange)},j.handleKeyDown=function(pe){var ee=j.props,fe=ee.onPressEnter,_e=ee.onKeyDown;fe&&pe.keyCode===13&&fe(pe),_e==null||_e(pe)},j.renderShowCountSuffix=function(pe){var ee=j.state.value,fe=j.props,_e=fe.maxLength,Ge=fe.suffix,ke=fe.showCount,rt=Number(_e)>0;if(Ge||ke){var St=Object(Pe.a)(Tc(ee)).length,Et=null;return Object(Y.a)(ke)==="object"?Et=ke.formatter({count:St,maxLength:_e}):Et="".concat(St).concat(rt?" / ".concat(_e):""),P.createElement(P.Fragment,null,!!ke&&P.createElement("span",{className:de()("".concat(pe,"-show-count-suffix"),Object(be.a)({},"".concat(pe,"-show-count-has-suffix"),!!Ge))},Et),Ge)}return null},j.renderComponent=function(pe){var ee=pe.getPrefixCls,fe=pe.direction,_e=pe.input,Ge=j.state,ke=Ge.value,rt=Ge.focused,St=j.props,Et=St.prefixCls,Dt=St.bordered,wt=Dt===void 0?!0:Dt,Nt=ee("input",Et);j.direction=fe;var jt=j.renderShowCountSuffix(Nt);return P.createElement(Zc.b.Consumer,null,function(Zt){return P.createElement(Jd,Object(re.a)({size:Zt},j.props,{prefixCls:Nt,inputType:"input",value:Tc(ke),element:j.renderInput(Nt,Zt,wt,_e),handleReset:j.handleReset,ref:j.saveClearableInput,direction:fe,focused:rt,triggerFocus:j.focus,bordered:wt,suffix:jt}))})};var ye=typeof R.value=="undefined"?R.defaultValue:R.value;return j.state={value:ye,focused:!1,prevValue:R.value},j}return Object(Ur.a)(ae,[{key:"componentDidMount",value:function(){this.clearPasswordValueAttribute()}},{key:"componentDidUpdate",value:function(){}},{key:"getSnapshotBeforeUpdate",value:function(j){return ad(j)!==ad(this.props)&&Object(Lu.a)(this.input!==document.activeElement,"Input","When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ"),null}},{key:"componentWillUnmount",value:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(j,ye,pe){this.input.setSelectionRange(j,ye,pe)}},{key:"select",value:function(){this.input.select()}},{key:"setValue",value:function(j,ye){this.props.value===void 0?this.setState({value:j},ye):ye==null||ye()}},{key:"render",value:function(){return P.createElement(Fr.a,null,this.renderComponent)}}],[{key:"getDerivedStateFromProps",value:function(j,ye){var pe=ye.prevValue,ee={prevValue:j.value};return(j.value!==void 0||pe!==j.value)&&(ee.value=j.value),j.disabled&&(ee.focused=!1),ee}}]),ae}(P.Component);Cy.defaultProps={type:"text"};var pu=Cy,ju=function($){return P.createElement(Fr.a,null,function(ae){var R,j=ae.getPrefixCls,ye=ae.direction,pe=$.prefixCls,ee=$.className,fe=ee===void 0?"":ee,_e=j("input-group",pe),Ge=de()(_e,(R={},Object(be.a)(R,"".concat(_e,"-lg"),$.size==="large"),Object(be.a)(R,"".concat(_e,"-sm"),$.size==="small"),Object(be.a)(R,"".concat(_e,"-compact"),$.compact),Object(be.a)(R,"".concat(_e,"-rtl"),ye==="rtl"),R),fe);return P.createElement("span",{className:Ge,style:$.style,onMouseEnter:$.onMouseEnter,onMouseLeave:$.onMouseLeave,onFocus:$.onFocus,onBlur:$.onBlur},$.children)})},sd=ju,nl=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},Yg=P.forwardRef(function(N,$){var ae,R=N.prefixCls,j=N.inputPrefixCls,ye=N.className,pe=N.size,ee=N.suffix,fe=N.enterButton,_e=fe===void 0?!1:fe,Ge=N.addonAfter,ke=N.loading,rt=N.disabled,St=N.onSearch,Et=N.onChange,Dt=nl(N,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),wt=P.useContext(Fr.b),Nt=wt.getPrefixCls,jt=wt.direction,Zt=P.useContext(Zc.b),rn=pe||Zt,sn=P.useRef(null),kn=function(Zn){Zn&&Zn.target&&Zn.type==="click"&&St&&St(Zn.target.value,Zn),Et&&Et(Zn)},rr=function(Zn){var Jn;document.activeElement===((Jn=sn.current)===null||Jn===void 0?void 0:Jn.input)&&Zn.preventDefault()},Un=function(Zn){var Jn;St&&St((Jn=sn.current)===null||Jn===void 0?void 0:Jn.input.value,Zn)},Dn=Nt("input-search",R),ar=Nt("input",j),Xn=typeof _e=="boolean"?P.createElement(Rl.a,null):null,xr="".concat(Dn,"-button"),Pn,Qn=_e||{},Dr=Qn.type&&Qn.type.__ANT_BUTTON===!0;Dr||Qn.type==="button"?Pn=Object(Js.a)(Qn,Object(re.a)({onMouseDown:rr,onClick:function(Zn){var Jn,Rr;(Rr=(Jn=Qn==null?void 0:Qn.props)===null||Jn===void 0?void 0:Jn.onClick)===null||Rr===void 0||Rr.call(Jn,Zn),Un(Zn)},key:"enterButton"},Dr?{className:xr,size:rn}:{})):Pn=P.createElement(Nu.a,{className:xr,type:_e?"primary":void 0,size:rn,disabled:rt,key:"enterButton",onMouseDown:rr,onClick:Un,loading:ke,icon:Xn},_e),Ge&&(Pn=[Pn,Object(Js.a)(Ge,{key:"addonAfter"})]);var vr=de()(Dn,(ae={},Object(be.a)(ae,"".concat(Dn,"-rtl"),jt==="rtl"),Object(be.a)(ae,"".concat(Dn,"-").concat(rn),!!rn),Object(be.a)(ae,"".concat(Dn,"-with-button"),!!_e),ae),ye);return P.createElement(pu,Object(re.a)({ref:Object(Yt.a)(sn,$),onPressEnter:Un},Dt,{size:rn,prefixCls:ar,addonAfter:Pn,suffix:ee,onChange:kn,className:vr,disabled:rt}))});Yg.displayName="Search";var Ty=Yg,Lf=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,Yi=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ld={},no;function $c(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ae=N.getAttribute("id")||N.getAttribute("data-reactid")||N.getAttribute("name");if($&&ld[ae])return ld[ae];var R=window.getComputedStyle(N),j=R.getPropertyValue("box-sizing")||R.getPropertyValue("-moz-box-sizing")||R.getPropertyValue("-webkit-box-sizing"),ye=parseFloat(R.getPropertyValue("padding-bottom"))+parseFloat(R.getPropertyValue("padding-top")),pe=parseFloat(R.getPropertyValue("border-bottom-width"))+parseFloat(R.getPropertyValue("border-top-width")),ee=Yi.map(function(_e){return"".concat(_e,":").concat(R.getPropertyValue(_e))}).join(";"),fe={sizingStyle:ee,paddingSize:ye,borderSize:pe,boxSizing:j};return $&&ae&&(ld[ae]=fe),fe}function Wo(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;no||(no=document.createElement("textarea"),no.setAttribute("tab-index","-1"),no.setAttribute("aria-hidden","true"),document.body.appendChild(no)),N.getAttribute("wrap")?no.setAttribute("wrap",N.getAttribute("wrap")):no.removeAttribute("wrap");var j=$c(N,$),ye=j.paddingSize,pe=j.borderSize,ee=j.boxSizing,fe=j.sizingStyle;no.setAttribute("style","".concat(fe,";").concat(Lf)),no.value=N.value||N.placeholder||"";var _e=Number.MIN_SAFE_INTEGER,Ge=Number.MAX_SAFE_INTEGER,ke=no.scrollHeight,rt;if(ee==="border-box"?ke+=pe:ee==="content-box"&&(ke-=ye),ae!==null||R!==null){no.value=" ";var St=no.scrollHeight-ye;ae!==null&&(_e=St*ae,ee==="border-box"&&(_e=_e+ye+pe),ke=Math.max(_e,ke)),R!==null&&(Ge=St*R,ee==="border-box"&&(Ge=Ge+ye+pe),rt=ke>Ge?"":"hidden",ke=Math.min(Ge,ke))}return{height:ke,minHeight:_e,maxHeight:Ge,overflowY:rt,resize:"none"}}var nc;(function(N){N[N.NONE=0]="NONE",N[N.RESIZING=1]="RESIZING",N[N.RESIZED=2]="RESIZED"})(nc||(nc={}));var Oc=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(R){var j;return Object(Ir.a)(this,ae),j=$.call(this,R),j.nextFrameActionId=void 0,j.resizeFrameId=void 0,j.textArea=void 0,j.saveTextArea=function(ye){j.textArea=ye},j.handleResize=function(ye){var pe=j.state.resizeStatus,ee=j.props,fe=ee.autoSize,_e=ee.onResize;pe===nc.NONE&&(typeof _e=="function"&&_e(ye),fe&&j.resizeOnNextFrame())},j.resizeOnNextFrame=function(){cancelAnimationFrame(j.nextFrameActionId),j.nextFrameActionId=requestAnimationFrame(j.resizeTextarea)},j.resizeTextarea=function(){var ye=j.props.autoSize;if(!(!ye||!j.textArea)){var pe=ye.minRows,ee=ye.maxRows,fe=Wo(j.textArea,!1,pe,ee);j.setState({textareaStyles:fe,resizeStatus:nc.RESIZING},function(){cancelAnimationFrame(j.resizeFrameId),j.resizeFrameId=requestAnimationFrame(function(){j.setState({resizeStatus:nc.RESIZED},function(){j.resizeFrameId=requestAnimationFrame(function(){j.setState({resizeStatus:nc.NONE}),j.fixFirefoxAutoScroll()})})})})}},j.renderTextArea=function(){var ye=j.props,pe=ye.prefixCls,ee=pe===void 0?"rc-textarea":pe,fe=ye.autoSize,_e=ye.onResize,Ge=ye.className,ke=ye.disabled,rt=j.state,St=rt.textareaStyles,Et=rt.resizeStatus,Dt=Object(tt.a)(j.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),wt=de()(ee,Ge,Object(be.a)({},"".concat(ee,"-disabled"),ke));"value"in Dt&&(Dt.value=Dt.value||"");var Nt=Object(Z.a)(Object(Z.a)(Object(Z.a)({},j.props.style),St),Et===nc.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return P.createElement(Ct.a,{onResize:j.handleResize,disabled:!(fe||_e)},P.createElement("textarea",Object(re.a)({},Dt,{className:wt,style:Nt,ref:j.saveTextArea})))},j.state={textareaStyles:{},resizeStatus:nc.NONE},j}return Object(Ur.a)(ae,[{key:"componentDidUpdate",value:function(j){(j.value!==this.props.value||!Ft()(j.autoSize,this.props.autoSize))&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var j=this.textArea.selectionStart,ye=this.textArea.selectionEnd;this.textArea.setSelectionRange(j,ye)}}catch(pe){}}},{key:"render",value:function(){return this.renderTextArea()}}]),ae}(P.Component),Zh=Oc,cv=function(N){Object(Nr.a)(ae,N);var $=Object(br.a)(ae);function ae(R){var j;Object(Ir.a)(this,ae),j=$.call(this,R),j.resizableTextArea=void 0,j.focus=function(){j.resizableTextArea.textArea.focus()},j.saveTextArea=function(pe){j.resizableTextArea=pe},j.handleChange=function(pe){var ee=j.props.onChange;j.setValue(pe.target.value,function(){j.resizableTextArea.resizeTextarea()}),ee&&ee(pe)},j.handleKeyDown=function(pe){var ee=j.props,fe=ee.onPressEnter,_e=ee.onKeyDown;pe.keyCode===13&&fe&&fe(pe),_e&&_e(pe)};var ye=typeof R.value=="undefined"||R.value===null?R.defaultValue:R.value;return j.state={value:ye},j}return Object(Ur.a)(ae,[{key:"setValue",value:function(j,ye){"value"in this.props||this.setState({value:j},ye)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return P.createElement(Zh,Object(re.a)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(j){return"value"in j?{value:j.value}:null}}]),ae}(P.Component),Oy=cv,fv=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae};function vu(N,$){return Object(Pe.a)(N||"").slice(0,$).join("")}var ud=P.forwardRef(function(N,$){var ae,R=N.prefixCls,j=N.bordered,ye=j===void 0?!0:j,pe=N.showCount,ee=pe===void 0?!1:pe,fe=N.maxLength,_e=N.className,Ge=N.style,ke=N.size,rt=N.onCompositionStart,St=N.onCompositionEnd,Et=N.onChange,Dt=fv(N,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange"]),wt=P.useContext(Fr.b),Nt=wt.getPrefixCls,jt=wt.direction,Zt=P.useContext(Zc.b),rn=P.useRef(null),sn=P.useRef(null),kn=P.useState(!1),rr=Object(F.a)(kn,2),Un=rr[0],Dn=rr[1],ar=Object(Bd.a)(Dt.defaultValue,{value:Dt.value}),Xn=Object(F.a)(ar,2),xr=Xn[0],Pn=Xn[1],Qn=Dt.hidden,Dr=function(ii,Qr){Dt.value===void 0&&(Pn(ii),Qr==null||Qr())},vr=Number(fe)>0,dr=function(ii){Dn(!0),rt==null||rt(ii)},Zn=function(ii){Dn(!1);var Qr=ii.currentTarget.value;vr&&(Qr=vu(Qr,fe)),Qr!==xr&&(Dr(Qr),Fo(ii.currentTarget,ii,Et,Qr)),St==null||St(ii)},Jn=function(ii){var Qr=ii.target.value;!Un&&vr&&(Qr=vu(Qr,fe)),Dr(Qr),Fo(ii.currentTarget,ii,Et,Qr)},Rr=function(ii){var Qr,bi;Dr("",function(){var So;(So=rn.current)===null||So===void 0||So.focus()}),Fo((bi=(Qr=rn.current)===null||Qr===void 0?void 0:Qr.resizableTextArea)===null||bi===void 0?void 0:bi.textArea,ii,Et)},fi=Nt("input",R);P.useImperativeHandle($,function(){var Xi;return{resizableTextArea:(Xi=rn.current)===null||Xi===void 0?void 0:Xi.resizableTextArea,focus:function(Qr){var bi,So;_s((So=(bi=rn.current)===null||bi===void 0?void 0:bi.resizableTextArea)===null||So===void 0?void 0:So.textArea,Qr)},blur:function(){var Qr;return(Qr=rn.current)===null||Qr===void 0?void 0:Qr.blur()}}});var Ni=P.createElement(Oy,Object(re.a)({},Object(tt.a)(Dt,["allowClear"]),{className:de()((ae={},Object(be.a)(ae,"".concat(fi,"-borderless"),!ye),Object(be.a)(ae,_e,_e&&!ee),Object(be.a)(ae,"".concat(fi,"-sm"),Zt==="small"||ke==="small"),Object(be.a)(ae,"".concat(fi,"-lg"),Zt==="large"||ke==="large"),ae)),style:ee?void 0:Ge,prefixCls:fi,onCompositionStart:dr,onChange:Jn,onCompositionEnd:Zn,ref:rn})),yi=Tc(xr);!Un&&vr&&(Dt.value===null||Dt.value===void 0)&&(yi=vu(yi,fe));var Ri=P.createElement(Jd,Object(re.a)({},Dt,{prefixCls:fi,direction:jt,inputType:"text",value:yi,element:Ni,handleReset:Rr,ref:sn,bordered:ye,style:ee?void 0:Ge}));if(ee){var Ji=Object(Pe.a)(yi).length,Oa="";return Object(Y.a)(ee)==="object"?Oa=ee.formatter({count:Ji,maxLength:fe}):Oa="".concat(Ji).concat(vr?" / ".concat(fe):""),P.createElement("div",{hidden:Qn,className:de()("".concat(fi,"-textarea"),Object(be.a)({},"".concat(fi,"-textarea-rtl"),jt==="rtl"),"".concat(fi,"-textarea-show-count"),_e),style:Ge,"data-count":Oa},Ri)}return Ri}),rc=ud,Qd=D("9BLJ"),Bu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Ey=Bu,cd=function($,ae){return P.createElement(si.a,Object(Z.a)(Object(Z.a)({},$),{},{ref:ae,icon:Ey}))};cd.displayName="EyeInvisibleOutlined";var dv=P.forwardRef(cd),Ay=function(N,$){var ae={};for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&$.indexOf(R)<0&&(ae[R]=N[R]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,R=Object.getOwnPropertySymbols(N);j<R.length;j++)$.indexOf(R[j])<0&&Object.prototype.propertyIsEnumerable.call(N,R[j])&&(ae[R[j]]=N[R[j]]);return ae},Xg={click:"onClick",hover:"onMouseOver"},hv=P.forwardRef(function(N,$){var ae=Object(P.useState)(!1),R=Object(F.a)(ae,2),j=R[0],ye=R[1],pe=function(){var Ge=N.disabled;Ge||ye(!j)},ee=function(Ge){var ke,rt=N.action,St=N.iconRender,Et=St===void 0?function(){return null}:St,Dt=Xg[rt]||"",wt=Et(j),Nt=(ke={},Object(be.a)(ke,Dt,pe),Object(be.a)(ke,"className","".concat(Ge,"-icon")),Object(be.a)(ke,"key","passwordIcon"),Object(be.a)(ke,"onMouseDown",function(Zt){Zt.preventDefault()}),Object(be.a)(ke,"onMouseUp",function(Zt){Zt.preventDefault()}),ke);return P.cloneElement(P.isValidElement(wt)?wt:P.createElement("span",null,wt),Nt)},fe=function(Ge){var ke=Ge.getPrefixCls,rt=N.className,St=N.prefixCls,Et=N.inputPrefixCls,Dt=N.size,wt=N.visibilityToggle,Nt=Ay(N,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),jt=ke("input",Et),Zt=ke("input-password",St),rn=wt&&ee(Zt),sn=de()(Zt,rt,Object(be.a)({},"".concat(Zt,"-").concat(Dt),!!Dt)),kn=Object(re.a)(Object(re.a)({},Object(tt.a)(Nt,["suffix","iconRender"])),{type:j?"text":"password",className:sn,prefixCls:jt,suffix:rn});return Dt&&(kn.size=Dt),P.createElement(pu,Object(re.a)({ref:$},kn))};return P.createElement(Fr.a,null,fe)});hv.defaultProps={action:"click",visibilityToggle:!0,iconRender:function($){return $?P.createElement(Qd.a,null):P.createElement(dv,null)}},hv.displayName="Password";var Py=hv;pu.Group=sd,pu.Search=Ty,pu.TextArea=rc,pu.Password=Py;var Ly=pu,Dy=function($){var ae=$.value,R=$.onChange,j=$.filterSearch,ye=$.tablePrefixCls,pe=$.locale;return j?P.createElement("div",{className:"".concat(ye,"-filter-dropdown-search")},P.createElement(Ly,{prefix:P.createElement(Rl.a,null),placeholder:pe.filterSearchPlaceholder,onChange:R,value:ae,htmlSize:1,className:"".concat(ye,"-filter-dropdown-search-input")})):null},qd=Dy,Df=D("hkKa");function Ry(N){var $=P.useRef(N),ae=Object(Df.a)();return[function(){return $.current},function(R){$.current=R,ae()}]}function Iy(N){return N.some(function($){var ae=$.children;return ae})}function Zg(N,$){return typeof $=="string"||typeof $=="number"?$==null?void 0:$.toString().toLowerCase().includes(N.trim().toLowerCase()):!1}function $h(N){var $=N.filters,ae=N.prefixCls,R=N.filteredKeys,j=N.filterMultiple,ye=N.searchValue;return $.map(function(pe,ee){var fe=String(pe.value);if(pe.children)return P.createElement(Wl.a.SubMenu,{key:fe||ee,title:pe.text,popupClassName:"".concat(ae,"-dropdown-submenu")},$h({filters:pe.children,prefixCls:ae,filteredKeys:R,filterMultiple:j,searchValue:ye}));var _e=j?Yu:Xu.a,Ge=P.createElement(Wl.a.Item,{key:pe.value!==void 0?fe:ee},P.createElement(_e,{checked:R.includes(fe)}),P.createElement("span",null,pe.text));return ye.trim()?Zg(ye,pe.text)?Ge:void 0:Ge})}function Ny(N){var $,ae=N.tablePrefixCls,R=N.prefixCls,j=N.column,ye=N.dropdownPrefixCls,pe=N.columnKey,ee=N.filterMultiple,fe=N.filterMode,_e=fe===void 0?"menu":fe,Ge=N.filterSearch,ke=Ge===void 0?!1:Ge,rt=N.filterState,St=N.triggerFilter,Et=N.locale,Dt=N.children,wt=N.getPopupContainer,Nt=j.filterDropdownVisible,jt=j.onFilterDropdownVisibleChange,Zt=P.useState(!1),rn=Object(F.a)(Zt,2),sn=rn[0],kn=rn[1],rr=!!(rt&&((($=rt.filteredKeys)===null||$===void 0?void 0:$.length)||rt.forceFiltered)),Un=function(ir){kn(ir),jt==null||jt(ir)},Dn=typeof Nt=="boolean"?Nt:sn,ar=rt==null?void 0:rt.filteredKeys,Xn=Ry(ar||[]),xr=Object(F.a)(Xn,2),Pn=xr[0],Qn=xr[1],Dr=function(ir){var Ha=ir.selectedKeys;Qn(Ha)},vr=function(ir,Ha){var Na=Ha.node,Ds=Ha.checked;Dr(ee?{selectedKeys:ir}:{selectedKeys:Ds&&Na.key?[Na.key]:[]})};P.useEffect(function(){!sn||Dr({selectedKeys:ar||[]})},[ar]);var dr=P.useState([]),Zn=Object(F.a)(dr,2),Jn=Zn[0],Rr=Zn[1],fi=P.useRef(),Ni=function(ir){fi.current=window.setTimeout(function(){Rr(ir)})},yi=function(){window.clearTimeout(fi.current)};P.useEffect(function(){return function(){window.clearTimeout(fi.current)}},[]);var Ri=P.useState(""),Ji=Object(F.a)(Ri,2),Oa=Ji[0],Xi=Ji[1],ii=function(ir){var Ha=ir.target.value;Xi(Ha)};P.useEffect(function(){sn||Xi("")},[sn]);var Qr=function(ir){var Ha=ir&&ir.length?ir:null;if(Ha===null&&(!rt||!rt.filteredKeys)||$u()(Ha,rt==null?void 0:rt.filteredKeys))return null;St({column:j,key:pe,filteredKeys:Ha})},bi=function(){Un(!1),Qr(Pn())},So=function(){Xi(""),Qn([])},ki=function(){var ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},Ha=ir.closeDropdown;Ha&&Un(!1),Qr(Pn())},Ja=function(ir){ir&&ar!==void 0&&Qn(ar||[]),Un(ir),!ir&&!j.filterDropdown&&bi()},so=de()(Object(be.a)({},"".concat(ye,"-menu-without-submenu"),!Iy(j.filters||[]))),Qa=function(ir){if(ir.target.checked){var Ha=fd(j==null?void 0:j.filters).map(function(Na){return String(Na)});Qn(Ha)}else Qn([])},zo=function wa(ir){var Ha=ir.filters;return(Ha||[]).map(function(Na,Ds){var mu=String(Na.value),Qs={title:Na.text,key:Na.value!==void 0?mu:Ds};return Na.children&&(Qs.children=wa({filters:Na.children})),Qs})},Ko;if(typeof j.filterDropdown=="function")Ko=j.filterDropdown({prefixCls:"".concat(ye,"-custom"),setSelectedKeys:function(ir){return Dr({selectedKeys:ir})},selectedKeys:Pn(),confirm:ki,clearFilters:So,filters:j.filters,visible:Dn});else if(j.filterDropdown)Ko=j.filterDropdown;else{var lo=Pn()||[],Qi=function(){return(j.filters||[]).length===0?P.createElement(Xa.a,{image:Xa.a.PRESENTED_IMAGE_SIMPLE,description:Et.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):_e==="tree"?P.createElement(P.Fragment,null,P.createElement(qd,{filterSearch:ke,value:Oa,onChange:ii,tablePrefixCls:ae,locale:Et}),P.createElement("div",{className:"".concat(ae,"-filter-dropdown-tree")},ee?P.createElement(Yu,{className:"".concat(ae,"-filter-dropdown-checkall"),onChange:Qa},Et.filterCheckall):null,P.createElement(Pf,{checkable:!0,selectable:!1,blockNode:!0,multiple:ee,checkStrictly:!ee,className:"".concat(ye,"-menu"),onCheck:vr,checkedKeys:lo,selectedKeys:lo,showIcon:!1,treeData:zo({filters:j.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Oa.trim()?function(ir){return Zg(Oa,ir.title)}:void 0}))):P.createElement(P.Fragment,null,P.createElement(qd,{filterSearch:ke,value:Oa,onChange:ii,tablePrefixCls:ae,locale:Et}),P.createElement(Wl.a,{multiple:ee,prefixCls:"".concat(ye,"-menu"),className:so,onClick:yi,onSelect:Dr,onDeselect:Dr,selectedKeys:lo,getPopupContainer:wt,openKeys:Jn,onOpenChange:Ni},$h({filters:j.filters||[],prefixCls:R,filteredKeys:Pn(),filterMultiple:ee,searchValue:Oa})))};Ko=P.createElement(P.Fragment,null,Qi(),P.createElement("div",{className:"".concat(R,"-dropdown-btns")},P.createElement(Nu.a,{type:"link",size:"small",disabled:lo.length===0,onClick:So},Et.filterReset),P.createElement(Nu.a,{type:"primary",size:"small",onClick:bi},Et.filterConfirm)))}var sa=P.createElement(Cc,{className:"".concat(R,"-dropdown")},Ko),xi;typeof j.filterIcon=="function"?xi=j.filterIcon(rr):j.filterIcon?xi=j.filterIcon:xi=P.createElement(cu,null);var Kr=P.useContext(Fr.b),Gr=Kr.direction;return P.createElement("div",{className:"".concat(R,"-column")},P.createElement("span",{className:"".concat(ae,"-column-title")},Dt),P.createElement(Hd.a,{overlay:sa,trigger:["click"],visible:Dn,onVisibleChange:Ja,getPopupContainer:wt,placement:Gr==="rtl"?"bottomLeft":"bottomRight"},P.createElement("span",{role:"button",tabIndex:-1,className:de()("".concat(R,"-trigger"),{active:rr}),onClick:function(ir){ir.stopPropagation()}},xi)))}var pv=Ny;function Jh(N,$,ae){var R=[];return(N||[]).forEach(function(j,ye){var pe,ee=fl(ye,ae);if(j.filters||"filterDropdown"in j||"onFilter"in j)if("filteredValue"in j){var fe=j.filteredValue;"filterDropdown"in j||(fe=(pe=fe==null?void 0:fe.map(String))!==null&&pe!==void 0?pe:fe),R.push({column:j,key:Bo(j,ee),filteredKeys:fe,forceFiltered:j.filtered})}else R.push({column:j,key:Bo(j,ee),filteredKeys:$&&j.defaultFilteredValue?j.defaultFilteredValue:void 0,forceFiltered:j.filtered});"children"in j&&(R=[].concat(Object(Pe.a)(R),Object(Pe.a)(Jh(j.children,$,ee))))}),R}function eh(N,$,ae,R,j,ye,pe,ee){return ae.map(function(fe,_e){var Ge=fl(_e,ee),ke=fe.filterMultiple,rt=ke===void 0?!0:ke,St=fe.filterMode,Et=fe.filterSearch,Dt=fe;if(Dt.filters||Dt.filterDropdown){var wt=Bo(Dt,Ge),Nt=R.find(function(jt){var Zt=jt.key;return wt===Zt});Dt=Object(re.a)(Object(re.a)({},Dt),{title:function(Zt){return P.createElement(pv,{tablePrefixCls:N,prefixCls:"".concat(N,"-filter"),dropdownPrefixCls:$,column:Dt,columnKey:wt,filterState:Nt,filterMultiple:rt,filterMode:St,filterSearch:Et,triggerFilter:j,locale:pe,getPopupContainer:ye},Kc(fe.title,Zt))}})}return"children"in Dt&&(Dt=Object(re.a)(Object(re.a)({},Dt),{children:eh(N,$,Dt.children,R,j,ye,pe,Ge)})),Dt})}function fd(N){var $=[];return(N||[]).forEach(function(ae){var R=ae.value,j=ae.children;$.push(R),j&&($=[].concat(Object(Pe.a)($),Object(Pe.a)(fd(j))))}),$}function vv(N){var $={};return N.forEach(function(ae){var R=ae.key,j=ae.filteredKeys,ye=ae.column,pe=ye.filters,ee=ye.filterDropdown;if(ee)$[R]=j||null;else if(Array.isArray(j)){var fe=fd(pe);$[R]=fe.filter(function(_e){return j.includes(String(_e))})}else $[R]=null}),$}function gv(N,$){return $.reduce(function(ae,R){var j=R.column,ye=j.onFilter,pe=j.filters,ee=R.filteredKeys;return ye&&ee&&ee.length?ae.filter(function(fe){return ee.some(function(_e){var Ge=fd(pe),ke=Ge.findIndex(function(St){return String(St)===String(_e)}),rt=ke!==-1?Ge[ke]:_e;return ye(rt,fe)})}):ae},N)}function $g(N){var $=N.prefixCls,ae=N.dropdownPrefixCls,R=N.mergedColumns,j=N.onFilterChange,ye=N.getPopupContainer,pe=N.locale,ee=P.useState(Jh(R,!0)),fe=Object(F.a)(ee,2),_e=fe[0],Ge=fe[1],ke=P.useMemo(function(){var Dt=Jh(R,!1),wt=Dt.every(function(jt){var Zt=jt.filteredKeys;return Zt===void 0});if(wt)return _e;var Nt=Dt.every(function(jt){var Zt=jt.filteredKeys;return Zt!==void 0});return Object(Lu.a)(wt||Nt,"Table","`FilteredKeys` should all be controlled or not controlled."),Dt},[R,_e]),rt=P.useCallback(function(){return vv(ke)},[ke]),St=function(wt){var Nt=ke.filter(function(jt){var Zt=jt.key;return Zt!==wt.key});Nt.push(wt),Ge(Nt),j(vv(Nt),Nt)},Et=function(wt){return eh($,ae,wt,ke,St,ye,pe)};return[Et,ke,rt]}var ky=$g;function Jg(N,$){return N.map(function(ae){var R=Object(re.a)({},ae);return R.title=Kc(ae.title,$),"children"in R&&(R.children=Jg(R.children,$)),R})}function jy(N){var $=P.useCallback(function(ae){return Jg(ae,N)},[N]);return[$]}function Qg(N){return function(ae){var R,j=ae.prefixCls,ye=ae.onExpand,pe=ae.record,ee=ae.expanded,fe=ae.expandable,_e="".concat(j,"-row-expand-icon");return P.createElement("button",{type:"button",onClick:function(ke){ye(pe,ke),ke.stopPropagation()},className:de()(_e,(R={},Object(be.a)(R,"".concat(_e,"-spaced"),!fe),Object(be.a)(R,"".concat(_e,"-expanded"),fe&&ee),Object(be.a)(R,"".concat(_e,"-collapsed"),fe&&!ee),R)),"aria-label":ee?N.collapse:N.expand})}}var By=Qg;function mv(N){return N!=null&&N===N.window}function yv(N,$){var ae;if(typeof window=="undefined")return 0;var R=$?"scrollTop":"scrollLeft",j=0;return mv(N)?j=N[$?"pageYOffset":"pageXOffset"]:N instanceof Document?j=N.documentElement[R]:N&&(j=N[R]),N&&!mv(N)&&typeof j!="number"&&(j=(ae=(N.ownerDocument||N).documentElement)===null||ae===void 0?void 0:ae[R]),j}function Fy(N,$,ae,R){var j=ae-$;return N/=R/2,N<1?j/2*N*N*N+$:j/2*((N-=2)*N*N+2)+$}function zy(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.getContainer,R=ae===void 0?function(){return window}:ae,j=$.callback,ye=$.duration,pe=ye===void 0?450:ye,ee=R(),fe=yv(ee,!0),_e=Date.now(),Ge=function ke(){var rt=Date.now(),St=rt-_e,Et=Fy(St>pe?pe:St,fe,N,pe);mv(ee)?ee.scrollTo(window.pageXOffset,Et):ee instanceof HTMLDocument||ee.constructor.name==="HTMLDocument"?ee.documentElement.scrollTop=Et:ee.scrollTop=Et,St<pe?Object(Ee.a)(ke):typeof j=="function"&&j()};Object(Ee.a)(Ge)}var Vy=D("D7Yy");function qg(N){return null}var bv=qg;function Rf(N){return null}var Qh=Rf,em=[];function Hy(N,$){var ae,R=N.prefixCls,j=N.className,ye=N.style,pe=N.size,ee=N.bordered,fe=N.dropdownPrefixCls,_e=N.dataSource,Ge=N.pagination,ke=N.rowSelection,rt=N.rowKey,St=N.rowClassName,Et=N.columns,Dt=N.children,wt=N.childrenColumnName,Nt=N.onChange,jt=N.getPopupContainer,Zt=N.loading,rn=N.expandIcon,sn=N.expandable,kn=N.expandedRowRender,rr=N.expandIconColumnIndex,Un=N.indentSize,Dn=N.scroll,ar=N.sortDirections,Xn=N.locale,xr=N.showSorterTooltip,Pn=xr===void 0?!0:xr;Object(Lu.a)(!(typeof rt=="function"&&rt.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var Qn=Object(Ya.a)(),Dr=P.useMemo(function(){var wo=new Set(Object.keys(Qn).filter(function(ka){return Qn[ka]}));return(Et||Ce(Dt)).filter(function(ka){return!ka.responsive||ka.responsive.some(function(ds){return wo.has(ds)})})},[Dt,Et,Qn]),vr=Object(tt.a)(N,["className","style","columns"]),dr=P.useContext(Zc.b),Zn=P.useContext(Fr.b),Jn=Zn.locale,Rr=Jn===void 0?Vy.a:Jn,fi=Zn.renderEmpty,Ni=Zn.direction,yi=pe||dr,Ri=Object(re.a)(Object(re.a)({},Rr.Table),Xn),Ji=_e||em,Oa=P.useContext(Fr.b),Xi=Oa.getPrefixCls,ii=Xi("table",R),Qr=Xi("dropdown",fe),bi=Object(re.a)({childrenColumnName:wt,expandIconColumnIndex:rr},sn),So=bi.childrenColumnName,ki=So===void 0?"children":So,Ja=P.useMemo(function(){return Ji.some(function(wo){var ka;return(ka=wo)===null||ka===void 0?void 0:ka[ki]})?"nest":kn||sn&&sn.expandedRowRender?"row":null},[Ji]),so={body:P.useRef()},Qa=P.useMemo(function(){return typeof rt=="function"?rt:function(wo){var ka;return(ka=wo)===null||ka===void 0?void 0:ka[rt]}},[rt]),zo=As(Ji,ki,Qa),Ko=Object(F.a)(zo,1),lo=Ko[0],Qi={},sa=function(ka,ds){var Rs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,qa=Object(re.a)(Object(re.a)({},Qi),ka);Rs&&(Qi.resetPagination(),qa.pagination.current&&(qa.pagination.current=1),Ge&&Ge.onChange&&Ge.onChange(1,qa.pagination.pageSize)),Dn&&Dn.scrollToFirstRowOnChange!==!1&&so.body.current&&zy(0,{getContainer:function(){return so.body.current}}),Nt==null||Nt(qa.pagination,qa.filters,qa.sorter,{currentDataSource:gv(bc(Ji,qa.sorterStates,ki),qa.filterStates),action:ds})},xi=function(ka,ds){sa({sorter:ka,sorterStates:ds},"sort",!1)},Kr=lu({prefixCls:ii,mergedColumns:Dr,onSorterChange:xi,sortDirections:ar||["ascend","descend"],tableLocale:Ri,showSorterTooltip:Pn}),Gr=Object(F.a)(Kr,4),wa=Gr[0],ir=Gr[1],Ha=Gr[2],Na=Gr[3],Ds=P.useMemo(function(){return bc(Ji,ir,ki)},[Ji,ir]);Qi.sorter=Na(),Qi.sorterStates=ir;var mu=function(ka,ds){sa({filters:ka,filterStates:ds},"filter",!0)},Qs=ky({prefixCls:ii,locale:Ri,dropdownPrefixCls:Qr,mergedColumns:Dr,onFilterChange:mu,getPopupContainer:jt}),yu=Object(F.a)(Qs,3),Ec=yu[0],cs=yu[1],If=yu[2],Gs=gv(Ds,cs);Qi.filters=If(),Qi.filterStates=cs;var Nf=P.useMemo(function(){return Object(re.a)({},Ha)},[Ha]),dd=jy(Nf),Fu=Object(F.a)(dd,1),qh=Fu[0],hd=function(ka,ds){sa({pagination:Object(re.a)(Object(re.a)({},Qi.pagination),{current:ka,pageSize:ds})},"paginate")},bu=Uo(Gs.length,Ge,hd),Bi=Object(F.a)(bu,2),Ao=Bi[0],ic=Bi[1];Qi.pagination=Ge===!1?{}:To(Ge,Ao),Qi.resetPagination=ic;var fa=P.useMemo(function(){if(Ge===!1||!Ao.pageSize)return Gs;var wo=Ao.current,ka=wo===void 0?1:wo,ds=Ao.total,Rs=Ao.pageSize,qa=Rs===void 0?ns:Rs;return Object(Lu.a)(ka>0,"Table","`current` should be positive number."),Gs.length<ds?Gs.length>qa?(Object(Lu.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Gs.slice((ka-1)*qa,ka*qa)):Gs:Gs.slice((ka-1)*qa,ka*qa)},[!!Ge,Gs,Ao&&Ao.current,Ao&&Ao.pageSize,Ao&&Ao.total]),Ga=ca(ke,{prefixCls:ii,data:Gs,pageData:fa,getRowKey:Qa,getRecordByKey:lo,expandType:Ja,childrenColumnName:ki,locale:Ri,getPopupContainer:jt}),fs=Object(F.a)(Ga,2),Yo=fs[0],$o=fs[1],Po=function(ka,ds,Rs){var qa;return typeof St=="function"?qa=de()(St(ka,ds,Rs)):qa=de()(St),de()(Object(be.a)({},"".concat(ii,"-row-selected"),$o.has(Qa(ka,ds))),qa)};bi.__PARENT_RENDER_ICON__=bi.expandIcon,bi.expandIcon=bi.expandIcon||rn||By(Ri),Ja==="nest"&&bi.expandIconColumnIndex===void 0?bi.expandIconColumnIndex=ke?1:0:bi.expandIconColumnIndex>0&&ke&&(bi.expandIconColumnIndex-=1),typeof bi.indentSize!="number"&&(bi.indentSize=typeof Un=="number"?Un:15);var rl=P.useCallback(function(wo){return qh(Yo(Ec(wa(wo))))},[wa,Ec,Yo]),zu,$l;if(Ge!==!1&&(Ao==null?void 0:Ao.total)){var Ac;Ao.size?Ac=Ao.size:Ac=yi==="small"||yi==="middle"?"small":void 0;var Jc=function(ka){return P.createElement(io,Object(re.a)({},Ao,{className:de()("".concat(ii,"-pagination ").concat(ii,"-pagination-").concat(ka),Ao.className),size:Ac}))},il=Ni==="rtl"?"left":"right",ji=Ao.position;if(ji!==null&&Array.isArray(ji)){var yr=ji.find(function(wo){return wo.indexOf("top")!==-1}),ts=ji.find(function(wo){return wo.indexOf("bottom")!==-1}),Fi=ji.every(function(wo){return"".concat(wo)==="none"});!yr&&!ts&&!Fi&&($l=Jc(il)),yr&&(zu=Jc(yr.toLowerCase().replace("top",""))),ts&&($l=Jc(ts.toLowerCase().replace("bottom","")))}else $l=Jc(il)}var Yr;typeof Zt=="boolean"?Yr={spinning:Zt}:Object(Y.a)(Zt)==="object"&&(Yr=Object(re.a)({spinning:!0},Zt));var Qc=de()("".concat(ii,"-wrapper"),Object(be.a)({},"".concat(ii,"-wrapper-rtl"),Ni==="rtl"),j);return P.createElement("div",{ref:$,className:Qc,style:ye},P.createElement(Xr.a,Object(re.a)({spinning:!1},Yr),zu,P.createElement(Hr,Object(re.a)({},vr,{columns:Dr,direction:Ni,expandable:bi,prefixCls:ii,className:de()((ae={},Object(be.a)(ae,"".concat(ii,"-middle"),yi==="middle"),Object(be.a)(ae,"".concat(ii,"-small"),yi==="small"),Object(be.a)(ae,"".concat(ii,"-bordered"),ee),Object(be.a)(ae,"".concat(ii,"-empty"),Ji.length===0),ae)),data:fa,rowKey:Qa,rowClassName:Po,emptyText:Xn&&Xn.emptyText||fi("Table"),internalHooks:Nn,internalRefs:so,transformColumns:rl})),$l))}var Gy=P.forwardRef(Hy),gu=Gy;gu.defaultProps={rowKey:"key"},gu.SELECTION_COLUMN=Kl,gu.EXPAND_COLUMN=Hr.EXPAND_COLUMN,gu.SELECTION_ALL=Du,gu.SELECTION_INVERT=Ru,gu.SELECTION_NONE=_f,gu.Column=bv,gu.ColumnGroup=Qh,gu.Summary=$i;var xv=gu,lx=Ne.a=xv},x1Ya:function(Cr,Ne,D){"use strict";var Y=D("wx14"),be=D("rePB"),F=D("Ff2n"),re=D("VTBJ"),P=D("1OyB"),X=D("vuIU"),je=D("Ji7U"),de=D("LK+K"),tt=D("q1tI"),Z=D.n(tt),Pe=D("TSYQ"),ve=D.n(Pe),dt=function(at){Object(je.a)(Ft,at);var Pt=Object(de.a)(Ft);function Ft(bt){var Ct;Object(P.a)(this,Ft),Ct=Pt.call(this,bt),Ct.handleChange=function(Ve){var yt=Ct.props,Mt=yt.disabled,Ut=yt.onChange;Mt||("checked"in Ct.props||Ct.setState({checked:Ve.target.checked}),Ut&&Ut({target:Object(re.a)(Object(re.a)({},Ct.props),{},{checked:Ve.target.checked}),stopPropagation:function(){Ve.stopPropagation()},preventDefault:function(){Ve.preventDefault()},nativeEvent:Ve.nativeEvent}))},Ct.saveInput=function(Ve){Ct.input=Ve};var he="checked"in bt?bt.checked:bt.defaultChecked;return Ct.state={checked:he},Ct}return Object(X.a)(Ft,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var Ct,he=this.props,Ve=he.prefixCls,yt=he.className,Mt=he.style,Ut=he.name,It=he.id,Yt=he.type,Gt=he.disabled,an=he.readOnly,et=he.tabIndex,xt=he.onClick,mt=he.onFocus,Kt=he.onBlur,$t=he.onKeyDown,un=he.onKeyPress,Sn=he.onKeyUp,on=he.autoFocus,zt=he.value,en=he.required,y=Object(F.a)(he,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_n=Object.keys(y).reduce(function(Wn,zn){return(zn.substr(0,5)==="aria-"||zn.substr(0,5)==="data-"||zn==="role")&&(Wn[zn]=y[zn]),Wn},{}),An=this.state.checked,Fn=ve()(Ve,yt,(Ct={},Object(be.a)(Ct,"".concat(Ve,"-checked"),An),Object(be.a)(Ct,"".concat(Ve,"-disabled"),Gt),Ct));return Z.a.createElement("span",{className:Fn,style:Mt},Z.a.createElement("input",Object(Y.a)({name:Ut,id:It,type:Yt,required:en,readOnly:an,disabled:Gt,tabIndex:et,className:"".concat(Ve,"-input"),checked:!!An,onClick:xt,onFocus:mt,onBlur:Kt,onKeyUp:Sn,onKeyDown:$t,onKeyPress:un,onChange:this.handleChange,autoFocus:on,ref:this.saveInput,value:zt},_n)),Z.a.createElement("span",{className:"".concat(Ve,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(Ct,he){return"checked"in Ct?Object(re.a)(Object(re.a)({},he),{},{checked:Ct.checked}):null}}]),Ft}(tt.Component);dt.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},Ne.a=dt},xzDV:function(Cr,Ne,D){},"y0+3":function(Cr,Ne,D){"use strict";D.d(Ne,"a",function(){return Pe}),D.d(Ne,"b",function(){return dt});var Y=/margin|padding|width|height|max|min|offset/,be={left:!0,top:!0},F={cssFloat:1,styleFloat:1,float:1};function re(at){return at.nodeType===1?at.ownerDocument.defaultView.getComputedStyle(at,null):{}}function P(at,Pt,Ft){if(Pt=Pt.toLowerCase(),Ft==="auto"){if(Pt==="height")return at.offsetHeight;if(Pt==="width")return at.offsetWidth}return Pt in be||(be[Pt]=Y.test(Pt)),be[Pt]?parseFloat(Ft)||0:Ft}function X(at,Pt){var Ft=arguments.length,bt=re(at);return Pt=F[Pt]?"cssFloat"in at.style?"cssFloat":"styleFloat":Pt,Ft===1?bt:P(at,Pt,bt[Pt]||at.style[Pt])}function je(at,Pt,Ft){var bt=arguments.length;if(Pt=F[Pt]?"cssFloat"in at.style?"cssFloat":"styleFloat":Pt,bt===3)return typeof Ft=="number"&&Y.test(Pt)&&(Ft="".concat(Ft,"px")),at.style[Pt]=Ft,Ft;for(var Ct in Pt)Pt.hasOwnProperty(Ct)&&je(at,Ct,Pt[Ct]);return re(at)}function de(at){return at===document.body?document.documentElement.clientWidth:at.offsetWidth}function tt(at){return at===document.body?window.innerHeight||document.documentElement.clientHeight:at.offsetHeight}function Z(){var at=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),Pt=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:at,height:Pt}}function Pe(){var at=document.documentElement.clientWidth,Pt=window.innerHeight||document.documentElement.clientHeight;return{width:at,height:Pt}}function ve(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function dt(at){var Pt=at.getBoundingClientRect(),Ft=document.documentElement;return{left:Pt.left+(window.pageXOffset||Ft.scrollLeft)-(Ft.clientLeft||document.body.clientLeft||0),top:Pt.top+(window.pageYOffset||Ft.scrollTop)-(Ft.clientTop||document.body.clientTop||0)}}}}]);
